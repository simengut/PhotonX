var cY=Object.defineProperty;var uY=(t,e,n)=>e in t?cY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lr=(t,e,n)=>uY(t,typeof e!="symbol"?e+"":e,n);function dY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var D5e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f5={exports:{}},Tv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP;function fY(){if(CP)return Tv;CP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Tv.Fragment=e,Tv.jsx=n,Tv.jsxs=n,Tv}var PP;function hY(){return PP||(PP=1,f5.exports=fY()),f5.exports}var m=hY(),h5={exports:{}},yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP;function pY(){if(OP)return yn;OP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(ne){return ne===null||typeof ne!="object"?null:(ne=y&&ne[y]||ne["@@iterator"],typeof ne=="function"?ne:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function I(ne,M,X){this.props=ne,this.context=M,this.refs=S,this.updater=X||E}I.prototype.isReactComponent={},I.prototype.setState=function(ne,M){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,M,"setState")},I.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function q(){}q.prototype=I.prototype;function k(ne,M,X){this.props=ne,this.context=M,this.refs=S,this.updater=X||E}var B=k.prototype=new q;B.constructor=k,A(B,I.prototype),B.isPureReactComponent=!0;var $=Array.isArray;function K(){}var L={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function D(ne,M,X){var Z=X.ref;return{$$typeof:t,type:ne,key:M,ref:Z!==void 0?Z:null,props:X}}function G(ne,M){return D(ne.type,M,ne.props)}function P(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function F(ne){var M={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(X){return M[X]})}var V=/\/+/g;function ee(ne,M){return typeof ne=="object"&&ne!==null&&ne.key!=null?F(""+ne.key):M.toString(36)}function ge(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(K,K):(ne.status="pending",ne.then(function(M){ne.status==="pending"&&(ne.status="fulfilled",ne.value=M)},function(M){ne.status==="pending"&&(ne.status="rejected",ne.reason=M)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function se(ne,M,X,Z,de){var pe=typeof ne;(pe==="undefined"||pe==="boolean")&&(ne=null);var ye=!1;if(ne===null)ye=!0;else switch(pe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(ne.$$typeof){case t:case e:ye=!0;break;case f:return ye=ne._init,se(ye(ne._payload),M,X,Z,de)}}if(ye)return de=de(ne),ye=Z===""?"."+ee(ne,0):Z,$(de)?(X="",ye!=null&&(X=ye.replace(V,"$&/")+"/"),se(de,M,X,"",function(Ce){return Ce})):de!=null&&(P(de)&&(de=G(de,X+(de.key==null||ne&&ne.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+ye)),M.push(de)),1;ye=0;var Pe=Z===""?".":Z+":";if($(ne))for(var he=0;he<ne.length;he++)Z=ne[he],pe=Pe+ee(Z,he),ye+=se(Z,M,X,pe,de);else if(he=v(ne),typeof he=="function")for(ne=he.call(ne),he=0;!(Z=ne.next()).done;)Z=Z.value,pe=Pe+ee(Z,he++),ye+=se(Z,M,X,pe,de);else if(pe==="object"){if(typeof ne.then=="function")return se(ge(ne),M,X,Z,de);throw M=String(ne),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ye}function fe(ne,M,X){if(ne==null)return ne;var Z=[],de=0;return se(ne,Z,"","",function(pe){return M.call(X,pe,de++)}),Z}function me(ne){if(ne._status===-1){var M=ne._result;M=M(),M.then(function(X){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=X)},function(X){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=X)}),ne._status===-1&&(ne._status=0,ne._result=M)}if(ne._status===1)return ne._result.default;throw ne._result}var xe=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Ue={map:fe,forEach:function(ne,M,X){fe(ne,function(){M.apply(this,arguments)},X)},count:function(ne){var M=0;return fe(ne,function(){M++}),M},toArray:function(ne){return fe(ne,function(M){return M})||[]},only:function(ne){if(!P(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return yn.Activity=p,yn.Children=Ue,yn.Component=I,yn.Fragment=n,yn.Profiler=i,yn.PureComponent=k,yn.StrictMode=r,yn.Suspense=u,yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,yn.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return L.H.useMemoCache(ne)}},yn.cache=function(ne){return function(){return ne.apply(null,arguments)}},yn.cacheSignal=function(){return null},yn.cloneElement=function(ne,M,X){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Z=A({},ne.props),de=ne.key;if(M!=null)for(pe in M.key!==void 0&&(de=""+M.key),M)!j.call(M,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&M.ref===void 0||(Z[pe]=M[pe]);var pe=arguments.length-2;if(pe===1)Z.children=X;else if(1<pe){for(var ye=Array(pe),Pe=0;Pe<pe;Pe++)ye[Pe]=arguments[Pe+2];Z.children=ye}return D(ne.type,de,Z)},yn.createContext=function(ne){return ne={$$typeof:s,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:a,_context:ne},ne},yn.createElement=function(ne,M,X){var Z,de={},pe=null;if(M!=null)for(Z in M.key!==void 0&&(pe=""+M.key),M)j.call(M,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=M[Z]);var ye=arguments.length-2;if(ye===1)de.children=X;else if(1<ye){for(var Pe=Array(ye),he=0;he<ye;he++)Pe[he]=arguments[he+2];de.children=Pe}if(ne&&ne.defaultProps)for(Z in ye=ne.defaultProps,ye)de[Z]===void 0&&(de[Z]=ye[Z]);return D(ne,pe,de)},yn.createRef=function(){return{current:null}},yn.forwardRef=function(ne){return{$$typeof:l,render:ne}},yn.isValidElement=P,yn.lazy=function(ne){return{$$typeof:f,_payload:{_status:-1,_result:ne},_init:me}},yn.memo=function(ne,M){return{$$typeof:d,type:ne,compare:M===void 0?null:M}},yn.startTransition=function(ne){var M=L.T,X={};L.T=X;try{var Z=ne(),de=L.S;de!==null&&de(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(K,xe)}catch(pe){xe(pe)}finally{M!==null&&X.types!==null&&(M.types=X.types),L.T=M}},yn.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},yn.use=function(ne){return L.H.use(ne)},yn.useActionState=function(ne,M,X){return L.H.useActionState(ne,M,X)},yn.useCallback=function(ne,M){return L.H.useCallback(ne,M)},yn.useContext=function(ne){return L.H.useContext(ne)},yn.useDebugValue=function(){},yn.useDeferredValue=function(ne,M){return L.H.useDeferredValue(ne,M)},yn.useEffect=function(ne,M){return L.H.useEffect(ne,M)},yn.useEffectEvent=function(ne){return L.H.useEffectEvent(ne)},yn.useId=function(){return L.H.useId()},yn.useImperativeHandle=function(ne,M,X){return L.H.useImperativeHandle(ne,M,X)},yn.useInsertionEffect=function(ne,M){return L.H.useInsertionEffect(ne,M)},yn.useLayoutEffect=function(ne,M){return L.H.useLayoutEffect(ne,M)},yn.useMemo=function(ne,M){return L.H.useMemo(ne,M)},yn.useOptimistic=function(ne,M){return L.H.useOptimistic(ne,M)},yn.useReducer=function(ne,M,X){return L.H.useReducer(ne,M,X)},yn.useRef=function(ne){return L.H.useRef(ne)},yn.useState=function(ne){return L.H.useState(ne)},yn.useSyncExternalStore=function(ne,M,X){return L.H.useSyncExternalStore(ne,M,X)},yn.useTransition=function(){return L.H.useTransition()},yn.version="19.2.0",yn}var RP;function _g(){return RP||(RP=1,h5.exports=pY()),h5.exports}var O=_g();const HT=fu(O),mY=dY({__proto__:null,default:HT},[O]);var p5={exports:{}},Nv={},m5={exports:{}},g5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function gY(){return DP||(DP=1,(function(t){function e(se,fe){var me=se.length;se.push(fe);e:for(;0<me;){var xe=me-1>>>1,Ue=se[xe];if(0<i(Ue,fe))se[xe]=fe,se[me]=Ue,me=xe;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var fe=se[0],me=se.pop();if(me!==fe){se[0]=me;e:for(var xe=0,Ue=se.length,ne=Ue>>>1;xe<ne;){var M=2*(xe+1)-1,X=se[M],Z=M+1,de=se[Z];if(0>i(X,me))Z<Ue&&0>i(de,X)?(se[xe]=de,se[Z]=me,xe=Z):(se[xe]=X,se[M]=me,xe=M);else if(Z<Ue&&0>i(de,me))se[xe]=de,se[Z]=me,xe=Z;else break e}}return fe}function i(se,fe){var me=se.sortIndex-fe.sortIndex;return me!==0?me:se.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,p=null,y=3,v=!1,E=!1,A=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(se){for(var fe=n(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=se)r(d),fe.sortIndex=fe.expirationTime,e(u,fe);else break;fe=n(d)}}function $(se){if(A=!1,B(se),!E)if(n(u)!==null)E=!0,K||(K=!0,F());else{var fe=n(d);fe!==null&&ge($,fe.startTime-se)}}var K=!1,L=-1,j=5,D=-1;function G(){return S?!0:!(t.unstable_now()-D<j)}function P(){if(S=!1,K){var se=t.unstable_now();D=se;var fe=!0;try{e:{E=!1,A&&(A=!1,q(L),L=-1),v=!0;var me=y;try{t:{for(B(se),p=n(u);p!==null&&!(p.expirationTime>se&&G());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,y=p.priorityLevel;var Ue=xe(p.expirationTime<=se);if(se=t.unstable_now(),typeof Ue=="function"){p.callback=Ue,B(se),fe=!0;break t}p===n(u)&&r(u),B(se)}else r(u);p=n(u)}if(p!==null)fe=!0;else{var ne=n(d);ne!==null&&ge($,ne.startTime-se),fe=!1}}break e}finally{p=null,y=me,v=!1}fe=void 0}}finally{fe?F():K=!1}}}var F;if(typeof k=="function")F=function(){k(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ee=V.port2;V.port1.onmessage=P,F=function(){ee.postMessage(null)}}else F=function(){I(P,0)};function ge(se,fe){L=I(function(){se(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(se){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var me=y;y=fe;try{return se()}finally{y=me}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var me=y;y=se;try{return fe()}finally{y=me}},t.unstable_scheduleCallback=function(se,fe,me){var xe=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?xe+me:xe):me=xe,se){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=me+Ue,se={id:f++,callback:fe,priorityLevel:se,startTime:me,expirationTime:Ue,sortIndex:-1},me>xe?(se.sortIndex=me,e(d,se),n(u)===null&&se===n(d)&&(A?(q(L),L=-1):A=!0,ge($,me-xe))):(se.sortIndex=Ue,e(u,se),E||v||(E=!0,K||(K=!0,F()))),se},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(se){var fe=y;return function(){var me=y;y=fe;try{return se.apply(this,arguments)}finally{y=me}}}})(g5)),g5}var kP;function vY(){return kP||(kP=1,m5.exports=gY()),m5.exports}var v5={exports:{}},ws={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function yY(){if(jP)return ws;jP=1;var t=_g();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ws.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ws.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(u,d,null,f)},ws.flushSync=function(u){var d=s.T,f=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=d,r.p=f,r.d.f()}},ws.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},ws.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ws.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ws.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},ws.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ws.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},ws.requestFormReset=function(u){r.d.r(u)},ws.unstable_batchedUpdates=function(u,d){return u(d)},ws.useFormState=function(u,d,f){return s.H.useFormState(u,d,f)},ws.useFormStatus=function(){return s.H.useHostTransitionStatus()},ws.version="19.2.0",ws}var LP;function wM(){if(LP)return v5.exports;LP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v5.exports=yY(),v5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP;function bY(){if(MP)return Nv;MP=1;var t=vY(),e=_g(),n=wM();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var _=h.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===h)return u(_),o;if(T===g)return u(_),c;T=T.sibling}throw Error(r(188))}if(h.return!==g.return)h=_,g=T;else{for(var z=!1,te=_.child;te;){if(te===h){z=!0,h=_,g=T;break}if(te===g){z=!0,g=_,h=T;break}te=te.sibling}if(!z){for(te=T.child;te;){if(te===h){z=!0,h=T,g=_;break}if(te===g){z=!0,g=T,h=_;break}te=te.sibling}if(!z)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=P&&o[P]||o["@@iterator"],typeof o=="function"?o:null)}var V=Symbol.for("react.client.reference");function ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===V?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case K:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case k:return o.displayName||"Context";case q:return(o._context.displayName||"Context")+".Consumer";case B:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return c=o.displayName||null,c!==null?c:ee(o.type)||"Memo";case j:c=o._payload,o=o._init;try{return ee(o(c))}catch{}}return null}var ge=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},xe=[],Ue=-1;function ne(o){return{current:o}}function M(o){0>Ue||(o.current=xe[Ue],xe[Ue]=null,Ue--)}function X(o,c){Ue++,xe[Ue]=o.current,o.current=c}var Z=ne(null),de=ne(null),pe=ne(null),ye=ne(null);function Pe(o,c){switch(X(pe,c),X(de,o),X(Z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?JC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=JC(c),o=ZC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}M(Z),X(Z,o)}function he(){M(Z),M(de),M(pe)}function Ce(o){o.memoizedState!==null&&X(ye,o);var c=Z.current,h=ZC(c,o.type);c!==h&&(X(de,o),X(Z,h))}function Ve(o){de.current===o&&(M(Z),M(de)),ye.current===o&&(M(ye),wv._currentValue=me)}var Se,rt;function it(o){if(Se===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Se=c&&c[1]||"",rt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+o+rt}var oe=!1;function Xe(o,c){if(!o||oe)return"";oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(ze){var Me=ze}Reflect.construct(o,[],Je)}else{try{Je.call()}catch(ze){Me=ze}o.call(Je.prototype)}}else{try{throw Error()}catch(ze){Me=ze}(Je=o())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(ze){if(ze&&Me&&typeof ze.stack=="string")return[ze.stack,Me.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),z=T[0],te=T[1];if(z&&te){var ve=z.split(`
`),je=te.split(`
`);for(_=g=0;g<ve.length&&!ve[g].includes("DetermineComponentFrameRoot");)g++;for(;_<je.length&&!je[_].includes("DetermineComponentFrameRoot");)_++;if(g===ve.length||_===je.length)for(g=ve.length-1,_=je.length-1;1<=g&&0<=_&&ve[g]!==je[_];)_--;for(;1<=g&&0<=_;g--,_--)if(ve[g]!==je[_]){if(g!==1||_!==1)do if(g--,_--,0>_||ve[g]!==je[_]){var We=`
`+ve[g].replace(" at new "," at ");return o.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",o.displayName)),We}while(1<=g&&0<=_);break}}}finally{oe=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?it(h):""}function Nt(o,c){switch(o.tag){case 26:case 27:case 5:return it(o.type);case 16:return it("Lazy");case 13:return o.child!==c&&c!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Xe(o.type,!1);case 11:return Xe(o.type.render,!1);case 1:return Xe(o.type,!0);case 31:return it("Activity");default:return""}}function yt(o){try{var c="",h=null;do c+=Nt(o,h),h=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var qe=Object.prototype.hasOwnProperty,ht=t.unstable_scheduleCallback,vt=t.unstable_cancelCallback,Bt=t.unstable_shouldYield,Rt=t.unstable_requestPaint,cn=t.unstable_now,dn=t.unstable_getCurrentPriorityLevel,Jt=t.unstable_ImmediatePriority,gn=t.unstable_UserBlockingPriority,st=t.unstable_NormalPriority,dt=t.unstable_LowPriority,Et=t.unstable_IdlePriority,Fe=t.log,wn=t.unstable_setDisableYieldValue,Vt=null,It=null;function Mt(o){if(typeof Fe=="function"&&wn(o),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Vt,o)}catch{}}var nn=Math.clz32?Math.clz32:_t,xt=Math.log,un=Math.LN2;function _t(o){return o>>>=0,o===0?32:31-(xt(o)/un|0)|0}var zt=256,Tn=262144,ft=4194304;function gt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Kt(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var _=0,T=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var te=g&134217727;return te!==0?(g=te&~T,g!==0?_=gt(g):(z&=te,z!==0?_=gt(z):h||(h=te&~o,h!==0&&(_=gt(h))))):(te=g&~T,te!==0?_=gt(te):z!==0?_=gt(z):h||(h=g&~o,h!==0&&(_=gt(h)))),_===0?0:c!==0&&c!==_&&(c&T)===0&&(T=_&-_,h=c&-c,T>=h||T===32&&(h&4194048)!==0)?c:_}function Gn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Mr(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(){var o=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),o}function di(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function qt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function js(o,c,h,g,_,T){var z=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var te=o.entanglements,ve=o.expirationTimes,je=o.hiddenUpdates;for(h=z&~h;0<h;){var We=31-nn(h),Je=1<<We;te[We]=0,ve[We]=-1;var Me=je[We];if(Me!==null)for(je[We]=null,We=0;We<Me.length;We++){var ze=Me[We];ze!==null&&(ze.lane&=-536870913)}h&=~Je}g!==0&&Ri(o,g,0),T!==0&&_===0&&o.tag!==0&&(o.suspendedLanes|=T&~(z&~c))}function Ri(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-nn(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&261930}function Di(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-nn(h),_=1<<g;_&c|o[g]&c&&(o[g]|=c),h&=~_}}function ki(o,c){var h=c&-c;return h=(h&42)!==0?1:Xn(h),(h&(o.suspendedLanes|c))!==0?0:h}function Xn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function cr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Xr(){var o=fe.p;return o!==0?o:(o=window.event,o===void 0?32:wP(o.type))}function ji(o,c){var h=fe.p;try{return fe.p=o,c()}finally{fe.p=h}}var fi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+fi,ir="__reactProps$"+fi,Qr="__reactContainer$"+fi,Wi="__reactEvents$"+fi,Ca="__reactListeners$"+fi,Js="__reactHandles$"+fi,$a="__reactResources$"+fi,Li="__reactMarker$"+fi;function ms(o){delete o[Vn],delete o[ir],delete o[Wi],delete o[Ca],delete o[Js]}function nt(o){var c=o[Vn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Qr]||h[Vn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=sP(o);o!==null;){if(h=o[Vn])return h;o=sP(o)}return c}o=h,h=o.parentNode}return null}function rn(o){if(o=o[Vn]||o[Qr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function hr(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Qn(o){var c=o[$a];return c||(c=o[$a]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ur(o){o[Li]=!0}var gs=new Set,Jr={};function Yn(o,c){la(o,c),la(o+"Capture",c)}function la(o,c){for(Jr[o]=c,o=0;o<c.length;o++)gs.add(c[o])}var vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},yc={};function vu(o){return qe.call(yc,o)?!0:qe.call(vc,o)?!1:vs.test(o)?yc[o]=!0:(vc[o]=!0,!1)}function Ga(o,c,h){if(vu(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Ki(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Zr(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}function Nn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Co(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ys(o,c,h){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var _=g.get,T=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function(z){h=""+z,T.call(this,z)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(z){h=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function jn(o){if(!o._valueTracker){var c=Co(o)?"checked":"value";o._valueTracker=ys(o,c,""+o[c])}}function rl(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=Co(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function hi(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Or=/[\n"\\]/g;function ei(o){return o.replace(Or,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ll(o,c,h,g,_,T,z,te){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Nn(c)):o.value!==""+Nn(c)&&(o.value=""+Nn(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?yu(o,z,Nn(c)):h!=null?yu(o,z,Nn(h)):g!=null&&o.removeAttribute("value"),_==null&&T!=null&&(o.defaultChecked=!!T),_!=null&&(o.checked=_&&typeof _!="function"&&typeof _!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.name=""+Nn(te):o.removeAttribute("name")}function Sd(o,c,h,g,_,T,z,te){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){jn(o);return}h=h!=null?""+Nn(h):"",c=c!=null?""+Nn(c):h,te||c===o.value||(o.value=c),o.defaultValue=c}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=te?o.checked:!!g,o.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),jn(o)}function yu(o,c,h){c==="number"&&hi(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function ca(o,c,h,g){if(o=o.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<o.length;h++)_=c.hasOwnProperty("$"+o[h].value),o[h].selected!==_&&(o[h].selected=_),_&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Nn(h),c=null,_=0;_<o.length;_++){if(o[_].value===h){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function bu(o,c,h){if(c!=null&&(c=""+Nn(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Nn(h):""}function Po(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(ge(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Nn(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g),jn(o)}function Mi(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||il.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function _u(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var _ in c)g=c[_],c.hasOwnProperty(_)&&h[_]!==g&&xu(o,_,g)}else for(var T in c)c.hasOwnProperty(T)&&xu(o,T,c[T])}function bc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(o){return Oo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ls(){}var Ro=null;function Oa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var al=null,Xt=null;function Ml(o){var c=rn(o);if(c&&(o=c.stateNode)){var h=o[ir]||null;e:switch(o=c.stateNode,c.type){case"input":if(Ll(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ei(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var _=g[ir]||null;if(!_)throw Error(r(90));Ll(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&rl(g)}break e;case"textarea":bu(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ca(o,!!h.multiple,c,!1)}}}var _c=!1;function sl(o,c,h){if(_c)return o(c,h);_c=!0;try{var g=o(c);return g}finally{if(_c=!1,(al!==null||Xt!==null)&&(N1(),al&&(c=al,o=Xt,Xt=al=null,Ml(c),o)))for(c=0;c<o.length;c++)Ml(o[c])}}function Fi(o,c){var h=o.stateNode;if(h===null)return null;var g=h[ir]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=!1;if(_i)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Fl=!1}var Ya=null,Ul=null,Ms=null;function wu(){if(Ms)return Ms;var o,c=Ul,h=c.length,g,_="value"in Ya?Ya.value:Ya.textContent,T=_.length;for(o=0;o<h&&c[o]===_[o];o++);var z=h-o;for(g=1;g<=z&&c[h-g]===_[T-g];g++);return Ms=_.slice(o,1<g?1-g:void 0)}function Wa(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Do(){return!0}function Ka(){return!1}function pi(o){function c(h,g,_,T,z){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(h=o[te],this[te]=h?h(T):T[te]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Do:Ka,this.isPropagationStopped=Ka,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),c}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=pi(Zs),eo=p({},Zs,{view:0,detail:0}),ol=pi(eo),to,no,bs,Bl=p({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bs&&(bs&&o.type==="mousemove"?(to=o.screenX-bs.screenX,no=o.screenY-bs.screenY):no=to=0,bs=o),to)},movementY:function(o){return"movementY"in o?o.movementY:no}}),wc=pi(Bl),Xa=p({},Bl,{dataTransfer:0}),ro=pi(Xa),Eu=p({},eo,{relatedTarget:0}),Fs=pi(Eu),Ec=p({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),N=pi(Ec),Y=p({},Zs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ce=pi(Y),be=p({},Zs,{data:0}),Ae=pi(be),Ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dt(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Tt[o])?!!c[o]:!1}function Zt(){return Dt}var Wt=p({},eo,{key:function(o){if(o.key){var c=Ye[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Wa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?et[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zt,charCode:function(o){return o.type==="keypress"?Wa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Wa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),In=pi(Wt),Er=p({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=pi(Er),x=p({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zt}),R=pi(x),H=p({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ie=pi(H),Ne=p({},Bl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=pi(Ne),ut=p({},Zs,{newState:0,oldState:0}),fn=pi(ut),Ar=[9,13,27,32],An=_i&&"CompositionEvent"in window,Zn=null;_i&&"documentMode"in document&&(Zn=document.documentMode);var Qi=_i&&"TextEvent"in window&&!Zn,ua=_i&&(!An||Zn&&8<Zn&&11>=Zn),pr=" ",da=!1;function Us(o,c){switch(o){case"keyup":return Ar.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ll(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cl=!1;function Qa(o,c){switch(o){case"compositionend":return ll(c);case"keypress":return c.which!==32?null:(da=!0,pr);case"textInput":return o=c.data,o===pr&&da?null:o;default:return null}}function Vl(o,c){if(cl)return o==="compositionend"||!An&&Us(o,c)?(o=wu(),Ms=Ul=Ya=null,cl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ua&&c.locale!=="ko"?null:c.data;default:return null}}var Td={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Td[o.type]:c==="textarea"}function Bs(o,c,h,g){al?Xt?Xt.push(g):Xt=[g]:al=g,c=k1(c,"onChange"),0<c.length&&(h=new Xi("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var ko=null,zl=null;function Qf(o){GC(o,0)}function jo(o){var c=hr(o);if(rl(c))return o}function Ac(o,c){if(o==="change")return c}var xs=!1;if(_i){var Ja;if(_i){var ul="oninput"in document;if(!ul){var dl=document.createElement("div");dl.setAttribute("oninput","return;"),ul=typeof dl.oninput=="function"}Ja=ul}else Ja=!1;xs=Ja&&(!document.documentMode||9<document.documentMode)}function ql(){ko&&(ko.detachEvent("onpropertychange",Nd),zl=ko=null)}function Nd(o){if(o.propertyName==="value"&&jo(zl)){var c=[];Bs(c,zl,o,Oa(o)),sl(Qf,c)}}function Id(o,c,h){o==="focusin"?(ql(),ko=c,zl=h,ko.attachEvent("onpropertychange",Nd)):o==="focusout"&&ql()}function mi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return jo(zl)}function Ep(o,c){if(o==="click")return jo(c)}function fl(o,c){if(o==="input"||o==="change")return jo(c)}function hl(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var fa=typeof Object.is=="function"?Object.is:hl;function Hl(o,c){if(fa(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!qe.call(c,_)||!fa(o[_],c[_]))return!1}return!0}function Cd(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Pd(o,c){var h=Cd(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Cd(h)}}function $l(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?$l(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Gl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=hi(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=hi(o.document)}return c}function pl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Au=_i&&"documentMode"in document&&11>=document.documentMode,Vs=null,Yl=null,Ra=null,io=!1;function Wn(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;io||Vs==null||Vs!==hi(g)||(g=Vs,"selectionStart"in g&&pl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ra&&Hl(Ra,g)||(Ra=g,g=k1(Yl,"onSelect"),0<g.length&&(c=new Xi("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=Vs)))}function Un(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Sr={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionrun:Un("Transition","TransitionRun"),transitionstart:Un("Transition","TransitionStart"),transitioncancel:Un("Transition","TransitionCancel"),transitionend:Un("Transition","TransitionEnd")},gi={},ml={};_i&&(ml=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Lo(o){if(gi[o])return gi[o];if(!Sr[o])return o;var c=Sr[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in ml)return gi[o]=c[h];return o}var Su=Lo("animationend"),Jf=Lo("animationiteration"),$g=Lo("animationstart"),r1=Lo("transitionrun"),i1=Lo("transitionstart"),a1=Lo("transitioncancel"),Gg=Lo("transitionend"),Yg=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function ao(o,c){Yg.set(o,c),Yn(c,[o])}var Zf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},zs=[],Nu=0,Ap=0;function eh(){for(var o=Nu,c=Ap=Nu=0;c<o;){var h=zs[c];zs[c++]=null;var g=zs[c];zs[c++]=null;var _=zs[c];zs[c++]=null;var T=zs[c];if(zs[c++]=null,g!==null&&_!==null){var z=g.pending;z===null?_.next=_:(_.next=z.next,z.next=_),g.pending=_}T!==0&&nh(h,_,T)}}function th(o,c,h,g){zs[Nu++]=o,zs[Nu++]=c,zs[Nu++]=h,zs[Nu++]=g,Ap|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function Sp(o,c,h,g){return th(o,c,h,g),Da(o)}function Wl(o,c){return th(o,null,null,c),Da(o)}function nh(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var _=!1,T=o.return;T!==null;)T.childLanes|=h,g=T.alternate,g!==null&&(g.childLanes|=h),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(_=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,_&&c!==null&&(_=31-nn(h),o=T.hiddenUpdates,g=o[_],g===null?o[_]=[c]:g.push(c),c.lane=h|536870912),T):null}function Da(o){if(50<mv)throw mv=0,Lw=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ha={};function Tp(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(o,c,h,g){return new Tp(o,c,h,g)}function Np(o){return o=o.prototype,!(!o||!o.isReactComponent)}function so(o,c){var h=o.alternate;return h===null?(h=ka(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function rh(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Od(o,c,h,g,_,T){var z=0;if(g=o,typeof o=="function")Np(o)&&(z=1);else if(typeof o=="string")z=QG(o,h,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=ka(31,h,c,_),o.elementType=D,o.lanes=T,o;case A:return Sc(h.children,_,T,c);case S:z=8,_|=24;break;case I:return o=ka(12,h,c,_|2),o.elementType=I,o.lanes=T,o;case $:return o=ka(13,h,c,_),o.elementType=$,o.lanes=T,o;case K:return o=ka(19,h,c,_),o.elementType=K,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:z=10;break e;case q:z=9;break e;case B:z=11;break e;case L:z=14;break e;case j:z=16,g=null;break e}z=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=ka(z,h,c,_),c.elementType=o,c.type=g,c.lanes=T,c}function Sc(o,c,h,g){return o=ka(7,o,g,c),o.lanes=h,o}function ih(o,c,h){return o=ka(6,o,null,c),o.lanes=h,o}function Ip(o){var c=ka(18,null,null,0);return c.stateNode=o,c}function Rd(o,c,h){return c=ka(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Cp=new WeakMap;function oo(o,c){if(typeof o=="object"&&o!==null){var h=Cp.get(o);return h!==void 0?h:(c={value:o,source:c,stack:yt(c)},Cp.set(o,c),c)}return{value:o,source:c,stack:yt(c)}}var Dd=[],Iu=0,Pp=null,ah=0,lo=[],co=0,Tc=null,uo=1,fo="";function qs(o,c){Dd[Iu++]=ah,Dd[Iu++]=Pp,Pp=o,ah=c}function s1(o,c,h){lo[co++]=uo,lo[co++]=fo,lo[co++]=Tc,Tc=o;var g=uo;o=fo;var _=32-nn(g)-1;g&=~(1<<_),h+=1;var T=32-nn(c)+_;if(30<T){var z=_-_%5;T=(g&(1<<z)-1).toString(32),g>>=z,_-=z,uo=1<<32-nn(c)+_|h<<_|g,fo=T+o}else uo=1<<T|h<<_|g,fo=o}function Wg(o){o.return!==null&&(qs(o,1),s1(o,1,0))}function Op(o){for(;o===Pp;)Pp=Dd[--Iu],Dd[Iu]=null,ah=Dd[--Iu],Dd[Iu]=null;for(;o===Tc;)Tc=lo[--co],lo[co]=null,fo=lo[--co],lo[co]=null,uo=lo[--co],lo[co]=null}function o1(o,c){lo[co++]=uo,lo[co++]=fo,lo[co++]=Tc,uo=c.id,fo=c.overflow,Tc=o}var pa=null,Rr=null,Pn=!1,Za=null,ti=!1,Mo=Error(r(519));function Nc(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kd(oo(c,o)),Mo}function Kg(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Vn]=o,c[ir]=g,h){case"dialog":Rn("cancel",c),Rn("close",c);break;case"iframe":case"object":case"embed":Rn("load",c);break;case"video":case"audio":for(h=0;h<vv.length;h++)Rn(vv[h],c);break;case"source":Rn("error",c);break;case"img":case"image":case"link":Rn("error",c),Rn("load",c);break;case"details":Rn("toggle",c);break;case"input":Rn("invalid",c),Sd(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Rn("invalid",c);break;case"textarea":Rn("invalid",c),Po(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||XC(c.textContent,h)?(g.popover!=null&&(Rn("beforetoggle",c),Rn("toggle",c)),g.onScroll!=null&&Rn("scroll",c),g.onScrollEnd!=null&&Rn("scrollend",c),g.onClick!=null&&(c.onclick=Ls),c=!0):c=!1,c||Nc(o,!0)}function Kl(o){for(pa=o.return;pa;)switch(pa.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:pa=pa.return}}function ma(o){if(o!==pa)return!1;if(!Pn)return Kl(o),Pn=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||Qw(o.type,o.memoizedProps)),h=!h),h&&Rr&&Nc(o),Kl(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rr=aP(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rr=aP(o)}else c===27?(c=Rr,Wd(o.type)?(o=n5,n5=null,Rr=o):Rr=c):Rr=pa?bl(o.stateNode.nextSibling):null;return!0}function Cu(){Rr=pa=null,Pn=!1}function Xg(){var o=Za;return o!==null&&(yo===null?yo=o:yo.push.apply(yo,o),Za=null),o}function kd(o){Za===null?Za=[o]:Za.push(o)}var Rp=ne(null),Ic=null,gl=null;function Cc(o,c,h){X(Rp,c._currentValue),c._currentValue=h}function ho(o){o._currentValue=Rp.current,M(Rp)}function jd(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function Pu(o,c,h,g){var _=o.child;for(_!==null&&(_.return=o);_!==null;){var T=_.dependencies;if(T!==null){var z=_.child;T=T.firstContext;e:for(;T!==null;){var te=T;T=_;for(var ve=0;ve<c.length;ve++)if(te.context===c[ve]){T.lanes|=h,te=T.alternate,te!==null&&(te.lanes|=h),jd(T.return,h,o),g||(z=null);break e}T=te.next}}else if(_.tag===18){if(z=_.return,z===null)throw Error(r(341));z.lanes|=h,T=z.alternate,T!==null&&(T.lanes|=h),jd(z,h,o),z=null}else z=_.child;if(z!==null)z.return=_;else for(z=_;z!==null;){if(z===o){z=null;break}if(_=z.sibling,_!==null){_.return=z.return,z=_;break}z=z.return}_=z}}function Pc(o,c,h,g){o=null;for(var _=c,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var z=_.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var te=_.type;fa(_.pendingProps.value,z.value)||(o!==null?o.push(te):o=[te])}}else if(_===ye.current){if(z=_.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(o!==null?o.push(wv):o=[wv])}_=_.return}o!==null&&Pu(c,o,h,g),c.flags|=262144}function Dp(o){for(o=o.firstContext;o!==null;){if(!fa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Oc(o){Ic=o,gl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ga(o){return l1(Ic,o)}function kp(o,c){return Ic===null&&Oc(o),l1(o,c)}function l1(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},gl===null){if(o===null)throw Error(r(308));gl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else gl=gl.next=c;return h}var tw=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},nw=t.unstable_scheduleCallback,rw=t.unstable_NormalPriority,vi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new tw,data:new Map,refCount:0}}function sh(o){o.refCount--,o.refCount===0&&nw(rw,function(){o.controller.abort()})}var oh=null,jp=0,b=0,w=null;function C(o,c){if(oh===null){var h=oh=[];jp=0,b=zw(),w={status:"pending",value:void 0,then:function(g){h.push(g)}}}return jp++,c.then(U,U),c}function U(){if(--jp===0&&oh!==null){w!==null&&(w.status="fulfilled");var o=oh;oh=null,b=0,w=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function W(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(g.status="rejected",g.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),g}var Q=se.S;se.S=function(o,c){xC=cn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&C(o,c),Q!==null&&Q(o,c)};var J=ne(null);function re(){var o=J.current;return o!==null?o:kr.pooledCache}function ae(o,c){c===null?X(J,J.current):X(J,c.pool)}function ue(){var o=re();return o===null?null:{parent:vi._currentValue,pool:o}}var _e=Error(r(460)),De=Error(r(474)),le=Error(r(542)),Ee={then:function(){}};function Ie(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ge(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Ls,Ls),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ot(o),o;default:if(typeof c.status=="string")c.then(Ls,Ls);else{if(o=kr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=g}},function(g){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ot(o),o}throw $e=c,_e}}function Oe(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?($e=h,_e):h}}var $e=null;function Ke(){if($e===null)throw Error(r(459));var o=$e;return $e=null,o}function ot(o){if(o===_e||o===le)throw Error(r(483))}var Ze=null,kt=0;function At(o){var c=kt;return kt+=1,Ze===null&&(Ze=[]),Ge(Ze,o,c)}function hn(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ct(o,c){throw c.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Cn(o){function c(Te,we){if(o){var ke=Te.deletions;ke===null?(Te.deletions=[we],Te.flags|=16):ke.push(we)}}function h(Te,we){if(!o)return null;for(;we!==null;)c(Te,we),we=we.sibling;return null}function g(Te){for(var we=new Map;Te!==null;)Te.key!==null?we.set(Te.key,Te):we.set(Te.index,Te),Te=Te.sibling;return we}function _(Te,we){return Te=so(Te,we),Te.index=0,Te.sibling=null,Te}function T(Te,we,ke){return Te.index=ke,o?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<we?(Te.flags|=67108866,we):ke):(Te.flags|=67108866,we)):(Te.flags|=1048576,we)}function z(Te){return o&&Te.alternate===null&&(Te.flags|=67108866),Te}function te(Te,we,ke,Qe){return we===null||we.tag!==6?(we=ih(ke,Te.mode,Qe),we.return=Te,we):(we=_(we,ke),we.return=Te,we)}function ve(Te,we,ke,Qe){var tn=ke.type;return tn===A?We(Te,we,ke.props.children,Qe,ke.key):we!==null&&(we.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===j&&Oe(tn)===we.type)?(we=_(we,ke.props),hn(we,ke),we.return=Te,we):(we=Od(ke.type,ke.key,ke.props,null,Te.mode,Qe),hn(we,ke),we.return=Te,we)}function je(Te,we,ke,Qe){return we===null||we.tag!==4||we.stateNode.containerInfo!==ke.containerInfo||we.stateNode.implementation!==ke.implementation?(we=Rd(ke,Te.mode,Qe),we.return=Te,we):(we=_(we,ke.children||[]),we.return=Te,we)}function We(Te,we,ke,Qe,tn){return we===null||we.tag!==7?(we=Sc(ke,Te.mode,Qe,tn),we.return=Te,we):(we=_(we,ke),we.return=Te,we)}function Je(Te,we,ke){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=ih(""+we,Te.mode,ke),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case v:return ke=Od(we.type,we.key,we.props,null,Te.mode,ke),hn(ke,we),ke.return=Te,ke;case E:return we=Rd(we,Te.mode,ke),we.return=Te,we;case j:return we=Oe(we),Je(Te,we,ke)}if(ge(we)||F(we))return we=Sc(we,Te.mode,ke,null),we.return=Te,we;if(typeof we.then=="function")return Je(Te,At(we),ke);if(we.$$typeof===k)return Je(Te,kp(Te,we),ke);Ct(Te,we)}return null}function Me(Te,we,ke,Qe){var tn=we!==null?we.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return tn!==null?null:te(Te,we,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:return ke.key===tn?ve(Te,we,ke,Qe):null;case E:return ke.key===tn?je(Te,we,ke,Qe):null;case j:return ke=Oe(ke),Me(Te,we,ke,Qe)}if(ge(ke)||F(ke))return tn!==null?null:We(Te,we,ke,Qe,null);if(typeof ke.then=="function")return Me(Te,we,At(ke),Qe);if(ke.$$typeof===k)return Me(Te,we,kp(Te,ke),Qe);Ct(Te,ke)}return null}function ze(Te,we,ke,Qe,tn){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Te=Te.get(ke)||null,te(we,Te,""+Qe,tn);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case v:return Te=Te.get(Qe.key===null?ke:Qe.key)||null,ve(we,Te,Qe,tn);case E:return Te=Te.get(Qe.key===null?ke:Qe.key)||null,je(we,Te,Qe,tn);case j:return Qe=Oe(Qe),ze(Te,we,ke,Qe,tn)}if(ge(Qe)||F(Qe))return Te=Te.get(ke)||null,We(we,Te,Qe,tn,null);if(typeof Qe.then=="function")return ze(Te,we,ke,At(Qe),tn);if(Qe.$$typeof===k)return ze(Te,we,ke,kp(we,Qe),tn);Ct(we,Qe)}return null}function Ot(Te,we,ke,Qe){for(var tn=null,er=null,Ut=we,En=we=0,Mn=null;Ut!==null&&En<ke.length;En++){Ut.index>En?(Mn=Ut,Ut=null):Mn=Ut.sibling;var tr=Me(Te,Ut,ke[En],Qe);if(tr===null){Ut===null&&(Ut=Mn);break}o&&Ut&&tr.alternate===null&&c(Te,Ut),we=T(tr,we,En),er===null?tn=tr:er.sibling=tr,er=tr,Ut=Mn}if(En===ke.length)return h(Te,Ut),Pn&&qs(Te,En),tn;if(Ut===null){for(;En<ke.length;En++)Ut=Je(Te,ke[En],Qe),Ut!==null&&(we=T(Ut,we,En),er===null?tn=Ut:er.sibling=Ut,er=Ut);return Pn&&qs(Te,En),tn}for(Ut=g(Ut);En<ke.length;En++)Mn=ze(Ut,Te,En,ke[En],Qe),Mn!==null&&(o&&Mn.alternate!==null&&Ut.delete(Mn.key===null?En:Mn.key),we=T(Mn,we,En),er===null?tn=Mn:er.sibling=Mn,er=Mn);return o&&Ut.forEach(function(Zd){return c(Te,Zd)}),Pn&&qs(Te,En),tn}function ln(Te,we,ke,Qe){if(ke==null)throw Error(r(151));for(var tn=null,er=null,Ut=we,En=we=0,Mn=null,tr=ke.next();Ut!==null&&!tr.done;En++,tr=ke.next()){Ut.index>En?(Mn=Ut,Ut=null):Mn=Ut.sibling;var Zd=Me(Te,Ut,tr.value,Qe);if(Zd===null){Ut===null&&(Ut=Mn);break}o&&Ut&&Zd.alternate===null&&c(Te,Ut),we=T(Zd,we,En),er===null?tn=Zd:er.sibling=Zd,er=Zd,Ut=Mn}if(tr.done)return h(Te,Ut),Pn&&qs(Te,En),tn;if(Ut===null){for(;!tr.done;En++,tr=ke.next())tr=Je(Te,tr.value,Qe),tr!==null&&(we=T(tr,we,En),er===null?tn=tr:er.sibling=tr,er=tr);return Pn&&qs(Te,En),tn}for(Ut=g(Ut);!tr.done;En++,tr=ke.next())tr=ze(Ut,Te,En,tr.value,Qe),tr!==null&&(o&&tr.alternate!==null&&Ut.delete(tr.key===null?En:tr.key),we=T(tr,we,En),er===null?tn=tr:er.sibling=tr,er=tr);return o&&Ut.forEach(function(lY){return c(Te,lY)}),Pn&&qs(Te,En),tn}function Cr(Te,we,ke,Qe){if(typeof ke=="object"&&ke!==null&&ke.type===A&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case v:e:{for(var tn=ke.key;we!==null;){if(we.key===tn){if(tn=ke.type,tn===A){if(we.tag===7){h(Te,we.sibling),Qe=_(we,ke.props.children),Qe.return=Te,Te=Qe;break e}}else if(we.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===j&&Oe(tn)===we.type){h(Te,we.sibling),Qe=_(we,ke.props),hn(Qe,ke),Qe.return=Te,Te=Qe;break e}h(Te,we);break}else c(Te,we);we=we.sibling}ke.type===A?(Qe=Sc(ke.props.children,Te.mode,Qe,ke.key),Qe.return=Te,Te=Qe):(Qe=Od(ke.type,ke.key,ke.props,null,Te.mode,Qe),hn(Qe,ke),Qe.return=Te,Te=Qe)}return z(Te);case E:e:{for(tn=ke.key;we!==null;){if(we.key===tn)if(we.tag===4&&we.stateNode.containerInfo===ke.containerInfo&&we.stateNode.implementation===ke.implementation){h(Te,we.sibling),Qe=_(we,ke.children||[]),Qe.return=Te,Te=Qe;break e}else{h(Te,we);break}else c(Te,we);we=we.sibling}Qe=Rd(ke,Te.mode,Qe),Qe.return=Te,Te=Qe}return z(Te);case j:return ke=Oe(ke),Cr(Te,we,ke,Qe)}if(ge(ke))return Ot(Te,we,ke,Qe);if(F(ke)){if(tn=F(ke),typeof tn!="function")throw Error(r(150));return ke=tn.call(ke),ln(Te,we,ke,Qe)}if(typeof ke.then=="function")return Cr(Te,we,At(ke),Qe);if(ke.$$typeof===k)return Cr(Te,we,kp(Te,ke),Qe);Ct(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,we!==null&&we.tag===6?(h(Te,we.sibling),Qe=_(we,ke),Qe.return=Te,Te=Qe):(h(Te,we),Qe=ih(ke,Te.mode,Qe),Qe.return=Te,Te=Qe),z(Te)):h(Te,we)}return function(Te,we,ke,Qe){try{kt=0;var tn=Cr(Te,we,ke,Qe);return Ze=null,tn}catch(Ut){if(Ut===_e||Ut===le)throw Ut;var er=ka(29,Ut,null,Te.mode);return er.lanes=Qe,er.return=Te,er}finally{}}}var Dr=Cn(!0),vn=Cn(!1),St=!1;function pt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qr(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function an(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function xn(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(or&2)!==0){var _=g.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),g.pending=c,c=Da(o),nh(o,null,h),c}return th(o,g,c,h),Da(o)}function ar(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Di(o,h)}}function Ui(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?_=T=z:T=T.next=z,h=h.next}while(h!==null);T===null?_=T=c:T=T.next=c}else _=T=c;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var va=!1;function Tr(){if(va){var o=w;if(o!==null)throw o}}function wi(o,c,h,g){va=!1;var _=o.updateQueue;St=!1;var T=_.firstBaseUpdate,z=_.lastBaseUpdate,te=_.shared.pending;if(te!==null){_.shared.pending=null;var ve=te,je=ve.next;ve.next=null,z===null?T=je:z.next=je,z=ve;var We=o.alternate;We!==null&&(We=We.updateQueue,te=We.lastBaseUpdate,te!==z&&(te===null?We.firstBaseUpdate=je:te.next=je,We.lastBaseUpdate=ve))}if(T!==null){var Je=_.baseState;z=0,We=je=ve=null,te=T;do{var Me=te.lane&-536870913,ze=Me!==te.lane;if(ze?(Ln&Me)===Me:(g&Me)===Me){Me!==0&&Me===b&&(va=!0),We!==null&&(We=We.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Ot=o,ln=te;Me=c;var Cr=h;switch(ln.tag){case 1:if(Ot=ln.payload,typeof Ot=="function"){Je=Ot.call(Cr,Je,Me);break e}Je=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=ln.payload,Me=typeof Ot=="function"?Ot.call(Cr,Je,Me):Ot,Me==null)break e;Je=p({},Je,Me);break e;case 2:St=!0}}Me=te.callback,Me!==null&&(o.flags|=64,ze&&(o.flags|=8192),ze=_.callbacks,ze===null?_.callbacks=[Me]:ze.push(Me))}else ze={lane:Me,tag:te.tag,payload:te.payload,callback:te.callback,next:null},We===null?(je=We=ze,ve=Je):We=We.next=ze,z|=Me;if(te=te.next,te===null){if(te=_.shared.pending,te===null)break;ze=te,te=ze.next,ze.next=null,_.lastBaseUpdate=ze,_.shared.pending=null}}while(!0);We===null&&(ve=Je),_.baseState=ve,_.firstBaseUpdate=je,_.lastBaseUpdate=We,T===null&&(_.shared.lanes=0),qd|=z,o.lanes=z,o.memoizedState=Je}}function ja(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function Ei(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)ja(h[o],c)}var Sn=ne(null),zn=ne(0);function Hr(o,c){o=Bu,X(zn,o),X(Sn,c),Bu=o|c.baseLanes}function Kn(){X(zn,Bu),X(Sn,Sn.current)}function Bi(){Bu=zn.current,M(Sn),M(zn)}var $r=ne(null),qn=null;function yi(o){var c=o.alternate;X(Bn,Bn.current&1),X($r,o),qn===null&&(c===null||Sn.current!==null||c.memoizedState!==null)&&(qn=o)}function sr(o){X(Bn,Bn.current),X($r,o),qn===null&&(qn=o)}function Ai(o){o.tag===22?(X(Bn,Bn.current),X($r,o),qn===null&&(qn=o)):Si()}function Si(){X(Bn,Bn.current),X($r,$r.current)}function mr(o){M($r),qn===o&&(qn=null),M(Bn)}var Bn=ne(0);function La(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||e5(h)||t5(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ni=0,Qt=null,en=null,Hn=null,_s=!1,po=!1,es=!1,Ti=0,Rc=0,Dc=null,Lp=0;function Nr(){throw Error(r(321))}function Qg(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!fa(o[h],c[h]))return!1;return!0}function Jg(o,c,h,g,_,T){return ni=T,Qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,se.H=o===null||o.memoizedState===null?O4:dw,es=!1,T=h(g,_),es=!1,po&&(T=Xl(c,h,g,_)),Mp(o),T}function Mp(o){se.H=sv;var c=en!==null&&en.next!==null;if(ni=0,Hn=en=Qt=null,_s=!1,Rc=0,Dc=null,c)throw Error(r(300));o===null||Zi||(o=o.dependencies,o!==null&&Dp(o)&&(Zi=!0))}function Xl(o,c,h,g){Qt=o;var _=0;do{if(po&&(Dc=null),Rc=0,po=!1,25<=_)throw Error(r(301));if(_+=1,Hn=en=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}se.H=R4,T=c(h,g)}while(po);return T}function iw(){var o=se.H,c=o.useState()[0];return c=typeof c.then=="function"?kc(c):c,o=o.useState()[0],(en!==null?en.memoizedState:null)!==o&&(Qt.flags|=1024),c}function Zg(){var o=Ti!==0;return Ti=0,o}function ev(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Fp(o){if(_s){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}_s=!1}ni=0,Hn=en=Qt=null,po=!1,Rc=Ti=0,Dc=null}function Ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Qt.memoizedState=Hn=o:Hn=Hn.next=o,Hn}function ri(){if(en===null){var o=Qt.alternate;o=o!==null?o.memoizedState:null}else o=en.next;var c=Hn===null?Qt.memoizedState:Hn.next;if(c!==null)Hn=c,en=o;else{if(o===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));en=o,o={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Hn===null?Qt.memoizedState=Hn=o:Hn=Hn.next=o}return Hn}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(o){var c=Rc;return Rc+=1,Dc===null&&(Dc=[]),o=Ge(Dc,o,c),c=Qt,(Hn===null?c.memoizedState:Hn.next)===null&&(c=c.alternate,se.H=c===null||c.memoizedState===null?O4:dw),o}function Md(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kc(o);if(o.$$typeof===k)return ga(o)}throw Error(r(438,String(o)))}function Ou(o){var c=null,h=Qt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Qt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=lh(),Qt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=G;return c.index++,h}function vl(o,c){return typeof c=="function"?c(o):c}function Up(o){var c=ri();return Fd(c,en,o)}function Fd(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var _=o.baseQueue,T=g.pending;if(T!==null){if(_!==null){var z=_.next;_.next=T.next,T.next=z}c.baseQueue=_=T,g.pending=null}if(T=o.baseState,_===null)o.memoizedState=T;else{c=_.next;var te=z=null,ve=null,je=c,We=!1;do{var Je=je.lane&-536870913;if(Je!==je.lane?(Ln&Je)===Je:(ni&Je)===Je){var Me=je.revertLane;if(Me===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),Je===b&&(We=!0);else if((ni&Me)===Me){je=je.next,Me===b&&(We=!0);continue}else Je={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},ve===null?(te=ve=Je,z=T):ve=ve.next=Je,Qt.lanes|=Me,qd|=Me;Je=je.action,es&&h(T,Je),T=je.hasEagerState?je.eagerState:h(T,Je)}else Me={lane:Je,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},ve===null?(te=ve=Me,z=T):ve=ve.next=Me,Qt.lanes|=Je,qd|=Je;je=je.next}while(je!==null&&je!==c);if(ve===null?z=T:ve.next=te,!fa(T,o.memoizedState)&&(Zi=!0,We&&(h=w,h!==null)))throw h;o.memoizedState=T,o.baseState=z,o.baseQueue=ve,g.lastRenderedState=T}return _===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Bp(o){var c=ri(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,_=h.pending,T=c.memoizedState;if(_!==null){h.pending=null;var z=_=_.next;do T=o(T,z.action),z=z.next;while(z!==_);fa(T,c.memoizedState)||(Zi=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),h.lastRenderedState=T}return[T,g]}function Vp(o,c,h){var g=Qt,_=ri(),T=Pn;if(T){if(h===void 0)throw Error(r(407));h=h()}else h=c();var z=!fa((en||_).memoizedState,h);if(z&&(_.memoizedState=h,Zi=!0),_=_.queue,aw(nv.bind(null,g,_,o),[o]),_.getSnapshot!==c||z||Hn!==null&&Hn.memoizedState.tag&1){if(g.flags|=2048,Du(9,{destroy:void 0},tv.bind(null,g,_,h,c),null),kr===null)throw Error(r(349));T||(ni&127)!==0||Ql(g,c,h)}return h}function Ql(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Qt.updateQueue,c===null?(c=lh(),Qt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function tv(o,c,h,g){c.value=h,c.getSnapshot=g,c1(c)&&rv(o)}function nv(o,c,h){return h(function(){c1(c)&&rv(o)})}function c1(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!fa(o,h)}catch{return!0}}function rv(o){var c=Wl(o,2);c!==null&&bo(c,o,2)}function jc(o){var c=Ji();if(typeof o=="function"){var h=o;if(o=h(),es){Mt(!0);try{h()}finally{Mt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:o},c}function u1(o,c,h,g){return o.baseState=h,Fd(o,en,typeof g=="function"?g:vl)}function d1(o,c,h,g,_){if(m1(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:_,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){T.listeners.push(z)}};se.T!==null?h(!0):T.isTransition=!1,g(T),h=c.pending,h===null?(T.next=c.pending=T,f1(c,T)):(T.next=h.next,c.pending=h.next=T)}}function f1(o,c){var h=c.action,g=c.payload,_=o.state;if(c.isTransition){var T=se.T,z={};se.T=z;try{var te=h(_,g),ve=se.S;ve!==null&&ve(z,te),iv(o,c,te)}catch(je){Ru(o,c,je)}finally{T!==null&&z.types!==null&&(T.types=z.types),se.T=T}}else try{T=h(_,g),iv(o,c,T)}catch(je){Ru(o,c,je)}}function iv(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){h1(o,c,g)},function(g){return Ru(o,c,g)}):h1(o,c,h)}function h1(o,c,h){c.status="fulfilled",c.value=h,zp(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,f1(o,h)))}function Ru(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,zp(c),c=c.next;while(c!==g)}o.action=null}function zp(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ch(o,c){return c}function yl(o,c){if(Pn){var h=kr.formState;if(h!==null){e:{var g=Qt;if(Pn){if(Rr){t:{for(var _=Rr,T=ti;_.nodeType!==8;){if(!T){_=null;break t}if(_=bl(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){Rr=bl(_.nextSibling),g=_.data==="F!";break e}}Nc(g)}g=!1}g&&(c=h[0])}}return h=Ji(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:c},h.queue=g,h=I4.bind(null,Qt,g),g.dispatch=h,g=jc(!1),T=uw.bind(null,Qt,!1,g.queue),g=Ji(),_={state:c,dispatch:null,action:o,pending:null},g.queue=_,h=d1.bind(null,Qt,_,T,h),_.dispatch=h,g.memoizedState=o,[c,h,!1]}function Jl(o){var c=ri();return Zl(c,en,o)}function Zl(o,c,h){if(c=Fd(o,c,ch)[0],o=Up(vl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=kc(c)}catch(z){throw z===_e?le:z}else g=c;c=ri();var _=c.queue,T=_.dispatch;return h!==c.memoizedState&&(Qt.flags|=2048,Du(9,{destroy:void 0},qp.bind(null,_,h),null)),[g,T,o]}function qp(o,c){o.action=c}function Hp(o){var c=ri(),h=en;if(h!==null)return Zl(c,h,o);ri(),c=c.memoizedState,h=ri();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Du(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=Qt.updateQueue,c===null&&(c=lh(),Qt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function p1(){return ri().memoizedState}function Ud(o,c,h,g){var _=Ji();Qt.flags|=o,_.memoizedState=Du(1|c,{destroy:void 0},h,g===void 0?null:g)}function Bd(o,c,h,g){var _=ri();g=g===void 0?null:g;var T=_.memoizedState.inst;en!==null&&g!==null&&Qg(g,en.memoizedState.deps)?_.memoizedState=Du(c,T,h,g):(Qt.flags|=o,_.memoizedState=Du(1|c,T,h,g))}function p4(o,c){Ud(8390656,8,o,c)}function aw(o,c){Bd(2048,8,o,c)}function nG(o){Qt.flags|=4;var c=Qt.updateQueue;if(c===null)c=lh(),Qt.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function m4(o){var c=ri().memoizedState;return nG({ref:c,nextImpl:o}),function(){if((or&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function g4(o,c){return Bd(4,2,o,c)}function v4(o,c){return Bd(4,4,o,c)}function y4(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function b4(o,c,h){h=h!=null?h.concat([o]):null,Bd(4,4,y4.bind(null,c,o),h)}function sw(){}function x4(o,c){var h=ri();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Qg(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function _4(o,c){var h=ri();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Qg(c,g[1]))return g[0];if(g=o(),es){Mt(!0);try{o()}finally{Mt(!1)}}return h.memoizedState=[g,c],g}function ow(o,c,h){return h===void 0||(ni&1073741824)!==0&&(Ln&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=wC(),Qt.lanes|=o,qd|=o,h)}function w4(o,c,h,g){return fa(h,c)?h:Sn.current!==null?(o=ow(o,h,g),fa(o,c)||(Zi=!0),o):(ni&42)===0||(ni&1073741824)!==0&&(Ln&261930)===0?(Zi=!0,o.memoizedState=h):(o=wC(),Qt.lanes|=o,qd|=o,c)}function E4(o,c,h,g,_){var T=fe.p;fe.p=T!==0&&8>T?T:8;var z=se.T,te={};se.T=te,uw(o,!1,c,h);try{var ve=_(),je=se.S;if(je!==null&&je(te,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var We=W(ve,g);av(o,c,We,Bo(o))}else av(o,c,g,Bo(o))}catch(Je){av(o,c,{then:function(){},status:"rejected",reason:Je},Bo())}finally{fe.p=T,z!==null&&te.types!==null&&(z.types=te.types),se.T=z}}function rG(){}function lw(o,c,h,g){if(o.tag!==5)throw Error(r(476));var _=A4(o).queue;E4(o,_,c,me,h===null?rG:function(){return S4(o),h(g)})}function A4(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:me},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function S4(o){var c=A4(o);c.next===null&&(c=o.alternate.memoizedState),av(o,c.next.queue,{},Bo())}function cw(){return ga(wv)}function T4(){return ri().memoizedState}function N4(){return ri().memoizedState}function iG(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Bo();o=an(h);var g=xn(c,o,h);g!==null&&(bo(g,c,h),ar(g,c,h)),c={cache:Ld()},o.payload=c;return}c=c.return}}function aG(o,c,h){var g=Bo();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},m1(o)?C4(c,h):(h=Sp(o,c,h,g),h!==null&&(bo(h,o,g),P4(h,c,g)))}function I4(o,c,h){var g=Bo();av(o,c,h,g)}function av(o,c,h,g){var _={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(m1(o))C4(c,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var z=c.lastRenderedState,te=T(z,h);if(_.hasEagerState=!0,_.eagerState=te,fa(te,z))return th(o,c,_,0),kr===null&&eh(),!1}catch{}finally{}if(h=Sp(o,c,_,g),h!==null)return bo(h,o,g),P4(h,c,g),!0}return!1}function uw(o,c,h,g){if(g={lane:2,revertLane:zw(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},m1(o)){if(c)throw Error(r(479))}else c=Sp(o,h,g,2),c!==null&&bo(c,o,2)}function m1(o){var c=o.alternate;return o===Qt||c!==null&&c===Qt}function C4(o,c){po=_s=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function P4(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Di(o,h)}}var sv={readContext:ga,use:Md,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr};sv.useEffectEvent=Nr;var O4={readContext:ga,use:Md,useCallback:function(o,c){return Ji().memoizedState=[o,c===void 0?null:c],o},useContext:ga,useEffect:p4,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Ud(4194308,4,y4.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Ud(4194308,4,o,c)},useInsertionEffect:function(o,c){Ud(4,2,o,c)},useMemo:function(o,c){var h=Ji();c=c===void 0?null:c;var g=o();if(es){Mt(!0);try{o()}finally{Mt(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=Ji();if(h!==void 0){var _=h(c);if(es){Mt(!0);try{h(c)}finally{Mt(!1)}}}else _=c;return g.memoizedState=g.baseState=_,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:_},g.queue=o,o=o.dispatch=aG.bind(null,Qt,o),[g.memoizedState,o]},useRef:function(o){var c=Ji();return o={current:o},c.memoizedState=o},useState:function(o){o=jc(o);var c=o.queue,h=I4.bind(null,Qt,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:sw,useDeferredValue:function(o,c){var h=Ji();return ow(h,o,c)},useTransition:function(){var o=jc(!1);return o=E4.bind(null,Qt,o.queue,!0,!1),Ji().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=Qt,_=Ji();if(Pn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),kr===null)throw Error(r(349));(Ln&127)!==0||Ql(g,c,h)}_.memoizedState=h;var T={value:h,getSnapshot:c};return _.queue=T,p4(nv.bind(null,g,T,o),[o]),g.flags|=2048,Du(9,{destroy:void 0},tv.bind(null,g,T,h,c),null),h},useId:function(){var o=Ji(),c=kr.identifierPrefix;if(Pn){var h=fo,g=uo;h=(g&~(1<<32-nn(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Ti++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=Lp++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:cw,useFormState:yl,useActionState:yl,useOptimistic:function(o){var c=Ji();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=uw.bind(null,Qt,!0,h),h.dispatch=c,[o,c]},useMemoCache:Ou,useCacheRefresh:function(){return Ji().memoizedState=iG.bind(null,Qt)},useEffectEvent:function(o){var c=Ji(),h={impl:o};return c.memoizedState=h,function(){if((or&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},dw={readContext:ga,use:Md,useCallback:x4,useContext:ga,useEffect:aw,useImperativeHandle:b4,useInsertionEffect:g4,useLayoutEffect:v4,useMemo:_4,useReducer:Up,useRef:p1,useState:function(){return Up(vl)},useDebugValue:sw,useDeferredValue:function(o,c){var h=ri();return w4(h,en.memoizedState,o,c)},useTransition:function(){var o=Up(vl)[0],c=ri().memoizedState;return[typeof o=="boolean"?o:kc(o),c]},useSyncExternalStore:Vp,useId:T4,useHostTransitionStatus:cw,useFormState:Jl,useActionState:Jl,useOptimistic:function(o,c){var h=ri();return u1(h,en,o,c)},useMemoCache:Ou,useCacheRefresh:N4};dw.useEffectEvent=m4;var R4={readContext:ga,use:Md,useCallback:x4,useContext:ga,useEffect:aw,useImperativeHandle:b4,useInsertionEffect:g4,useLayoutEffect:v4,useMemo:_4,useReducer:Bp,useRef:p1,useState:function(){return Bp(vl)},useDebugValue:sw,useDeferredValue:function(o,c){var h=ri();return en===null?ow(h,o,c):w4(h,en.memoizedState,o,c)},useTransition:function(){var o=Bp(vl)[0],c=ri().memoizedState;return[typeof o=="boolean"?o:kc(o),c]},useSyncExternalStore:Vp,useId:T4,useHostTransitionStatus:cw,useFormState:Hp,useActionState:Hp,useOptimistic:function(o,c){var h=ri();return en!==null?u1(h,en,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:N4};R4.useEffectEvent=m4;function fw(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var hw={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Bo(),_=an(g);_.payload=c,h!=null&&(_.callback=h),c=xn(o,_,g),c!==null&&(bo(c,o,g),ar(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Bo(),_=an(g);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=xn(o,_,g),c!==null&&(bo(c,o,g),ar(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Bo(),g=an(h);g.tag=2,c!=null&&(g.callback=c),c=xn(o,g,h),c!==null&&(bo(c,o,h),ar(c,o,h))}};function D4(o,c,h,g,_,T,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,z):c.prototype&&c.prototype.isPureReactComponent?!Hl(h,g)||!Hl(_,T):!0}function k4(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&hw.enqueueReplaceState(c,c.state,null)}function uh(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var _ in o)h[_]===void 0&&(h[_]=o[_])}return h}function j4(o){Zf(o)}function L4(o){console.error(o)}function M4(o){Zf(o)}function g1(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function F4(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function pw(o,c,h){return h=an(h),h.tag=3,h.payload={element:null},h.callback=function(){g1(o,c)},h}function U4(o){return o=an(o),o.tag=3,o}function B4(o,c,h,g){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var T=g.value;o.payload=function(){return _(T)},o.callback=function(){F4(c,h,g)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){F4(c,h,g),typeof _!="function"&&(Hd===null?Hd=new Set([this]):Hd.add(this));var te=g.stack;this.componentDidCatch(g.value,{componentStack:te!==null?te:""})})}function sG(o,c,h,g,_){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Pc(c,h,_,!0),h=$r.current,h!==null){switch(h.tag){case 31:case 13:return qn===null?I1():h.alternate===null&&Ni===0&&(Ni=3),h.flags&=-257,h.flags|=65536,h.lanes=_,g===Ee?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Uw(o,g,_)),!1;case 22:return h.flags|=65536,g===Ee?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Uw(o,g,_)),!1}throw Error(r(435,h.tag))}return Uw(o,g,_),I1(),!1}if(Pn)return c=$r.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,g!==Mo&&(o=Error(r(422),{cause:g}),kd(oo(o,h)))):(g!==Mo&&(c=Error(r(423),{cause:g}),kd(oo(c,h))),o=o.current.alternate,o.flags|=65536,_&=-_,o.lanes|=_,g=oo(g,h),_=pw(o.stateNode,g,_),Ui(o,_),Ni!==4&&(Ni=2)),!1;var T=Error(r(520),{cause:g});if(T=oo(T,h),pv===null?pv=[T]:pv.push(T),Ni!==4&&(Ni=2),c===null)return!0;g=oo(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=_&-_,h.lanes|=o,o=pw(h.stateNode,g,o),Ui(h,o),!1;case 1:if(c=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Hd===null||!Hd.has(T))))return h.flags|=65536,_&=-_,h.lanes|=_,_=U4(_),B4(_,o,h,g),Ui(h,_),!1}h=h.return}while(h!==null);return!1}var mw=Error(r(461)),Zi=!1;function ts(o,c,h,g){c.child=o===null?vn(c,null,h,g):Dr(c,o.child,h,g)}function V4(o,c,h,g,_){h=h.render;var T=c.ref;if("ref"in g){var z={};for(var te in g)te!=="ref"&&(z[te]=g[te])}else z=g;return Oc(c),g=Jg(o,c,h,z,T,_),te=Zg(),o!==null&&!Zi?(ev(o,c,_),ku(o,c,_)):(Pn&&te&&Wg(c),c.flags|=1,ts(o,c,g,_),c.child)}function z4(o,c,h,g,_){if(o===null){var T=h.type;return typeof T=="function"&&!Np(T)&&T.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=T,q4(o,c,T,g,_)):(o=Od(h.type,null,g,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!Ew(o,_)){var z=T.memoizedProps;if(h=h.compare,h=h!==null?h:Hl,h(z,g)&&o.ref===c.ref)return ku(o,c,_)}return c.flags|=1,o=so(T,g),o.ref=c.ref,o.return=c,c.child=o}function q4(o,c,h,g,_){if(o!==null){var T=o.memoizedProps;if(Hl(T,g)&&o.ref===c.ref)if(Zi=!1,c.pendingProps=g=T,Ew(o,_))(o.flags&131072)!==0&&(Zi=!0);else return c.lanes=o.lanes,ku(o,c,_)}return gw(o,c,h,g,_)}function H4(o,c,h,g){var _=g.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|h:h,o!==null){for(g=c.child=o.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;g=_&~T}else g=0,c.child=null;return $4(o,c,T,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&ae(c,T!==null?T.cachePool:null),T!==null?Hr(c,T):Kn(),Ai(c);else return g=c.lanes=536870912,$4(o,c,T!==null?T.baseLanes|h:h,h,g)}else T!==null?(ae(c,T.cachePool),Hr(c,T),Si(),c.memoizedState=null):(o!==null&&ae(c,null),Kn(),Si());return ts(o,c,_,h),c.child}function ov(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function $4(o,c,h,g,_){var T=re();return T=T===null?null:{parent:vi._currentValue,pool:T},c.memoizedState={baseLanes:h,cachePool:T},o!==null&&ae(c,null),Kn(),Ai(c),o!==null&&Pc(o,c,g,!0),c.childLanes=_,null}function v1(o,c){return c=b1({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function G4(o,c,h){return Dr(c,o.child,null,h),o=v1(c,c.pendingProps),o.flags|=2,mr(c),c.memoizedState=null,o}function oG(o,c,h){var g=c.pendingProps,_=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Pn){if(g.mode==="hidden")return o=v1(c,g),c.lanes=536870912,ov(null,o);if(sr(c),(o=Rr)?(o=iP(o,ti),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Tc!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},h=Ip(o),h.return=c,c.child=h,pa=c,Rr=null)):o=null,o===null)throw Nc(c);return c.lanes=536870912,null}return v1(c,g)}var T=o.memoizedState;if(T!==null){var z=T.dehydrated;if(sr(c),_)if(c.flags&256)c.flags&=-257,c=G4(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Zi||Pc(o,c,h,!1),_=(h&o.childLanes)!==0,Zi||_){if(g=kr,g!==null&&(z=ki(g,h),z!==0&&z!==T.retryLane))throw T.retryLane=z,Wl(o,z),bo(g,o,z),mw;I1(),c=G4(o,c,h)}else o=T.treeContext,Rr=bl(z.nextSibling),pa=c,Pn=!0,Za=null,ti=!1,o!==null&&o1(c,o),c=v1(c,g),c.flags|=4096;return c}return o=so(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function y1(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function gw(o,c,h,g,_){return Oc(c),h=Jg(o,c,h,g,void 0,_),g=Zg(),o!==null&&!Zi?(ev(o,c,_),ku(o,c,_)):(Pn&&g&&Wg(c),c.flags|=1,ts(o,c,h,_),c.child)}function Y4(o,c,h,g,_,T){return Oc(c),c.updateQueue=null,h=Xl(c,g,h,_),Mp(o),g=Zg(),o!==null&&!Zi?(ev(o,c,T),ku(o,c,T)):(Pn&&g&&Wg(c),c.flags|=1,ts(o,c,h,T),c.child)}function W4(o,c,h,g,_){if(Oc(c),c.stateNode===null){var T=ha,z=h.contextType;typeof z=="object"&&z!==null&&(T=ga(z)),T=new h(g,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=hw,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=g,T.state=c.memoizedState,T.refs={},pt(c),z=h.contextType,T.context=typeof z=="object"&&z!==null?ga(z):ha,T.state=c.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(fw(c,h,z,g),T.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(z=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),z!==T.state&&hw.enqueueReplaceState(T,T.state,null),wi(c,g,T,_),Tr(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){T=c.stateNode;var te=c.memoizedProps,ve=uh(h,te);T.props=ve;var je=T.context,We=h.contextType;z=ha,typeof We=="object"&&We!==null&&(z=ga(We));var Je=h.getDerivedStateFromProps;We=typeof Je=="function"||typeof T.getSnapshotBeforeUpdate=="function",te=c.pendingProps!==te,We||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(te||je!==z)&&k4(c,T,g,z),St=!1;var Me=c.memoizedState;T.state=Me,wi(c,g,T,_),Tr(),je=c.memoizedState,te||Me!==je||St?(typeof Je=="function"&&(fw(c,h,Je,g),je=c.memoizedState),(ve=St||D4(c,h,ve,g,Me,je,z))?(We||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=je),T.props=g,T.state=je,T.context=z,g=ve):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{T=c.stateNode,qr(o,c),z=c.memoizedProps,We=uh(h,z),T.props=We,Je=c.pendingProps,Me=T.context,je=h.contextType,ve=ha,typeof je=="object"&&je!==null&&(ve=ga(je)),te=h.getDerivedStateFromProps,(je=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==Je||Me!==ve)&&k4(c,T,g,ve),St=!1,Me=c.memoizedState,T.state=Me,wi(c,g,T,_),Tr();var ze=c.memoizedState;z!==Je||Me!==ze||St||o!==null&&o.dependencies!==null&&Dp(o.dependencies)?(typeof te=="function"&&(fw(c,h,te,g),ze=c.memoizedState),(We=St||D4(c,h,We,g,Me,ze,ve)||o!==null&&o.dependencies!==null&&Dp(o.dependencies))?(je||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,ze,ve),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,ze,ve)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ze),T.props=g,T.state=ze,T.context=ve,g=We):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),g=!1)}return T=g,y1(o,c),g=(c.flags&128)!==0,T||g?(T=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&g?(c.child=Dr(c,o.child,null,_),c.child=Dr(c,null,h,_)):ts(o,c,h,_),c.memoizedState=T.state,o=c.child):o=ku(o,c,_),o}function K4(o,c,h,g){return Cu(),c.flags|=256,ts(o,c,h,g),c.child}var vw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yw(o){return{baseLanes:o,cachePool:ue()}}function bw(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Uo),o}function X4(o,c,h){var g=c.pendingProps,_=!1,T=(c.flags&128)!==0,z;if((z=T)||(z=o!==null&&o.memoizedState===null?!1:(Bn.current&2)!==0),z&&(_=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Pn){if(_?yi(c):Si(),(o=Rr)?(o=iP(o,ti),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Tc!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},h=Ip(o),h.return=c,c.child=h,pa=c,Rr=null)):o=null,o===null)throw Nc(c);return t5(o)?c.lanes=32:c.lanes=536870912,null}var te=g.children;return g=g.fallback,_?(Si(),_=c.mode,te=b1({mode:"hidden",children:te},_),g=Sc(g,_,h,null),te.return=c,g.return=c,te.sibling=g,c.child=te,g=c.child,g.memoizedState=yw(h),g.childLanes=bw(o,z,h),c.memoizedState=vw,ov(null,g)):(yi(c),xw(c,te))}var ve=o.memoizedState;if(ve!==null&&(te=ve.dehydrated,te!==null)){if(T)c.flags&256?(yi(c),c.flags&=-257,c=_w(o,c,h)):c.memoizedState!==null?(Si(),c.child=o.child,c.flags|=128,c=null):(Si(),te=g.fallback,_=c.mode,g=b1({mode:"visible",children:g.children},_),te=Sc(te,_,h,null),te.flags|=2,g.return=c,te.return=c,g.sibling=te,c.child=g,Dr(c,o.child,null,h),g=c.child,g.memoizedState=yw(h),g.childLanes=bw(o,z,h),c.memoizedState=vw,c=ov(null,g));else if(yi(c),t5(te)){if(z=te.nextSibling&&te.nextSibling.dataset,z)var je=z.dgst;z=je,g=Error(r(419)),g.stack="",g.digest=z,kd({value:g,source:null,stack:null}),c=_w(o,c,h)}else if(Zi||Pc(o,c,h,!1),z=(h&o.childLanes)!==0,Zi||z){if(z=kr,z!==null&&(g=ki(z,h),g!==0&&g!==ve.retryLane))throw ve.retryLane=g,Wl(o,g),bo(z,o,g),mw;e5(te)||I1(),c=_w(o,c,h)}else e5(te)?(c.flags|=192,c.child=o.child,c=null):(o=ve.treeContext,Rr=bl(te.nextSibling),pa=c,Pn=!0,Za=null,ti=!1,o!==null&&o1(c,o),c=xw(c,g.children),c.flags|=4096);return c}return _?(Si(),te=g.fallback,_=c.mode,ve=o.child,je=ve.sibling,g=so(ve,{mode:"hidden",children:g.children}),g.subtreeFlags=ve.subtreeFlags&65011712,je!==null?te=so(je,te):(te=Sc(te,_,h,null),te.flags|=2),te.return=c,g.return=c,g.sibling=te,c.child=g,ov(null,g),g=c.child,te=o.child.memoizedState,te===null?te=yw(h):(_=te.cachePool,_!==null?(ve=vi._currentValue,_=_.parent!==ve?{parent:ve,pool:ve}:_):_=ue(),te={baseLanes:te.baseLanes|h,cachePool:_}),g.memoizedState=te,g.childLanes=bw(o,z,h),c.memoizedState=vw,ov(o.child,g)):(yi(c),h=o.child,o=h.sibling,h=so(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=h,c.memoizedState=null,h)}function xw(o,c){return c=b1({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function b1(o,c){return o=ka(22,o,null,c),o.lanes=0,o}function _w(o,c,h){return Dr(c,o.child,null,h),o=xw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Q4(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),jd(o.return,c,h)}function ww(o,c,h,g,_,T){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_,treeForkCount:T}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=g,z.tail=h,z.tailMode=_,z.treeForkCount=T)}function J4(o,c,h){var g=c.pendingProps,_=g.revealOrder,T=g.tail;g=g.children;var z=Bn.current,te=(z&2)!==0;if(te?(z=z&1|2,c.flags|=128):z&=1,X(Bn,z),ts(o,c,g,h),g=Pn?ah:0,!te&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Q4(o,h,c);else if(o.tag===19)Q4(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(_){case"forwards":for(h=c.child,_=null;h!==null;)o=h.alternate,o!==null&&La(o)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),ww(c,!1,_,h,T,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&La(o)===null){c.child=_;break}o=_.sibling,_.sibling=h,h=_,_=o}ww(c,!0,h,null,T,g);break;case"together":ww(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function ku(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),qd|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Pc(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=so(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=so(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function Ew(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Dp(o)))}function lG(o,c,h){switch(c.tag){case 3:Pe(c,c.stateNode.containerInfo),Cc(c,vi,o.memoizedState.cache),Cu();break;case 27:case 5:Ce(c);break;case 4:Pe(c,c.stateNode.containerInfo);break;case 10:Cc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,sr(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(yi(c),c.flags|=128,null):(h&c.child.childLanes)!==0?X4(o,c,h):(yi(c),o=ku(o,c,h),o!==null?o.sibling:null);yi(c);break;case 19:var _=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Pc(o,c,h,!1),g=(h&c.childLanes)!==0),_){if(g)return J4(o,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),X(Bn,Bn.current),g)break;return null;case 22:return c.lanes=0,H4(o,c,h,c.pendingProps);case 24:Cc(c,vi,o.memoizedState.cache)}return ku(o,c,h)}function Z4(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Zi=!0;else{if(!Ew(o,h)&&(c.flags&128)===0)return Zi=!1,lG(o,c,h);Zi=(o.flags&131072)!==0}else Zi=!1,Pn&&(c.flags&1048576)!==0&&s1(c,ah,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Oe(c.elementType),c.type=o,typeof o=="function")Np(o)?(g=uh(o,g),c.tag=1,c=W4(null,c,o,g,h)):(c.tag=0,c=gw(null,c,o,g,h));else{if(o!=null){var _=o.$$typeof;if(_===B){c.tag=11,c=V4(null,c,o,g,h);break e}else if(_===L){c.tag=14,c=z4(null,c,o,g,h);break e}}throw c=ee(o)||o,Error(r(306,c,""))}}return c;case 0:return gw(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,_=uh(g,c.pendingProps),W4(o,c,g,_,h);case 3:e:{if(Pe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var T=c.memoizedState;_=T.element,qr(o,c),wi(c,g,null,h);var z=c.memoizedState;if(g=z.cache,Cc(c,vi,g),g!==T.cache&&Pu(c,[vi],h,!0),Tr(),g=z.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=K4(o,c,g,h);break e}else if(g!==_){_=oo(Error(r(424)),c),kd(_),c=K4(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Rr=bl(o.firstChild),pa=c,Pn=!0,Za=null,ti=!0,h=vn(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Cu(),g===_){c=ku(o,c,h);break e}ts(o,c,g,h)}c=c.child}return c;case 26:return y1(o,c),o===null?(h=uP(c.type,null,c.pendingProps,null))?c.memoizedState=h:Pn||(h=c.type,o=c.pendingProps,g=j1(pe.current).createElement(h),g[Vn]=c,g[ir]=o,ns(g,h,o),ur(g),c.stateNode=g):c.memoizedState=uP(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ce(c),o===null&&Pn&&(g=c.stateNode=oP(c.type,c.pendingProps,pe.current),pa=c,ti=!0,_=Rr,Wd(c.type)?(n5=_,Rr=bl(g.firstChild)):Rr=_),ts(o,c,c.pendingProps.children,h),y1(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Pn&&((_=g=Rr)&&(g=FG(g,c.type,c.pendingProps,ti),g!==null?(c.stateNode=g,pa=c,Rr=bl(g.firstChild),ti=!1,_=!0):_=!1),_||Nc(c)),Ce(c),_=c.type,T=c.pendingProps,z=o!==null?o.memoizedProps:null,g=T.children,Qw(_,T)?g=null:z!==null&&Qw(_,z)&&(c.flags|=32),c.memoizedState!==null&&(_=Jg(o,c,iw,null,null,h),wv._currentValue=_),y1(o,c),ts(o,c,g,h),c.child;case 6:return o===null&&Pn&&((o=h=Rr)&&(h=UG(h,c.pendingProps,ti),h!==null?(c.stateNode=h,pa=c,Rr=null,o=!0):o=!1),o||Nc(c)),null;case 13:return X4(o,c,h);case 4:return Pe(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Dr(c,null,g,h):ts(o,c,g,h),c.child;case 11:return V4(o,c,c.type,c.pendingProps,h);case 7:return ts(o,c,c.pendingProps,h),c.child;case 8:return ts(o,c,c.pendingProps.children,h),c.child;case 12:return ts(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Cc(c,c.type,g.value),ts(o,c,g.children,h),c.child;case 9:return _=c.type._context,g=c.pendingProps.children,Oc(c),_=ga(_),g=g(_),c.flags|=1,ts(o,c,g,h),c.child;case 14:return z4(o,c,c.type,c.pendingProps,h);case 15:return q4(o,c,c.type,c.pendingProps,h);case 19:return J4(o,c,h);case 31:return oG(o,c,h);case 22:return H4(o,c,h,c.pendingProps);case 24:return Oc(c),g=ga(vi),o===null?(_=re(),_===null&&(_=kr,T=Ld(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=h),_=T),c.memoizedState={parent:g,cache:_},pt(c),Cc(c,vi,_)):((o.lanes&h)!==0&&(qr(o,c),wi(c,null,null,h),Tr()),_=o.memoizedState,T=c.memoizedState,_.parent!==g?(_={parent:g,cache:g},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),Cc(c,vi,g)):(g=T.cache,Cc(c,vi,g),g!==_.cache&&Pu(c,[vi],h,!0))),ts(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ju(o){o.flags|=4}function Aw(o,c,h,g,_){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(_&335544128)===_)if(o.stateNode.complete)o.flags|=8192;else if(TC())o.flags|=8192;else throw $e=Ee,De}else o.flags&=-16777217}function eC(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!mP(c))if(TC())o.flags|=8192;else throw $e=Ee,De}function x1(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?oa():536870912,o.lanes|=c,Wp|=c)}function lv(o,c){if(!Pn)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Gr(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var _=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function cG(o,c,h){var g=c.pendingProps;switch(Op(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(c),null;case 1:return Gr(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ho(vi),he(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ma(c)?ju(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xg())),Gr(c),null;case 26:var _=c.type,T=c.memoizedState;return o===null?(ju(c),T!==null?(Gr(c),eC(c,T)):(Gr(c),Aw(c,_,null,g,h))):T?T!==o.memoizedState?(ju(c),Gr(c),eC(c,T)):(Gr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&ju(c),Gr(c),Aw(c,_,o,g,h)),null;case 27:if(Ve(c),h=pe.current,_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&ju(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Gr(c),null}o=Z.current,ma(c)?Kg(c):(o=oP(_,g,h),c.stateNode=o,ju(c))}return Gr(c),null;case 5:if(Ve(c),_=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&ju(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Gr(c),null}if(T=Z.current,ma(c))Kg(c);else{var z=j1(pe.current);switch(T){case 1:T=z.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:T=z.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":T=z.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":T=z.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":T=z.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof g.is=="string"?z.createElement("select",{is:g.is}):z.createElement("select"),g.multiple?T.multiple=!0:g.size&&(T.size=g.size);break;default:T=typeof g.is=="string"?z.createElement(_,{is:g.is}):z.createElement(_)}}T[Vn]=c,T[ir]=g;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)T.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=T;e:switch(ns(T,_,g),_){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&ju(c)}}return Gr(c),Aw(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&ju(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=pe.current,ma(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,_=pa,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}o[Vn]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||XC(o.nodeValue,h)),o||Nc(c,!0)}else o=j1(o).createTextNode(g),o[Vn]=c,c.stateNode=o}return Gr(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(g=ma(c),h!==null){if(o===null){if(!g)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Vn]=c}else Cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gr(c),o=!1}else h=Xg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(mr(c),c):(mr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Gr(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_=ma(c),g!==null&&g.dehydrated!==null){if(o===null){if(!_)throw Error(r(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Vn]=c}else Cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gr(c),_=!1}else _=Xg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(mr(c),c):(mr(c),null)}return mr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,o=o!==null&&o.memoizedState!==null,h&&(g=c.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool),T=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==_&&(g.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),x1(c,c.updateQueue),Gr(c),null);case 4:return he(),o===null&&Gw(c.stateNode.containerInfo),Gr(c),null;case 10:return ho(c.type),Gr(c),null;case 19:if(M(Bn),g=c.memoizedState,g===null)return Gr(c),null;if(_=(c.flags&128)!==0,T=g.rendering,T===null)if(_)lv(g,!1);else{if(Ni!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=La(o),T!==null){for(c.flags|=128,lv(g,!1),o=T.updateQueue,c.updateQueue=o,x1(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)rh(h,o),h=h.sibling;return X(Bn,Bn.current&1|2),Pn&&qs(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&cn()>S1&&(c.flags|=128,_=!0,lv(g,!1),c.lanes=4194304)}else{if(!_)if(o=La(T),o!==null){if(c.flags|=128,_=!0,o=o.updateQueue,c.updateQueue=o,x1(c,o),lv(g,!0),g.tail===null&&g.tailMode==="hidden"&&!T.alternate&&!Pn)return Gr(c),null}else 2*cn()-g.renderingStartTime>S1&&h!==536870912&&(c.flags|=128,_=!0,lv(g,!1),c.lanes=4194304);g.isBackwards?(T.sibling=c.child,c.child=T):(o=g.last,o!==null?o.sibling=T:c.child=T,g.last=T)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=cn(),o.sibling=null,h=Bn.current,X(Bn,_?h&1|2:h&1),Pn&&qs(c,g.treeForkCount),o):(Gr(c),null);case 22:case 23:return mr(c),Bi(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Gr(c),c.subtreeFlags&6&&(c.flags|=8192)):Gr(c),h=c.updateQueue,h!==null&&x1(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&M(J),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ho(vi),Gr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function uG(o,c){switch(Op(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ho(vi),he(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ve(c),null;case 31:if(c.memoizedState!==null){if(mr(c),c.alternate===null)throw Error(r(340));Cu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(mr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Cu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return M(Bn),null;case 4:return he(),null;case 10:return ho(c.type),null;case 22:case 23:return mr(c),Bi(),o!==null&&M(J),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ho(vi),null;case 25:return null;default:return null}}function tC(o,c){switch(Op(c),c.tag){case 3:ho(vi),he();break;case 26:case 27:case 5:Ve(c);break;case 4:he();break;case 31:c.memoizedState!==null&&mr(c);break;case 13:mr(c);break;case 19:M(Bn);break;case 10:ho(c.type);break;case 22:case 23:mr(c),Bi(),o!==null&&M(J);break;case 24:ho(vi)}}function cv(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&o)===o){g=void 0;var T=h.create,z=h.inst;g=T(),z.destroy=g}h=h.next}while(h!==_)}}catch(te){vr(c,c.return,te)}}function Vd(o,c,h){try{var g=c.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var T=_.next;g=T;do{if((g.tag&o)===o){var z=g.inst,te=z.destroy;if(te!==void 0){z.destroy=void 0,_=c;var ve=h,je=te;try{je()}catch(We){vr(_,ve,We)}}}g=g.next}while(g!==T)}}catch(We){vr(c,c.return,We)}}function nC(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{Ei(c,h)}catch(g){vr(o,o.return,g)}}}function rC(o,c,h){h.props=uh(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){vr(o,c,g)}}function uv(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(_){vr(o,c,_)}}function Lc(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(_){vr(o,c,_)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){vr(o,c,_)}else h.current=null}function iC(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(_){vr(o,o.return,_)}}function Sw(o,c,h){try{var g=o.stateNode;RG(g,o.type,h,c),g[ir]=c}catch(_){vr(o,o.return,_)}}function aC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Wd(o.type)||o.tag===4}function Tw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Wd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Nw(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ls));else if(g!==4&&(g===27&&Wd(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(Nw(o,c,h),o=o.sibling;o!==null;)Nw(o,c,h),o=o.sibling}function _1(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&Wd(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(_1(o,c,h),o=o.sibling;o!==null;)_1(o,c,h),o=o.sibling}function sC(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);ns(c,g,h),c[Vn]=o,c[ir]=h}catch(T){vr(o,o.return,T)}}var Lu=!1,ea=!1,Iw=!1,oC=typeof WeakSet=="function"?WeakSet:Set,Ma=null;function dG(o,c){if(o=o.containerInfo,Kw=z1,o=Gl(o),pl(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var z=0,te=-1,ve=-1,je=0,We=0,Je=o,Me=null;t:for(;;){for(var ze;Je!==h||_!==0&&Je.nodeType!==3||(te=z+_),Je!==T||g!==0&&Je.nodeType!==3||(ve=z+g),Je.nodeType===3&&(z+=Je.nodeValue.length),(ze=Je.firstChild)!==null;)Me=Je,Je=ze;for(;;){if(Je===o)break t;if(Me===h&&++je===_&&(te=z),Me===T&&++We===g&&(ve=z),(ze=Je.nextSibling)!==null)break;Je=Me,Me=Je.parentNode}Je=ze}h=te===-1||ve===-1?null:{start:te,end:ve}}else h=null}h=h||{start:0,end:0}}else h=null;for(Xw={focusedElem:o,selectionRange:h},z1=!1,Ma=c;Ma!==null;)if(c=Ma,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ma=o;else for(;Ma!==null;){switch(c=Ma,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)_=o[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,h=c,_=T.memoizedProps,T=T.memoizedState,g=h.stateNode;try{var Ot=uh(h.type,_);o=g.getSnapshotBeforeUpdate(Ot,T),g.__reactInternalSnapshotBeforeUpdate=o}catch(ln){vr(h,h.return,ln)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)Zw(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Zw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Ma=o;break}Ma=c.return}}function lC(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Fu(o,h),g&4&&cv(5,h);break;case 1:if(Fu(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(z){vr(h,h.return,z)}else{var _=uh(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(_,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){vr(h,h.return,z)}}g&64&&nC(h),g&512&&uv(h,h.return);break;case 3:if(Fu(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Ei(o,c)}catch(z){vr(h,h.return,z)}}break;case 27:c===null&&g&4&&sC(h);case 26:case 5:Fu(o,h),c===null&&g&4&&iC(h),g&512&&uv(h,h.return);break;case 12:Fu(o,h);break;case 31:Fu(o,h),g&4&&dC(o,h);break;case 13:Fu(o,h),g&4&&fC(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=xG.bind(null,h),BG(o,h))));break;case 22:if(g=h.memoizedState!==null||Lu,!g){c=c!==null&&c.memoizedState!==null||ea,_=Lu;var T=ea;Lu=g,(ea=c)&&!T?Uu(o,h,(h.subtreeFlags&8772)!==0):Fu(o,h),Lu=_,ea=T}break;case 30:break;default:Fu(o,h)}}function cC(o){var c=o.alternate;c!==null&&(o.alternate=null,cC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ms(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ii=null,mo=!1;function Mu(o,c,h){for(h=h.child;h!==null;)uC(o,c,h),h=h.sibling}function uC(o,c,h){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Vt,h)}catch{}switch(h.tag){case 26:ea||Lc(h,c),Mu(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ea||Lc(h,c);var g=ii,_=mo;Wd(h.type)&&(ii=h.stateNode,mo=!1),Mu(o,c,h),bv(h.stateNode),ii=g,mo=_;break;case 5:ea||Lc(h,c);case 6:if(g=ii,_=mo,ii=null,Mu(o,c,h),ii=g,mo=_,ii!==null)if(mo)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(h.stateNode)}catch(T){vr(h,c,T)}else try{ii.removeChild(h.stateNode)}catch(T){vr(h,c,T)}break;case 18:ii!==null&&(mo?(o=ii,nP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),nm(o)):nP(ii,h.stateNode));break;case 4:g=ii,_=mo,ii=h.stateNode.containerInfo,mo=!0,Mu(o,c,h),ii=g,mo=_;break;case 0:case 11:case 14:case 15:Vd(2,h,c),ea||Vd(4,h,c),Mu(o,c,h);break;case 1:ea||(Lc(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&rC(h,c,g)),Mu(o,c,h);break;case 21:Mu(o,c,h);break;case 22:ea=(g=ea)||h.memoizedState!==null,Mu(o,c,h),ea=g;break;default:Mu(o,c,h)}}function dC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{nm(o)}catch(h){vr(c,c.return,h)}}}function fC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{nm(o)}catch(h){vr(c,c.return,h)}}function fG(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new oC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new oC),c;default:throw Error(r(435,o.tag))}}function w1(o,c){var h=fG(o);c.forEach(function(g){if(!h.has(g)){h.add(g);var _=_G.bind(null,o,g);g.then(_,_)}})}function go(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g],T=o,z=c,te=z;e:for(;te!==null;){switch(te.tag){case 27:if(Wd(te.type)){ii=te.stateNode,mo=!1;break e}break;case 5:ii=te.stateNode,mo=!1;break e;case 3:case 4:ii=te.stateNode.containerInfo,mo=!0;break e}te=te.return}if(ii===null)throw Error(r(160));uC(T,z,_),ii=null,mo=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)hC(c,o),c=c.sibling}var ec=null;function hC(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:go(c,o),vo(o),g&4&&(Vd(3,o,o.return),cv(3,o),Vd(5,o,o.return));break;case 1:go(c,o),vo(o),g&512&&(ea||h===null||Lc(h,h.return)),g&64&&Lu&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var _=ec;if(go(c,o),vo(o),g&512&&(ea||h===null||Lc(h,h.return)),g&4){var T=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":T=_.getElementsByTagName("title")[0],(!T||T[Li]||T[Vn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(g),_.head.insertBefore(T,_.querySelector("head > title"))),ns(T,g,h),T[Vn]=o,ur(T),g=T;break e;case"link":var z=hP("link","href",_).get(g+(h.href||""));if(z){for(var te=0;te<z.length;te++)if(T=z[te],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(te,1);break t}}T=_.createElement(g),ns(T,g,h),_.head.appendChild(T);break;case"meta":if(z=hP("meta","content",_).get(g+(h.content||""))){for(te=0;te<z.length;te++)if(T=z[te],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(te,1);break t}}T=_.createElement(g),ns(T,g,h),_.head.appendChild(T);break;default:throw Error(r(468,g))}T[Vn]=o,ur(T),g=T}o.stateNode=g}else pP(_,o.type,o.stateNode);else o.stateNode=fP(_,g,o.memoizedProps);else T!==g?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,g===null?pP(_,o.type,o.stateNode):fP(_,g,o.memoizedProps)):g===null&&o.stateNode!==null&&Sw(o,o.memoizedProps,h.memoizedProps)}break;case 27:go(c,o),vo(o),g&512&&(ea||h===null||Lc(h,h.return)),h!==null&&g&4&&Sw(o,o.memoizedProps,h.memoizedProps);break;case 5:if(go(c,o),vo(o),g&512&&(ea||h===null||Lc(h,h.return)),o.flags&32){_=o.stateNode;try{Mi(_,"")}catch(Ot){vr(o,o.return,Ot)}}g&4&&o.stateNode!=null&&(_=o.memoizedProps,Sw(o,_,h!==null?h.memoizedProps:_)),g&1024&&(Iw=!0);break;case 6:if(go(c,o),vo(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(Ot){vr(o,o.return,Ot)}}break;case 3:if(F1=null,_=ec,ec=L1(c.containerInfo),go(c,o),ec=_,vo(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{nm(c.containerInfo)}catch(Ot){vr(o,o.return,Ot)}Iw&&(Iw=!1,pC(o));break;case 4:g=ec,ec=L1(o.stateNode.containerInfo),go(c,o),vo(o),ec=g;break;case 12:go(c,o),vo(o);break;case 31:go(c,o),vo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,w1(o,g)));break;case 13:go(c,o),vo(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(A1=cn()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,w1(o,g)));break;case 22:_=o.memoizedState!==null;var ve=h!==null&&h.memoizedState!==null,je=Lu,We=ea;if(Lu=je||_,ea=We||ve,go(c,o),ea=We,Lu=je,vo(o),g&8192)e:for(c=o.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||ve||Lu||ea||dh(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){ve=h=c;try{if(T=ve.stateNode,_)z=T.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{te=ve.stateNode;var Je=ve.memoizedProps.style,Me=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;te.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(Ot){vr(ve,ve.return,Ot)}}}else if(c.tag===6){if(h===null){ve=c;try{ve.stateNode.nodeValue=_?"":ve.memoizedProps}catch(Ot){vr(ve,ve.return,Ot)}}}else if(c.tag===18){if(h===null){ve=c;try{var ze=ve.stateNode;_?rP(ze,!0):rP(ve.stateNode,!1)}catch(Ot){vr(ve,ve.return,Ot)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,w1(o,h))));break;case 19:go(c,o),vo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,w1(o,g)));break;case 30:break;case 21:break;default:go(c,o),vo(o)}}function vo(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(aC(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,T=Tw(o);_1(o,T,_);break;case 5:var z=h.stateNode;h.flags&32&&(Mi(z,""),h.flags&=-33);var te=Tw(o);_1(o,te,z);break;case 3:case 4:var ve=h.stateNode.containerInfo,je=Tw(o);Nw(o,je,ve);break;default:throw Error(r(161))}}catch(We){vr(o,o.return,We)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function pC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;pC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Fu(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)lC(o,c.alternate,c),c=c.sibling}function dh(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Vd(4,c,c.return),dh(c);break;case 1:Lc(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&rC(c,c.return,h),dh(c);break;case 27:bv(c.stateNode);case 26:case 5:Lc(c,c.return),dh(c);break;case 22:c.memoizedState===null&&dh(c);break;case 30:dh(c);break;default:dh(c)}o=o.sibling}}function Uu(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,_=o,T=c,z=T.flags;switch(T.tag){case 0:case 11:case 15:Uu(_,T,h),cv(4,T);break;case 1:if(Uu(_,T,h),g=T,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(je){vr(g,g.return,je)}if(g=T,_=g.updateQueue,_!==null){var te=g.stateNode;try{var ve=_.shared.hiddenCallbacks;if(ve!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ve.length;_++)ja(ve[_],te)}catch(je){vr(g,g.return,je)}}h&&z&64&&nC(T),uv(T,T.return);break;case 27:sC(T);case 26:case 5:Uu(_,T,h),h&&g===null&&z&4&&iC(T),uv(T,T.return);break;case 12:Uu(_,T,h);break;case 31:Uu(_,T,h),h&&z&4&&dC(_,T);break;case 13:Uu(_,T,h),h&&z&4&&fC(_,T);break;case 22:T.memoizedState===null&&Uu(_,T,h),uv(T,T.return);break;case 30:break;default:Uu(_,T,h)}c=c.sibling}}function Cw(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&sh(h))}function Pw(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&sh(o))}function tc(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mC(o,c,h,g),c=c.sibling}function mC(o,c,h,g){var _=c.flags;switch(c.tag){case 0:case 11:case 15:tc(o,c,h,g),_&2048&&cv(9,c);break;case 1:tc(o,c,h,g);break;case 3:tc(o,c,h,g),_&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&sh(o)));break;case 12:if(_&2048){tc(o,c,h,g),o=c.stateNode;try{var T=c.memoizedProps,z=T.id,te=T.onPostCommit;typeof te=="function"&&te(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ve){vr(c,c.return,ve)}}else tc(o,c,h,g);break;case 31:tc(o,c,h,g);break;case 13:tc(o,c,h,g);break;case 23:break;case 22:T=c.stateNode,z=c.alternate,c.memoizedState!==null?T._visibility&2?tc(o,c,h,g):dv(o,c):T._visibility&2?tc(o,c,h,g):(T._visibility|=2,$p(o,c,h,g,(c.subtreeFlags&10256)!==0||!1)),_&2048&&Cw(z,c);break;case 24:tc(o,c,h,g),_&2048&&Pw(c.alternate,c);break;default:tc(o,c,h,g)}}function $p(o,c,h,g,_){for(_=_&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,z=c,te=h,ve=g,je=z.flags;switch(z.tag){case 0:case 11:case 15:$p(T,z,te,ve,_),cv(8,z);break;case 23:break;case 22:var We=z.stateNode;z.memoizedState!==null?We._visibility&2?$p(T,z,te,ve,_):dv(T,z):(We._visibility|=2,$p(T,z,te,ve,_)),_&&je&2048&&Cw(z.alternate,z);break;case 24:$p(T,z,te,ve,_),_&&je&2048&&Pw(z.alternate,z);break;default:$p(T,z,te,ve,_)}c=c.sibling}}function dv(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,_=g.flags;switch(g.tag){case 22:dv(h,g),_&2048&&Cw(g.alternate,g);break;case 24:dv(h,g),_&2048&&Pw(g.alternate,g);break;default:dv(h,g)}c=c.sibling}}var fv=8192;function Gp(o,c,h){if(o.subtreeFlags&fv)for(o=o.child;o!==null;)gC(o,c,h),o=o.sibling}function gC(o,c,h){switch(o.tag){case 26:Gp(o,c,h),o.flags&fv&&o.memoizedState!==null&&JG(h,ec,o.memoizedState,o.memoizedProps);break;case 5:Gp(o,c,h);break;case 3:case 4:var g=ec;ec=L1(o.stateNode.containerInfo),Gp(o,c,h),ec=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=fv,fv=16777216,Gp(o,c,h),fv=g):Gp(o,c,h));break;default:Gp(o,c,h)}}function vC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function hv(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ma=g,bC(g,o)}vC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yC(o),o=o.sibling}function yC(o){switch(o.tag){case 0:case 11:case 15:hv(o),o.flags&2048&&Vd(9,o,o.return);break;case 3:hv(o);break;case 12:hv(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,E1(o)):hv(o);break;default:hv(o)}}function E1(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ma=g,bC(g,o)}vC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Vd(8,c,c.return),E1(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,E1(c));break;default:E1(c)}o=o.sibling}}function bC(o,c){for(;Ma!==null;){var h=Ma;switch(h.tag){case 0:case 11:case 15:Vd(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:sh(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Ma=g;else e:for(h=o;Ma!==null;){g=Ma;var _=g.sibling,T=g.return;if(cC(g),g===h){Ma=null;break e}if(_!==null){_.return=T,Ma=_;break e}Ma=T}}}var hG={getCacheForType:function(o){var c=ga(vi),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return ga(vi).controller.signal}},pG=typeof WeakMap=="function"?WeakMap:Map,or=0,kr=null,On=null,Ln=0,gr=0,Fo=null,zd=!1,Yp=!1,Ow=!1,Bu=0,Ni=0,qd=0,fh=0,Rw=0,Uo=0,Wp=0,pv=null,yo=null,Dw=!1,A1=0,xC=0,S1=1/0,T1=null,Hd=null,ya=0,$d=null,Kp=null,Vu=0,kw=0,jw=null,_C=null,mv=0,Lw=null;function Bo(){return(or&2)!==0&&Ln!==0?Ln&-Ln:se.T!==null?zw():Xr()}function wC(){if(Uo===0)if((Ln&536870912)===0||Pn){var o=Tn;Tn<<=1,(Tn&3932160)===0&&(Tn=262144),Uo=o}else Uo=536870912;return o=$r.current,o!==null&&(o.flags|=32),Uo}function bo(o,c,h){(o===kr&&(gr===2||gr===9)||o.cancelPendingCommit!==null)&&(Xp(o,0),Gd(o,Ln,Uo,!1)),qt(o,h),((or&2)===0||o!==kr)&&(o===kr&&((or&2)===0&&(fh|=h),Ni===4&&Gd(o,Ln,Uo,!1)),Mc(o))}function EC(o,c,h){if((or&6)!==0)throw Error(r(327));var g=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Gn(o,c),_=g?vG(o,c):Fw(o,c,!0),T=g;do{if(_===0){Yp&&!g&&Gd(o,c,0,!1);break}else{if(h=o.current.alternate,T&&!mG(h)){_=Fw(o,c,!1),T=!1;continue}if(_===2){if(T=c,o.errorRecoveryDisabledLanes&T)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var te=o;_=pv;var ve=te.current.memoizedState.isDehydrated;if(ve&&(Xp(te,z).flags|=256),z=Fw(te,z,!1),z!==2){if(Ow&&!ve){te.errorRecoveryDisabledLanes|=T,fh|=T,_=4;break e}T=yo,yo=_,T!==null&&(yo===null?yo=T:yo.push.apply(yo,T))}_=z}if(T=!1,_!==2)continue}}if(_===1){Xp(o,0),Gd(o,c,0,!0);break}e:{switch(g=o,T=_,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Gd(g,c,Uo,!zd);break e;case 2:yo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(_=A1+300-cn(),10<_)){if(Gd(g,c,Uo,!zd),Kt(g,0,!0)!==0)break e;Vu=c,g.timeoutHandle=eP(AC.bind(null,g,h,yo,T1,Dw,c,Uo,fh,Wp,zd,T,"Throttled",-0,0),_);break e}AC(g,h,yo,T1,Dw,c,Uo,fh,Wp,zd,T,null,-0,0)}}break}while(!0);Mc(o)}function AC(o,c,h,g,_,T,z,te,ve,je,We,Je,Me,ze){if(o.timeoutHandle=-1,Je=c.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},gC(c,T,Je);var Ot=(T&62914560)===T?A1-cn():(T&4194048)===T?xC-cn():0;if(Ot=ZG(Je,Ot),Ot!==null){Vu=T,o.cancelPendingCommit=Ot(RC.bind(null,o,c,T,h,g,_,z,te,ve,We,Je,null,Me,ze)),Gd(o,T,z,!je);return}}RC(o,c,T,h,g,_,z,te,ve)}function mG(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var _=h[g],T=_.getSnapshot;_=_.value;try{if(!fa(T(),_))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Gd(o,c,h,g){c&=~Rw,c&=~fh,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var _=c;0<_;){var T=31-nn(_),z=1<<T;g[T]=-1,_&=~z}h!==0&&Ri(o,h,c)}function N1(){return(or&6)===0?(gv(0),!1):!0}function Mw(){if(On!==null){if(gr===0)var o=On.return;else o=On,gl=Ic=null,Fp(o),Ze=null,kt=0,o=On;for(;o!==null;)tC(o.alternate,o),o=o.return;On=null}}function Xp(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,jG(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Vu=0,Mw(),kr=o,On=h=so(o.current,null),Ln=c,gr=0,Fo=null,zd=!1,Yp=Gn(o,c),Ow=!1,Wp=Uo=Rw=fh=qd=Ni=0,yo=pv=null,Dw=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var _=31-nn(g),T=1<<_;c|=o[_],g&=~T}return Bu=c,eh(),h}function SC(o,c){Qt=null,se.H=sv,c===_e||c===le?(c=Ke(),gr=3):c===De?(c=Ke(),gr=4):gr=c===mw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Fo=c,On===null&&(Ni=1,g1(o,oo(c,o.current)))}function TC(){var o=$r.current;return o===null?!0:(Ln&4194048)===Ln?qn===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?o===qn:!1}function NC(){var o=se.H;return se.H=sv,o===null?sv:o}function IC(){var o=se.A;return se.A=hG,o}function I1(){Ni=4,zd||(Ln&4194048)!==Ln&&$r.current!==null||(Yp=!0),(qd&134217727)===0&&(fh&134217727)===0||kr===null||Gd(kr,Ln,Uo,!1)}function Fw(o,c,h){var g=or;or|=2;var _=NC(),T=IC();(kr!==o||Ln!==c)&&(T1=null,Xp(o,c)),c=!1;var z=Ni;e:do try{if(gr!==0&&On!==null){var te=On,ve=Fo;switch(gr){case 8:Mw(),z=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(c=!0);var je=gr;if(gr=0,Fo=null,Qp(o,te,ve,je),h&&Yp){z=0;break e}break;default:je=gr,gr=0,Fo=null,Qp(o,te,ve,je)}}gG(),z=Ni;break}catch(We){SC(o,We)}while(!0);return c&&o.shellSuspendCounter++,gl=Ic=null,or=g,se.H=_,se.A=T,On===null&&(kr=null,Ln=0,eh()),z}function gG(){for(;On!==null;)CC(On)}function vG(o,c){var h=or;or|=2;var g=NC(),_=IC();kr!==o||Ln!==c?(T1=null,S1=cn()+500,Xp(o,c)):Yp=Gn(o,c);e:do try{if(gr!==0&&On!==null){c=On;var T=Fo;t:switch(gr){case 1:gr=0,Fo=null,Qp(o,c,T,1);break;case 2:case 9:if(Ie(T)){gr=0,Fo=null,PC(c);break}c=function(){gr!==2&&gr!==9||kr!==o||(gr=7),Mc(o)},T.then(c,c);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:Ie(T)?(gr=0,Fo=null,PC(c)):(gr=0,Fo=null,Qp(o,c,T,7));break;case 5:var z=null;switch(On.tag){case 26:z=On.memoizedState;case 5:case 27:var te=On;if(z?mP(z):te.stateNode.complete){gr=0,Fo=null;var ve=te.sibling;if(ve!==null)On=ve;else{var je=te.return;je!==null?(On=je,C1(je)):On=null}break t}}gr=0,Fo=null,Qp(o,c,T,5);break;case 6:gr=0,Fo=null,Qp(o,c,T,6);break;case 8:Mw(),Ni=6;break e;default:throw Error(r(462))}}yG();break}catch(We){SC(o,We)}while(!0);return gl=Ic=null,se.H=g,se.A=_,or=h,On!==null?0:(kr=null,Ln=0,eh(),Ni)}function yG(){for(;On!==null&&!Bt();)CC(On)}function CC(o){var c=Z4(o.alternate,o,Bu);o.memoizedProps=o.pendingProps,c===null?C1(o):On=c}function PC(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=Y4(h,c,c.pendingProps,c.type,void 0,Ln);break;case 11:c=Y4(h,c,c.pendingProps,c.type.render,c.ref,Ln);break;case 5:Fp(c);default:tC(h,c),c=On=rh(c,Bu),c=Z4(h,c,Bu)}o.memoizedProps=o.pendingProps,c===null?C1(o):On=c}function Qp(o,c,h,g){gl=Ic=null,Fp(c),Ze=null,kt=0;var _=c.return;try{if(sG(o,_,c,h,Ln)){Ni=1,g1(o,oo(h,o.current)),On=null;return}}catch(T){if(_!==null)throw On=_,T;Ni=1,g1(o,oo(h,o.current)),On=null;return}c.flags&32768?(Pn||g===1?o=!0:Yp||(Ln&536870912)!==0?o=!1:(zd=o=!0,(g===2||g===9||g===3||g===6)&&(g=$r.current,g!==null&&g.tag===13&&(g.flags|=16384))),OC(c,o)):C1(c)}function C1(o){var c=o;do{if((c.flags&32768)!==0){OC(c,zd);return}o=c.return;var h=cG(c.alternate,c,Bu);if(h!==null){On=h;return}if(c=c.sibling,c!==null){On=c;return}On=c=o}while(c!==null);Ni===0&&(Ni=5)}function OC(o,c){do{var h=uG(o.alternate,o);if(h!==null){h.flags&=32767,On=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){On=o;return}On=o=h}while(o!==null);Ni=6,On=null}function RC(o,c,h,g,_,T,z,te,ve){o.cancelPendingCommit=null;do P1();while(ya!==0);if((or&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=Ap,js(o,h,T,z,te,ve),o===kr&&(On=kr=null,Ln=0),Kp=c,$d=o,Vu=h,kw=T,jw=_,_C=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,wG(st,function(){return MC(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=se.T,se.T=null,_=fe.p,fe.p=2,z=or,or|=4;try{dG(o,c,h)}finally{or=z,fe.p=_,se.T=g}}ya=1,DC(),kC(),jC()}}function DC(){if(ya===1){ya=0;var o=$d,c=Kp,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var g=fe.p;fe.p=2;var _=or;or|=4;try{hC(c,o);var T=Xw,z=Gl(o.containerInfo),te=T.focusedElem,ve=T.selectionRange;if(z!==te&&te&&te.ownerDocument&&$l(te.ownerDocument.documentElement,te)){if(ve!==null&&pl(te)){var je=ve.start,We=ve.end;if(We===void 0&&(We=je),"selectionStart"in te)te.selectionStart=je,te.selectionEnd=Math.min(We,te.value.length);else{var Je=te.ownerDocument||document,Me=Je&&Je.defaultView||window;if(Me.getSelection){var ze=Me.getSelection(),Ot=te.textContent.length,ln=Math.min(ve.start,Ot),Cr=ve.end===void 0?ln:Math.min(ve.end,Ot);!ze.extend&&ln>Cr&&(z=Cr,Cr=ln,ln=z);var Te=Pd(te,ln),we=Pd(te,Cr);if(Te&&we&&(ze.rangeCount!==1||ze.anchorNode!==Te.node||ze.anchorOffset!==Te.offset||ze.focusNode!==we.node||ze.focusOffset!==we.offset)){var ke=Je.createRange();ke.setStart(Te.node,Te.offset),ze.removeAllRanges(),ln>Cr?(ze.addRange(ke),ze.extend(we.node,we.offset)):(ke.setEnd(we.node,we.offset),ze.addRange(ke))}}}}for(Je=[],ze=te;ze=ze.parentNode;)ze.nodeType===1&&Je.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Je.length;te++){var Qe=Je[te];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}z1=!!Kw,Xw=Kw=null}finally{or=_,fe.p=g,se.T=h}}o.current=c,ya=2}}function kC(){if(ya===2){ya=0;var o=$d,c=Kp,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var g=fe.p;fe.p=2;var _=or;or|=4;try{lC(o,c.alternate,c)}finally{or=_,fe.p=g,se.T=h}}ya=3}}function jC(){if(ya===4||ya===3){ya=0,Rt();var o=$d,c=Kp,h=Vu,g=_C;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ya=5:(ya=0,Kp=$d=null,LC(o,o.pendingLanes));var _=o.pendingLanes;if(_===0&&(Hd=null),cr(h),c=c.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Vt,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=se.T,_=fe.p,fe.p=2,se.T=null;try{for(var T=o.onRecoverableError,z=0;z<g.length;z++){var te=g[z];T(te.value,{componentStack:te.stack})}}finally{se.T=c,fe.p=_}}(Vu&3)!==0&&P1(),Mc(o),_=o.pendingLanes,(h&261930)!==0&&(_&42)!==0?o===Lw?mv++:(mv=0,Lw=o):mv=0,gv(0)}}function LC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,sh(c)))}function P1(){return DC(),kC(),jC(),MC()}function MC(){if(ya!==5)return!1;var o=$d,c=kw;kw=0;var h=cr(Vu),g=se.T,_=fe.p;try{fe.p=32>h?32:h,se.T=null,h=jw,jw=null;var T=$d,z=Vu;if(ya=0,Kp=$d=null,Vu=0,(or&6)!==0)throw Error(r(331));var te=or;if(or|=4,yC(T.current),mC(T,T.current,z,h),or=te,gv(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Vt,T)}catch{}return!0}finally{fe.p=_,se.T=g,LC(o,c)}}function FC(o,c,h){c=oo(h,c),c=pw(o.stateNode,c,2),o=xn(o,c,2),o!==null&&(qt(o,2),Mc(o))}function vr(o,c,h){if(o.tag===3)FC(o,o,h);else for(;c!==null;){if(c.tag===3){FC(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Hd===null||!Hd.has(g))){o=oo(h,o),h=U4(2),g=xn(c,h,2),g!==null&&(B4(h,g,c,o),qt(g,2),Mc(g));break}}c=c.return}}function Uw(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new pG;var _=new Set;g.set(c,_)}else _=g.get(c),_===void 0&&(_=new Set,g.set(c,_));_.has(h)||(Ow=!0,_.add(h),o=bG.bind(null,o,c,h),c.then(o,o))}function bG(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,kr===o&&(Ln&h)===h&&(Ni===4||Ni===3&&(Ln&62914560)===Ln&&300>cn()-A1?(or&2)===0&&Xp(o,0):Rw|=h,Wp===Ln&&(Wp=0)),Mc(o)}function UC(o,c){c===0&&(c=oa()),o=Wl(o,c),o!==null&&(qt(o,c),Mc(o))}function xG(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),UC(o,h)}function _G(o,c){var h=0;switch(o.tag){case 31:case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),UC(o,h)}function wG(o,c){return ht(o,c)}var O1=null,Jp=null,Bw=!1,R1=!1,Vw=!1,Yd=0;function Mc(o){o!==Jp&&o.next===null&&(Jp===null?O1=Jp=o:Jp=Jp.next=o),R1=!0,Bw||(Bw=!0,AG())}function gv(o,c){if(!Vw&&R1){Vw=!0;do for(var h=!1,g=O1;g!==null;){if(o!==0){var _=g.pendingLanes;if(_===0)var T=0;else{var z=g.suspendedLanes,te=g.pingedLanes;T=(1<<31-nn(42|o)+1)-1,T&=_&~(z&~te),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,qC(g,T))}else T=Ln,T=Kt(g,g===kr?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||Gn(g,T)||(h=!0,qC(g,T));g=g.next}while(h);Vw=!1}}function EG(){BC()}function BC(){R1=Bw=!1;var o=0;Yd!==0&&kG()&&(o=Yd);for(var c=cn(),h=null,g=O1;g!==null;){var _=g.next,T=VC(g,c);T===0?(g.next=null,h===null?O1=_:h.next=_,_===null&&(Jp=h)):(h=g,(o!==0||(T&3)!==0)&&(R1=!0)),g=_}ya!==0&&ya!==5||gv(o),Yd!==0&&(Yd=0)}function VC(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var z=31-nn(T),te=1<<z,ve=_[z];ve===-1?((te&h)===0||(te&g)!==0)&&(_[z]=Mr(te,c)):ve<=c&&(o.expiredLanes|=te),T&=~te}if(c=kr,h=Ln,h=Kt(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(gr===2||gr===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&vt(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Gn(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&vt(g),cr(h)){case 2:case 8:h=gn;break;case 32:h=st;break;case 268435456:h=Et;break;default:h=st}return g=zC.bind(null,o),h=ht(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&vt(g),o.callbackPriority=2,o.callbackNode=null,2}function zC(o,c){if(ya!==0&&ya!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(P1()&&o.callbackNode!==h)return null;var g=Ln;return g=Kt(o,o===kr?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(EC(o,g,c),VC(o,cn()),o.callbackNode!=null&&o.callbackNode===h?zC.bind(null,o):null)}function qC(o,c){if(P1())return null;EC(o,c,!0)}function AG(){LG(function(){(or&6)!==0?ht(Jt,EG):BC()})}function zw(){if(Yd===0){var o=b;o===0&&(o=zt,zt<<=1,(zt&261888)===0&&(zt=256)),Yd=o}return Yd}function HC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Pa(""+o)}function $C(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function SG(o,c,h,g,_){if(c==="submit"&&h&&h.stateNode===_){var T=HC((_[ir]||null).action),z=g.submitter;z&&(c=(c=z[ir]||null)?HC(c.formAction):z.getAttribute("formAction"),c!==null&&(T=c,z=null));var te=new Xi("action","action",null,g,_);o.push({event:te,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Yd!==0){var ve=z?$C(_,z):new FormData(_);lw(h,{pending:!0,data:ve,method:_.method,action:T},null,ve)}}else typeof T=="function"&&(te.preventDefault(),ve=z?$C(_,z):new FormData(_),lw(h,{pending:!0,data:ve,method:_.method,action:T},T,ve))},currentTarget:_}]})}}for(var qw=0;qw<Tu.length;qw++){var Hw=Tu[qw],TG=Hw.toLowerCase(),NG=Hw[0].toUpperCase()+Hw.slice(1);ao(TG,"on"+NG)}ao(Su,"onAnimationEnd"),ao(Jf,"onAnimationIteration"),ao($g,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(r1,"onTransitionRun"),ao(i1,"onTransitionStart"),ao(a1,"onTransitionCancel"),ao(Gg,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vv));function GC(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],_=g.event;g=g.listeners;e:{var T=void 0;if(c)for(var z=g.length-1;0<=z;z--){var te=g[z],ve=te.instance,je=te.currentTarget;if(te=te.listener,ve!==T&&_.isPropagationStopped())break e;T=te,_.currentTarget=je;try{T(_)}catch(We){Zf(We)}_.currentTarget=null,T=ve}else for(z=0;z<g.length;z++){if(te=g[z],ve=te.instance,je=te.currentTarget,te=te.listener,ve!==T&&_.isPropagationStopped())break e;T=te,_.currentTarget=je;try{T(_)}catch(We){Zf(We)}_.currentTarget=null,T=ve}}}}function Rn(o,c){var h=c[Wi];h===void 0&&(h=c[Wi]=new Set);var g=o+"__bubble";h.has(g)||(YC(c,o,2,!1),h.add(g))}function $w(o,c,h){var g=0;c&&(g|=4),YC(h,o,g,c)}var D1="_reactListening"+Math.random().toString(36).slice(2);function Gw(o){if(!o[D1]){o[D1]=!0,gs.forEach(function(h){h!=="selectionchange"&&(IG.has(h)||$w(h,!1,o),$w(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[D1]||(c[D1]=!0,$w("selectionchange",!1,c))}}function YC(o,c,h,g){switch(wP(c)){case 2:var _=nY;break;case 8:_=rY;break;default:_=o5}h=_.bind(null,c,h,o),_=void 0,!Fl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(c,h,{capture:!0,passive:_}):o.addEventListener(c,h,!0):_!==void 0?o.addEventListener(c,h,{passive:_}):o.addEventListener(c,h,!1)}function Yw(o,c,h,g,_){var T=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var te=g.stateNode.containerInfo;if(te===_)break;if(z===4)for(z=g.return;z!==null;){var ve=z.tag;if((ve===3||ve===4)&&z.stateNode.containerInfo===_)return;z=z.return}for(;te!==null;){if(z=nt(te),z===null)return;if(ve=z.tag,ve===5||ve===6||ve===26||ve===27){g=T=z;continue e}te=te.parentNode}}g=g.return}sl(function(){var je=T,We=Oa(h),Je=[];e:{var Me=Yg.get(o);if(Me!==void 0){var ze=Xi,Ot=o;switch(o){case"keypress":if(Wa(h)===0)break e;case"keydown":case"keyup":ze=In;break;case"focusin":Ot="focus",ze=Fs;break;case"focusout":Ot="blur",ze=Fs;break;case"beforeblur":case"afterblur":ze=Fs;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=R;break;case Su:case Jf:case $g:ze=N;break;case Gg:ze=ie;break;case"scroll":case"scrollend":ze=ol;break;case"wheel":ze=Le;break;case"copy":case"cut":case"paste":ze=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=dr;break;case"toggle":case"beforetoggle":ze=fn}var ln=(c&4)!==0,Cr=!ln&&(o==="scroll"||o==="scrollend"),Te=ln?Me!==null?Me+"Capture":null:Me;ln=[];for(var we=je,ke;we!==null;){var Qe=we;if(ke=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||ke===null||Te===null||(Qe=Fi(we,Te),Qe!=null&&ln.push(yv(we,Qe,ke))),Cr)break;we=we.return}0<ln.length&&(Me=new ze(Me,Ot,null,h,We),Je.push({event:Me,listeners:ln}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",ze=o==="mouseout"||o==="pointerout",Me&&h!==Ro&&(Ot=h.relatedTarget||h.fromElement)&&(nt(Ot)||Ot[Qr]))break e;if((ze||Me)&&(Me=We.window===We?We:(Me=We.ownerDocument)?Me.defaultView||Me.parentWindow:window,ze?(Ot=h.relatedTarget||h.toElement,ze=je,Ot=Ot?nt(Ot):null,Ot!==null&&(Cr=a(Ot),ln=Ot.tag,Ot!==Cr||ln!==5&&ln!==27&&ln!==6)&&(Ot=null)):(ze=null,Ot=je),ze!==Ot)){if(ln=wc,Qe="onMouseLeave",Te="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(ln=dr,Qe="onPointerLeave",Te="onPointerEnter",we="pointer"),Cr=ze==null?Me:hr(ze),ke=Ot==null?Me:hr(Ot),Me=new ln(Qe,we+"leave",ze,h,We),Me.target=Cr,Me.relatedTarget=ke,Qe=null,nt(We)===je&&(ln=new ln(Te,we+"enter",Ot,h,We),ln.target=ke,ln.relatedTarget=Cr,Qe=ln),Cr=Qe,ze&&Ot)t:{for(ln=CG,Te=ze,we=Ot,ke=0,Qe=Te;Qe;Qe=ln(Qe))ke++;Qe=0;for(var tn=we;tn;tn=ln(tn))Qe++;for(;0<ke-Qe;)Te=ln(Te),ke--;for(;0<Qe-ke;)we=ln(we),Qe--;for(;ke--;){if(Te===we||we!==null&&Te===we.alternate){ln=Te;break t}Te=ln(Te),we=ln(we)}ln=null}else ln=null;ze!==null&&WC(Je,Me,ze,ln,!1),Ot!==null&&Cr!==null&&WC(Je,Cr,Ot,ln,!0)}}e:{if(Me=je?hr(je):window,ze=Me.nodeName&&Me.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Me.type==="file")var er=Ac;else if(Xf(Me))if(xs)er=fl;else{er=mi;var Ut=Id}else ze=Me.nodeName,!ze||ze.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?je&&bc(je.elementType)&&(er=Ac):er=Ep;if(er&&(er=er(o,je))){Bs(Je,er,h,We);break e}Ut&&Ut(o,Me,je),o==="focusout"&&je&&Me.type==="number"&&je.memoizedProps.value!=null&&yu(Me,"number",Me.value)}switch(Ut=je?hr(je):window,o){case"focusin":(Xf(Ut)||Ut.contentEditable==="true")&&(Vs=Ut,Yl=je,Ra=null);break;case"focusout":Ra=Yl=Vs=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Wn(Je,h,We);break;case"selectionchange":if(Au)break;case"keydown":case"keyup":Wn(Je,h,We)}var En;if(An)e:{switch(o){case"compositionstart":var Mn="onCompositionStart";break e;case"compositionend":Mn="onCompositionEnd";break e;case"compositionupdate":Mn="onCompositionUpdate";break e}Mn=void 0}else cl?Us(o,h)&&(Mn="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Mn="onCompositionStart");Mn&&(ua&&h.locale!=="ko"&&(cl||Mn!=="onCompositionStart"?Mn==="onCompositionEnd"&&cl&&(En=wu()):(Ya=We,Ul="value"in Ya?Ya.value:Ya.textContent,cl=!0)),Ut=k1(je,Mn),0<Ut.length&&(Mn=new Ae(Mn,o,null,h,We),Je.push({event:Mn,listeners:Ut}),En?Mn.data=En:(En=ll(h),En!==null&&(Mn.data=En)))),(En=Qi?Qa(o,h):Vl(o,h))&&(Mn=k1(je,"onBeforeInput"),0<Mn.length&&(Ut=new Ae("onBeforeInput","beforeinput",null,h,We),Je.push({event:Ut,listeners:Mn}),Ut.data=En)),SG(Je,o,je,h,We)}GC(Je,c)})}function yv(o,c,h){return{instance:o,listener:c,currentTarget:h}}function k1(o,c){for(var h=c+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=Fi(o,h),_!=null&&g.unshift(yv(o,_,T)),_=Fi(o,c),_!=null&&g.push(yv(o,_,T))),o.tag===3)return g;o=o.return}return[]}function CG(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function WC(o,c,h,g,_){for(var T=c._reactName,z=[];h!==null&&h!==g;){var te=h,ve=te.alternate,je=te.stateNode;if(te=te.tag,ve!==null&&ve===g)break;te!==5&&te!==26&&te!==27||je===null||(ve=je,_?(je=Fi(h,T),je!=null&&z.unshift(yv(h,je,ve))):_||(je=Fi(h,T),je!=null&&z.push(yv(h,je,ve)))),h=h.return}z.length!==0&&o.push({event:c,listeners:z})}var PG=/\r\n?/g,OG=/\u0000|\uFFFD/g;function KC(o){return(typeof o=="string"?o:""+o).replace(PG,`
`).replace(OG,"")}function XC(o,c){return c=KC(c),KC(o)===c}function Ir(o,c,h,g,_,T){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Mi(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Mi(o,""+g);break;case"className":Ki(o,"class",g);break;case"tabIndex":Ki(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(o,h,g);break;case"style":_u(o,g,T);break;case"data":if(c!=="object"){Ki(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Pa(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(c!=="input"&&Ir(o,c,"name",_.name,_,null),Ir(o,c,"formEncType",_.formEncType,_,null),Ir(o,c,"formMethod",_.formMethod,_,null),Ir(o,c,"formTarget",_.formTarget,_,null)):(Ir(o,c,"encType",_.encType,_,null),Ir(o,c,"method",_.method,_,null),Ir(o,c,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Pa(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Ls);break;case"onScroll":g!=null&&Rn("scroll",o);break;case"onScrollEnd":g!=null&&Rn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Pa(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Rn("beforetoggle",o),Rn("toggle",o),Ga(o,"popover",g);break;case"xlinkActuate":Zr(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Zr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Zr(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Zr(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Zr(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Zr(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Zr(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Zr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Zr(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ga(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=xc.get(h)||h,Ga(o,h,g))}}function Ww(o,c,h,g,_,T){switch(h){case"style":_u(o,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(_.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?Mi(o,g):(typeof g=="number"||typeof g=="bigint")&&Mi(o,""+g);break;case"onScroll":g!=null&&Rn("scroll",o);break;case"onScrollEnd":g!=null&&Rn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),T=o[ir]||null,T=T!=null?T[h]:null,typeof T=="function"&&o.removeEventListener(c,T,_),typeof g=="function")){typeof T!="function"&&T!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,_);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Ga(o,h,g)}}}function ns(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rn("error",o),Rn("load",o);var g=!1,_=!1,T;for(T in h)if(h.hasOwnProperty(T)){var z=h[T];if(z!=null)switch(T){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ir(o,c,T,z,h,null)}}_&&Ir(o,c,"srcSet",h.srcSet,h,null),g&&Ir(o,c,"src",h.src,h,null);return;case"input":Rn("invalid",o);var te=T=z=_=null,ve=null,je=null;for(g in h)if(h.hasOwnProperty(g)){var We=h[g];if(We!=null)switch(g){case"name":_=We;break;case"type":z=We;break;case"checked":ve=We;break;case"defaultChecked":je=We;break;case"value":T=We;break;case"defaultValue":te=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,c));break;default:Ir(o,c,g,We,h,null)}}Sd(o,T,te,ve,je,z,_,!1);return;case"select":Rn("invalid",o),g=z=T=null;for(_ in h)if(h.hasOwnProperty(_)&&(te=h[_],te!=null))switch(_){case"value":T=te;break;case"defaultValue":z=te;break;case"multiple":g=te;default:Ir(o,c,_,te,h,null)}c=T,h=z,o.multiple=!!g,c!=null?ca(o,!!g,c,!1):h!=null&&ca(o,!!g,h,!0);return;case"textarea":Rn("invalid",o),T=_=g=null;for(z in h)if(h.hasOwnProperty(z)&&(te=h[z],te!=null))switch(z){case"value":g=te;break;case"defaultValue":_=te;break;case"children":T=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(91));break;default:Ir(o,c,z,te,h,null)}Po(o,g,_,T);return;case"option":for(ve in h)if(h.hasOwnProperty(ve)&&(g=h[ve],g!=null))switch(ve){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ir(o,c,ve,g,h,null)}return;case"dialog":Rn("beforetoggle",o),Rn("toggle",o),Rn("cancel",o),Rn("close",o);break;case"iframe":case"object":Rn("load",o);break;case"video":case"audio":for(g=0;g<vv.length;g++)Rn(vv[g],o);break;case"image":Rn("error",o),Rn("load",o);break;case"details":Rn("toggle",o);break;case"embed":case"source":case"link":Rn("error",o),Rn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in h)if(h.hasOwnProperty(je)&&(g=h[je],g!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ir(o,c,je,g,h,null)}return;default:if(bc(c)){for(We in h)h.hasOwnProperty(We)&&(g=h[We],g!==void 0&&Ww(o,c,We,g,h,void 0));return}}for(te in h)h.hasOwnProperty(te)&&(g=h[te],g!=null&&Ir(o,c,te,g,h,null))}function RG(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,z=null,te=null,ve=null,je=null,We=null;for(ze in h){var Je=h[ze];if(h.hasOwnProperty(ze)&&Je!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":ve=Je;default:g.hasOwnProperty(ze)||Ir(o,c,ze,null,g,Je)}}for(var Me in g){var ze=g[Me];if(Je=h[Me],g.hasOwnProperty(Me)&&(ze!=null||Je!=null))switch(Me){case"type":T=ze;break;case"name":_=ze;break;case"checked":je=ze;break;case"defaultChecked":We=ze;break;case"value":z=ze;break;case"defaultValue":te=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,c));break;default:ze!==Je&&Ir(o,c,Me,ze,g,Je)}}Ll(o,z,te,ve,je,We,T,_);return;case"select":ze=z=te=Me=null;for(T in h)if(ve=h[T],h.hasOwnProperty(T)&&ve!=null)switch(T){case"value":break;case"multiple":ze=ve;default:g.hasOwnProperty(T)||Ir(o,c,T,null,g,ve)}for(_ in g)if(T=g[_],ve=h[_],g.hasOwnProperty(_)&&(T!=null||ve!=null))switch(_){case"value":Me=T;break;case"defaultValue":te=T;break;case"multiple":z=T;default:T!==ve&&Ir(o,c,_,T,g,ve)}c=te,h=z,g=ze,Me!=null?ca(o,!!h,Me,!1):!!g!=!!h&&(c!=null?ca(o,!!h,c,!0):ca(o,!!h,h?[]:"",!1));return;case"textarea":ze=Me=null;for(te in h)if(_=h[te],h.hasOwnProperty(te)&&_!=null&&!g.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Ir(o,c,te,null,g,_)}for(z in g)if(_=g[z],T=h[z],g.hasOwnProperty(z)&&(_!=null||T!=null))switch(z){case"value":Me=_;break;case"defaultValue":ze=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==T&&Ir(o,c,z,_,g,T)}bu(o,Me,ze);return;case"option":for(var Ot in h)if(Me=h[Ot],h.hasOwnProperty(Ot)&&Me!=null&&!g.hasOwnProperty(Ot))switch(Ot){case"selected":o.selected=!1;break;default:Ir(o,c,Ot,null,g,Me)}for(ve in g)if(Me=g[ve],ze=h[ve],g.hasOwnProperty(ve)&&Me!==ze&&(Me!=null||ze!=null))switch(ve){case"selected":o.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Ir(o,c,ve,Me,g,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ln in h)Me=h[ln],h.hasOwnProperty(ln)&&Me!=null&&!g.hasOwnProperty(ln)&&Ir(o,c,ln,null,g,Me);for(je in g)if(Me=g[je],ze=h[je],g.hasOwnProperty(je)&&Me!==ze&&(Me!=null||ze!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,c));break;default:Ir(o,c,je,Me,g,ze)}return;default:if(bc(c)){for(var Cr in h)Me=h[Cr],h.hasOwnProperty(Cr)&&Me!==void 0&&!g.hasOwnProperty(Cr)&&Ww(o,c,Cr,void 0,g,Me);for(We in g)Me=g[We],ze=h[We],!g.hasOwnProperty(We)||Me===ze||Me===void 0&&ze===void 0||Ww(o,c,We,Me,g,ze);return}}for(var Te in h)Me=h[Te],h.hasOwnProperty(Te)&&Me!=null&&!g.hasOwnProperty(Te)&&Ir(o,c,Te,null,g,Me);for(Je in g)Me=g[Je],ze=h[Je],!g.hasOwnProperty(Je)||Me===ze||Me==null&&ze==null||Ir(o,c,Je,Me,g,ze)}function QC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DG(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var _=h[g],T=_.transferSize,z=_.initiatorType,te=_.duration;if(T&&te&&QC(z)){for(z=0,te=_.responseEnd,g+=1;g<h.length;g++){var ve=h[g],je=ve.startTime;if(je>te)break;var We=ve.transferSize,Je=ve.initiatorType;We&&QC(Je)&&(ve=ve.responseEnd,z+=We*(ve<te?1:(te-je)/(ve-je)))}if(--g,c+=8*(T+z)/(_.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Kw=null,Xw=null;function j1(o){return o.nodeType===9?o:o.ownerDocument}function JC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Qw(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Jw=null;function kG(){var o=window.event;return o&&o.type==="popstate"?o===Jw?!1:(Jw=o,!0):(Jw=null,!1)}var eP=typeof setTimeout=="function"?setTimeout:void 0,jG=typeof clearTimeout=="function"?clearTimeout:void 0,tP=typeof Promise=="function"?Promise:void 0,LG=typeof queueMicrotask=="function"?queueMicrotask:typeof tP<"u"?function(o){return tP.resolve(null).then(o).catch(MG)}:eP;function MG(o){setTimeout(function(){throw o})}function Wd(o){return o==="head"}function nP(o,c){var h=c,g=0;do{var _=h.nextSibling;if(o.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(g===0){o.removeChild(_),nm(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")bv(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,bv(h);for(var T=h.firstChild;T;){var z=T.nextSibling,te=T.nodeName;T[Li]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&T.rel.toLowerCase()==="stylesheet"||h.removeChild(T),T=z}}else h==="body"&&bv(o.ownerDocument.body);h=_}while(h);nm(c)}function rP(o,c){var h=o;o=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=g}while(h)}function Zw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Zw(h),ms(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function FG(o,c,h,g){for(;o.nodeType===1;){var _=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Li])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==_.rel||o.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||o.getAttribute("title")!==(_.title==null?null:_.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(_.src==null?null:_.src)||o.getAttribute("type")!==(_.type==null?null:_.type)||o.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=bl(o.nextSibling),o===null)break}return null}function UG(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=bl(o.nextSibling),o===null))return null;return o}function iP(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=bl(o.nextSibling),o===null))return null;return o}function e5(o){return o.data==="$?"||o.data==="$~"}function t5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function BG(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function bl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var n5=null;function aP(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return bl(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function sP(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function oP(o,c,h){switch(c=j1(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function bv(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ms(o)}var xl=new Map,lP=new Set;function L1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var zu=fe.d;fe.d={f:VG,r:zG,D:qG,C:HG,L:$G,m:GG,X:WG,S:YG,M:KG};function VG(){var o=zu.f(),c=N1();return o||c}function zG(o){var c=rn(o);c!==null&&c.tag===5&&c.type==="form"?S4(c):zu.r(o)}var Zp=typeof document>"u"?null:document;function cP(o,c,h){var g=Zp;if(g&&typeof c=="string"&&c){var _=ei(c);_='link[rel="'+o+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),lP.has(_)||(lP.add(_),o={rel:o,crossOrigin:h,href:c},g.querySelector(_)===null&&(c=g.createElement("link"),ns(c,"link",o),ur(c),g.head.appendChild(c)))}}function qG(o){zu.D(o),cP("dns-prefetch",o,null)}function HG(o,c){zu.C(o,c),cP("preconnect",o,c)}function $G(o,c,h){zu.L(o,c,h);var g=Zp;if(g&&o&&c){var _='link[rel="preload"][as="'+ei(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+ei(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+ei(h.imageSizes)+'"]')):_+='[href="'+ei(o)+'"]';var T=_;switch(c){case"style":T=em(o);break;case"script":T=tm(o)}xl.has(T)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),xl.set(T,o),g.querySelector(_)!==null||c==="style"&&g.querySelector(xv(T))||c==="script"&&g.querySelector(_v(T))||(c=g.createElement("link"),ns(c,"link",o),ur(c),g.head.appendChild(c)))}}function GG(o,c){zu.m(o,c);var h=Zp;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+ei(g)+'"][href="'+ei(o)+'"]',T=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=tm(o)}if(!xl.has(T)&&(o=p({rel:"modulepreload",href:o},c),xl.set(T,o),h.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(_v(T)))return}g=h.createElement("link"),ns(g,"link",o),ur(g),h.head.appendChild(g)}}}function YG(o,c,h){zu.S(o,c,h);var g=Zp;if(g&&o){var _=Qn(g).hoistableStyles,T=em(o);c=c||"default";var z=_.get(T);if(!z){var te={loading:0,preload:null};if(z=g.querySelector(xv(T)))te.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=xl.get(T))&&r5(o,h);var ve=z=g.createElement("link");ur(ve),ns(ve,"link",o),ve._p=new Promise(function(je,We){ve.onload=je,ve.onerror=We}),ve.addEventListener("load",function(){te.loading|=1}),ve.addEventListener("error",function(){te.loading|=2}),te.loading|=4,M1(z,c,g)}z={type:"stylesheet",instance:z,count:1,state:te},_.set(T,z)}}}function WG(o,c){zu.X(o,c);var h=Zp;if(h&&o){var g=Qn(h).hoistableScripts,_=tm(o),T=g.get(_);T||(T=h.querySelector(_v(_)),T||(o=p({src:o,async:!0},c),(c=xl.get(_))&&i5(o,c),T=h.createElement("script"),ur(T),ns(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function KG(o,c){zu.M(o,c);var h=Zp;if(h&&o){var g=Qn(h).hoistableScripts,_=tm(o),T=g.get(_);T||(T=h.querySelector(_v(_)),T||(o=p({src:o,async:!0,type:"module"},c),(c=xl.get(_))&&i5(o,c),T=h.createElement("script"),ur(T),ns(T,"link",o),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function uP(o,c,h,g){var _=(_=pe.current)?L1(_):null;if(!_)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=em(h.href),h=Qn(_).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=em(h.href);var T=Qn(_).hoistableStyles,z=T.get(o);if(z||(_=_.ownerDocument||_,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,z),(T=_.querySelector(xv(o)))&&!T._p&&(z.instance=T,z.state.loading=5),xl.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},xl.set(o,h),T||XG(_,o,h,z.state))),c&&g===null)throw Error(r(528,""));return z}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=tm(h),h=Qn(_).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function em(o){return'href="'+ei(o)+'"'}function xv(o){return'link[rel="stylesheet"]['+o+"]"}function dP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function XG(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),ns(c,"link",h),ur(c),o.head.appendChild(c))}function tm(o){return'[src="'+ei(o)+'"]'}function _v(o){return"script[async]"+o}function fP(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ei(h.href)+'"]');if(g)return c.instance=g,ur(g),g;var _=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),ur(g),ns(g,"style",_),M1(g,h.precedence,o),c.instance=g;case"stylesheet":_=em(h.href);var T=o.querySelector(xv(_));if(T)return c.state.loading|=4,c.instance=T,ur(T),T;g=dP(h),(_=xl.get(_))&&r5(g,_),T=(o.ownerDocument||o).createElement("link"),ur(T);var z=T;return z._p=new Promise(function(te,ve){z.onload=te,z.onerror=ve}),ns(T,"link",g),c.state.loading|=4,M1(T,h.precedence,o),c.instance=T;case"script":return T=tm(h.src),(_=o.querySelector(_v(T)))?(c.instance=_,ur(_),_):(g=h,(_=xl.get(T))&&(g=p({},h),i5(g,_)),o=o.ownerDocument||o,_=o.createElement("script"),ur(_),ns(_,"link",g),o.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,M1(g,h.precedence,o));return c.instance}function M1(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,T=_,z=0;z<g.length;z++){var te=g[z];if(te.dataset.precedence===c)T=te;else if(T!==_)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function r5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function i5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var F1=null;function hP(o,c,h){if(F1===null){var g=new Map,_=F1=new Map;_.set(h,g)}else _=F1,g=_.get(h),g||(g=new Map,_.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),_=0;_<h.length;_++){var T=h[_];if(!(T[Li]||T[Vn]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var z=T.getAttribute(c)||"";z=o+z;var te=g.get(z);te?te.push(T):g.set(z,[T])}}return g}function pP(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function QG(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function mP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function JG(o,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=em(g.href),T=c.querySelector(xv(_));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=U1.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=T,ur(T);return}T=c.ownerDocument||c,g=dP(g),(_=xl.get(_))&&r5(g,_),T=T.createElement("link"),ur(T);var z=T;z._p=new Promise(function(te,ve){z.onload=te,z.onerror=ve}),ns(T,"link",g),h.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=U1.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var a5=0;function ZG(o,c){return o.stylesheets&&o.count===0&&V1(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var g=setTimeout(function(){if(o.stylesheets&&V1(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&a5===0&&(a5=62500*DG());var _=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&V1(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>a5?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(_)}}:null}function U1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)V1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var B1=null;function V1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,B1=new Map,c.forEach(eY,o),B1=null,U1.call(o))}function eY(o,c){if(!(c.state.loading&4)){var h=B1.get(o);if(h)var g=h.get(null);else{h=new Map,B1.set(o,h);for(var _=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var z=_[T];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),g=z)}g&&h.set(null,g)}_=c.instance,z=_.getAttribute("data-precedence"),T=h.get(z)||g,T===g&&h.set(null,_),h.set(z,_),this.count++,g=U1.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),T?T.parentNode.insertBefore(_,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(_,o.firstChild)),c.state.loading|=4}}var wv={$$typeof:k,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function tY(o,c,h,g,_,T,z,te,ve){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function gP(o,c,h,g,_,T,z,te,ve,je,We,Je){return o=new tY(o,c,h,z,ve,je,We,Je,te),c=1,T===!0&&(c|=24),T=ka(3,null,null,c),o.current=T,T.stateNode=o,c=Ld(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:g,isDehydrated:h,cache:c},pt(T),o}function vP(o){return o?(o=ha,o):ha}function yP(o,c,h,g,_,T){_=vP(_),g.context===null?g.context=_:g.pendingContext=_,g=an(c),g.payload={element:h},T=T===void 0?null:T,T!==null&&(g.callback=T),h=xn(o,g,c),h!==null&&(bo(h,o,c),ar(h,o,c))}function bP(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function s5(o,c){bP(o,c),(o=o.alternate)&&bP(o,c)}function xP(o){if(o.tag===13||o.tag===31){var c=Wl(o,67108864);c!==null&&bo(c,o,67108864),s5(o,67108864)}}function _P(o){if(o.tag===13||o.tag===31){var c=Bo();c=Xn(c);var h=Wl(o,c);h!==null&&bo(h,o,c),s5(o,c)}}var z1=!0;function nY(o,c,h,g){var _=se.T;se.T=null;var T=fe.p;try{fe.p=2,o5(o,c,h,g)}finally{fe.p=T,se.T=_}}function rY(o,c,h,g){var _=se.T;se.T=null;var T=fe.p;try{fe.p=8,o5(o,c,h,g)}finally{fe.p=T,se.T=_}}function o5(o,c,h,g){if(z1){var _=l5(g);if(_===null)Yw(o,c,g,q1,h),EP(o,g);else if(aY(_,o,c,h,g))g.stopPropagation();else if(EP(o,g),c&4&&-1<iY.indexOf(o)){for(;_!==null;){var T=rn(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var z=gt(T.pendingLanes);if(z!==0){var te=T;for(te.pendingLanes|=2,te.entangledLanes|=2;z;){var ve=1<<31-nn(z);te.entanglements[1]|=ve,z&=~ve}Mc(T),(or&6)===0&&(S1=cn()+500,gv(0))}}break;case 31:case 13:te=Wl(T,2),te!==null&&bo(te,T,2),N1(),s5(T,2)}if(T=l5(g),T===null&&Yw(o,c,g,q1,h),T===_)break;_=T}_!==null&&g.stopPropagation()}else Yw(o,c,g,null,h)}}function l5(o){return o=Oa(o),c5(o)}var q1=null;function c5(o){if(q1=null,o=nt(o),o!==null){var c=a(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=s(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return q1=o,null}function wP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case Jt:return 2;case gn:return 8;case st:case dt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var u5=!1,Kd=null,Xd=null,Qd=null,Ev=new Map,Av=new Map,Jd=[],iY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EP(o,c){switch(o){case"focusin":case"focusout":Kd=null;break;case"dragenter":case"dragleave":Xd=null;break;case"mouseover":case"mouseout":Qd=null;break;case"pointerover":case"pointerout":Ev.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Av.delete(c.pointerId)}}function Sv(o,c,h,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},c!==null&&(c=rn(c),c!==null&&xP(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function aY(o,c,h,g,_){switch(c){case"focusin":return Kd=Sv(Kd,o,c,h,g,_),!0;case"dragenter":return Xd=Sv(Xd,o,c,h,g,_),!0;case"mouseover":return Qd=Sv(Qd,o,c,h,g,_),!0;case"pointerover":var T=_.pointerId;return Ev.set(T,Sv(Ev.get(T)||null,o,c,h,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Av.set(T,Sv(Av.get(T)||null,o,c,h,g,_)),!0}return!1}function AP(o){var c=nt(o.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=s(h),c!==null){o.blockedOn=c,ji(o.priority,function(){_P(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,ji(o.priority,function(){_P(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function H1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=l5(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Ro=g,h.target.dispatchEvent(g),Ro=null}else return c=rn(h),c!==null&&xP(c),o.blockedOn=h,!1;c.shift()}return!0}function SP(o,c,h){H1(o)&&h.delete(c)}function sY(){u5=!1,Kd!==null&&H1(Kd)&&(Kd=null),Xd!==null&&H1(Xd)&&(Xd=null),Qd!==null&&H1(Qd)&&(Qd=null),Ev.forEach(SP),Av.forEach(SP)}function $1(o,c){o.blockedOn===c&&(o.blockedOn=null,u5||(u5=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sY)))}var G1=null;function TP(o){G1!==o&&(G1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){G1===o&&(G1=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],_=o[c+2];if(typeof g!="function"){if(c5(g||h)===null)continue;break}var T=rn(h);T!==null&&(o.splice(c,3),c-=3,lw(T,{pending:!0,data:_,method:h.method,action:g},g,_))}}))}function nm(o){function c(ve){return $1(ve,o)}Kd!==null&&$1(Kd,o),Xd!==null&&$1(Xd,o),Qd!==null&&$1(Qd,o),Ev.forEach(c),Av.forEach(c);for(var h=0;h<Jd.length;h++){var g=Jd[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Jd.length&&(h=Jd[0],h.blockedOn===null);)AP(h),h.blockedOn===null&&Jd.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var _=h[g],T=h[g+1],z=_[ir]||null;if(typeof T=="function")z||TP(h);else if(z){var te=null;if(T&&T.hasAttribute("formAction")){if(_=T,z=T[ir]||null)te=z.formAction;else if(c5(_)!==null)continue}else te=z.action;typeof te=="function"?h[g+1]=te:(h.splice(g,3),g-=3),TP(h)}}}function NP(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(z){return _=z})},focusReset:"manual",scroll:"manual"})}function c(){_!==null&&(_(),_=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,_=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),_!==null&&(_(),_=null)}}}function d5(o){this._internalRoot=o}Y1.prototype.render=d5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Bo();yP(h,g,o,c,null,null)},Y1.prototype.unmount=d5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;yP(o.current,2,null,o,null,null),N1(),c[Qr]=null}};function Y1(o){this._internalRoot=o}Y1.prototype.unstable_scheduleHydration=function(o){if(o){var c=Xr();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Jd.length&&c!==0&&c<Jd[h].priority;h++);Jd.splice(h,0,o),h===0&&AP(o)}};var IP=e.version;if(IP!=="19.2.0")throw Error(r(527,IP,"19.2.0"));fe.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var oY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W1.isDisabled&&W1.supportsFiber)try{Vt=W1.inject(oY),It=W1}catch{}}return Nv.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,g="",_=j4,T=L4,z=M4;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=gP(o,1,!1,null,null,h,g,null,_,T,z,NP),o[Qr]=c.current,Gw(o),new d5(c)},Nv.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var g=!1,_="",T=j4,z=L4,te=M4,ve=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(te=h.onRecoverableError),h.formState!==void 0&&(ve=h.formState)),c=gP(o,1,!0,c,h??null,g,_,ve,T,z,te,NP),c.context=vP(null),h=c.current,g=Bo(),g=Xn(g),_=an(g),_.callback=null,xn(h,_,g),h=g,c.current.lanes=h,qt(c,h),Mc(c),o[Qr]=c.current,Gw(o),new Y1(c)},Nv.version="19.2.0",Nv}var FP;function xY(){if(FP)return p5.exports;FP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p5.exports=bY(),p5.exports}var _Y=xY();const wY=fu(_Y),EY=()=>{};var UP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},AM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=a>>2,p=(a&3)<<4|l>>4;let y=(l&15)<<2|d>>6,v=d&63;u||(v=64,s||(y=64)),r.push(n[f],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||p==null)throw new SY;const y=a<<2|l>>4;if(r.push(y),d!==64){const v=l<<4&240|d>>2;if(r.push(v),p!==64){const E=d<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TY=function(t){const e=EM(t);return AM.encodeByteArray(e,!0)},Zb=function(t){return TY(t).replace(/\./g,"")},$T=function(t){try{return AM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function e2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!NY(n)||(t[n]=e2(t[n],e[n]));return t}function NY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=()=>GT().__FIREBASE_DEFAULTS__,CY=()=>{if(typeof process>"u"||typeof UP>"u")return;const t=UP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$T(t[1]);return e&&JSON.parse(e)},YT=()=>{try{return EY()||IY()||CY()||PY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=()=>{var t;return(t=YT())==null?void 0:t.config},OY=t=>{var e;return(e=YT())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zb(JSON.stringify(n)),Zb(JSON.stringify(s)),""].join(".")}const ny={};function kY(){const t={prod:[],emulator:[]};for(const e of Object.keys(ny))ny[e]?t.emulator.push(e):t.prod.push(e);return t}function jY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let BP=!1;function TM(t,e){if(typeof window>"u"||typeof document>"u"||!wg(window.location.host)||ny[t]===e||ny[t]||BP)return;ny[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=kY().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{BP=!0,s()},y}function f(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=jY(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),q=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;l(k),f(S,A);const B=d();u(q,I),k.append(q,E,S,B),document.body.appendChild(k)}a?(E.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bi())}function Ex(){var e;const t=(e=YT())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MY(){return typeof window<"u"||NM()}function NM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function FY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CM(){const t=bi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PM(){return!Ex()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OM(){return!Ex()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function wy(){try{return typeof indexedDB=="object"}catch{return!1}}function UY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BY,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fp.prototype.create)}}class fp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?VY(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ws(i,l,r)}}function VY(t,e){return t.replace(zY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ef(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(zP(a)&&zP(s)){if(!Ef(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Gv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RM(t,e){const n=new HY(t,e);return n.subscribe.bind(n)}class HY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$Y(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=y5),i.error===void 0&&(i.error=y5),i.complete===void 0&&(i.complete=y5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $Y(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function y5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class su{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GY=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WY(e))try{this.getOrInitializeService({instanceIdentifier:ph})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ph){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ph){return this.instances.has(e)}getOptions(e=ph){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ph){return this.component?this.component.multipleInstances?e:ph:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YY(t){return t===ph?void 0:t}function WY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=[];var Dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dn||(Dn={}));const kM={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},KY=Dn.INFO,XY={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},QY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ax{constructor(e){this.name=e,this._logLevel=KY,this._logHandler=QY,this._userLogHandler=null,XT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...e),this._logHandler(this,Dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...e),this._logHandler(this,Dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...e),this._logHandler(this,Dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...e),this._logHandler(this,Dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...e),this._logHandler(this,Dn.ERROR,...e)}}function JY(t){XT.forEach(e=>{e.setLogLevel(t)})}function ZY(t,e){for(const n of XT){let r=null;e&&e.level&&(r=kM[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...s)=>{const l=s.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");a>=(r??i.logLevel)&&t({level:Dn[a].toLowerCase(),message:l,args:s,type:i.name})}}}const eW=(t,e)=>e.some(n=>t instanceof n);let qP,HP;function tW(){return qP||(qP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nW(){return HP||(HP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jM=new WeakMap,$A=new WeakMap,LM=new WeakMap,b5=new WeakMap,QT=new WeakMap;function rW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(vf(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jM.set(n,t)}).catch(()=>{}),QT.set(e,t),e}function iW(t){if($A.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});$A.set(t,e)}let GA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $A.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aW(t){GA=t(GA)}function sW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(x5(this),e,...n);return LM.set(r,e.sort?e.sort():[e]),vf(r)}:nW().includes(t)?function(...e){return t.apply(x5(this),e),vf(jM.get(this))}:function(...e){return vf(t.apply(x5(this),e))}}function oW(t){return typeof t=="function"?sW(t):(t instanceof IDBTransaction&&iW(t),eW(t,tW())?new Proxy(t,GA):t)}function vf(t){if(t instanceof IDBRequest)return rW(t);if(b5.has(t))return b5.get(t);const e=oW(t);return e!==t&&(b5.set(t,e),QT.set(e,t)),e}const x5=t=>QT.get(t);function lW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=vf(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vf(s.result),u.oldVersion,u.newVersion,vf(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const cW=["get","getKey","getAll","getAllKeys","count"],uW=["put","add","delete","clear"],_5=new Map;function $P(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_5.get(e))return _5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cW.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return _5.set(e,a),a}aW(t=>({...t,get:(e,n,r)=>$P(e,n)||t.get(e,n,r),has:(e,n)=>!!$P(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const t2="@firebase/app",YA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Ax("@firebase/app"),hW="@firebase/app-compat",pW="@firebase/analytics-compat",mW="@firebase/analytics",gW="@firebase/app-check-compat",vW="@firebase/app-check",yW="@firebase/auth",bW="@firebase/auth-compat",xW="@firebase/database",_W="@firebase/data-connect",wW="@firebase/database-compat",EW="@firebase/functions",AW="@firebase/functions-compat",SW="@firebase/installations",TW="@firebase/installations-compat",NW="@firebase/messaging",IW="@firebase/messaging-compat",CW="@firebase/performance",PW="@firebase/performance-compat",OW="@firebase/remote-config",RW="@firebase/remote-config-compat",DW="@firebase/storage",kW="@firebase/storage-compat",jW="@firebase/firestore",LW="@firebase/ai",MW="@firebase/firestore-compat",FW="firebase",UW="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",BW={[t2]:"fire-core",[hW]:"fire-core-compat",[mW]:"fire-analytics",[pW]:"fire-analytics-compat",[vW]:"fire-app-check",[gW]:"fire-app-check-compat",[yW]:"fire-auth",[bW]:"fire-auth-compat",[xW]:"fire-rtdb",[_W]:"fire-data-connect",[wW]:"fire-rtdb-compat",[EW]:"fire-fn",[AW]:"fire-fn-compat",[SW]:"fire-iid",[TW]:"fire-iid-compat",[NW]:"fire-fcm",[IW]:"fire-fcm-compat",[CW]:"fire-perf",[PW]:"fire-perf-compat",[OW]:"fire-rc",[RW]:"fire-rc-compat",[DW]:"fire-gcs",[kW]:"fire-gcs-compat",[jW]:"fire-fst",[MW]:"fire-fst-compat",[LW]:"fire-vertex","fire-js":"fire-js",[FW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,Hm=new Map,$m=new Map;function Ey(t,e){try{t.container.addComponent(e)}catch(n){rd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function MM(t,e){t.container.addOrOverwriteComponent(e)}function Tf(t){const e=t.name;if($m.has(e))return rd.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,t);for(const n of Sf.values())Ey(n,t);for(const n of Hm.values())Ey(n,t);return!0}function FM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VW(t,e,n=Af){FM(t,e).clearInstance(n)}function JT(t){return t.options!==void 0}function UM(t){return JT(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function oi(t){return t==null?!1:t.settings!==void 0}function zW(){$m.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new fp("app","Firebase",qW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BM=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){const n=$T(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class HW extends BM{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,s,i);else{const l=e;super(l.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&GP(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&GP(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,oc(t2,YA,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){eN(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qo.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=UW;function ZT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Af,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=WT()),!n)throw Qo.create("no-options");const a=Sf.get(i);if(a){if(Ef(n,a.options)&&Ef(r,a.config))return a;throw Qo.create("duplicate-app",{appName:i})}const s=new DM(i);for(const u of $m.values())s.addComponent(u);const l=new BM(n,r,s);return Sf.set(i,l),l}function $W(t,e={}){if(MY()&&!NM())throw Qo.create("invalid-server-app-environment");let n,r=e||{};if(t&&(JT(t)?n=t.options:UM(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=WT()),!n)throw Qo.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=f=>[...f].reduce((p,y)=>Math.imul(31,p)+y.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Qo.create("finalization-registry-not-supported",{});const s=""+a(JSON.stringify(i)),l=Hm.get(s);if(l)return l.incRefCount(r.releaseOnDeref),l;const u=new DM(s);for(const f of $m.values())u.addComponent(f);const d=new HW(n,r,s,u);return Hm.set(s,d),d}function GW(t=Af){const e=Sf.get(t);if(!e&&t===Af&&WT())return ZT();if(!e)throw Qo.create("no-app",{appName:t});return e}function YW(){return Array.from(Sf.values())}async function eN(t){let e=!1;const n=t.name;Sf.has(n)?(e=!0,Sf.delete(n)):Hm.has(n)&&t.decRefCount()<=0&&(Hm.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function oc(t,e,n){let r=BW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rd.warn(s.join(" "));return}Tf(new su(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function VM(t,e){if(t!==null&&typeof t!="function")throw Qo.create("invalid-log-argument");ZY(t,e)}function zM(t){JY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="firebase-heartbeat-database",KW=1,Ay="firebase-heartbeat-store";let w5=null;function qM(){return w5||(w5=lW(WW,KW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ay)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),w5}async function XW(t){try{const n=(await qM()).transaction(Ay),r=await n.objectStore(Ay).get(HM(t));return await n.done,r}catch(e){if(e instanceof Ws)rd.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rd.warn(n.message)}}}async function YP(t,e){try{const r=(await qM()).transaction(Ay,"readwrite");await r.objectStore(Ay).put(e,HM(t)),await r.done}catch(n){if(n instanceof Ws)rd.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rd.warn(r.message)}}}function HM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=1024,JW=30;class ZW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=WP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>JW){const s=nK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WP(),{heartbeatsToSend:r,unsentEntries:i}=eK(this._heartbeatsCache.heartbeats),a=Zb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rd.warn(n),""}}}function WP(){return new Date().toISOString().substring(0,10)}function eK(t,e=QW){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),KP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wy()?UY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function KP(t){return Zb(JSON.stringify({version:2,heartbeats:t})).length}function nK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t){Tf(new su("platform-logger",e=>new dW(e),"PRIVATE")),Tf(new su("heartbeat",e=>new ZW(e),"PRIVATE")),oc(t2,YA,t),oc(t2,YA,"esm2020"),oc("fire-js","")}rK("");const iK=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ws,SDK_VERSION:Bf,_DEFAULT_ENTRY_NAME:Af,_addComponent:Ey,_addOrOverwriteComponent:MM,_apps:Sf,_clearComponents:zW,_components:$m,_getProvider:FM,_isFirebaseApp:JT,_isFirebaseServerApp:oi,_isFirebaseServerAppSettings:UM,_registerComponent:Tf,_removeServiceInstance:VW,_serverApps:Hm,deleteApp:eN,getApp:GW,getApps:YW,initializeApp:ZT,initializeServerApp:$W,onLog:VM,registerVersion:oc,setLogLevel:zM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,n){this._delegate=e,this.firebase=n,Ey(e,new su("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),eN(this._delegate)))}_getService(e,n=Af){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Af){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ey(this._delegate,e)}_addOrOverwriteComponent(e){MM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},XP=new fp("app-compat","Firebase",sK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:oc,setLogLevel:zM,onLog:VM,apps:null,SDK_VERSION:Bf,INTERNAL:{registerComponent:l,removeApp:r,useAsService:u,modularAPIs:iK}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(d){delete e[d]}function i(d){if(d=d||Af,!VP(e,d))throw XP.create("no-app",{appName:d});return e[d]}i.App=t;function a(d,f={}){const p=ZT(d,f);if(VP(e,p.name))return e[p.name];const y=new t(p,n);return e[p.name]=y,y}function s(){return Object.keys(e).map(d=>e[d])}function l(d){const f=d.name,p=f.replace("-compat","");if(Tf(d)&&d.type==="PUBLIC"){const y=(v=i())=>{if(typeof v[p]!="function")throw XP.create("invalid-app-argument",{appName:f});return v[p]()};d.serviceProps!==void 0&&e2(y,d.serviceProps),n[p]=y,t.prototype[p]=function(...v){return this._getService.bind(this,f).apply(this,d.multipleInstances?v:[])}}return d.type==="PUBLIC"?n[p]:null}function u(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){const t=oK(aK);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:$M,extendNamespace:e,createSubscribe:RM,ErrorFactory:fp,deepExtend:e2};function e(n){e2(t,n)}return t}const lK=$M();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Ax("@firebase/app-compat"),cK="@firebase/app-compat",uK="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t){oc(cK,uK,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=GT();if(t.firebase!==void 0){QP.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&QP.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const id=lK;dK();var fK="firebase",hK="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */id.registerVersion(fK,hK,"app-compat");const Iv={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},rm={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function GM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mK=pK,gK=GM,YM=new fp("auth","Firebase",GM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Ax("@firebase/auth");function vK(t,...e){n2.logLevel<=Dn.WARN&&n2.warn(`Auth (${Bf}): ${t}`,...e)}function Ib(t,...e){n2.logLevel<=Dn.ERROR&&n2.error(`Auth (${Bf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,...e){throw nN(t,...e)}function _a(t,...e){return nN(t,...e)}function tN(t,e,n){const r={...gK(),[e]:n};return new fp("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return tN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ag(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&us(t,"argument-error"),tN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YM.create(t,...e)}function lt(t,e,...n){if(!t)throw nN(e,...n)}function Xc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ib(e),new Error(e)}function uc(t,e){t||Xc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function rN(){return JP()==="http:"||JP()==="https:"}function JP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||IM()||"connection"in navigator)?navigator.onLine:!0}function bK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.shortDelay=e,this.longDelay=n,uc(n>e,"Short delay should be less than long delay!"),this.isMobile=LY()||KT()}get(){return yK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e){uc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wK=new f0(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oi(t,e,n,r,i={}){return KM(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=Eg({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...a};return FY()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&wg(t.emulatorConfig.host)&&(d.credentials="include"),WM.fetch()(await XM(t,t.config.apiHost,n,l),d)})}async function KM(t,e,n){t._canInitEmulator=!1;const r={...xK,...e};try{const i=new AK(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Yv(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yv(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Yv(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Yv(t,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw tN(t,f,d);us(t,f)}}catch(i){if(i instanceof Ws)throw i;us(t,"network-request-failed",{message:String(i)})}}async function md(t,e,n,r,i={}){const a=await Oi(t,e,n,r,i);return"mfaPendingCredential"in a&&us(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function XM(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?iN(t.config,i):`${t.config.apiScheme}://${i}`;return _K.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function EK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_a(this.auth,"network-request-failed")),wK.get())})}}function Yv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_a(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){return t!==void 0&&t.getResponse!==void 0}function eO(t){return t!==void 0&&t.enterprise!==void 0}class QM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SK(t){return(await Oi(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function JM(t,e){return Oi(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TK(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function NK(t,e){return Oi(t,"POST","/v1/accounts:update",e)}async function r2(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IK(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=Sx(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ry(E5(i.auth_time)),issuedAtTime:ry(E5(i.iat)),expirationTime:ry(E5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function E5(t){return Number(t)*1e3}function Sx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ib("JWT malformed, contained fewer than 3 sections"),null;try{const i=$T(n);return i?JSON.parse(i):(Ib("Failed to decode base64 JWT payload"),null)}catch(i){return Ib("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tO(t){const e=Sx(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&CK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ry(this.lastLoginAt),this.creationTime=ry(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){var p;const e=t.auth,n=await t.getIdToken(),r=await ad(t,r2(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?ZM(i.providerUserInfo):[],s=RK(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new WA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function OK(t){const e=on(t);await Ty(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DK(t,e){const n=await KM(t,{},async()=>{const r=Eg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await XM(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&wg(t.emulatorConfig.host)&&(u.credentials="include"),WM.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kK(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=tO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await DK(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Pm;return r&&(lt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(lt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pm,this.toJSON())}_performRefresh(){return Xc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sc{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new PK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new WA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ad(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IK(this,e)}reload(){return OK(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ty(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await ad(this,TK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:E,stsTokenManager:A}=n;lt(p&&A,e,"internal-error");const S=Pm.fromJSON(this.name,A);lt(typeof p=="string",e,"internal-error"),ef(r,e.name),ef(i,e.name),lt(typeof y=="boolean",e,"internal-error"),lt(typeof v=="boolean",e,"internal-error"),ef(a,e.name),ef(s,e.name),ef(l,e.name),ef(u,e.name),ef(d,e.name),ef(f,e.name);const I=new sc({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return E&&Array.isArray(E)&&(I.providerData=E.map(q=>({...q}))),u&&(I._redirectEventId=u),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pm;i.updateFromServerResponse(n);const a=new sc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ty(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Pm;l.updateFromIdToken(r);const u=new sc({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new WA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new Map;function Wo(t){uc(t instanceof Function,"Expected a class definition");let e=nO.get(t);return e?(uc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e9.type="NONE";const Gm=e9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){return`firebase:${t}:${e}:${n}`}class Om{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,a),this.fullPersistenceKey=kh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await r2(this.auth,{idToken:e}).catch(()=>{});return n?sc._fromGetAccountInfoResponse(this.auth,n,e):null}return sc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Om(Wo(Gm),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Wo(Gm);const s=kh(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(s);if(f){let p;if(typeof f=="string"){const y=await r2(e,{idToken:f}).catch(()=>{});if(!y)break;p=await sc._fromGetAccountInfoResponse(e,y,f)}else p=sc._fromJSON(e,f);d!==a&&(l=p),a=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Om(a,e,r):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Om(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a9(e))return"Blackberry";if(s9(e))return"Webos";if(n9(e))return"Safari";if((e.includes("chrome/")||r9(e))&&!e.includes("edge/"))return"Chrome";if(h0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function t9(t=bi()){return/firefox\//i.test(t)}function n9(t=bi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r9(t=bi()){return/crios\//i.test(t)}function i9(t=bi()){return/iemobile/i.test(t)}function h0(t=bi()){return/android/i.test(t)}function a9(t=bi()){return/blackberry/i.test(t)}function s9(t=bi()){return/webos/i.test(t)}function p0(t=bi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jK(t=bi()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function LK(t=bi()){var e;return p0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function MK(){return CM()&&document.documentMode===10}function o9(t=bi()){return p0(t)||h0(t)||s9(t)||a9(t)||/windows phone/i.test(t)||i9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t,e=[]){let n;switch(t){case"Browser":n=rO(bi());break;case"Worker":n=`${rO(bi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UK(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=6;class VK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iO(this),this.idTokenSubscription=new iO(this),this.beforeStateQueue=new FK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wo(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Om.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await r2(this,{idToken:e}),r=await sc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(oi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ty(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(qa(this));const n=e?on(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UK(this),n=new VK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wo(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Om.create(this,[Wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xi(t){return on(t)}class iO{constructor(e){this.auth=e,this.observer=null,this.addObserver=RM(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qK(t){m0=t}function aN(t){return m0.loadJS(t)}function HK(){return m0.recaptchaV2Script}function $K(){return m0.recaptchaEnterpriseScript}function GK(){return m0.gapiScript}function c9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=500,WK=6e4,K1=1e12;class KK{constructor(e){this.auth=e,this.counter=K1,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new JK(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||K1;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||K1;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||K1;return(r=this._widgets.get(n))==null||r.execute(),""}}class XK{constructor(){this.enterprise=new QK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JK{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;lt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=ZK(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},WK)},YK))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function ZK(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const eX="recaptcha-enterprise",iy="NO_RECAPTCHA";class u9{constructor(e){this.type=eX,this.auth=xi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{JM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new QM(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(u=>{l(u)})})}function i(a,s,l){const u=window.grecaptcha;eO(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(iy)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XK().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&eO(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$K();u.length!==0&&(u+=l),aN(u).then(()=>{i(l,a,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function Cv(t,e,n,r=!1,i=!1){const a=new u9(t);let s;if(i)s=iy;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function yf(t,e,n,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Cv(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Cv(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const l=await Cv(t,e,n);return r(t,l).catch(async u=>{var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=await Cv(t,e,n,!1,!0);return r(t,f)}return Promise.reject(u)})}else{const l=await Cv(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(i+" provider is not supported.")}async function tX(t){const e=xi(t),n=await JM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new QM(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new u9(e).verify()}function nX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rX(t,e,n){const r=xi(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=d9(e),{host:s,port:l}=iX(e),u=l===null?"":`:${l}`,d={url:`${a}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(Ef(d,r.config.emulator)&&Ef(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,wg(s)?(SM(`${a}//${s}${u}`),TM("Auth",!0)):i||aX()}function d9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iX(t){const e=d9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:aO(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:aO(s)}}}function aO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xc("not implemented")}_getIdTokenResponse(e){return Xc("not implemented")}_linkToIdToken(e,n){return Xc("not implemented")}_getReauthenticationResolver(e){return Xc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return Oi(t,"POST","/v1/accounts:resetPassword",Pi(t,e))}async function sX(t,e){return Oi(t,"POST","/v1/accounts:update",e)}async function oX(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}async function lX(t,e){return Oi(t,"POST","/v1/accounts:update",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cX(t,e){return md(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}async function Tx(t,e){return Oi(t,"POST","/v1/accounts:sendOobCode",Pi(t,e))}async function uX(t,e){return Tx(t,e)}async function dX(t,e){return Tx(t,e)}async function fX(t,e){return Tx(t,e)}async function hX(t,e){return Tx(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pX(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function mX(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends Sg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ny(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ny(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yf(e,n,"signInWithPassword",cX,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return pX(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yf(e,r,"signUpPassword",oX,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return mX(e,{idToken:n,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e){return md(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX="http://localhost";class ou extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ou(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new ou(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}buildRequest(){const e={requestUri:gX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return Oi(t,"POST","/v1/accounts:sendVerificationCode",Pi(t,e))}async function vX(t,e){return md(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,e))}async function yX(t,e){const n=await md(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,e));if(n.temporaryProof)throw Yv(t,"account-exists-with-different-credential",n);return n}const bX={USER_NOT_FOUND:"user-not-found"};async function xX(t,e){const n={...e,operation:"REAUTH"};return md(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,n),bX)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Sg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new jh({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new jh({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return vX(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return yX(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return xX(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new jh({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wX(t){const e=Sm(Gv(t)).link,n=e?Sm(Gv(e)).deep_link_id:null,r=Sm(Gv(t)).deep_link_id;return(r?Sm(Gv(r)).link:null)||r||n||e||t}class Nx{constructor(e){const n=Sm(Gv(e)),r=n.apiKey??null,i=n.oobCode??null,a=_X(n.mode??null);lt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wX(e);try{return new Nx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.providerId=Vf.PROVIDER_ID}static credential(e,n){return Ny._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nx.parseLink(n);return lt(r,"argument-error"),Ny._fromEmailAndCode(e,r.code,r.tenantId)}}Vf.PROVIDER_ID="password";Vf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends gd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rm extends Tg{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return lt("providerId"in n&&"signInMethod"in n,"argument-error"),ou._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return lt(e.idToken||e.accessToken,"argument-error"),ou._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Rm.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rm.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:l}=e;if(!r&&!i&&!n&&!a||!l)return null;try{return new Rm(l)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Tg{constructor(){super("facebook.com")}static credential(e){return ou._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch{return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com";$c.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Tg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ou._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gc.credential(n,r)}catch{return null}}}Gc.GOOGLE_SIGN_IN_METHOD="google.com";Gc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Tg{constructor(){super("github.com")}static credential(e){return ou._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yc.credential(e.oauthAccessToken)}catch{return null}}}Yc.GITHUB_SIGN_IN_METHOD="github.com";Yc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX="http://localhost";class Ym extends Sg{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ed(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ed(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ed(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new Ym(r,a)}static _create(e,n){return new Ym(e,n)}buildRequest(){return{requestUri:EX,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX="saml.";class i2 extends gd{constructor(e){lt(e.startsWith(AX),"argument-error"),super(e)}static credentialFromResult(e){return i2.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return i2.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ym.fromJSON(e);return lt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ym._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Tg{constructor(){super("twitter.com")}static credential(e,n){return ou._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wc.credential(n,r)}catch{return null}}}Wc.TWITTER_SIGN_IN_METHOD="twitter.com";Wc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return md(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await sc._fromIdTokenResponse(e,r,i),s=oO(r);return new Cl({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oO(r);return new Cl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SX(t){var i;if(oi(t.app))return Promise.reject(qa(t));const e=xi(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Cl({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await h9(e,{returnSecureToken:!0}),r=await Cl._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends Ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,a2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new a2(e,n,r,i)}}function p9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?a2._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TX(t,e){const n=on(t);await Ix(!0,n,e);const{providerUserInfo:r}=await NK(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=m9(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function sN(t,e,n=!1){const r=await ad(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cl._forOperation(t,"link",r)}async function Ix(t,e,n){await Ty(e);const r=m9(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";lt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(qa(r));const i="reauthenticate";try{const a=await ad(t,p9(r,i,e,t),n);lt(a.idToken,r,"internal-error");const s=Sx(a.idToken);lt(s,r,"internal-error");const{sub:l}=s;return lt(t.uid===l,r,"user-mismatch"),Cl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&us(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e,n=!1){if(oi(t.app))return Promise.reject(qa(t));const r="signIn",i=await p9(t,r,e),a=await Cl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Cx(t,e){return v9(xi(t),e)}async function y9(t,e){const n=on(t);return await Ix(!1,n,e.providerId),sN(n,e)}async function b9(t,e){return g9(on(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NX(t,e){return md(t,"POST","/v1/accounts:signInWithCustomToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IX(t,e){if(oi(t.app))return Promise.reject(qa(t));const n=xi(t),r=await NX(n,{token:e,returnSecureToken:!0}),i=await Cl._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?oN._fromServerResponse(e,n):"totpInfo"in n?lN._fromServerResponse(e,n):us(e,"internal-error")}}class oN extends g0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new oN(n)}}class lN extends g0{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new lN(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e,n){var r;lt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),lt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),lt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(lt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(lt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t){const e=xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CX(t,e,n){const r=xi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Px(r,i,n),await yf(r,i,"getOobCode",dX,"EMAIL_PASSWORD_PROVIDER")}async function PX(t,e,n){await f9(on(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cN(t),r})}async function OX(t,e){await lX(on(t),{oobCode:e})}async function x9(t,e){const n=on(t),r=await f9(n,{oobCode:e}),i=r.requestType;switch(lt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":lt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":lt(r.mfaInfo,n,"internal-error");default:lt(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=g0._fromServerResponse(xi(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function RX(t,e){const{data:n}=await x9(on(t),e);return n.email}async function DX(t,e,n){if(oi(t.app))return Promise.reject(qa(t));const r=xi(t),s=await yf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h9,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&cN(t),u}),l=await Cl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function kX(t,e,n){return oi(t.app)?Promise.reject(qa(t)):Cx(on(t),Vf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jX(t,e,n){const r=xi(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,l){lt(l.handleCodeInApp,r,"argument-error"),l&&Px(r,s,l)}a(i,n),await yf(r,i,"getOobCode",fX,"EMAIL_PASSWORD_PROVIDER")}function LX(t,e){const n=Nx.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function MX(t,e,n){if(oi(t.app))return Promise.reject(qa(t));const r=on(t),i=Vf.credentialWithLink(e,n||Sy());return lt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Cx(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FX(t,e){return Oi(t,"POST","/v1/accounts:createAuthUri",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UX(t,e){const n=rN()?Sy():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await FX(on(t),r);return i||[]}async function BX(t,e){const n=on(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Px(n.auth,i,e);const{email:a}=await uX(n.auth,i);a!==t.email&&await t.reload()}async function VX(t,e,n){const r=on(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Px(r.auth,a,n);const{email:s}=await hX(r.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zX(t,e){return Oi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qX(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=on(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ad(r,zX(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function HX(t,e){const n=on(t);return oi(n.auth.app)?Promise.reject(qa(n.auth)):_9(n,e,null)}function $X(t,e){return _9(on(t),null,e)}async function _9(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const s=await ad(t,sX(r,a));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(a=(i=Sx(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(s){const l=s!=="anonymous"&&s!=="custom"?s:null;return new Dm(r,l)}}if(!e)return null;switch(e){case"facebook.com":return new YX(r,n);case"github.com":return new WX(r,n);case"google.com":return new KX(r,n);case"twitter.com":return new XX(r,n,t.screenName||null);case"custom":case"anonymous":return new Dm(r,null);default:return new Dm(r,e,n)}}class Dm{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class w9 extends Dm{constructor(e,n,r,i){super(e,n,r),this.username=i}}class YX extends Dm{constructor(e,n){super(e,"facebook.com",n)}}class WX extends w9{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class KX extends Dm{constructor(e,n){super(e,"google.com",n)}}class XX extends w9{constructor(e,n,r){super(e,"twitter.com",n,r)}}function QX(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:GX(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Nh("enroll",e,n)}static _fromMfaPendingCredential(e){return new Nh("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Nh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Nh._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=xi(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(l=>g0._fromServerResponse(r,l));lt(i.mfaPendingCredential,r,"internal-error");const s=Nh._fromMfaPendingCredential(i.mfaPendingCredential);return new uN(s,a,async l=>{const u=await l._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const d={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(n.operationType){case"signIn":const f=await Cl._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(f.user),f;case"reauthenticate":return lt(n.user,r,"internal-error"),Cl._forOperation(n.user,n.operationType,d);default:us(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function JX(t,e){var i;const n=on(t),r=e;return lt(e.customData.operationType,n,"argument-error"),lt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),uN._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){return Oi(t,"POST","/v2/accounts/mfaEnrollment:start",Pi(t,e))}function ZX(t,e){return Oi(t,"POST","/v2/accounts/mfaEnrollment:finalize",Pi(t,e))}function eQ(t,e){return Oi(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Pi(t,e))}class dN{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>g0._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new dN(e)}async getSession(){return Nh._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await ad(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ad(this.user,eQ(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const A5=new WeakMap;function tQ(t){const e=on(t);return A5.has(e)||A5.set(e,dN._fromUser(e)),A5.get(e)}const s2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(s2,"1"),this.storage.removeItem(s2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ=1e3,rQ=10;class A9 extends E9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);MK()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A9.type="LOCAL";const fN=A9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9 extends E9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S9.type="SESSION";const qh=S9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ox(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async d=>d(n.origin,a)),u=await iQ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ox.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const d=v0("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function sQ(t){na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function oQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function cQ(){return hN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="firebaseLocalStorageDb",uQ=1,o2="firebaseLocalStorage",N9="fbase_key";class y0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rx(t,e){return t.transaction([o2],e?"readwrite":"readonly").objectStore(o2)}function dQ(){const t=indexedDB.deleteDatabase(T9);return new y0(t).toPromise()}function KA(){const t=indexedDB.open(T9,uQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(o2,{keyPath:N9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(o2)?e(r):(r.close(),await dQ(),e(await KA()))})})}async function cO(t,e,n){const r=Rx(t,!0).put({[N9]:e,value:n});return new y0(r).toPromise()}async function fQ(t,e){const n=Rx(t,!1).get(e),r=await new y0(n).toPromise();return r===void 0?null:r.value}function uO(t,e){const n=Rx(t,!0).delete(e);return new y0(n).toPromise()}const hQ=800,pQ=3;class I9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await KA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ox._getInstance(cQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oQ(),!this.activeServiceWorker)return;this.sender=new aQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await KA();return await cO(e,s2,"1"),await uO(e,s2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Rx(i,!1).getAll();return new y0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I9.type="LOCAL";const Iy=I9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t,e){return Oi(t,"POST","/v2/accounts/mfaSignIn:start",Pi(t,e))}function mQ(t,e){return Oi(t,"POST","/v2/accounts/mfaSignIn:finalize",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=c9("rcb"),gQ=new f0(3e4,6e4);class vQ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=na().grecaptcha)!=null&&e.render)}load(e,n=""){return lt(yQ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ZP(na().grecaptcha)?Promise.resolve(na().grecaptcha):new Promise((r,i)=>{const a=na().setTimeout(()=>{i(_a(e,"network-request-failed"))},gQ.get());na()[S5]=()=>{na().clearTimeout(a),delete na()[S5];const l=na().grecaptcha;if(!l||!ZP(l)){i(_a(e,"internal-error"));return}const u=l.render;l.render=(d,f)=>{const p=u(d,f);return this.counter++,p},this.hostLanguage=n,r(l)};const s=`${HK()}?${Eg({onload:S5,render:"explicit",hl:n})}`;aN(s).catch(()=>{clearTimeout(a),i(_a(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=na().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function yQ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class bQ{async load(e){return new KK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="recaptcha",xQ={theme:"light",type:"image"};let _Q=class{constructor(e,n,r={...xQ}){this.parameters=r,this.type=ay,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xi(e),this.isInvisible=this.parameters.size==="invisible",lt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;lt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bQ:new vQ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){lt(!this.parameters.sitekey,this.auth,"argument-error"),lt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),lt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=na()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){lt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){lt(rN()&&!hN(),this.auth,"internal-error"),await wQ(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await SK(this.auth);lt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return lt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function wQ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=jh._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function EQ(t,e,n){if(oi(t.app))return Promise.reject(qa(t));const r=xi(t),i=await Dx(r,e,on(n));return new pN(i,a=>Cx(r,a))}async function AQ(t,e,n){const r=on(t);await Ix(!1,r,"phone");const i=await Dx(r.auth,e,on(n));return new pN(i,a=>y9(r,a))}async function SQ(t,e,n){const r=on(t);if(oi(r.auth.app))return Promise.reject(qa(r.auth));const i=await Dx(r.auth,e,on(n));return new pN(i,a=>b9(r,a))}async function Dx(t,e,n){var r;if(!t._getRecaptchaConfig())try{await tX(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){lt(a.type==="enroll",t,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await yf(t,s,"mfaSmsEnrollment",async(f,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===iy){lt((n==null?void 0:n.type)===ay,f,"argument-error");const y=await T5(f,p,n);return lO(f,y)}return lO(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{lt(a.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;lt(s,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await yf(t,l,"mfaSmsSignIn",async(p,y)=>{if(y.phoneSignInInfo.captchaResponse===iy){lt((n==null?void 0:n.type)===ay,p,"argument-error");const v=await T5(p,y,n);return dO(p,v)}return dO(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await yf(t,a,"sendVerificationCode",async(d,f)=>{if(f.captchaResponse===iy){lt((n==null?void 0:n.type)===ay,d,"argument-error");const p=await T5(d,f,n);return sO(d,p)}return sO(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n==null||n._reset()}}async function TQ(t,e){const n=on(t);if(oi(n.auth.app))return Promise.reject(qa(n.auth));await sN(n,e)}async function T5(t,e,n){lt(n.type===ay,t,"argument-error");const r=await n.verify();lt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=class Cb{constructor(e){this.providerId=Cb.PROVIDER_ID,this.auth=xi(e)}verifyPhoneNumber(e,n){return Dx(this.auth,e,on(n))}static credential(e,n){return jh._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Cb.credentialFromTaggedObject(n)}static credentialFromError(e){return Cb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?jh._fromTokenResponse(n,r):null}};Hh.PROVIDER_ID="phone";Hh.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e){return e?Wo(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ed(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ed(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NQ(t){return v9(t.auth,new mN(t),t.bypassAuthState)}function IQ(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),g9(n,new mN(t),t.bypassAuthState)}async function CQ(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),sN(n,new mN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NQ;case"linkViaPopup":case"linkViaRedirect":return CQ;case"reauthViaPopup":case"reauthViaRedirect":return IQ;default:us(this.auth,"internal-error")}}resolve(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=new f0(2e3,1e4);async function OQ(t,e,n){if(oi(t.app))return Promise.reject(_a(t,"operation-not-supported-in-this-environment"));const r=xi(t);Ag(t,e,gd);const i=hp(r,n);return new Ku(r,"signInViaPopup",e,i).executeNotNull()}async function RQ(t,e,n){const r=on(t);if(oi(r.auth.app))return Promise.reject(_a(r.auth,"operation-not-supported-in-this-environment"));Ag(r.auth,e,gd);const i=hp(r.auth,n);return new Ku(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function DQ(t,e,n){const r=on(t);Ag(r.auth,e,gd);const i=hp(r.auth,n);return new Ku(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ku extends C9{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ku.currentPopupAction&&Ku.currentPopupAction.cancel(),Ku.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){uc(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ku.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PQ.get())};e()}}Ku.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ="pendingRedirect",sy=new Map;class jQ extends C9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sy.get(this.auth._key());if(!e){try{const r=await LQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sy.set(this.auth._key(),e)}return this.bypassAuthState||sy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LQ(t,e){const n=O9(e),r=P9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function gN(t,e){return P9(t)._set(O9(e),"true")}function MQ(){sy.clear()}function vN(t,e){sy.set(t._key(),e)}function P9(t){return Wo(t._redirectPersistence)}function O9(t){return kh(kQ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t,e,n){return UQ(t,e,n)}async function UQ(t,e,n){if(oi(t.app))return Promise.reject(qa(t));const r=xi(t);Ag(t,e,gd),await r._initializationPromise;const i=hp(r,n);return await gN(i,r),i._openRedirect(r,e,"signInViaRedirect")}function BQ(t,e,n){return VQ(t,e,n)}async function VQ(t,e,n){const r=on(t);if(Ag(r.auth,e,gd),oi(r.auth.app))return Promise.reject(qa(r.auth));await r.auth._initializationPromise;const i=hp(r.auth,n);await gN(i,r.auth);const a=await R9(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function zQ(t,e,n){return qQ(t,e,n)}async function qQ(t,e,n){const r=on(t);Ag(r.auth,e,gd),await r.auth._initializationPromise;const i=hp(r.auth,n);await Ix(!1,r,e.providerId),await gN(i,r.auth);const a=await R9(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function HQ(t,e){return await xi(t)._initializationPromise,kx(t,e,!1)}async function kx(t,e,n=!1){if(oi(t.app))return Promise.reject(qa(t));const r=xi(t),i=hp(r,e),s=await new jQ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function R9(t){const e=v0(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=600*1e3;class D9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!k9(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_a(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$Q&&this.cachedEventUids.clear(),this.cachedEventUids.has(fO(e))}saveEventToCache(e){this.cachedEventUids.add(fO(e)),this.lastProcessedEventTime=Date.now()}}function fO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e={}){return Oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WQ=/^https?/;async function KQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j9(t);for(const n of e)try{if(XQ(n))return}catch{}us(t,"unauthorized-domain")}function XQ(t){const e=Sy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!WQ.test(n))return!1;if(YQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ=new f0(3e4,6e4);function hO(){const t=na().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JQ(t){return new Promise((e,n)=>{var i,a,s;function r(){hO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hO(),n(_a(t,"network-request-failed"))},timeout:QQ.get()})}if((a=(i=na().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=na().gapi)!=null&&s.load)r();else{const l=c9("iframefcb");return na()[l]=()=>{gapi.load?r():n(_a(t,"network-request-failed"))},aN(`${GK()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Pb=null,e})}let Pb=null;function ZQ(t){return Pb=Pb||JQ(t),Pb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ=new f0(5e3,15e3),tJ="__/auth/iframe",nJ="emulator/auth/iframe",rJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aJ(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iN(e,nJ):`https://${t.config.authDomain}/${tJ}`,r={apiKey:e.apiKey,appName:t.name,v:Bf},i=iJ.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Eg(r).slice(1)}`}async function sJ(t){const e=await ZQ(t),n=na().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:aJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rJ,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=_a(t,"network-request-failed"),l=na().setTimeout(()=>{a(s)},eJ.get());function u(){na().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lJ=500,cJ=600,uJ="_blank",dJ="http://localhost";class pO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fJ(t,e,n,r=lJ,i=cJ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...oJ,width:r.toString(),height:i.toString(),top:a,left:s},d=bi().toLowerCase();n&&(l=r9(d)?uJ:n),t9(d)&&(e=e||dJ,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(LK(d)&&l!=="_self")return hJ(e||"",l),new pO(null);const p=window.open(e||"",l,f);lt(p,t,"popup-blocked");try{p.focus()}catch{}return new pO(p)}function hJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ="__/auth/handler",mJ="emulator/auth/handler",gJ=encodeURIComponent("fac");async function XA(t,e,n,r,i,a){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bf,eventId:i};if(e instanceof gd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qY(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(a||{}))s[f]=p}if(e instanceof Tg){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${gJ}=${encodeURIComponent(u)}`:"";return`${vJ(t)}?${Eg(l).slice(1)}${d}`}function vJ({config:t}){return t.emulator?iN(t,mJ):`https://${t.authDomain}/${pJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="webStorageSupport";class yJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qh,this._completeRedirectFn=kx,this._overrideRedirectResult=vN}async _openPopup(e,n,r,i){var s;uc((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await XA(e,n,r,Sy(),i);return fJ(e,a,v0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await XA(e,n,r,Sy(),i);return sQ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(uc(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sJ(e),r=new D9(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(N5,{type:N5},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[N5];a!==void 0&&n(!!a),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o9()||n9()||p0()}}const bJ=yJ;class xJ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Xc("unexpected MultiFactorSessionType")}}}class yN extends xJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new yN(e)}_finalizeEnroll(e,n,r){return ZX(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return mQ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class L9{constructor(){}static assertion(e){return yN._fromCredential(e)}}L9.FACTOR_ID="phone";var mO="@firebase/auth",gO="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EJ(t){Tf(new su("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;lt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l9(t)},d=new zK(r,i,a,u);return nX(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tf(new su("auth-internal",e=>{const n=xi(e.getProvider("auth").getImmediate());return(r=>new _J(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oc(mO,gO,wJ(t)),oc(mO,gO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=300;OY("authIdTokenMaxAge");function SJ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}qK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=_a("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",SJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EJ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=2e3;async function NJ(t,e,n){const{BuildInfo:r}=$h();uc(e.sessionId,"AuthEvent did not contain a session ID");const i=await RJ(e.sessionId),a={};return p0()?a.ibi=r.packageName:h0()?a.apn=r.packageName:us(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,XA(t,n,e.type,void 0,e.eventId??void 0,a)}async function IJ(t){const{BuildInfo:e}=$h(),n={};p0()?n.iosBundleId=e.packageName:h0()?n.androidPackageName=e.packageName:us(t,"operation-not-supported-in-this-environment"),await j9(t,n)}function CJ(t){const{cordova:e}=$h();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,jK()?"_blank":"_system","location=yes"),n(i)})})}async function PJ(t,e,n){const{cordova:r}=$h();let i=()=>{};try{await new Promise((a,s)=>{let l=null;function u(){var y;a();const p=(y=r.plugins.browsertab)==null?void 0:y.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){l||(l=window.setTimeout(()=>{s(_a(t,"redirect-cancelled-by-user"))},TJ))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(u),document.addEventListener("resume",d,!1),h0()&&document.addEventListener("visibilitychange",f,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),l&&window.clearTimeout(l)}})}finally{i()}}function OJ(t){var n,r,i,a,s,l,u,d,f,p;const e=$h();lt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),lt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),lt(typeof((s=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),lt(typeof((d=(u=(l=e==null?void 0:e.cordova)==null?void 0:l.plugins)==null?void 0:u.browsertab)==null?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),lt(typeof((p=(f=e==null?void 0:e.cordova)==null?void 0:f.InAppBrowser)==null?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function RJ(t){const e=DJ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function DJ(t){if(uc(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ=20;class jJ extends D9{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function LJ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:UJ(),postBody:null,tenantId:t.tenantId,error:_a(t,"no-auth-event")}}function MJ(t,e){return QA()._set(JA(t),e)}async function vO(t){const e=await QA()._get(JA(t));return e&&await QA()._remove(JA(t)),e}function FJ(t,e){var r,i;const n=VJ(e);if(n.includes("/__/auth/callback")){const a=Ob(n),s=a.firebaseError?BJ(decodeURIComponent(a.firebaseError)):null,l=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=l?_a(l):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function UJ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<kJ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function QA(){return Wo(fN)}function JA(t){return kh("authEvent",t.config.apiKey,t.name)}function BJ(t){try{return JSON.parse(t)}catch{return null}}function VJ(t){const e=Ob(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ob(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ob(i).link||i||r||n||t}function Ob(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Sm(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=500;class qJ{constructor(){this._redirectPersistence=qh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kx,this._overrideRedirectResult=vN}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new jJ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){us(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){OJ(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),MQ(),await this._originValidation(e);const s=LJ(e,r,i);await MJ(e,s);const l=await NJ(e,s,n),u=await CJ(l);return PJ(e,a,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=$h(),s=setTimeout(async()=>{await vO(e),n.onEvent(yO())},zJ),l=async f=>{clearTimeout(s);const p=await vO(e);let y=null;p&&(f!=null&&f.url)&&(y=FJ(p,f.url)),n.onEvent(y||yO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const u=i,d=`${a.packageName.toLowerCase()}://`;$h().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&l({url:f}),typeof u=="function")try{u(f)}catch(p){console.error(p)}}}}const HJ=qJ;function yO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_a("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(t,e){xi(t)._logFramework(e)}var GJ="@firebase/auth-compat",YJ="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=1e3;function oy(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function KJ(){return oy()==="http:"||oy()==="https:"}function M9(t=bi()){return!!((oy()==="file:"||oy()==="ionic:"||oy()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function XJ(){return KT()||Ex()}function QJ(){return CM()&&(document==null?void 0:document.documentMode)===11}function JJ(t=bi()){return/Edge\/\d+/.test(t)}function ZJ(t=bi()){return QJ()||JJ(t)}function F9(){try{const t=self.localStorage,e=v0();if(t)return t.setItem(e,"1"),t.removeItem(e),ZJ()?wy():!0}catch{return bN()&&wy()}return!1}function bN(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function I5(){return(KJ()||IM()||M9())&&!XJ()&&F9()&&!bN()}function U9(){return M9()&&typeof document<"u"}async function eZ(){return U9()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},WJ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function tZ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go={LOCAL:"local",NONE:"none",SESSION:"session"},Pv=lt,B9="persistence";function nZ(t,e){if(Pv(Object.values(Go).includes(e),t,"invalid-persistence-type"),KT()){Pv(e!==Go.SESSION,t,"unsupported-persistence-type");return}if(Ex()){Pv(e===Go.NONE,t,"unsupported-persistence-type");return}if(bN()){Pv(e===Go.NONE||e===Go.LOCAL&&wy(),t,"unsupported-persistence-type");return}Pv(e===Go.NONE||F9(),t,"unsupported-persistence-type")}async function ZA(t){await t._initializationPromise;const e=V9(),n=kh(B9,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function rZ(t,e){const n=V9();if(!n)return[];const r=kh(B9,t,e);switch(n.getItem(r)){case Go.NONE:return[Gm];case Go.LOCAL:return[Iy,qh];case Go.SESSION:return[qh];default:return[]}}function V9(){var t;try{return((t=tZ())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iZ=lt;class ff{constructor(){this.browserResolver=Wo(bJ),this.cordovaResolver=Wo(HJ),this.underlyingResolver=null,this._redirectPersistence=qh,this._completeRedirectFn=kx,this._overrideRedirectResult=vN}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return U9()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return iZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await eZ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){return t.unwrap()}function aZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(t){return q9(t)}function oZ(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new lZ(t,JX(t,e))}else if(n){const i=q9(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function q9(t){const{_tokenResponse:e}=t instanceof Ws?t.customData:t;if(!e)return null;if(!(t instanceof Ws)&&"temporaryProof"in e&&"phoneNumber"in e)return Hh.credentialFromResult(t);const n=e.providerId;if(!n||n===Iv.PASSWORD)return null;let r;switch(n){case Iv.GOOGLE:r=Gc;break;case Iv.FACEBOOK:r=$c;break;case Iv.GITHUB:r=Yc;break;case Iv.TWITTER:r=Wc;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:s,pendingToken:l,nonce:u}=e;return!a&&!s&&!i&&!l?null:l?n.startsWith("saml.")?Ym._create(n,l):ou._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:i,accessToken:a}):new Rm(n).credential({idToken:i,accessToken:a,rawNonce:u})}return t instanceof Ws?r.credentialFromError(t):r.credentialFromResult(t)}function wo(t,e){return e.catch(n=>{throw n instanceof Ws&&oZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:sZ(n),additionalUserInfo:QX(n),user:jx.getOrCreate(i)}})}async function eS(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>wo(t,n.confirm(r))}}class lZ{constructor(e,n){this.resolver=n,this.auth=aZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return wo(z9(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jx=class Wv{constructor(e){this._delegate=e,this.multiFactor=tQ(e)}static getOrCreate(e){return Wv.USER_MAP.has(e)||Wv.USER_MAP.set(e,new Wv(e)),Wv.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return wo(this.auth,y9(this._delegate,e))}async linkWithPhoneNumber(e,n){return eS(this.auth,AQ(this._delegate,e,n))}async linkWithPopup(e){return wo(this.auth,DQ(this._delegate,e,ff))}async linkWithRedirect(e){return await ZA(xi(this.auth)),zQ(this._delegate,e,ff)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return wo(this.auth,b9(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return eS(this.auth,SQ(this._delegate,e,n))}reauthenticateWithPopup(e){return wo(this.auth,RQ(this._delegate,e,ff))}async reauthenticateWithRedirect(e){return await ZA(xi(this.auth)),BQ(this._delegate,e,ff)}sendEmailVerification(e){return BX(this._delegate,e)}async unlink(e){return await TX(this._delegate,e),this}updateEmail(e){return HX(this._delegate,e)}updatePassword(e){return $X(this._delegate,e)}updatePhoneNumber(e){return TQ(this._delegate,e)}updateProfile(e){return qX(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return VX(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};jx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=lt;class tS{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ov(r,"invalid-api-key",{appName:e.name}),Ov(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ff:void 0;this._delegate=n.initialize({options:{persistence:cZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(mK),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){rX(this._delegate,e,n)}applyActionCode(e){return OX(this._delegate,e)}checkActionCode(e){return x9(this._delegate,e)}confirmPasswordReset(e,n){return PX(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return wo(this._delegate,DX(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return UX(this._delegate,e)}isSignInWithEmailLink(e){return LX(this._delegate,e)}async getRedirectResult(){Ov(I5(),this._delegate,"operation-not-supported-in-this-environment");const e=await HQ(this._delegate,ff);return e?wo(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){$J(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:s}=bO(e,n,r);return this._delegate.onAuthStateChanged(i,a,s)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:s}=bO(e,n,r);return this._delegate.onIdTokenChanged(i,a,s)}sendSignInLinkToEmail(e,n){return jX(this._delegate,e,n)}sendPasswordResetEmail(e,n){return CX(this._delegate,e,n||void 0)}async setPersistence(e){nZ(this._delegate,e);let n;switch(e){case Go.SESSION:n=qh;break;case Go.LOCAL:n=await Wo(Iy)._isAvailable()?Iy:fN;break;case Go.NONE:n=Gm;break;default:return us("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return wo(this._delegate,SX(this._delegate))}signInWithCredential(e){return wo(this._delegate,Cx(this._delegate,e))}signInWithCustomToken(e){return wo(this._delegate,IX(this._delegate,e))}signInWithEmailAndPassword(e,n){return wo(this._delegate,kX(this._delegate,e,n))}signInWithEmailLink(e,n){return wo(this._delegate,MX(this._delegate,e,n))}signInWithPhoneNumber(e,n){return eS(this._delegate,EQ(this._delegate,e,n))}async signInWithPopup(e){return Ov(I5(),this._delegate,"operation-not-supported-in-this-environment"),wo(this._delegate,OQ(this._delegate,e,ff))}async signInWithRedirect(e){return Ov(I5(),this._delegate,"operation-not-supported-in-this-environment"),await ZA(this._delegate),FQ(this._delegate,e,ff)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return RX(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}tS.Persistence=Go;function bO(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&jx.getOrCreate(s)),error:e,complete:n}}function cZ(t,e){const n=rZ(t,e);if(typeof self<"u"&&!n.includes(Iy)&&n.push(Iy),typeof window<"u")for(const r of[fN,qh])n.includes(r)||n.push(r);return n.includes(Gm)||n.push(Gm),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{static credential(e,n){return Hh.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Hh(z9(id.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}xN.PHONE_SIGN_IN_METHOD=Hh.PHONE_SIGN_IN_METHOD;xN.PROVIDER_ID=Hh.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ=lt;class dZ{constructor(e,n,r=id.app()){var i;uZ((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new _Q(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="auth-compat";function hZ(t){t.INTERNAL.registerComponent(new su(fZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new tS(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rm.EMAIL_SIGNIN,PASSWORD_RESET:rm.PASSWORD_RESET,RECOVER_EMAIL:rm.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:rm.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:rm.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:rm.VERIFY_EMAIL}},EmailAuthProvider:Vf,FacebookAuthProvider:$c,GithubAuthProvider:Yc,GoogleAuthProvider:Gc,OAuthProvider:Rm,SAMLAuthProvider:i2,PhoneAuthProvider:xN,PhoneMultiFactorGenerator:L9,RecaptchaVerifier:dZ,TwitterAuthProvider:Wc,Auth:tS,AuthCredential:Sg,Error:Ws}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(GJ,YJ)}hZ(id);var xO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bf,H9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,j){function D(){}D.prototype=j.prototype,L.F=j.prototype,L.prototype=new D,L.prototype.constructor=L,L.D=function(G,P,F){for(var V=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)V[ee-2]=arguments[ee];return j.prototype[P].apply(G,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,j,D){D||(D=0);const G=Array(16);if(typeof j=="string")for(var P=0;P<16;++P)G[P]=j.charCodeAt(D++)|j.charCodeAt(D++)<<8|j.charCodeAt(D++)<<16|j.charCodeAt(D++)<<24;else for(P=0;P<16;++P)G[P]=j[D++]|j[D++]<<8|j[D++]<<16|j[D++]<<24;j=L.g[0],D=L.g[1],P=L.g[2];let F=L.g[3],V;V=j+(F^D&(P^F))+G[0]+3614090360&4294967295,j=D+(V<<7&4294967295|V>>>25),V=F+(P^j&(D^P))+G[1]+3905402710&4294967295,F=j+(V<<12&4294967295|V>>>20),V=P+(D^F&(j^D))+G[2]+606105819&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(j^P&(F^j))+G[3]+3250441966&4294967295,D=P+(V<<22&4294967295|V>>>10),V=j+(F^D&(P^F))+G[4]+4118548399&4294967295,j=D+(V<<7&4294967295|V>>>25),V=F+(P^j&(D^P))+G[5]+1200080426&4294967295,F=j+(V<<12&4294967295|V>>>20),V=P+(D^F&(j^D))+G[6]+2821735955&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(j^P&(F^j))+G[7]+4249261313&4294967295,D=P+(V<<22&4294967295|V>>>10),V=j+(F^D&(P^F))+G[8]+1770035416&4294967295,j=D+(V<<7&4294967295|V>>>25),V=F+(P^j&(D^P))+G[9]+2336552879&4294967295,F=j+(V<<12&4294967295|V>>>20),V=P+(D^F&(j^D))+G[10]+4294925233&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(j^P&(F^j))+G[11]+2304563134&4294967295,D=P+(V<<22&4294967295|V>>>10),V=j+(F^D&(P^F))+G[12]+1804603682&4294967295,j=D+(V<<7&4294967295|V>>>25),V=F+(P^j&(D^P))+G[13]+4254626195&4294967295,F=j+(V<<12&4294967295|V>>>20),V=P+(D^F&(j^D))+G[14]+2792965006&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(j^P&(F^j))+G[15]+1236535329&4294967295,D=P+(V<<22&4294967295|V>>>10),V=j+(P^F&(D^P))+G[1]+4129170786&4294967295,j=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(j^D))+G[6]+3225465664&4294967295,F=j+(V<<9&4294967295|V>>>23),V=P+(j^D&(F^j))+G[11]+643717713&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^j&(P^F))+G[0]+3921069994&4294967295,D=P+(V<<20&4294967295|V>>>12),V=j+(P^F&(D^P))+G[5]+3593408605&4294967295,j=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(j^D))+G[10]+38016083&4294967295,F=j+(V<<9&4294967295|V>>>23),V=P+(j^D&(F^j))+G[15]+3634488961&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^j&(P^F))+G[4]+3889429448&4294967295,D=P+(V<<20&4294967295|V>>>12),V=j+(P^F&(D^P))+G[9]+568446438&4294967295,j=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(j^D))+G[14]+3275163606&4294967295,F=j+(V<<9&4294967295|V>>>23),V=P+(j^D&(F^j))+G[3]+4107603335&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^j&(P^F))+G[8]+1163531501&4294967295,D=P+(V<<20&4294967295|V>>>12),V=j+(P^F&(D^P))+G[13]+2850285829&4294967295,j=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(j^D))+G[2]+4243563512&4294967295,F=j+(V<<9&4294967295|V>>>23),V=P+(j^D&(F^j))+G[7]+1735328473&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^j&(P^F))+G[12]+2368359562&4294967295,D=P+(V<<20&4294967295|V>>>12),V=j+(D^P^F)+G[5]+4294588738&4294967295,j=D+(V<<4&4294967295|V>>>28),V=F+(j^D^P)+G[8]+2272392833&4294967295,F=j+(V<<11&4294967295|V>>>21),V=P+(F^j^D)+G[11]+1839030562&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^j)+G[14]+4259657740&4294967295,D=P+(V<<23&4294967295|V>>>9),V=j+(D^P^F)+G[1]+2763975236&4294967295,j=D+(V<<4&4294967295|V>>>28),V=F+(j^D^P)+G[4]+1272893353&4294967295,F=j+(V<<11&4294967295|V>>>21),V=P+(F^j^D)+G[7]+4139469664&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^j)+G[10]+3200236656&4294967295,D=P+(V<<23&4294967295|V>>>9),V=j+(D^P^F)+G[13]+681279174&4294967295,j=D+(V<<4&4294967295|V>>>28),V=F+(j^D^P)+G[0]+3936430074&4294967295,F=j+(V<<11&4294967295|V>>>21),V=P+(F^j^D)+G[3]+3572445317&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^j)+G[6]+76029189&4294967295,D=P+(V<<23&4294967295|V>>>9),V=j+(D^P^F)+G[9]+3654602809&4294967295,j=D+(V<<4&4294967295|V>>>28),V=F+(j^D^P)+G[12]+3873151461&4294967295,F=j+(V<<11&4294967295|V>>>21),V=P+(F^j^D)+G[15]+530742520&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^j)+G[2]+3299628645&4294967295,D=P+(V<<23&4294967295|V>>>9),V=j+(P^(D|~F))+G[0]+4096336452&4294967295,j=D+(V<<6&4294967295|V>>>26),V=F+(D^(j|~P))+G[7]+1126891415&4294967295,F=j+(V<<10&4294967295|V>>>22),V=P+(j^(F|~D))+G[14]+2878612391&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~j))+G[5]+4237533241&4294967295,D=P+(V<<21&4294967295|V>>>11),V=j+(P^(D|~F))+G[12]+1700485571&4294967295,j=D+(V<<6&4294967295|V>>>26),V=F+(D^(j|~P))+G[3]+2399980690&4294967295,F=j+(V<<10&4294967295|V>>>22),V=P+(j^(F|~D))+G[10]+4293915773&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~j))+G[1]+2240044497&4294967295,D=P+(V<<21&4294967295|V>>>11),V=j+(P^(D|~F))+G[8]+1873313359&4294967295,j=D+(V<<6&4294967295|V>>>26),V=F+(D^(j|~P))+G[15]+4264355552&4294967295,F=j+(V<<10&4294967295|V>>>22),V=P+(j^(F|~D))+G[6]+2734768916&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~j))+G[13]+1309151649&4294967295,D=P+(V<<21&4294967295|V>>>11),V=j+(P^(D|~F))+G[4]+4149444226&4294967295,j=D+(V<<6&4294967295|V>>>26),V=F+(D^(j|~P))+G[11]+3174756917&4294967295,F=j+(V<<10&4294967295|V>>>22),V=P+(j^(F|~D))+G[2]+718787259&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~j))+G[9]+3951481745&4294967295,L.g[0]=L.g[0]+j&4294967295,L.g[1]=L.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,L.g[2]=L.g[2]+P&4294967295,L.g[3]=L.g[3]+F&4294967295}r.prototype.v=function(L,j){j===void 0&&(j=L.length);const D=j-this.blockSize,G=this.C;let P=this.h,F=0;for(;F<j;){if(P==0)for(;F<=D;)i(this,L,F),F+=this.blockSize;if(typeof L=="string"){for(;F<j;)if(G[P++]=L.charCodeAt(F++),P==this.blockSize){i(this,G),P=0;break}}else for(;F<j;)if(G[P++]=L[F++],P==this.blockSize){i(this,G),P=0;break}}this.h=P,this.o+=j},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var j=1;j<L.length-8;++j)L[j]=0;j=this.o*8;for(var D=L.length-8;D<L.length;++D)L[D]=j&255,j/=256;for(this.v(L),L=Array(16),j=0,D=0;D<4;++D)for(let G=0;G<32;G+=8)L[j++]=this.g[D]>>>G&255;return L};function a(L,j){var D=l;return Object.prototype.hasOwnProperty.call(D,L)?D[L]:D[L]=j(L)}function s(L,j){this.h=j;const D=[];let G=!0;for(let P=L.length-1;P>=0;P--){const F=L[P]|0;G&&F==j||(D[P]=F,G=!1)}this.g=D}var l={};function u(L){return-128<=L&&L<128?a(L,function(j){return new s([j|0],j<0?-1:0)}):new s([L|0],L<0?-1:0)}function d(L){if(isNaN(L)||!isFinite(L))return p;if(L<0)return S(d(-L));const j=[];let D=1;for(let G=0;L>=D;G++)j[G]=L/D|0,D*=4294967296;return new s(j,0)}function f(L,j){if(L.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(L.charAt(0)=="-")return S(f(L.substring(1),j));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(j,8));let G=p;for(let F=0;F<L.length;F+=8){var P=Math.min(8,L.length-F);const V=parseInt(L.substring(F,F+P),j);P<8?(P=d(Math.pow(j,P)),G=G.j(P).add(d(V))):(G=G.j(D),G=G.add(d(V)))}return G}var p=u(0),y=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-S(this).m();let L=0,j=1;for(let D=0;D<this.g.length;D++){const G=this.i(D);L+=(G>=0?G:4294967296+G)*j,j*=4294967296}return L},t.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(E(this))return"0";if(A(this))return"-"+S(this).toString(L);const j=d(Math.pow(L,6));var D=this;let G="";for(;;){const P=B(D,j).g;D=I(D,P.j(j));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(L);if(D=P,E(D))return F+G;for(;F.length<6;)F="0"+F;G=F+G}},t.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function E(L){if(L.h!=0)return!1;for(let j=0;j<L.g.length;j++)if(L.g[j]!=0)return!1;return!0}function A(L){return L.h==-1}t.l=function(L){return L=I(this,L),A(L)?-1:E(L)?0:1};function S(L){const j=L.g.length,D=[];for(let G=0;G<j;G++)D[G]=~L.g[G];return new s(D,~L.h).add(y)}t.abs=function(){return A(this)?S(this):this},t.add=function(L){const j=Math.max(this.g.length,L.g.length),D=[];let G=0;for(let P=0;P<=j;P++){let F=G+(this.i(P)&65535)+(L.i(P)&65535),V=(F>>>16)+(this.i(P)>>>16)+(L.i(P)>>>16);G=V>>>16,F&=65535,V&=65535,D[P]=V<<16|F}return new s(D,D[D.length-1]&-2147483648?-1:0)};function I(L,j){return L.add(S(j))}t.j=function(L){if(E(this)||E(L))return p;if(A(this))return A(L)?S(this).j(S(L)):S(S(this).j(L));if(A(L))return S(this.j(S(L)));if(this.l(v)<0&&L.l(v)<0)return d(this.m()*L.m());const j=this.g.length+L.g.length,D=[];for(var G=0;G<2*j;G++)D[G]=0;for(G=0;G<this.g.length;G++)for(let P=0;P<L.g.length;P++){const F=this.i(G)>>>16,V=this.i(G)&65535,ee=L.i(P)>>>16,ge=L.i(P)&65535;D[2*G+2*P]+=V*ge,q(D,2*G+2*P),D[2*G+2*P+1]+=F*ge,q(D,2*G+2*P+1),D[2*G+2*P+1]+=V*ee,q(D,2*G+2*P+1),D[2*G+2*P+2]+=F*ee,q(D,2*G+2*P+2)}for(L=0;L<j;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=j;L<2*j;L++)D[L]=0;return new s(D,0)};function q(L,j){for(;(L[j]&65535)!=L[j];)L[j+1]+=L[j]>>>16,L[j]&=65535,j++}function k(L,j){this.g=L,this.h=j}function B(L,j){if(E(j))throw Error("division by zero");if(E(L))return new k(p,p);if(A(L))return j=B(S(L),j),new k(S(j.g),S(j.h));if(A(j))return j=B(L,S(j)),new k(S(j.g),j.h);if(L.g.length>30){if(A(L)||A(j))throw Error("slowDivide_ only works with positive integers.");for(var D=y,G=j;G.l(L)<=0;)D=$(D),G=$(G);var P=K(D,1),F=K(G,1);for(G=K(G,2),D=K(D,2);!E(G);){var V=F.add(G);V.l(L)<=0&&(P=P.add(D),F=V),G=K(G,1),D=K(D,1)}return j=I(L,P.j(j)),new k(P,j)}for(P=p;L.l(j)>=0;){for(D=Math.max(1,Math.floor(L.m()/j.m())),G=Math.ceil(Math.log(D)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),F=d(D),V=F.j(j);A(V)||V.l(L)>0;)D-=G,F=d(D),V=F.j(j);E(F)&&(F=y),P=P.add(F),L=I(L,V)}return new k(P,L)}t.B=function(L){return B(this,L).h},t.and=function(L){const j=Math.max(this.g.length,L.g.length),D=[];for(let G=0;G<j;G++)D[G]=this.i(G)&L.i(G);return new s(D,this.h&L.h)},t.or=function(L){const j=Math.max(this.g.length,L.g.length),D=[];for(let G=0;G<j;G++)D[G]=this.i(G)|L.i(G);return new s(D,this.h|L.h)},t.xor=function(L){const j=Math.max(this.g.length,L.g.length),D=[];for(let G=0;G<j;G++)D[G]=this.i(G)^L.i(G);return new s(D,this.h^L.h)};function $(L){const j=L.g.length+1,D=[];for(let G=0;G<j;G++)D[G]=L.i(G)<<1|L.i(G-1)>>>31;return new s(D,L.h)}function K(L,j){const D=j>>5;j%=32;const G=L.g.length-D,P=[];for(let F=0;F<G;F++)P[F]=j>0?L.i(F+D)>>>j|L.i(F+D+1)<<32-j:L.i(F+D);return new s(P,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,H9=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,bf=s}).apply(typeof xO<"u"?xO:typeof self<"u"?self:typeof window<"u"?window:{});var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $9,Kv,G9,Rb,nS,Y9,W9,K9;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof X1=="object"&&X1];for(var R=0;R<x.length;++R){var H=x[R];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(x,R){if(R)e:{var H=r;x=x.split(".");for(var ie=0;ie<x.length-1;ie++){var Ne=x[ie];if(!(Ne in H))break e;H=H[Ne]}x=x[x.length-1],ie=H[x],R=R(ie),R!=ie&&R!=null&&e(H,x,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(R){var H=[],ie;for(ie in R)Object.prototype.hasOwnProperty.call(R,ie)&&H.push([ie,R[ie]]);return H}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(x){var R=typeof x;return R=="object"&&x!=null||R=="function"}function u(x,R,H){return x.call.apply(x.bind,arguments)}function d(x,R,H){return d=u,d.apply(null,arguments)}function f(x,R){var H=Array.prototype.slice.call(arguments,1);return function(){var ie=H.slice();return ie.push.apply(ie,arguments),x.apply(this,ie)}}function p(x,R){function H(){}H.prototype=R.prototype,x.Z=R.prototype,x.prototype=new H,x.prototype.constructor=x,x.Ob=function(ie,Ne,Le){for(var ut=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)ut[fn-2]=arguments[fn];return R.prototype[Ne].apply(ie,ut)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function v(x){const R=x.length;if(R>0){const H=Array(R);for(let ie=0;ie<R;ie++)H[ie]=x[ie];return H}return[]}function E(x,R){for(let ie=1;ie<arguments.length;ie++){const Ne=arguments[ie];var H=typeof Ne;if(H=H!="object"?H:Ne?Array.isArray(Ne)?"array":H:"null",H=="array"||H=="object"&&typeof Ne.length=="number"){H=x.length||0;const Le=Ne.length||0;x.length=H+Le;for(let ut=0;ut<Le;ut++)x[H+ut]=Ne[ut]}else x.push(Ne)}}class A{constructor(R,H){this.i=R,this.j=H,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function S(x){s.setTimeout(()=>{throw x},0)}function I(){var x=L;let R=null;return x.g&&(R=x.g,x.g=x.g.next,x.g||(x.h=null),R.next=null),R}class q{constructor(){this.h=this.g=null}add(R,H){const ie=k.get();ie.set(R,H),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var k=new A(()=>new B,x=>x.reset());class B{constructor(){this.next=this.g=this.h=null}set(R,H){this.h=R,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,L=new q,j=()=>{const x=Promise.resolve(void 0);$=()=>{x.then(D)}};function D(){for(var x;x=I();){try{x.h.call(x.g)}catch(H){S(H)}var R=k;R.j(x),R.h<100&&(R.h++,x.next=R.g,R.g=x)}K=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(x,R){this.type=x,this.g=this.target=R,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var x=!1,R=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const H=()=>{};s.addEventListener("test",H,R),s.removeEventListener("test",H,R)}catch{}return x})();function V(x){return/^[\s\xa0]*$/.test(x)}function ee(x,R){P.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,R)}p(ee,P),ee.prototype.init=function(x,R){const H=this.type=x.type,ie=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=R,R=x.relatedTarget,R||(H=="mouseover"?R=x.fromElement:H=="mouseout"&&(R=x.toElement)),this.relatedTarget=R,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),se=0;function fe(x,R,H,ie,Ne){this.listener=x,this.proxy=null,this.src=R,this.type=H,this.capture=!!ie,this.ha=Ne,this.key=++se,this.da=this.fa=!1}function me(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function xe(x,R,H){for(const ie in x)R.call(H,x[ie],ie,x)}function Ue(x,R){for(const H in x)R.call(void 0,x[H],H,x)}function ne(x){const R={};for(const H in x)R[H]=x[H];return R}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(x,R){let H,ie;for(let Ne=1;Ne<arguments.length;Ne++){ie=arguments[Ne];for(H in ie)x[H]=ie[H];for(let Le=0;Le<M.length;Le++)H=M[Le],Object.prototype.hasOwnProperty.call(ie,H)&&(x[H]=ie[H])}}function Z(x){this.src=x,this.g={},this.h=0}Z.prototype.add=function(x,R,H,ie,Ne){const Le=x.toString();x=this.g[Le],x||(x=this.g[Le]=[],this.h++);const ut=pe(x,R,ie,Ne);return ut>-1?(R=x[ut],H||(R.fa=!1)):(R=new fe(R,this.src,Le,!!ie,Ne),R.fa=H,x.push(R)),R};function de(x,R){const H=R.type;if(H in x.g){var ie=x.g[H],Ne=Array.prototype.indexOf.call(ie,R,void 0),Le;(Le=Ne>=0)&&Array.prototype.splice.call(ie,Ne,1),Le&&(me(R),x.g[H].length==0&&(delete x.g[H],x.h--))}}function pe(x,R,H,ie){for(let Ne=0;Ne<x.length;++Ne){const Le=x[Ne];if(!Le.da&&Le.listener==R&&Le.capture==!!H&&Le.ha==ie)return Ne}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Pe={};function he(x,R,H,ie,Ne){if(Array.isArray(R)){for(let Le=0;Le<R.length;Le++)he(x,R[Le],H,ie,Ne);return null}return H=yt(H),x&&x[ge]?x.J(R,H,l(ie)?!!ie.capture:!1,Ne):Ce(x,R,H,!1,ie,Ne)}function Ce(x,R,H,ie,Ne,Le){if(!R)throw Error("Invalid event type");const ut=l(Ne)?!!Ne.capture:!!Ne;let fn=Xe(x);if(fn||(x[ye]=fn=new Z(x)),H=fn.add(R,H,ie,ut,Le),H.proxy)return H;if(ie=Ve(),H.proxy=ie,ie.src=x,ie.listener=H,x.addEventListener)F||(Ne=ut),Ne===void 0&&(Ne=!1),x.addEventListener(R.toString(),ie,Ne);else if(x.attachEvent)x.attachEvent(it(R.toString()),ie);else if(x.addListener&&x.removeListener)x.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Ve(){function x(H){return R.call(x.src,x.listener,H)}const R=oe;return x}function Se(x,R,H,ie,Ne){if(Array.isArray(R))for(var Le=0;Le<R.length;Le++)Se(x,R[Le],H,ie,Ne);else ie=l(ie)?!!ie.capture:!!ie,H=yt(H),x&&x[ge]?(x=x.i,Le=String(R).toString(),Le in x.g&&(R=x.g[Le],H=pe(R,H,ie,Ne),H>-1&&(me(R[H]),Array.prototype.splice.call(R,H,1),R.length==0&&(delete x.g[Le],x.h--)))):x&&(x=Xe(x))&&(R=x.g[R.toString()],x=-1,R&&(x=pe(R,H,ie,Ne)),(H=x>-1?R[x]:null)&&rt(H))}function rt(x){if(typeof x!="number"&&x&&!x.da){var R=x.src;if(R&&R[ge])de(R.i,x);else{var H=x.type,ie=x.proxy;R.removeEventListener?R.removeEventListener(H,ie,x.capture):R.detachEvent?R.detachEvent(it(H),ie):R.addListener&&R.removeListener&&R.removeListener(ie),(H=Xe(R))?(de(H,x),H.h==0&&(H.src=null,R[ye]=null)):me(x)}}}function it(x){return x in Pe?Pe[x]:Pe[x]="on"+x}function oe(x,R){if(x.da)x=!0;else{R=new ee(R,this);const H=x.listener,ie=x.ha||x.src;x.fa&&rt(x),x=H.call(ie,R)}return x}function Xe(x){return x=x[ye],x instanceof Z?x:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(x){return typeof x=="function"?x:(x[Nt]||(x[Nt]=function(R){return x.handleEvent(R)}),x[Nt])}function qe(){G.call(this),this.i=new Z(this),this.M=this,this.G=null}p(qe,G),qe.prototype[ge]=!0,qe.prototype.removeEventListener=function(x,R,H,ie){Se(this,x,R,H,ie)};function ht(x,R){var H,ie=x.G;if(ie)for(H=[];ie;ie=ie.G)H.push(ie);if(x=x.M,ie=R.type||R,typeof R=="string")R=new P(R,x);else if(R instanceof P)R.target=R.target||x;else{var Ne=R;R=new P(ie,x),X(R,Ne)}Ne=!0;let Le,ut;if(H)for(ut=H.length-1;ut>=0;ut--)Le=R.g=H[ut],Ne=vt(Le,ie,!0,R)&&Ne;if(Le=R.g=x,Ne=vt(Le,ie,!0,R)&&Ne,Ne=vt(Le,ie,!1,R)&&Ne,H)for(ut=0;ut<H.length;ut++)Le=R.g=H[ut],Ne=vt(Le,ie,!1,R)&&Ne}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var x=this.i;for(const R in x.g){const H=x.g[R];for(let ie=0;ie<H.length;ie++)me(H[ie]);delete x.g[R],x.h--}}this.G=null},qe.prototype.J=function(x,R,H,ie){return this.i.add(String(x),R,!1,H,ie)},qe.prototype.K=function(x,R,H,ie){return this.i.add(String(x),R,!0,H,ie)};function vt(x,R,H,ie){if(R=x.i.g[String(R)],!R)return!0;R=R.concat();let Ne=!0;for(let Le=0;Le<R.length;++Le){const ut=R[Le];if(ut&&!ut.da&&ut.capture==H){const fn=ut.listener,Ar=ut.ha||ut.src;ut.fa&&de(x.i,ut),Ne=fn.call(Ar,ie)!==!1&&Ne}}return Ne&&!ie.defaultPrevented}function Bt(x,R){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:s.setTimeout(x,R||0)}function Rt(x){x.g=Bt(()=>{x.g=null,x.i&&(x.i=!1,Rt(x))},x.l);const R=x.h;x.h=null,x.m.apply(null,R)}class cn extends G{constructor(R,H){super(),this.m=R,this.l=H,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(x){G.call(this),this.h=x,this.g={}}p(dn,G);var Jt=[];function gn(x){xe(x.g,function(R,H){this.g.hasOwnProperty(H)&&rt(R)},x),x.g={}}dn.prototype.N=function(){dn.Z.N.call(this),gn(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=s.JSON.stringify,dt=s.JSON.parse,Et=class{stringify(x){return s.JSON.stringify(x,void 0)}parse(x){return s.JSON.parse(x,void 0)}};function Fe(){}function wn(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function It(){P.call(this,"d")}p(It,P);function Mt(){P.call(this,"c")}p(Mt,P);var nn={},xt=null;function un(){return xt=xt||new qe}nn.Ia="serverreachability";function _t(x){P.call(this,nn.Ia,x)}p(_t,P);function zt(x){const R=un();ht(R,new _t(R))}nn.STAT_EVENT="statevent";function Tn(x,R){P.call(this,nn.STAT_EVENT,x),this.stat=R}p(Tn,P);function ft(x){const R=un();ht(R,new Tn(R,x))}nn.Ja="timingevent";function gt(x,R){P.call(this,nn.Ja,x),this.size=R}p(gt,P);function Kt(x,R){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){x()},R)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Mr(x,R,H,ie,Ne,Le){x.info(function(){if(x.g)if(Le){var ut="",fn=Le.split("&");for(let An=0;An<fn.length;An++){var Ar=fn[An].split("=");if(Ar.length>1){const Zn=Ar[0];Ar=Ar[1];const Qi=Zn.split("_");ut=Qi.length>=2&&Qi[1]=="type"?ut+(Zn+"="+Ar+"&"):ut+(Zn+"=redacted&")}}}else ut=null;else ut=Le;return"XMLHTTP REQ ("+ie+") [attempt "+Ne+"]: "+R+`
`+H+`
`+ut})}function oa(x,R,H,ie,Ne,Le,ut){x.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Ne+"]: "+R+`
`+H+`
`+Le+" "+ut})}function di(x,R,H,ie){x.info(function(){return"XMLHTTP TEXT ("+R+"): "+js(x,H)+(ie?" "+ie:"")})}function qt(x,R){x.info(function(){return"TIMEOUT: "+R})}Gn.prototype.info=function(){};function js(x,R){if(!x.g)return R;if(!R)return null;try{const Le=JSON.parse(R);if(Le){for(x=0;x<Le.length;x++)if(Array.isArray(Le[x])){var H=Le[x];if(!(H.length<2)){var ie=H[1];if(Array.isArray(ie)&&!(ie.length<1)){var Ne=ie[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(let ut=1;ut<ie.length;ut++)ie[ut]=""}}}}return st(Le)}catch{return R}}var Ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Di={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ki;function Xn(){}p(Xn,Fe),Xn.prototype.g=function(){return new XMLHttpRequest},ki=new Xn;function cr(x){return encodeURIComponent(String(x))}function Xr(x){var R=1;x=x.split(":");const H=[];for(;R>0&&x.length;)H.push(x.shift()),R--;return x.length&&H.push(x.join(":")),H}function ji(x,R,H,ie){this.j=x,this.i=R,this.l=H,this.S=ie||1,this.V=new dn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Vn={},ir={};function Qr(x,R,H){x.M=1,x.A=rl(Zr(R)),x.u=H,x.R=!0,Wi(x,null)}function Wi(x,R){x.F=Date.now(),Li(x),x.B=Zr(x.A);var H=x.B,ie=x.S;Array.isArray(ie)||(ie=[String(ie)]),bc(H.i,"t",ie),x.C=0,H=x.j.L,x.h=new fi,x.g=Tt(x.j,H?R:null,!x.u),x.P>0&&(x.O=new cn(d(x.Y,x,x.g),x.P)),R=x.V,H=x.g,ie=x.ba;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(Jt[0]=Ne.toString()),Ne=Jt);for(let Le=0;Le<Ne.length;Le++){const ut=he(H,Ne[Le],ie||R.handleEvent,!1,R.h||R);if(!ut)break;R.g[ut.key]=ut}R=x.J?ne(x.J):{},x.u?(x.v||(x.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,R)):(x.v="GET",x.g.ea(x.B,x.v,null,R)),zt(),Mr(x.i,x.v,x.B,x.l,x.S,x.u)}ji.prototype.ba=function(x){x=x.target;const R=this.O;R&&Ka(x)==3?R.j():this.Y(x)},ji.prototype.Y=function(x){try{if(x==this.g)e:{const fn=Ka(this.g),Ar=this.g.ya(),An=this.g.ca();if(!(fn<3)&&(fn!=3||this.g&&(this.h.h||this.g.la()||pi(this.g)))){this.K||fn!=4||Ar==7||(Ar==8||An<=0?zt(3):zt(2)),nt(this);var R=this.g.ca();this.X=R;var H=Ca(this);if(this.o=R==200,oa(this.i,this.v,this.B,this.l,this.S,fn,R),this.o){if(this.U&&!this.L){t:{if(this.g){var ie,Ne=this.g;if((ie=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ie)){var Le=ie;break t}}Le=null}if(x=Le)di(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qn(this,x);else{this.o=!1,this.m=3,ft(12),hr(this),rn(this);break e}}if(this.R){x=!0;let Zn;for(;!this.K&&this.C<H.length;)if(Zn=$a(this,H),Zn==ir){fn==4&&(this.m=4,ft(14),x=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Vn){this.m=4,ft(15),di(this.i,this.l,H,"[Invalid Chunk]"),x=!1;break}else di(this.i,this.l,Zn,null),Qn(this,Zn);if(Js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||H.length!=0||this.h.h||(this.m=1,ft(16),x=!1),this.o=this.o&&x,!x)di(this.i,this.l,H,"[Invalid Chunked Response]"),hr(this),rn(this);else if(H.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Ec(ut),ut.P=!0,ft(11))}}else di(this.i,this.l,H,null),Qn(this,H);fn==4&&hr(this),this.o&&!this.K&&(fn==4?ce(this.j,this):(this.o=!1,Li(this)))}else Zs(this.g),R==400&&H.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),hr(this),rn(this)}}}catch{}finally{}};function Ca(x){if(!Js(x))return x.g.la();const R=pi(x.g);if(R==="")return"";let H="";const ie=R.length,Ne=Ka(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return hr(x),rn(x),"";x.h.i=new s.TextDecoder}for(let Le=0;Le<ie;Le++)x.h.h=!0,H+=x.h.i.decode(R[Le],{stream:!(Ne&&Le==ie-1)});return R.length=0,x.h.g+=H,x.C=0,x.h.g}function Js(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function $a(x,R){var H=x.C,ie=R.indexOf(`
`,H);return ie==-1?ir:(H=Number(R.substring(H,ie)),isNaN(H)?Vn:(ie+=1,ie+H>R.length?ir:(R=R.slice(ie,ie+H),x.C=ie+H,R)))}ji.prototype.cancel=function(){this.K=!0,hr(this)};function Li(x){x.T=Date.now()+x.H,ms(x,x.H)}function ms(x,R){if(x.D!=null)throw Error("WatchDog timer not null");x.D=Kt(d(x.aa,x),R)}function nt(x){x.D&&(s.clearTimeout(x.D),x.D=null)}ji.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(qt(this.i,this.B),this.M!=2&&(zt(),ft(17)),hr(this),this.m=2,rn(this)):ms(this,this.T-x)};function rn(x){x.j.I==0||x.K||ce(x.j,x)}function hr(x){nt(x);var R=x.O;R&&typeof R.dispose=="function"&&R.dispose(),x.O=null,gn(x.V),x.g&&(R=x.g,x.g=null,R.abort(),R.dispose())}function Qn(x,R){try{var H=x.j;if(H.I!=0&&(H.g==x||la(H.h,x))){if(!x.L&&la(H.h,x)&&H.I==3){try{var ie=H.Ba.g.parse(R)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Ne=ie;if(Ne[0]==0){e:if(!H.v){if(H.g)if(H.g.F+3e3<x.F)Y(H),to(H);else break e;Fs(H),ft(18)}}else H.xa=Ne[1],0<H.xa-H.K&&Ne[2]<37500&&H.F&&H.A==0&&!H.C&&(H.C=Kt(d(H.Va,H),6e3));Yn(H.h)<=1&&H.ta&&(H.ta=void 0)}else Ae(H,11)}else if((x.L||H.g==x)&&Y(H),!V(R))for(Ne=H.Ba.g.parse(R),R=0;R<Ne.length;R++){let An=Ne[R];const Zn=An[0];if(!(Zn<=H.K))if(H.K=Zn,An=An[1],H.I==2)if(An[0]=="c"){H.M=An[1],H.ba=An[2];const Qi=An[3];Qi!=null&&(H.ka=Qi,H.j.info("VER="+H.ka));const ua=An[4];ua!=null&&(H.za=ua,H.j.info("SVER="+H.za));const pr=An[5];pr!=null&&typeof pr=="number"&&pr>0&&(ie=1.5*pr,H.O=ie,H.j.info("backChannelRequestTimeoutMs_="+ie)),ie=H;const da=x.g;if(da){const Us=da.g?da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var Le=ie.h;Le.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(vs(Le,Le.h),Le.h=null))}if(ie.G){const ll=da.g?da.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(ie.wa=ll,jn(ie.J,ie.G,ll))}}H.I=3,H.l&&H.l.ra(),H.aa&&(H.T=Date.now()-x.F,H.j.info("Handshake RTT: "+H.T+"ms")),ie=H;var ut=x;if(ie.na=et(ie,ie.L?ie.ba:null,ie.W),ut.L){vc(ie.h,ut);var fn=ut,Ar=ie.O;Ar&&(fn.H=Ar),fn.D&&(nt(fn),Li(fn)),ie.g=ut}else Eu(ie);H.i.length>0&&bs(H)}else An[0]!="stop"&&An[0]!="close"||Ae(H,7);else H.I==3&&(An[0]=="stop"||An[0]=="close"?An[0]=="stop"?Ae(H,7):ol(H):An[0]!="noop"&&H.l&&H.l.qa(An),H.A=0)}}zt(4)}catch{}}var ur=class{constructor(x,R){this.g=x,this.map=R}};function gs(x){this.l=x||10,s.PerformanceNavigationTiming?(x=s.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jr(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function Yn(x){return x.h?1:x.g?x.g.size:0}function la(x,R){return x.h?x.h==R:x.g?x.g.has(R):!1}function vs(x,R){x.g?x.g.add(R):x.h=R}function vc(x,R){x.h&&x.h==R?x.h=null:x.g&&x.g.has(R)&&x.g.delete(R)}gs.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function yc(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let R=x.i;for(const H of x.g.values())R=R.concat(H.G);return R}return v(x.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(x,R){if(x){x=x.split("&");for(let H=0;H<x.length;H++){const ie=x[H].indexOf("=");let Ne,Le=null;ie>=0?(Ne=x[H].substring(0,ie),Le=x[H].substring(ie+1)):Ne=x[H],R(Ne,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function Ki(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;x instanceof Ki?(this.l=x.l,Nn(this,x.j),this.o=x.o,this.g=x.g,Co(this,x.u),this.h=x.h,ys(this,xc(x.i)),this.m=x.m):x&&(R=String(x).match(vu))?(this.l=!1,Nn(this,R[1]||"",!0),this.o=hi(R[2]||""),this.g=hi(R[3]||"",!0),Co(this,R[4]),this.h=hi(R[5]||"",!0),ys(this,R[6]||"",!0),this.m=hi(R[7]||"")):(this.l=!1,this.i=new Po(null,this.l))}Ki.prototype.toString=function(){const x=[];var R=this.j;R&&x.push(Or(R,Ll,!0),":");var H=this.g;return(H||R=="file")&&(x.push("//"),(R=this.o)&&x.push(Or(R,Ll,!0),"@"),x.push(cr(H).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.u,H!=null&&x.push(":",String(H))),(H=this.h)&&(this.g&&H.charAt(0)!="/"&&x.push("/"),x.push(Or(H,H.charAt(0)=="/"?yu:Sd,!0))),(H=this.i.toString())&&x.push("?",H),(H=this.m)&&x.push("#",Or(H,bu)),x.join("")},Ki.prototype.resolve=function(x){const R=Zr(this);let H=!!x.j;H?Nn(R,x.j):H=!!x.o,H?R.o=x.o:H=!!x.g,H?R.g=x.g:H=x.u!=null;var ie=x.h;if(H)Co(R,x.u);else if(H=!!x.h){if(ie.charAt(0)!="/")if(this.g&&!this.h)ie="/"+ie;else{var Ne=R.h.lastIndexOf("/");Ne!=-1&&(ie=R.h.slice(0,Ne+1)+ie)}if(Ne=ie,Ne==".."||Ne==".")ie="";else if(Ne.indexOf("./")!=-1||Ne.indexOf("/.")!=-1){ie=Ne.lastIndexOf("/",0)==0,Ne=Ne.split("/");const Le=[];for(let ut=0;ut<Ne.length;){const fn=Ne[ut++];fn=="."?ie&&ut==Ne.length&&Le.push(""):fn==".."?((Le.length>1||Le.length==1&&Le[0]!="")&&Le.pop(),ie&&ut==Ne.length&&Le.push("")):(Le.push(fn),ie=!0)}ie=Le.join("/")}else ie=Ne}return H?R.h=ie:H=x.i.toString()!=="",H?ys(R,xc(x.i)):H=!!x.m,H&&(R.m=x.m),R};function Zr(x){return new Ki(x)}function Nn(x,R,H){x.j=H?hi(R,!0):R,x.j&&(x.j=x.j.replace(/:$/,""))}function Co(x,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);x.u=R}else x.u=null}function ys(x,R,H){R instanceof Po?(x.i=R,Pa(x.i,x.l)):(H||(R=Or(R,ca)),x.i=new Po(R,x.l))}function jn(x,R,H){x.i.set(R,H)}function rl(x){return jn(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function hi(x,R){return x?R?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Or(x,R,H){return typeof x=="string"?(x=encodeURI(x).replace(R,ei),H&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ei(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Ll=/[#\/\?@]/g,Sd=/[#\?:]/g,yu=/[#\?]/g,ca=/[#\?@]/g,bu=/#/g;function Po(x,R){this.h=this.g=null,this.i=x||null,this.j=!!R}function Mi(x){x.g||(x.g=new Map,x.h=0,x.i&&Ga(x.i,function(R,H){x.add(decodeURIComponent(R.replace(/\+/g," ")),H)}))}t=Po.prototype,t.add=function(x,R){Mi(this),this.i=null,x=Oo(this,x);let H=this.g.get(x);return H||this.g.set(x,H=[]),H.push(R),this.h+=1,this};function il(x,R){Mi(x),R=Oo(x,R),x.g.has(R)&&(x.i=null,x.h-=x.g.get(R).length,x.g.delete(R))}function xu(x,R){return Mi(x),R=Oo(x,R),x.g.has(R)}t.forEach=function(x,R){Mi(this),this.g.forEach(function(H,ie){H.forEach(function(Ne){x.call(R,Ne,ie,this)},this)},this)};function _u(x,R){Mi(x);let H=[];if(typeof R=="string")xu(x,R)&&(H=H.concat(x.g.get(Oo(x,R))));else for(x=Array.from(x.g.values()),R=0;R<x.length;R++)H=H.concat(x[R]);return H}t.set=function(x,R){return Mi(this),this.i=null,x=Oo(this,x),xu(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[R]),this.h+=1,this},t.get=function(x,R){return x?(x=_u(this,x),x.length>0?String(x[0]):R):R};function bc(x,R,H){il(x,R),H.length>0&&(x.i=null,x.g.set(Oo(x,R),v(H)),x.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],R=Array.from(this.g.keys());for(let ie=0;ie<R.length;ie++){var H=R[ie];const Ne=cr(H);H=_u(this,H);for(let Le=0;Le<H.length;Le++){let ut=Ne;H[Le]!==""&&(ut+="="+cr(H[Le])),x.push(ut)}}return this.i=x.join("&")};function xc(x){const R=new Po;return R.i=x.i,x.g&&(R.g=new Map(x.g),R.h=x.h),R}function Oo(x,R){return R=String(R),x.j&&(R=R.toLowerCase()),R}function Pa(x,R){R&&!x.j&&(Mi(x),x.i=null,x.g.forEach(function(H,ie){const Ne=ie.toLowerCase();ie!=Ne&&(il(this,ie),bc(this,Ne,H))},x)),x.j=R}function Ls(x,R){const H=new Gn;if(s.Image){const ie=new Image;ie.onload=f(Oa,H,"TestLoadImage: loaded",!0,R,ie),ie.onerror=f(Oa,H,"TestLoadImage: error",!1,R,ie),ie.onabort=f(Oa,H,"TestLoadImage: abort",!1,R,ie),ie.ontimeout=f(Oa,H,"TestLoadImage: timeout",!1,R,ie),s.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=x}else R(!1)}function Ro(x,R){const H=new Gn,ie=new AbortController,Ne=setTimeout(()=>{ie.abort(),Oa(H,"TestPingServer: timeout",!1,R)},1e4);fetch(x,{signal:ie.signal}).then(Le=>{clearTimeout(Ne),Le.ok?Oa(H,"TestPingServer: ok",!0,R):Oa(H,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ne),Oa(H,"TestPingServer: error",!1,R)})}function Oa(x,R,H,ie,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),ie(H)}catch{}}function al(){this.g=new Et}function Xt(x){this.i=x.Sb||null,this.h=x.ab||!1}p(Xt,Fe),Xt.prototype.g=function(){return new Ml(this.i,this.h)};function Ml(x,R){qe.call(this),this.H=x,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ml,qe),t=Ml.prototype,t.open=function(x,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=R,this.readyState=1,Fi(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(R.body=x),(this.H||s).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_c(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function _c(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var R=x.value?x.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!x.done}))&&(this.response=this.responseText+=R)}x.done?sl(this):Fi(this),this.readyState==3&&_c(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,sl(this))},t.Na=function(x){this.g&&(this.response=x,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Fi(x)}t.setRequestHeader=function(x,R){this.A.append(x,R)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],R=this.h.entries();for(var H=R.next();!H.done;)H=H.value,x.push(H[0]+": "+H[1]),H=R.next();return x.join(`\r
`)};function Fi(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function _i(x){let R="";return xe(x,function(H,ie){R+=ie,R+=":",R+=H,R+=`\r
`}),R}function Fl(x,R,H){e:{for(ie in H){var ie=!1;break e}ie=!0}ie||(H=_i(H),typeof x=="string"?H!=null&&cr(H):jn(x,R,H))}function Jn(x){qe.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Jn,qe);var Ya=/^https?$/i,Ul=["POST","PUT"];t=Jn.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,R,H,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);R=R?R.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ki.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(x),!0),this.B=!1}catch(Le){Ms(this,Le);return}if(x=H||"",H=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Ne in ie)H.set(Ne,ie[Ne]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Le of ie.keys())H.set(Le,ie.get(Le));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(H.keys()).find(Le=>Le.toLowerCase()=="content-type"),Ne=s.FormData&&x instanceof s.FormData,!(Array.prototype.indexOf.call(Ul,R,void 0)>=0)||ie||Ne||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,ut]of H)this.g.setRequestHeader(Le,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Le){Ms(this,Le)}};function Ms(x,R){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=R,x.o=5,wu(x),Do(x)}function wu(x){x.A||(x.A=!0,ht(x,"complete"),ht(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,ht(this,"complete"),ht(this,"abort"),Do(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Do(this,!0)),Jn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wa(this):this.Xa())},t.Xa=function(){Wa(this)};function Wa(x){if(x.h&&typeof a<"u"){if(x.v&&Ka(x)==4)setTimeout(x.Ca.bind(x),0);else if(ht(x,"readystatechange"),Ka(x)==4){x.h=!1;try{const Le=x.ca();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var H;if(!(H=R)){var ie;if(ie=Le===0){let ut=String(x.D).match(vu)[1]||null;!ut&&s.self&&s.self.location&&(ut=s.self.location.protocol.slice(0,-1)),ie=!Ya.test(ut?ut.toLowerCase():"")}H=ie}if(H)ht(x,"complete"),ht(x,"success");else{x.o=6;try{var Ne=Ka(x)>2?x.g.statusText:""}catch{Ne=""}x.l=Ne+" ["+x.ca()+"]",wu(x)}}finally{Do(x)}}}}function Do(x,R){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const H=x.g;x.g=null,R||ht(x,"ready");try{H.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ka(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Ka(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var R=this.g.responseText;return x&&R.indexOf(x)==0&&(R=R.substring(x.length)),dt(R)}};function pi(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(x){const R={};x=(x.g&&Ka(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<x.length;ie++){if(V(x[ie]))continue;var H=Xr(x[ie]);const Ne=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Le=R[Ne]||[];R[Ne]=Le,Le.push(H)}Ue(R,function(ie){return ie.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(x,R,H){return H&&H.internalChannelParams&&H.internalChannelParams[x]||R}function eo(x){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,x),this.Za=Xi("retryDelaySeedMs",1e4,x),this.Ta=Xi("forwardChannelMaxRetries",2,x),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new gs(x&&x.concurrentRequestLimit),this.Ba=new al,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=eo.prototype,t.ka=8,t.I=1,t.connect=function(x,R,H,ie){ft(0),this.W=x,this.H=R||{},H&&ie!==void 0&&(this.H.OSID=H,this.H.OAID=ie),this.F=this.X,this.J=et(this,null,this.W),bs(this)};function ol(x){if(no(x),x.I==3){var R=x.V++,H=Zr(x.J);if(jn(H,"SID",x.M),jn(H,"RID",R),jn(H,"TYPE","terminate"),Xa(x,H),R=new ji(x,x.j,R),R.M=2,R.A=rl(Zr(H)),H=!1,s.navigator&&s.navigator.sendBeacon)try{H=s.navigator.sendBeacon(R.A.toString(),"")}catch{}!H&&s.Image&&(new Image().src=R.A,H=!0),H||(R.g=Tt(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Li(R)}Ye(x)}function to(x){x.g&&(Ec(x),x.g.cancel(),x.g=null)}function no(x){to(x),x.v&&(s.clearTimeout(x.v),x.v=null),Y(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&s.clearTimeout(x.m),x.m=null)}function bs(x){if(!Jr(x.h)&&!x.m){x.m=!0;var R=x.Ea;$||j(),K||($(),K=!0),L.add(R,x),x.D=0}}function Bl(x,R){return Yn(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=R.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=Kt(d(x.Ea,x,R),be(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Ne=new ji(this,this.j,x);let Le=this.o;if(this.U&&(Le?(Le=ne(Le),X(Le,this.U)):Le=this.U),this.u!==null||this.R||(Ne.J=Le,Le=null),this.S)e:{for(var R=0,H=0;H<this.i.length;H++){t:{var ie=this.i[H];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(R+=ie,R>4096){R=H;break e}if(R===4096||H===this.i.length-1){R=H+1;break e}}R=1e3}else R=1e3;R=ro(this,Ne,R),H=Zr(this.J),jn(H,"RID",x),jn(H,"CVER",22),this.G&&jn(H,"X-HTTP-Session-Id",this.G),Xa(this,H),Le&&(this.R?R="headers="+cr(_i(Le))+"&"+R:this.u&&Fl(H,this.u,Le)),vs(this.h,Ne),this.Ra&&jn(H,"TYPE","init"),this.S?(jn(H,"$req",R),jn(H,"SID","null"),Ne.U=!0,Qr(Ne,H,null)):Qr(Ne,H,R),this.I=2}}else this.I==3&&(x?wc(this,x):this.i.length==0||Jr(this.h)||wc(this))};function wc(x,R){var H;R?H=R.l:H=x.V++;const ie=Zr(x.J);jn(ie,"SID",x.M),jn(ie,"RID",H),jn(ie,"AID",x.K),Xa(x,ie),x.u&&x.o&&Fl(ie,x.u,x.o),H=new ji(x,x.j,H,x.D+1),x.u===null&&(H.J=x.o),R&&(x.i=R.G.concat(x.i)),R=ro(x,H,1e3),H.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),vs(x.h,H),Qr(H,ie,R)}function Xa(x,R){x.H&&xe(x.H,function(H,ie){jn(R,ie,H)}),x.l&&xe({},function(H,ie){jn(R,ie,H)})}function ro(x,R,H){H=Math.min(x.i.length,H);const ie=x.l?d(x.l.Ka,x.l,x):null;e:{var Ne=x.i;let fn=-1;for(;;){const Ar=["count="+H];fn==-1?H>0?(fn=Ne[0].g,Ar.push("ofs="+fn)):fn=0:Ar.push("ofs="+fn);let An=!0;for(let Zn=0;Zn<H;Zn++){var Le=Ne[Zn].g;const Qi=Ne[Zn].map;if(Le-=fn,Le<0)fn=Math.max(0,Ne[Zn].g-100),An=!1;else try{Le="req"+Le+"_"||"";try{var ut=Qi instanceof Map?Qi:Object.entries(Qi);for(const[ua,pr]of ut){let da=pr;l(pr)&&(da=st(pr)),Ar.push(Le+ua+"="+encodeURIComponent(da))}}catch(ua){throw Ar.push(Le+"type="+encodeURIComponent("_badmap")),ua}}catch{ie&&ie(Qi)}}if(An){ut=Ar.join("&");break e}}ut=void 0}return x=x.i.splice(0,H),R.G=x,ut}function Eu(x){if(!x.g&&!x.v){x.Y=1;var R=x.Da;$||j(),K||($(),K=!0),L.add(R,x),x.A=0}}function Fs(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=Kt(d(x.Da,x),be(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,N(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=Kt(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),to(this),N(this))};function Ec(x){x.B!=null&&(s.clearTimeout(x.B),x.B=null)}function N(x){x.g=new ji(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var R=Zr(x.na);jn(R,"RID","rpc"),jn(R,"SID",x.M),jn(R,"AID",x.K),jn(R,"CI",x.F?"0":"1"),!x.F&&x.ia&&jn(R,"TO",x.ia),jn(R,"TYPE","xmlhttp"),Xa(x,R),x.u&&x.o&&Fl(R,x.u,x.o),x.O&&(x.g.H=x.O);var H=x.g;x=x.ba,H.M=1,H.A=rl(Zr(R)),H.u=null,H.R=!0,Wi(H,x)}t.Va=function(){this.C!=null&&(this.C=null,to(this),Fs(this),ft(19))};function Y(x){x.C!=null&&(s.clearTimeout(x.C),x.C=null)}function ce(x,R){var H=null;if(x.g==R){Y(x),Ec(x),x.g=null;var ie=2}else if(la(x.h,R))H=R.G,vc(x.h,R),ie=1;else return;if(x.I!=0){if(R.o)if(ie==1){H=R.u?R.u.length:0,R=Date.now()-R.F;var Ne=x.D;ie=un(),ht(ie,new gt(ie,H)),bs(x)}else Eu(x);else if(Ne=R.m,Ne==3||Ne==0&&R.X>0||!(ie==1&&Bl(x,R)||ie==2&&Fs(x)))switch(H&&H.length>0&&(R=x.h,R.i=R.i.concat(H)),Ne){case 1:Ae(x,5);break;case 4:Ae(x,10);break;case 3:Ae(x,6);break;default:Ae(x,2)}}}function be(x,R){let H=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(H*=2),H*R}function Ae(x,R){if(x.j.info("Error code "+R),R==2){var H=d(x.bb,x),ie=x.Ua;const Ne=!ie;ie=new Ki(ie||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Nn(ie,"https"),rl(ie),Ne?Ls(ie.toString(),H):Ro(ie.toString(),H)}else ft(2);x.I=0,x.l&&x.l.pa(R),Ye(x),no(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Ye(x){if(x.I=0,x.ja=[],x.l){const R=yc(x.h);(R.length!=0||x.i.length!=0)&&(E(x.ja,R),E(x.ja,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.oa()}}function et(x,R,H){var ie=H instanceof Ki?Zr(H):new Ki(H);if(ie.g!="")R&&(ie.g=R+"."+ie.g),Co(ie,ie.u);else{var Ne=s.location;ie=Ne.protocol,R=R?R+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;const Le=new Ki(null);ie&&Nn(Le,ie),R&&(Le.g=R),Ne&&Co(Le,Ne),H&&(Le.h=H),ie=Le}return H=x.G,R=x.wa,H&&R&&jn(ie,H,R),jn(ie,"VER",x.ka),Xa(x,ie),ie}function Tt(x,R,H){if(R&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=x.Aa&&!x.ma?new Jn(new Xt({ab:H})):new Jn(x.ma),R.Fa(x.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dt(){}t=Dt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zt(){}Zt.prototype.g=function(x,R){return new Wt(x,R)};function Wt(x,R){qe.call(this),this.g=new eo(R),this.l=x,this.h=R&&R.messageUrlParams||null,x=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(x?x["X-WebChannel-Content-Type"]=R.messageContentType:x={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(x?x["X-WebChannel-Client-Profile"]=R.sa:x={"X-WebChannel-Client-Profile":R.sa}),this.g.U=x,(x=R&&R.Qb)&&!V(x)&&(this.g.u=x),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!V(R)&&(this.g.G=R,x=this.h,x!==null&&R in x&&(x=this.h,R in x&&delete x[R])),this.j=new dr(this)}p(Wt,qe),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){ol(this.g)},Wt.prototype.o=function(x){var R=this.g;if(typeof x=="string"){var H={};H.__data__=x,x=H}else this.v&&(H={},H.__data__=st(x),x=H);R.i.push(new ur(R.Ya++,x)),R.I==3&&bs(R)},Wt.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Wt.Z.N.call(this)};function In(x){It.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var R=x.__sm__;if(R){e:{for(const H in R){x=H;break e}x=void 0}(this.i=x)&&(x=this.i,R=R!==null&&x in R?R[x]:void 0),this.data=R}else this.data=x}p(In,It);function Er(){Mt.call(this),this.status=1}p(Er,Mt);function dr(x){this.g=x}p(dr,Dt),dr.prototype.ra=function(){ht(this.g,"a")},dr.prototype.qa=function(x){ht(this.g,new In(x))},dr.prototype.pa=function(x){ht(this.g,new Er)},dr.prototype.oa=function(){ht(this.g,"b")},Zt.prototype.createWebChannel=Zt.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,K9=function(){return new Zt},W9=function(){return un()},Y9=nn,nS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Rb=Ri,Di.COMPLETE="complete",G9=Di,wn.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Kv=wn,Jn.prototype.listenOnce=Jn.prototype.K,Jn.prototype.getLastError=Jn.prototype.Ha,Jn.prototype.getLastErrorCode=Jn.prototype.ya,Jn.prototype.getStatus=Jn.prototype.ca,Jn.prototype.getResponseJson=Jn.prototype.La,Jn.prototype.getResponseText=Jn.prototype.la,Jn.prototype.send=Jn.prototype.ea,Jn.prototype.setWithCredentials=Jn.prototype.Fa,$9=Jn}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});const _O="@firebase/firestore",wO="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ba.UNAUTHENTICATED=new Ba(null),Ba.GOOGLE_CREDENTIALS=new Ba("google-credentials-uid"),Ba.FIRST_PARTY=new Ba("first-party-uid"),Ba.MOCK_USER=new Ba("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Ax("@firebase/firestore");function ym(){return Nf.logLevel}function pZ(t){Nf.setLogLevel(t)}function at(t,...e){if(Nf.logLevel<=Dn.DEBUG){const n=e.map(_N);Nf.debug(`Firestore (${Ng}): ${t}`,...n)}}function $i(t,...e){if(Nf.logLevel<=Dn.ERROR){const n=e.map(_N);Nf.error(`Firestore (${Ng}): ${t}`,...n)}}function lu(t,...e){if(Nf.logLevel<=Dn.WARN){const n=e.map(_N);Nf.warn(`Firestore (${Ng}): ${t}`,...n)}}function _N(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,X9(t,r,n)}function X9(t,e,n){let r=`FIRESTORE (${Ng}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $i(r),new Error(r)}function Lt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||X9(e,i,r)}function mZ(t,e){t||wt(57014,e)}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ba.UNAUTHENTICATED)))}shutdown(){}}class vZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yZ{constructor(e){this.t=e,this.currentUser=Ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ls,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ls)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string",31837,{l:r}),new Q9(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new Ba(e)}}class bZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ba.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bZ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ba.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class EO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Z{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Lt(this.o===void 0,3512);const r=a=>{a.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,at("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new EO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new EO(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wZ(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function mn(t,e){return t<e?-1:t>e?1:0}function rS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return C5(i)===C5(a)?mn(i,a):C5(i)?1:-1}return mn(t.length,e.length)}const EZ=55296,AZ=57343;function C5(t){const e=t.charCodeAt(0);return e>=EZ&&e<=AZ}function Wm(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function J9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="__name__";class Bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&wt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Bc.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return mn(e.length,n.length)}static compareSegments(e,n){const r=Bc.isNumericId(e),i=Bc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bc.extractNumericId(e).compare(Bc.extractNumericId(n)):rS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bf.fromString(e.substring(4,e.length-2))}}class kn extends Bc{construct(e,n,r){return new kn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new kn(n)}static emptyPath(){return new kn([])}}const SZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends Bc{construct(e,n,r){return new li(e,n,r)}static isValidIdentifier(e){return SZ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AO}static keyField(){return new li([AO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new tt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new tt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new tt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new tt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(n)}static emptyPath(){return new li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(kn.fromString(e))}static fromName(e){return new mt(kn.fromString(e).popFirst(5))}static empty(){return new mt(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new kn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e,n){if(!n)throw new tt(Be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z9(t,e,n,r){if(e===!0&&r===!0)throw new tt(Be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SO(t){if(!mt.isDocumentKey(t))throw new tt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TO(t){if(mt.isDocumentKey(t))throw new tt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt(12329,{type:typeof t})}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lx(t);throw new tt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function t8(t,e){if(e<=0)throw new tt(Be.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){const n={typeString:t};return e&&(n.value=e),n}function b0(t,e){if(!e8(t))throw new tt(Be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new tt(Be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=-62135596800,IO=1e6;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IO);return new fr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NO)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IO}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(b0(e,fr._jsonSchema))return new fr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fr._jsonSchemaVersion="firestore/timestamp/1.0",fr._jsonSchema={type:aa("string",fr._jsonSchemaVersion),seconds:aa("number"),nanoseconds:aa("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new fr(0,0))}static max(){return new Gt(new fr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;class l2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function iS(t){return t.fields.find((e=>e.kind===2))}function mh(t){return t.fields.filter((e=>e.kind!==2))}l2.UNKNOWN_ID=-1;class Db{constructor(e,n){this.fieldPath=e,this.kind=n}}class Cy{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Cy(0,Zo.min())}}function n8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new fr(n+1,0):new fr(n,r));return new Zo(i,mt.empty(),e)}function r8(t){return new Zo(t.readTime,t.key,Km)}class Zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zo(Gt.min(),mt.empty(),Km)}static max(){return new Zo(Gt.max(),mt.empty(),Km)}}function AN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=mt.comparator(t.documentKey,e.documentKey),n!==0?n:mn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==Be.FAILED_PRECONDITION||t.message!==i8)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Re.reject(n)}static resolve(e){return new Re(((n,r)=>{n(e)}))}static reject(e){return new Re(((n,r)=>{r(e)}))}static waitFor(e){return new Re(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(u=>r(u)))})),s=!0,a===i&&n()}))}static or(e){let n=Re.resolve(!1);for(const r of e)n=n.next((i=>i?Re.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Re(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next((f=>{s[d]=f,++l,l===a&&r(s)}),(f=>i(f)))}}))}static doWhile(e,n){return new Re(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="SimpleDb";class Mx{static open(e,n,r,i){try{return new Mx(n,e.transaction(i,r))}catch(a){throw new ly(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ls,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ly(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=SN(r.target.error);this.S.reject(new ly(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(at(Ho,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new NZ(n)}}class tu{static delete(e){return at(Ho,"Removing database:",e),_h(GT().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!wy())return!1;if(tu.F())return!0;const e=bi(),n=tu.M(e),r=0<n&&n<10,i=s8(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,tu.M(bi())===12.2&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(at(Ho,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new ly(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new tt(Be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new tt(Be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ly(e,s))},i.onupgradeneeded=a=>{at(Ho,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next((()=>{at(Ho,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const l=Mx.open(this.db,e,a?"readonly":"readwrite",r),u=i(l).next((d=>(l.C(),d))).catch((d=>(l.abort(d),Re.reject(d)))).toPromise();return u.catch((()=>{})),await l.D,u}catch(l){const u=l,d=u.name!=="FirebaseError"&&s<3;if(at(Ho,"Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function s8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class TZ{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return _h(this.U.delete())}}class ly extends tt{constructor(e,n){super(Be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function qf(t){return t.name==="IndexedDbTransactionError"}class NZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(at(Ho,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(at(Ho,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_h(r)}add(e){return at(Ho,"ADD",this.store.name,e,e),_h(this.store.add(e))}get(e){return _h(this.store.get(e)).next((n=>(n===void 0&&(n=null),at(Ho,"GET",this.store.name,e,n),n)))}delete(e){return at(Ho,"DELETE",this.store.name,e),_h(this.store.delete(e))}count(){return at(Ho,"COUNT",this.store.name),_h(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Re(((s,l)=>{a.onerror=u=>{l(u.target.error)},a.onsuccess=u=>{s(u.target.result)}}))}{const a=this.cursor(r),s=[];return this.H(a,((l,u)=>{s.push(u)})).next((()=>s))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Re(((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}}))}Z(e,n){at(Ho,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,s,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Re(((r,i)=>{n.onerror=a=>{const s=SN(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((l=>{l?s.continue():r()})):r()}}))}H(e,n){const r=[];return new Re(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const l=s.target.result;if(!l)return void i();const u=new TZ(l),d=n(l.primaryKey,l.value,u);if(d instanceof Re){const f=d.catch((p=>(u.done(),Re.reject(p))));r.push(f)}u.isDone?i():u.G===null?l.continue():l.continue(u.G)}})).next((()=>Re.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _h(t){return new Re(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=SN(r.target.error);n(i)}}))}let CO=!1;function SN(t){const e=tu.M(bi());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CO||(CO=!0,setTimeout((()=>{throw r}),0)),r}}return t}const cy="IndexBackfiller";class IZ{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){at(cy,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();at(cy,`Documents written: ${n}`)}catch(n){qf(n)?at(cy,"Ignoring IndexedDB error during index backfill: ",n):await zf(n)}await this.re(6e4)}))}}class CZ{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Re.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!r.has(s))return at(cy,`Processing collection: ${s}`),this.oe(e,s,i).next((l=>{i-=l,r.add(s)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this._e(i,a))).next((l=>(at(cy,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>s.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const s=r8(a);AN(s,r)>0&&(r=s)})),new Zo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eo.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=-1;function x0(t){return t==null}function Py(t){return t===0&&1/t==-1/0}function o8(t){return typeof t=="number"&&Number.isInteger(t)&&!Py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="";function Ds(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PO(e)),e=PZ(t.get(n),e);return PO(e)}function PZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case c2:n+="";break;default:n+=a}}return n}function PO(t){return t+c2+""}function Qc(t){const e=t.length;if(Lt(e>=2,64408,{path:t}),e===2)return Lt(t.charAt(0)===c2&&t.charAt(1)==="",56145,{path:t}),kn.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(c2,a);switch((s<0||s>n)&&wt(50515,{path:t}),t.charAt(s+1)){case"":const l=t.substring(a,s);let u;i.length===0?u=l:(i+=l,u=i,i=""),r.push(u);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:wt(61167,{path:t})}a=s+2}return new kn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="remoteDocuments",_0="owner",im="owner",Oy="mutationQueues",OZ="userId",rc="mutations",OO="batchId",Ih="userMutationsIndex",RO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e){return[t,Ds(e)]}function l8(t,e,n){return[t,Ds(e),n]}const RZ={},Xm="documentMutations",u2="remoteDocumentsV14",DZ=["prefixPath","collectionGroup","readTime","documentId"],jb="documentKeyIndex",kZ=["prefixPath","collectionGroup","documentId"],c8="collectionGroupIndex",jZ=["collectionGroup","readTime","prefixPath","documentId"],Ry="remoteDocumentGlobal",aS="remoteDocumentGlobalKey",Qm="targets",u8="queryTargetsIndex",LZ=["canonicalId","targetId"],Jm="targetDocuments",MZ=["targetId","path"],TN="documentTargetsIndex",FZ=["path","targetId"],d2="targetGlobalKey",Lh="targetGlobal",Dy="collectionParents",UZ=["collectionId","parent"],Zm="clientMetadata",BZ="clientId",Fx="bundles",VZ="bundleId",Ux="namedQueries",zZ="name",NN="indexConfiguration",qZ="indexId",sS="collectionGroupIndex",HZ="collectionGroup",uy="indexState",$Z=["indexId","uid"],d8="sequenceNumberIndex",GZ=["uid","sequenceNumber"],dy="indexEntries",YZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],f8="documentKeyIndex",WZ=["indexId","uid","orderedDocumentKey"],Bx="documentOverlays",KZ=["userId","collectionPath","documentId"],oS="collectionPathOverlayIndex",XZ=["userId","collectionPath","largestBatchId"],h8="collectionGroupOverlayIndex",QZ=["userId","collectionGroup","largestBatchId"],IN="globals",JZ="name",p8=[Oy,rc,Xm,gh,Qm,_0,Lh,Jm,Zm,Ry,Dy,Fx,Ux],ZZ=[...p8,Bx],m8=[Oy,rc,Xm,u2,Qm,_0,Lh,Jm,Zm,Ry,Dy,Fx,Ux,Bx],g8=m8,CN=[...g8,NN,uy,dy],eee=CN,v8=[...CN,IN],tee=v8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends a8{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Ea(t,e){const n=bt(t);return tu.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.comparator=e,this.root=n||is.EMPTY}insert(e,n){return new zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q1(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q1(this.root,e,this.comparator,!0)}}class Q1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??is.RED,this.left=i??is.EMPTY,this.right=a??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new is(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return is.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1;is.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new is(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kO(this.data.getIterator())}getIteratorFrom(e){return new kO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _r(this.comparator);return n.data=e,n}}class kO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function am(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.fields=e,e.sort(li.comparator)}static empty(){return new Ao([])}unionWith(e){let n=new _r(li.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wm(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new b8("Invalid base64 string: "+a):a}})(e);return new Ci(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Ci(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const ree=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sd(t){if(Lt(!!t,39018),typeof t=="string"){let e=0;const n=ree.exec(t);if(Lt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:si(t.seconds),nanos:si(t.nanos)}}function si(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function od(t){return typeof t=="string"?Ci.fromBase64String(t):Ci.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="server_timestamp",_8="__type__",w8="__previous_value__",E8="__local_write_time__";function Vx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_8])==null?void 0:r.stringValue)===x8}function zx(t){const e=t.mapValue.fields[w8];return Vx(e)?zx(e):e}function ky(t){const e=sd(t.mapValue.fields[E8].timestampValue);return new fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(e,n,r,i,a,s,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const cS="(default)";class If{constructor(e,n){this.projectId=e,this.database=n||cS}static empty(){return new If("","")}get isDefaultDatabase(){return this.database===cS}isEqual(e){return e instanceof If&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="__type__",A8="__max__",hf={mapValue:{fields:{__type__:{stringValue:A8}}}},ON="__vector__",eg="value",Lb={nullValue:"NULL_VALUE"};function Cf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vx(t)?4:S8(t)?9007199254740991:qx(t)?10:11:wt(28295,{value:t})}function cu(t,e){if(t===e)return!0;const n=Cf(t);if(n!==Cf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ky(t).isEqual(ky(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=sd(i.timestampValue),l=sd(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return od(i.bytesValue).isEqual(od(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return si(i.geoPointValue.latitude)===si(a.geoPointValue.latitude)&&si(i.geoPointValue.longitude)===si(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return si(i.integerValue)===si(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=si(i.doubleValue),l=si(a.doubleValue);return s===l?Py(s)===Py(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return Wm(t.arrayValue.values||[],e.arrayValue.values||[],cu);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(DO(s)!==DO(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!cu(s[u],l[u])))return!1;return!0})(t,e);default:return wt(52216,{left:t})}}function jy(t,e){return(t.values||[]).find((n=>cu(n,e)))!==void 0}function Pf(t,e){if(t===e)return 0;const n=Cf(t),r=Cf(e);if(n!==r)return mn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=si(a.integerValue||a.doubleValue),u=si(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return jO(t.timestampValue,e.timestampValue);case 4:return jO(ky(t),ky(e));case 5:return rS(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=od(a),u=od(s);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),u=s.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=mn(l[d],u[d]);if(f!==0)return f}return mn(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=mn(si(a.latitude),si(s.latitude));return l!==0?l:mn(si(a.longitude),si(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LO(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var y,v,E,A;const l=a.fields||{},u=s.fields||{},d=(y=l[eg])==null?void 0:y.arrayValue,f=(v=u[eg])==null?void 0:v.arrayValue,p=mn(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((A=f==null?void 0:f.values)==null?void 0:A.length)||0);return p!==0?p:LO(d,f)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===hf.mapValue&&s===hf.mapValue)return 0;if(a===hf.mapValue)return 1;if(s===hf.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const y=rS(u[p],f[p]);if(y!==0)return y;const v=Pf(l[u[p]],d[f[p]]);if(v!==0)return v}return mn(u.length,f.length)})(t.mapValue,e.mapValue);default:throw wt(23264,{he:n})}}function jO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mn(t,e);const n=sd(t),r=sd(e),i=mn(n.seconds,r.seconds);return i!==0?i:mn(n.nanos,r.nanos)}function LO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Pf(n[i],r[i]);if(a)return a}return mn(n.length,r.length)}function tg(t){return uS(t)}function uS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=sd(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return od(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return mt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=uS(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${uS(n.fields[s])}`;return i+"}"})(t.mapValue):wt(61005,{value:t})}function Mb(t){switch(Cf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zx(t);return e?16+Mb(e):16;case 5:return 2*t.stringValue.length;case 6:return od(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Mb(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Hf(r.fields,((a,s)=>{i+=a.length+Mb(s)})),i})(t.mapValue);default:throw wt(13486,{value:t})}}function Gh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dS(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function MO(t){return!!t&&"nullValue"in t}function FO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fb(t){return!!t&&"mapValue"in t}function qx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PN])==null?void 0:r.stringValue)===ON}function fy(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fy(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fy(t.arrayValue.values[n]);return e}return{...t}}function S8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A8}const T8={mapValue:{fields:{[PN]:{stringValue:ON},[eg]:{arrayValue:{}}}}};function aee(t){return"nullValue"in t?Lb:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Gh(If.empty(),mt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?qx(t)?T8:{mapValue:{}}:wt(35942,{value:t})}function see(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Gh(If.empty(),mt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?T8:"mapValue"in t?qx(t)?{mapValue:{}}:hf:wt(61959,{value:t})}function UO(t,e){const n=Pf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function BO(t,e){const n=Pf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fy(n)}setAll(e){let n=li.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=fy(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Fb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new as(fy(this.value))}}function N8(t){const e=[];return Hf(t.fields,((n,r)=>{const i=new li([n]);if(Fb(r)){const a=N8(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Ao(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Wr(e,0,Gt.min(),Gt.min(),Gt.min(),as.empty(),0)}static newFoundDocument(e,n,r,i){return new Wr(e,1,n,Gt.min(),r,i,0)}static newNoDocument(e,n){return new Wr(e,2,n,Gt.min(),Gt.min(),as.empty(),0)}static newUnknownDocument(e,n){return new Wr(e,3,n,Gt.min(),Gt.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.position=e,this.inclusive=n}}function VO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=mt.comparator(mt.fromName(s.referenceValue),n.key):r=Pf(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n="asc"){this.field=e,this.dir=n}}function oee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{}class Fn extends I8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lee(e,n,r):n==="array-contains"?new dee(e,r):n==="in"?new k8(e,r):n==="not-in"?new fee(e,r):n==="array-contains-any"?new hee(e,r):new Fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cee(e,r):new uee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pf(n,this.value)):n!==null&&Cf(this.value)===Cf(n)&&this.matchesComparison(Pf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends I8{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xr(e,n)}matches(e){return ng(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ng(t){return t.op==="and"}function fS(t){return t.op==="or"}function RN(t){return C8(t)&&ng(t)}function C8(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function hS(t){if(t instanceof Fn)return t.field.canonicalString()+t.op.toString()+tg(t.value);if(RN(t))return t.filters.map((e=>hS(e))).join(",");{const e=t.filters.map((n=>hS(n))).join(",");return`${t.op}(${e})`}}function P8(t,e){return t instanceof Fn?(function(r,i){return i instanceof Fn&&r.op===i.op&&r.field.isEqual(i.field)&&cu(r.value,i.value)})(t,e):t instanceof xr?(function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&P8(s,i.filters[l])),!0):!1})(t,e):void wt(19439)}function O8(t,e){const n=t.filters.concat(e);return xr.create(n,t.op)}function R8(t){return t instanceof Fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${tg(n.value)}`})(t):t instanceof xr?(function(n){return n.op.toString()+" {"+n.getFilters().map(R8).join(" ,")+"}"})(t):"Filter"}class lee extends Fn{constructor(e,n,r){super(e,n,r),this.key=mt.fromName(r.referenceValue)}matches(e){const n=mt.comparator(e.key,this.key);return this.matchesComparison(n)}}class cee extends Fn{constructor(e,n){super(e,"in",n),this.keys=D8("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uee extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=D8("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function D8(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>mt.fromName(r.referenceValue)))}class dee extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&jy(n.arrayValue,this.value)}}class k8 extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jy(this.value.arrayValue,n)}}class fee extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(jy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jy(this.value.arrayValue,n)}}class hee extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>jy(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function pS(t,e=null,n=[],r=[],i=null,a=null,s=null){return new pee(t,e,n,r,i,a,s)}function Yh(t){const e=bt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),x0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>tg(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>tg(r))).join(",")),e.Te=n}return e.Te}function w0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zO(t.startAt,e.startAt)&&zO(t.endAt,e.endAt)}function f2(t){return mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function h2(t,e){return t.filters.filter((n=>n instanceof Fn&&n.field.isEqual(e)))}function qO(t,e,n){let r=Lb,i=!0;for(const a of h2(t,e)){let s=Lb,l=!0;switch(a.op){case"<":case"<=":s=aee(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,l=!1;break;case"!=":case"not-in":s=Lb}UO({value:r,inclusive:i},{value:s,inclusive:l})<0&&(r=s,i=l)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];UO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function HO(t,e,n){let r=hf,i=!0;for(const a of h2(t,e)){let s=hf,l=!0;switch(a.op){case">=":case">":s=see(a.value),l=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,l=!1;break;case"!=":case"not-in":s=hf}BO({value:r,inclusive:i},{value:s,inclusive:l})>0&&(r=s,i=l)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];BO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j8(t,e,n,r,i,a,s,l){return new vd(t,e,n,r,i,a,s,l)}function Ig(t){return new vd(t)}function $O(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DN(t){return t.collectionGroup!==null}function km(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new _r(li.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new My(a,r))})),n.has(li.keyField().canonicalString())||e.Ie.push(new My(li.keyField(),r))}return e.Ie}function Ks(t){const e=bt(t);return e.Ee||(e.Ee=mee(e,km(t))),e.Ee}function mee(t,e){if(t.limitType==="F")return pS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new My(i.field,a)}));const n=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;return pS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mS(t,e){const n=t.filters.concat([e]);return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function p2(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E0(t,e){return w0(Ks(t),Ks(e))&&t.limitType===e.limitType}function L8(t){return`${Yh(Ks(t))}|lt:${t.limitType}`}function bm(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>R8(i))).join(", ")}]`),x0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>tg(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>tg(i))).join(",")),`Target(${r})`})(Ks(t))}; limitType=${t.limitType})`}function A0(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):mt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of km(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,u){const d=VO(s,l,u);return s.inclusive?d<=0:d<0})(r.startAt,km(r),i)||r.endAt&&!(function(s,l,u){const d=VO(s,l,u);return s.inclusive?d>=0:d>0})(r.endAt,km(r),i))})(t,e)}function M8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F8(t){return(e,n)=>{let r=!1;for(const i of km(t)){const a=gee(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gee(t,e,n){const r=t.field.isKeyField()?mt.comparator(e.key,n.key):(function(a,s,l){const u=s.data.field(a),d=l.data.field(a);return u!==null&&d!==null?Pf(u,d):wt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return y8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee=new zr(mt.comparator);function So(){return vee}const U8=new zr(mt.comparator);function Xv(...t){let e=U8;for(const n of t)e=e.insert(n.key,n);return e}function B8(t){let e=U8;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jc(){return hy()}function V8(){return hy()}function hy(){return new yd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yee=new zr(mt.comparator),bee=new _r(mt.comparator);function _n(...t){let e=bee;for(const n of t)e=e.add(n);return e}const xee=new _r(mn);function kN(){return xee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Py(e)?"-0":e}}function z8(t){return{integerValue:""+t}}function q8(t,e){return o8(e)?z8(e):jN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this._=void 0}}function _ee(t,e,n){return t instanceof rg?(function(i,a){const s={fields:{[_8]:{stringValue:x8},[E8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Vx(a)&&(a=zx(a)),a&&(s.fields[w8]=a),{mapValue:s}})(n,e):t instanceof Wh?$8(t,e):t instanceof Kh?G8(t,e):(function(i,a){const s=H8(i,a),l=GO(s)+GO(i.Ae);return dS(s)&&dS(i.Ae)?z8(l):jN(i.serializer,l)})(t,e)}function wee(t,e,n){return t instanceof Wh?$8(t,e):t instanceof Kh?G8(t,e):n}function H8(t,e){return t instanceof ig?(function(r){return dS(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class rg extends Hx{}class Wh extends Hx{constructor(e){super(),this.elements=e}}function $8(t,e){const n=Y8(e);for(const r of t.elements)n.some((i=>cu(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Kh extends Hx{constructor(e){super(),this.elements=e}}function G8(t,e){let n=Y8(e);for(const r of t.elements)n=n.filter((i=>!cu(i,r)));return{arrayValue:{values:n}}}class ig extends Hx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GO(t){return si(t.integerValue||t.doubleValue)}function Y8(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.field=e,this.transform=n}}function Eee(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Wh&&i instanceof Wh||r instanceof Kh&&i instanceof Kh?Wm(r.elements,i.elements,cu):r instanceof ig&&i instanceof ig?cu(r.Ae,i.Ae):r instanceof rg&&i instanceof rg})(t.transform,e.transform)}class Aee{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ub(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $x{}function W8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pg(t.key,ci.none()):new Cg(t.key,t.data,ci.none());{const n=t.data,r=as.empty();let i=new _r(li.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new bd(t.key,r,new Ao(i.toArray()),ci.none())}}function See(t,e,n){t instanceof Cg?(function(i,a,s){const l=i.value.clone(),u=WO(i.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof bd?(function(i,a,s){if(!Ub(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=WO(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(K8(i)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function py(t,e,n,r){return t instanceof Cg?(function(a,s,l,u){if(!Ub(a.precondition,s))return l;const d=a.value.clone(),f=KO(a.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof bd?(function(a,s,l,u){if(!Ub(a.precondition,s))return l;const d=KO(a.fieldTransforms,u,s),f=s.data;return f.setAll(K8(a)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,l){return Ub(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function Tee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=H8(r.transform,i||null);a!=null&&(n===null&&(n=as.empty()),n.set(r.field,a))}return n||null}function YO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wm(r,i,((a,s)=>Eee(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cg extends $x{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bd extends $x{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function K8(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function WO(t,e,n){const r=new Map;Lt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,wee(s,l,n[i]))}return r}function KO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,_ee(a,s,e))}return r}class Pg extends $x{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends $x{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&See(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=py(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=py(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V8();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const u=W8(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),_n())}isEqual(e){return this.batchId===e.batchId&&Wm(this.mutations,e.mutations,((n,r)=>YO(n,r)))&&Wm(this.baseMutations,e.baseMutations,((n,r)=>YO(n,r)))}}class FN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return yee})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new FN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ta,$n;function X8(t){switch(t){case Be.OK:return wt(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return wt(15467,{code:t})}}function Q8(t){if(t===void 0)return $i("GRPC error has no .code"),Be.UNKNOWN;switch(t){case ta.OK:return Be.OK;case ta.CANCELLED:return Be.CANCELLED;case ta.UNKNOWN:return Be.UNKNOWN;case ta.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case ta.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case ta.INTERNAL:return Be.INTERNAL;case ta.UNAVAILABLE:return Be.UNAVAILABLE;case ta.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case ta.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case ta.NOT_FOUND:return Be.NOT_FOUND;case ta.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case ta.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case ta.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case ta.ABORTED:return Be.ABORTED;case ta.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case ta.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case ta.DATA_LOSS:return Be.DATA_LOSS;default:return wt(39323,{code:t})}}($n=ta||(ta={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=new bf([4294967295,4294967295],0);function XO(t){const e=J8().encode(t),n=new H9;return n.update(e),new Uint8Array(n.digest())}function QO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bf([n,r],0),new bf([i,a],0)]}class BN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qv(`Invalid padding: ${n}`);if(r<0)throw new Qv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qv(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bf.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bf.fromNumber(r)));return i.compare(Iee)===1&&(i=new bf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XO(e),[r,i]=QO(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new BN(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=XO(e),[r,i]=QO(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,N0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T0(Gt.min(),i,new zr(mn),So(),_n())}}class N0{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new N0(r,n,_n(),_n(),_n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Z8{constructor(e,n){this.targetId=e,this.Ce=n}}class eF{constructor(e,n,r=Ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JO{constructor(){this.ve=0,this.Fe=ZO(),this.Me=Ci.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_n(),n=_n(),r=_n();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt(38017,{changeType:a})}})),new N0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ZO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cee{constructor(e){this.Ge=e,this.ze=new Map,this.je=So(),this.Je=J1(),this.He=J1(),this.Ye=new zr(mn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(f2(a))if(r===0){const s=new mt(a.path);this.et(n,s,Wr.newNoDocument(s,Gt.min()))}else Lt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),u=l?this.ct(l,e,s):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=od(r).toUint8Array()}catch(u){if(u instanceof b8)return lu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new BN(s,i,a)}catch(u){return lu(u instanceof Qv?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&f2(l.target)){const u=new mt(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Wr.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=_n();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new T0(e,n,this.Ye,this.je,r);return this.je=So(),this.Je=J1(),this.He=J1(),this.Ye=new zr(mn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new JO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _r(mn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _r(mn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function J1(){return new zr(mt.comparator)}function ZO(){return new zr(mt.comparator)}const Pee={asc:"ASCENDING",desc:"DESCENDING"},Oee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ree={and:"AND",or:"OR"};class Dee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gS(t,e){return t.useProto3Json||x0(e)?e:{value:e}}function ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kee(t,e){return ag(t,e.toTimestamp())}function Gi(t){return Lt(!!t,49232),Gt.fromTimestamp((function(n){const r=sd(n);return new fr(r.seconds,r.nanos)})(t))}function VN(t,e){return vS(t,e).canonicalString()}function vS(t,e){const n=(function(i){return new kn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function nF(t){const e=kn.fromString(t);return Lt(fF(e),10190,{key:e.toString()}),e}function Fy(t,e){return VN(t.databaseId,e.path)}function nu(t,e){const n=nF(e);if(n.get(1)!==t.databaseId.projectId)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mt(aF(n))}function rF(t,e){return VN(t.databaseId,e)}function iF(t){const e=nF(t);return e.length===4?kn.emptyPath():aF(e)}function yS(t){return new kn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aF(t){return Lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eR(t,e,n){return{name:Fy(t,e),fields:n.value.mapValue.fields}}function sF(t,e,n){const r=nu(t,e.name),i=Gi(e.updateTime),a=e.createTime?Gi(e.createTime):Gt.min(),s=new as({mapValue:{fields:e.fields}}),l=Wr.newFoundDocument(r,i,a,s);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function jee(t,e){return"found"in e?(function(r,i){Lt(!!i.found,43571),i.found.name,i.found.updateTime;const a=nu(r,i.found.name),s=Gi(i.found.updateTime),l=i.found.createTime?Gi(i.found.createTime):Gt.min(),u=new as({mapValue:{fields:i.found.fields}});return Wr.newFoundDocument(a,s,l,u)})(t,e):"missing"in e?(function(r,i){Lt(!!i.missing,3894),Lt(!!i.readTime,22933);const a=nu(r,i.missing),s=Gi(i.readTime);return Wr.newNoDocument(a,s)})(t,e):wt(7234,{result:e})}function Lee(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:wt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(Lt(f===void 0||typeof f=="string",58123),Ci.fromBase64String(f||"")):(Lt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ci.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(d){const f=d.code===void 0?Be.UNKNOWN:Q8(d.code);return new tt(f,d.message||"")})(s);n=new eF(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nu(t,r.document.name),a=Gi(r.document.updateTime),s=r.document.createTime?Gi(r.document.createTime):Gt.min(),l=new as({mapValue:{fields:r.document.fields}}),u=Wr.newFoundDocument(i,a,s,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Bb(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nu(t,r.document),a=r.readTime?Gi(r.readTime):Gt.min(),s=Wr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Bb([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nu(t,r.document),a=r.removedTargetIds||[];n=new Bb([],a,i,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Nee(i,a),l=r.targetId;n=new Z8(l,s)}}return n}function Uy(t,e){let n;if(e instanceof Cg)n={update:eR(t,e.key,e.value)};else if(e instanceof Pg)n={delete:Fy(t,e.key)};else if(e instanceof bd)n={update:eR(t,e.key,e.data),updateMask:zee(e.fieldMask)};else{if(!(e instanceof LN))return wt(16599,{Vt:e.type});n={verify:Fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof rg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Kh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ig)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw wt(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:kee(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:wt(27497)})(t,e.precondition)),n}function bS(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?ci.updateTime(Gi(a.updateTime)):a.exists!==void 0?ci.exists(a.exists):ci.none()})(e.currentDocument):ci.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(s,l){let u=null;if("setToServerValue"in l)Lt(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),u=new rg;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];u=new Wh(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];u=new Kh(f)}else"increment"in l?u=new ig(s,l.increment):wt(16584,{proto:l});const d=li.fromServerFormat(l.fieldPath);return new S0(d,u)})(t,i))):[];if(e.update){e.update.name;const i=nu(t,e.update.name),a=new as({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(u){const d=u.fieldPaths||[];return new Ao(d.map((f=>li.fromServerFormat(f))))})(e.updateMask);return new bd(i,a,s,n,r)}return new Cg(i,a,n,r)}if(e.delete){const i=nu(t,e.delete);return new Pg(i,n)}if(e.verify){const i=nu(t,e.verify);return new LN(i,n)}return wt(1463,{proto:e})}function Mee(t,e){return t&&t.length>0?(Lt(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Gi(i.updateTime):Gi(a);return s.isEqual(Gt.min())&&(s=Gi(a)),new Aee(s,i.transformResults||[])})(n,e)))):[]}function oF(t,e){return{documents:[rF(t,e.path)]}}function lF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rF(t,i);const a=(function(d){if(d.length!==0)return dF(xr.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((f=>(function(y){return{field:xm(y.field),direction:Uee(y.dir)}})(f)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=gS(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function cF(t){let e=iF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lt(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=(function(p){const y=uF(p);return y instanceof xr&&RN(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((y=>(function(E){return new My(_m(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let y;return y=typeof p=="object"?p.value:p,x0(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(p){const y=!!p.before,v=p.values||[];return new Of(v,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,v=p.values||[];return new Of(v,y)})(n.endAt)),j8(e,i,s,a,l,"F",u,d)}function Fee(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_m(n.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_m(n.unaryFilter.field);return Fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_m(n.unaryFilter.field);return Fn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_m(n.unaryFilter.field);return Fn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Fn.create(_m(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xr.create(n.compositeFilter.filters.map((r=>uF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(t):wt(30097,{filter:t})}function Uee(t){return Pee[t]}function Bee(t){return Oee[t]}function Vee(t){return Ree[t]}function xm(t){return{fieldPath:t.canonicalString()}}function _m(t){return li.fromServerFormat(t.fieldPath)}function dF(t){return t instanceof Fn?(function(n){if(n.op==="=="){if(FO(n.value))return{unaryFilter:{field:xm(n.field),op:"IS_NAN"}};if(MO(n.value))return{unaryFilter:{field:xm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FO(n.value))return{unaryFilter:{field:xm(n.field),op:"IS_NOT_NAN"}};if(MO(n.value))return{unaryFilter:{field:xm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xm(n.field),op:Bee(n.op),value:n.value}}})(t):t instanceof xr?(function(n){const r=n.getFilters().map((i=>dF(i)));return r.length===1?r[0]:{compositeFilter:{op:Vee(n.op),filters:r}}})(t):wt(54877,{filter:t})}function zee(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i,a=Gt.min(),s=Gt.min(),l=Ci.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.yt=e}}function qee(t,e){let n;if(e.document)n=sF(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=mt.fromSegments(e.noDocument.path),i=Qh(e.noDocument.readTime);n=Wr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt(56709);{const r=mt.fromSegments(e.unknownDocument.path),i=Qh(e.unknownDocument.version);n=Wr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new fr(i[0],i[1]);return Gt.fromTimestamp(a)})(e.readTime)),n}function tR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:m2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,s){return{name:Fy(a,s.key),fields:s.data.value.mapValue.fields,updateTime:ag(a,s.version.toTimestamp()),createTime:ag(a,s.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Xh(e.version)};else{if(!e.isUnknownDocument())return wt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Xh(e.version)}}return r}function m2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qh(t){const e=new fr(t.seconds,t.nanoseconds);return Gt.fromTimestamp(e)}function wh(t,e){const n=(e.baseMutations||[]).map((a=>bS(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];s.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>bS(t.yt,a))),i=fr.fromMillis(e.localWriteTimeMs);return new MN(e.batchId,i,n,r)}function Jv(t){const e=Qh(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Qh(t.lastLimboFreeSnapshotVersion):Gt.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const s=a.documents.length;return Lt(s===1,1966,{count:s}),Ks(Ig(iF(a.documents[0])))})(t.query):(function(a){return Ks(cF(a))})(t.query),new Xu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ci.fromBase64String(t.resumeToken))}function pF(t,e){const n=Xh(e.snapshotVersion),r=Xh(e.lastLimboFreeSnapshotVersion);let i;i=f2(e.target)?oF(t.yt,e.target):lF(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yh(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zN(t){const e=cF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p2(e,e.limit,"L"):e}function P5(t,e){return new UN(e.largestBatchId,bS(t.yt,e.overlayMutation))}function nR(t,e){const n=e.path.lastSegment();return[t,Ds(e.path.popLast()),n]}function rR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Xh(r.readTime),documentKey:Ds(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{getBundleMetadata(e,n){return iR(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:Qh(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return iR(e).put((function(i){return{bundleId:i.id,createTime:Xh(Gi(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return aR(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:zN(a.bundledQuery),readTime:Qh(a.readTime)}})(r)}))}saveNamedQuery(e,n){return aR(e).put((function(i){return{name:i.name,readTime:Xh(Gi(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function iR(t){return Ea(t,Fx)}function aR(t){return Ea(t,Ux)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Gx(e,r)}getOverlay(e,n){return Rv(e).get(nR(this.userId,n)).next((r=>r?P5(this.serializer,r):null))}getOverlays(e,n){const r=Jc();return Re.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,s)=>{const l=new UN(n,s);i.push(this.St(e,l))})),Re.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((s=>i.add(Ds(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(Rv(e).Z(oS,l))})),Re.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Jc(),a=Ds(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Rv(e).J(oS,s).next((l=>{for(const u of l){const d=P5(this.serializer,u);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Jc();let s;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rv(e).ee({index:h8,range:l},((u,d,f)=>{const p=P5(this.serializer,d);a.size()<i||p.largestBatchId===s?(a.set(p.getKey(),p),s=p.largestBatchId):f.done()})).next((()=>a))}St(e,n){return Rv(e).put((function(i,a,s){const[l,u,d]=nR(a,s.mutation.key);return{userId:a,collectionPath:u,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Uy(i.yt,s.mutation)}})(this.serializer,this.userId,n))}}function Rv(t){return Ea(t,Bx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{bt(e){return Ea(e,IN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Ci.fromUint8Array(r):Ci.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(si(e.integerValue));else if("doubleValue"in e){const r=si(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Py(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=sd(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(od(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?S8(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):qx(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):wt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,l;const r=e.fields||{};this.Ft(n,53);const i=eg,a=((l=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(si(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),mt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Eh.Kt=new Eh;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=255;function Gee(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function sR(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const s=Gee(255&r[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class Yee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=sR(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=sR(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(sm),this.sn(255)}_n(){this.an(sm),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===sm?(this.sn(sm),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===sm?(this.an(sm),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Wee{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Kee{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Dv{constructor(){this.cn=new Yee,this.ln=new Wee(this.cn),this.hn=new Kee(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ah(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Vb(this.En),directionalValue:Vb(this.dn),orderedDocumentKey:Vb(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function tf(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=oR(t.En,e.En),n!==0?n:(n=oR(t.dn,e.dn),n!==0?n:mt.comparator(t.In,e.In)))}function oR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Vb(t){return OM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function lR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class cR{constructor(e){this.mn=new _r(((n,r)=>li.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Lt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=iS(e);if(n!==void 0&&!this.wn(n))return!1;const r=mh(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const u=r[a];if(!this.Sn(l,u)||!this.bn(this.fn[s++],u))return!1}++a}for(;a<r.length;++a){const l=r[a];if(s>=this.fn.length||!this.bn(this.fn[s++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new _r(li.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Db(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Db(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Db(r.field,r.dir==="asc"?0:1)));return new l2(l2.UNKNOWN_ID,this.collectionId,n,Cy.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){var n,r;if(Lt(t instanceof Fn||t instanceof xr,20012),t instanceof Fn){if(t instanceof k8){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>Fn.create(t.field,"==",a))))||[];return xr.create(i,"or")}return t}const e=t.filters.map((i=>mF(i)));return xr.create(e,t.op)}function Xee(t){if(t.getFilters().length===0)return[];const e=wS(mF(t));return Lt(gF(e),7391),xS(e)||_S(e)?[e]:e.getFilters()}function xS(t){return t instanceof Fn}function _S(t){return t instanceof xr&&RN(t)}function gF(t){return xS(t)||_S(t)||(function(n){if(n instanceof xr&&fS(n)){for(const r of n.getFilters())if(!xS(r)&&!_S(r))return!1;return!0}return!1})(t)}function wS(t){if(Lt(t instanceof Fn||t instanceof xr,34018),t instanceof Fn)return t;if(t.filters.length===1)return wS(t.filters[0]);const e=t.filters.map((r=>wS(r)));let n=xr.create(e,t.op);return n=g2(n),gF(n)?n:(Lt(n instanceof xr,64498),Lt(ng(n),40251),Lt(n.filters.length>1,57927),n.filters.reduce(((r,i)=>qN(r,i))))}function qN(t,e){let n;return Lt(t instanceof Fn||t instanceof xr,38388),Lt(e instanceof Fn||e instanceof xr,25473),n=t instanceof Fn?e instanceof Fn?(function(i,a){return xr.create([i,a],"and")})(t,e):uR(t,e):e instanceof Fn?uR(e,t):(function(i,a){if(Lt(i.filters.length>0&&a.filters.length>0,48005),ng(i)&&ng(a))return O8(i,a.getFilters());const s=fS(i)?i:a,l=fS(i)?a:i,u=s.filters.map((d=>qN(d,l)));return xr.create(u,"or")})(t,e),g2(n)}function uR(t,e){if(ng(e))return O8(e,t.getFilters());{const n=e.filters.map((r=>qN(t,r)));return xr.create(n,"or")}}function g2(t){if(Lt(t instanceof Fn||t instanceof xr,11850),t instanceof Fn)return t;const e=t.getFilters();if(e.length===1)return g2(e[0]);if(C8(t))return t;const n=e.map((i=>g2(i))),r=[];return n.forEach((i=>{i instanceof Fn?r.push(i):i instanceof xr&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:xr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(){this.Cn=new HN}addToCollectionParentIndex(e,n){return this.Cn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(Zo.min())}updateCollectionGroup(e,n,r){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class HN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _r(kn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _r(kn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="IndexedDbIndexManager",Z1=new Uint8Array(0);class Jee{constructor(e,n){this.databaseId=n,this.vn=new HN,this.Fn=new yd((r=>Yh(r)),((r,i)=>w0(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:Ds(i)};return fR(e).put(a)}return Re.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[J9(n),""],!1,!0);return fR(e).J(i).next((a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Qc(s.parent))}return r}))}addFieldIndex(e,n){const r=kv(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=lm(e);return a.next((l=>{s.put(rR(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=kv(e),i=lm(e),a=om(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=kv(e),r=om(e),i=lm(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Re.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new cR(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=om(e);let i=!0;const a=new Map;return Re.forEach(this.Mn(n),(s=>this.xn(e,s).next((l=>{i&&(i=!!l),a.set(s,l)})))).next((()=>{if(i){let s=_n();const l=[];return Re.forEach(a,((u,d)=>{at(dR,`Using index ${(function(k){return`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(u)} to execute ${Yh(n)}`);const f=(function(k,B){const $=iS(B);if($===void 0)return null;for(const K of h2(k,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(d,u),p=(function(k,B){const $=new Map;for(const K of mh(B))for(const L of h2(k,K.fieldPath))switch(L.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),L.value),Array.from($.values())}return null})(d,u),y=(function(k,B){const $=[];let K=!0;for(const L of mh(B)){const j=L.kind===0?qO(k,L.fieldPath,k.startAt):HO(k,L.fieldPath,k.startAt);$.push(j.value),K&&(K=j.inclusive)}return new Of($,K)})(d,u),v=(function(k,B){const $=[];let K=!0;for(const L of mh(B)){const j=L.kind===0?HO(k,L.fieldPath,k.endAt):qO(k,L.fieldPath,k.endAt);$.push(j.value),K&&(K=j.inclusive)}return new Of($,K)})(d,u),E=this.On(u,d,y),A=this.On(u,d,v),S=this.Nn(u,d,p),I=this.Bn(u.indexId,f,E,y.inclusive,A,v.inclusive,S);return Re.forEach(I,(q=>r.Y(q,n.limit).next((k=>{k.forEach((B=>{const $=mt.fromSegments(B.documentKey);s.has($)||(s=s.add($),l.push($))}))}))))})).next((()=>l))}return Re.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Xee(xr.create(e.filters,"and")).map((r=>pS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,s,l){const u=(n!=null?n.length:1)*Math.max(r.length,a.length),d=u/(n!=null?n.length:1),f=[];for(let p=0;p<u;++p){const y=n?this.Ln(n[p/d]):Z1,v=this.kn(e,y,r[p%d],i),E=this.qn(e,y,a[p%d],s),A=l.map((S=>this.kn(e,y,S,!0)));f.push(...this.createRange(v,E,A))}return f}kn(e,n,r,i){const a=new Ah(e,mt.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new Ah(e,mt.empty(),n,r);return i?a.An():a}xn(e,n){const r=new cR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const l of a)r.yn(l)&&(!s||l.fields.length>s.fields.length)&&(s=l);return s}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Re.forEach(i,(a=>this.xn(e,a).next((s=>{s?r!==0&&s.fields.length<(function(u){let d=new _r(li.comparator),f=!1;for(const p of u.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?f=!0:d=d.add(y.field));for(const p of u.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(f?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(s){return s.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Dv;for(const i of mh(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Pn(i.kind);Eh.Kt.Dt(a,s)}return r.un()}Ln(e){const n=new Dv;return Eh.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Dv;return Eh.Kt.Dt(Gh(this.databaseId,n),r.Pn((function(a){const s=mh(a);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Dv);let a=0;for(const s of mh(e)){const l=r[a++];for(const u of i)if(this.Un(n,s.fieldPath)&&Ly(l))i=this.Kn(i,s,l);else{const d=u.Pn(s.kind);Eh.Kt.Dt(l,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const l of i){const u=new Dv;u.seed(l.un()),Eh.Kt.Dt(s,u.Pn(n.kind)),a.push(u)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof Fn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=kv(e),i=lm(e);return(n?r.J(sS,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const s=[];return Re.forEach(a,(l=>i.get([l.indexId,this.uid]).next((u=>{s.push((function(f,p){const y=p?new Cy(p.sequenceNumber,new Zo(Qh(p.readTime),new mt(Qc(p.documentKey)),p.largestBatchId)):Cy.empty(),v=f.fields.map((([E,A])=>new Db(li.fromServerFormat(E),A)));return new l2(f.indexId,f.collectionGroup,v,y)})(l,u))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:mn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=kv(e),a=lm(e);return this.Gn(e).next((s=>i.J(sS,IDBKeyRange.bound(n,n)).next((l=>Re.forEach(l,(u=>a.put(rR(u.indexId,this.uid,s,r))))))))}updateIndexEntries(e,n){const r=new Map;return Re.forEach(n,((i,a)=>{const s=r.get(i.collectionGroup);return(s?Re.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),Re.forEach(l,(u=>this.zn(e,i,u).next((d=>{const f=this.jn(a,u);return d.isEqual(f)?Re.resolve():this.Jn(e,a,u,d,f)})))))))}))}Hn(e,n,r,i){return om(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return om(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=om(e);let a=new _r(tf);return i.ee({index:f8,range:IDBKeyRange.only([r.indexId,this.uid,Vb(this.$n(r,n))])},((s,l)=>{a=a.add(new Ah(r.indexId,n,lR(l.arrayValue),lR(l.directionalValue)))})).next((()=>a))}jn(e,n){let r=new _r(tf);const i=this.Qn(n,e);if(i==null)return r;const a=iS(n);if(a!=null){const s=e.data.field(a.fieldPath);if(Ly(s))for(const l of s.arrayValue.values||[])r=r.add(new Ah(n.indexId,e.key,this.Ln(l),i))}else r=r.add(new Ah(n.indexId,e.key,Z1,i));return r}Jn(e,n,r,i,a){at(dR,"Updating index entries for document '%s'",n.key);const s=[];return(function(u,d,f,p,y){const v=u.getIterator(),E=d.getIterator();let A=am(v),S=am(E);for(;A||S;){let I=!1,q=!1;if(A&&S){const k=f(A,S);k<0?q=!0:k>0&&(I=!0)}else A!=null?q=!0:I=!0;I?(p(S),S=am(E)):q?(y(A),A=am(v)):(A=am(v),S=am(E))}})(i,a,tf,(l=>{s.push(this.Hn(e,n,r,l))}),(l=>{s.push(this.Yn(e,n,r,l))})),Re.waitFor(s)}Gn(e){let n=1;return lm(e).ee({index:d8,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((s,l)=>tf(s,l))).filter(((s,l,u)=>!l||tf(s,u[l-1])!==0));const i=[];i.push(e);for(const s of r){const l=tf(s,e),u=tf(s,n);if(l===0)i[0]=e.An();else if(l>0&&u<0)i.push(s),i.push(s.An());else if(u>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const l=i[s].Vn(this.uid,Z1,mt.empty()),u=i[s+1].Vn(this.uid,Z1,mt.empty());a.push(IDBKeyRange.bound(l,u))}return a}Zn(e,n){return tf(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(hR)}getMinOffset(e,n){return Re.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||wt(44426))))).next(hR)}}function fR(t){return Ea(t,Dy)}function om(t){return Ea(t,dy)}function kv(t){return Ea(t,NN)}function lm(t){return Ea(t,uy)}function hR(t){Lt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;AN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zo(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vF=41943040;class Cs{static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e,n){const r=t.store(rc),i=t.store(Xm),a=[],s=IDBKeyRange.only(n.batchId);let l=0;const u=r.ee({range:s},((f,p,y)=>(l++,y.delete())));a.push(u.next((()=>{Lt(l===1,47070,{batchId:n.batchId})})));const d=[];for(const f of n.mutations){const p=l8(e,f.key.path,n.batchId);a.push(i.delete(p)),d.push(f.key)}return Re.waitFor(a).next((()=>d))}function v2(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(vF,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class Yx{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Lt(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Yx(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nf(e).ee({index:Ih,range:r},((i,a,s)=>{n=!1,s.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=wm(e),s=nf(e);return s.add({}).next((l=>{Lt(typeof l=="number",49019);const u=new MN(l,n,r,i),d=(function(v,E,A){const S=A.baseMutations.map((q=>Uy(v.yt,q))),I=A.mutations.map((q=>Uy(v.yt,q)));return{userId:E,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:I}})(this.serializer,this.userId,u),f=[];let p=new _r(((y,v)=>mn(y.canonicalString(),v.canonicalString())));for(const y of i){const v=l8(this.userId,y.key.path,l);p=p.add(y.key.path.popLast()),f.push(s.put(d)),f.push(a.put(v,RZ))}return p.forEach((y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Xn[l]=u.keys()})),Re.waitFor(f).next((()=>u))}))}lookupMutationBatch(e,n){return nf(e).get(n).next((r=>r?(Lt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),wh(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Re.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return nf(e).ee({index:Ih,range:i},((s,l,u)=>{l.userId===this.userId&&(Lt(l.batchId>=r,47524,{tr:r}),a=wh(this.serializer,l)),u.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=xf;return nf(e).ee({index:Ih,range:n,reverse:!0},((i,a,s)=>{r=a.batchId,s.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,xf],[this.userId,Number.POSITIVE_INFINITY]);return nf(e).J(Ih,n).next((r=>r.map((i=>wh(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=kb(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return wm(e).ee({range:i},((s,l,u)=>{const[d,f,p]=s,y=Qc(f);if(d===this.userId&&n.path.isEqual(y))return nf(e).get(p).next((v=>{if(!v)throw wt(61480,{nr:s,batchId:p});Lt(v.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:v.userId,batchId:p}),a.push(wh(this.serializer,v))}));u.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(mn);const i=[];return n.forEach((a=>{const s=kb(this.userId,a.path),l=IDBKeyRange.lowerBound(s),u=wm(e).ee({range:l},((d,f,p)=>{const[y,v,E]=d,A=Qc(v);y===this.userId&&a.path.isEqual(A)?r=r.add(E):p.done()}));i.push(u)})),Re.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=kb(this.userId,r),s=IDBKeyRange.lowerBound(a);let l=new _r(mn);return wm(e).ee({range:s},((u,d,f)=>{const[p,y,v]=u,E=Qc(y);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(l=l.add(v)):f.done()})).next((()=>this.rr(e,l)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(nf(e).get(a).next((s=>{if(s===null)throw wt(35274,{batchId:a});Lt(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(wh(this.serializer,s))})))})),Re.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return yF(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Re.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Re.resolve();const r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return wm(e).ee({range:r},((a,s,l)=>{if(a[0]===this.userId){const u=Qc(a[1]);i.push(u)}else l.done()})).next((()=>{Lt(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return bF(e,this.userId,n)}_r(e){return xF(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:xf,lastStreamToken:""}))}}function bF(t,e,n){const r=kb(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return wm(t).ee({range:a,X:!0},((l,u,d)=>{const[f,p,y]=l;f===e&&p===i&&(s=!0),d.done()})).next((()=>s))}function nf(t){return Ea(t,rc)}function wm(t){return Ea(t,Xm)}function xF(t){return Ea(t,Oy)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jh(0)}static cr(){return new Jh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Jh(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Gt.fromTimestamp(new fr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>cm(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Lt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return cm(e).ee(((s,l)=>{const u=Jv(l);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,a.push(this.removeTargetData(e,u)))})).next((()=>Re.waitFor(a))).next((()=>i))}forEachTarget(e,n){return cm(e).ee(((r,i)=>{const a=Jv(i);n(a)}))}lr(e){return mR(e).get(d2).next((n=>(Lt(n!==null,2888),n)))}hr(e,n){return mR(e).put(d2,n)}Pr(e,n){return cm(e).put(pF(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Yh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return cm(e).ee({range:i,index:u8},((s,l,u)=>{const d=Jv(l);w0(n,d.target)&&(a=d,u.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=uf(e);return n.forEach((s=>{const l=Ds(s.path);i.push(a.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,s))})),Re.waitFor(i)}removeMatchingKeys(e,n,r){const i=uf(e);return Re.forEach(n,(a=>{const s=Ds(a.path);return Re.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=uf(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=uf(e);let a=_n();return i.ee({range:r,X:!0},((s,l,u)=>{const d=Qc(s[1]),f=new mt(d);a=a.add(f)})).next((()=>a))}containsKey(e,n){const r=Ds(n.path),i=IDBKeyRange.bound([r],[J9(r)],!1,!0);let a=0;return uf(e).ee({index:TN,X:!0,range:i},(([s,l],u,d)=>{s!==0&&(a++,d.done())})).next((()=>a>0))}At(e,n){return cm(e).get(n).next((r=>r?Jv(r):null))}}function cm(t){return Ea(t,Qm)}function mR(t){return Ea(t,Lh)}function uf(t){return Ea(t,Jm)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="LruGarbageCollector",ete=1048576;function vR([t,e],[n,r]){const i=mn(t,n);return i===0?mn(e,r):i}class tte{constructor(e){this.Ir=e,this.buffer=new _r(vR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _F{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(gR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qf(n)?at(gR,"Ignoring IndexedDB error during garbage collection: ",n):await zf(n)}await this.Vr(3e5)}))}}class nte{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Re.resolve(Eo.ce);const r=new tte(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(pR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),ym()<=Dn.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function wF(t,e){return new nte(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e,n){this.db=e,this.garbageCollector=wF(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return eb(e,r)}removeReference(e,n,r){return eb(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return eb(e,n)}br(e,n){return(function(i,a){let s=!1;return xF(i).te((l=>bF(i,l,a).next((u=>(u&&(s=!0),Re.resolve(!u)))))).next((()=>s))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((s,l)=>{if(l<=n){const u=this.br(e,s).next((d=>{if(!d)return a++,r.getEntry(e,s).next((()=>(r.removeEntry(s,Gt.min()),uf(e).delete((function(p){return[0,Ds(p.path)]})(s)))))}));i.push(u)}})).next((()=>Re.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return eb(e,n)}Sr(e,n){const r=uf(e);let i,a=Eo.ce;return r.ee({index:TN},(([s,l],{path:u,sequenceNumber:d})=>{s===0?(a!==Eo.ce&&n(new mt(Qc(i)),a),a=d,i=u):a=Eo.ce})).next((()=>{a!==Eo.ce&&n(new mt(Qc(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eb(t,e){return uf(t).put((function(r,i){return{targetId:0,path:Ds(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.changes=new yd((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return hh(e).put(r)}removeEntry(e,n,r){return hh(e).delete((function(a,s){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],m2(s),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Wr.newInvalidDocument(n);return hh(e).ee({index:jb,range:IDBKeyRange.only(jv(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:Wr.newInvalidDocument(n)};return hh(e).ee({index:jb,range:IDBKeyRange.only(jv(n))},((i,a)=>{r={document:this.Cr(n,a),size:v2(a)}})).next((()=>r))}getEntries(e,n){let r=So();return this.Fr(e,n,((i,a)=>{const s=this.Cr(i,a);r=r.insert(i,s)})).next((()=>r))}Mr(e,n){let r=So(),i=new zr(mt.comparator);return this.Fr(e,n,((a,s)=>{const l=this.Cr(a,s);r=r.insert(a,l),i=i.insert(a,v2(s))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Re.resolve();let i=new _r(xR);n.forEach((u=>i=i.add(u)));const a=IDBKeyRange.bound(jv(i.first()),jv(i.last())),s=i.getIterator();let l=s.getNext();return hh(e).ee({index:jb,range:a},((u,d,f)=>{const p=mt.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&xR(l,p)<0;)r(l,null),l=s.getNext();l&&l.isEqual(p)&&(r(l,d),l=s.hasNext()?s.getNext():null),l?f.j(jv(l)):f.done()})).next((()=>{for(;l;)r(l,null),l=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,l=[s.popLast().toArray(),s.lastSegment(),m2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hh(e).J(IDBKeyRange.bound(l,u,!0)).next((d=>{a==null||a.incrementDocumentReadCount(d.length);let f=So();for(const p of d){const y=this.Cr(mt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(A0(n,y)||i.has(y.key))&&(f=f.insert(y.key,y))}return f}))}getAllFromCollectionGroup(e,n,r,i){let a=So();const s=bR(n,r),l=bR(n,Zo.max());return hh(e).ee({index:c8,range:IDBKeyRange.bound(s,l,!0)},((u,d,f)=>{const p=this.Cr(mt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);a=a.insert(p.key,p),a.size===i&&f.done()})).next((()=>a))}newChangeBuffer(e){return new ate(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return yR(e).get(aS).next((n=>(Lt(!!n,20021),n)))}Dr(e,n){return yR(e).put(aS,n)}Cr(e,n){if(n){const r=qee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Gt.min())))return r}return Wr.newInvalidDocument(e)}}function AF(t){return new ite(t)}class ate extends EF{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new yd((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new _r(((a,s)=>mn(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const l=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,l.readTime)),s.isValidDocument()){const u=tR(this.Nr.serializer,s);i=i.add(a.path.popLast());const d=v2(u);r+=d-l.size,n.push(this.Nr.addEntry(e,a,u))}else if(r-=l.size,this.trackRemovals){const u=tR(this.Nr.serializer,s.convertToNoDocument(Gt.min()));n.push(this.Nr.addEntry(e,a,u))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Re.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,s)=>{this.Br.set(a,{size:s,readTime:r.get(a).readTime})})),r)))}}function yR(t){return Ea(t,Ry)}function hh(t){return Ea(t,u2)}function jv(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bR(t,e){const n=e.documentKey.path.toArray();return[t,m2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function xR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=mn(n[a],r[a]),i)return i;return i=mn(n.length,r.length),i||(i=mn(n[n.length-2],r[r.length-2]),i||mn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&py(r.mutation,i,Ao.empty(),fr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,_n()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=_n()){const i=Jc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Xv();return a.forEach(((l,u)=>{s=s.insert(l,u.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Jc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,_n())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=So();const s=hy(),l=(function(){return hy()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof bd)?a=a.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),py(f.mutation,d,f.mutation.getFieldMask(),fr.now())):s.set(d.key,Ao.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((d,f)=>s.set(d,f))),n.forEach(((d,f)=>l.set(d,new ste(f,s.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=hy();let i=new zr(((s,l)=>s-l)),a=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Ao.empty();f=l.applyToLocalView(d,f),r.set(u,f);const p=(i.get(l.batchId)||_n()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,p=V8();f.forEach((y=>{if(!a.has(y)){const v=W8(n.get(y),r.get(y));v!==null&&p.set(y,v),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Re.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Re.resolve(Jc());let l=Km,u=a;return s.next((d=>Re.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(f)?Re.resolve():this.remoteDocumentCache.getEntry(e,f).next((y=>{u=u.insert(f,y)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,u,d,_n()))).next((f=>({batchId:l,changes:B8(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new mt(n)).next((r=>{let i=Xv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Xv();return this.indexManager.getCollectionParents(e,a).next((l=>Re.forEach(l,(u=>{const d=(function(p,y){return new vd(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((p,y)=>{s=s.insert(p,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((u,d)=>{const f=d.getKey();s.get(f)===null&&(s=s.insert(f,Wr.newInvalidDocument(f)))}));let l=Xv();return s.forEach(((u,d)=>{const f=a.get(u);f!==void 0&&py(f.mutation,d,Ao.empty(),fr.now()),A0(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}})(n)),Re.resolve()}getNamedQuery(e,n){return Re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:zN(i.bundledQuery),readTime:Gi(i.readTime)}})(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(){this.overlays=new zr(mt.comparator),this.qr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jc();return Re.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Re.resolve()}getOverlaysForCollection(e,n,r){const i=Jc(),a=n.length+1,s=new mt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new zr(((d,f)=>d-f));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=a.get(d.largestBatchId);f===null&&(f=Jc(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Jc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return Re.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new UN(n,r));let a=this.qr.get(n);a===void 0&&(a=_n(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Qr=new _r(Fa.$r),this.Ur=new _r(Fa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fa(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fa(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new mt(new kn([])),r=new Fa(n,e),i=new Fa(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new mt(new kn([])),r=new Fa(n,e),i=new Fa(n,e+1);let a=_n();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new Fa(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fa{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return mt.comparator(e.key,n.key)||mn(e.Yr,n.Yr)}static Kr(e,n){return mn(e.Yr,n.Yr)||mt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _r(Fa.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MN(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new Fa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Re.resolve(s)}lookupMutationBatch(e,n){return Re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?xf:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fa(n,0),i=new Fa(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),Re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _r(mn);return n.forEach((i=>{const a=new Fa(i,0),s=new Fa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{r=r.add(l.Yr)}))})),Re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;mt.isDocumentKey(a)||(a=a.child(""));const s=new Fa(new mt(a),0);let l=new _r(mn);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),s),Re.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Re.forEach(n.mutations,(i=>{const a=new Fa(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fa(n,0),i=this.Zr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.ri=e,this.docs=(function(){return new zr(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():Wr.newInvalidDocument(n))}getEntries(e,n){let r=So();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wr.newInvalidDocument(i))})),Re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=So();const s=n.path,l=new mt(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||AN(r8(f),r)<=0||(i.has(f.key)||A0(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return Re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){wt(9500)}ii(e,n){return Re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fte(this)}getSize(e){return Re.resolve(this.size)}}class fte extends EF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.persistence=e,this.si=new yd((n=>Yh(n)),w0),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new $N,this.targetCount=0,this.ai=Jh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.Pr(n),Re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Re.waitFor(a).next((()=>i))}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),Re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Re.resolve(r)}containsKey(e,n){return Re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eo(0),this.li=!1,this.li=!0,this.hi=new cte,this.referenceDelegate=e(this),this.Pi=new hte(this),this.indexManager=new Qee,this.remoteDocumentCache=(function(i){return new dte(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hF(n),this.Ii=new ote(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new ute(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new pte(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class pte extends a8{constructor(e){super(),this.currentSequenceNumber=e}}class Wx{constructor(e){this.persistence=e,this.Ri=new $N,this.Vi=null}static mi(e){return new Wx(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,(r=>{const i=mt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Gt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Re.or([()=>Re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class y2{constructor(e,n){this.persistence=e,this.pi=new yd((r=>Ds(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=wF(this,n)}static mi(e,n){return new y2(e,n)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Re.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((l=>{l||(r++,a.removeEntry(s,Gt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mb(e.data.value)),n}br(e,n,r){return Re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Mx("createOrUpgrade",n);r<1&&i>=1&&((function(u){u.createObjectStore(_0)})(e),(function(u){u.createObjectStore(Oy,{keyPath:OZ}),u.createObjectStore(rc,{keyPath:OO,autoIncrement:!0}).createIndex(Ih,RO,{unique:!0}),u.createObjectStore(Xm)})(e),_R(e),(function(u){u.createObjectStore(gh)})(e));let s=Re.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(Jm),u.deleteObjectStore(Qm),u.deleteObjectStore(Lh)})(e),_R(e)),s=s.next((()=>(function(u){const d=u.store(Lh),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return d.put(d2,f)})(a)))),r<4&&i>=4&&(r!==0&&(s=s.next((()=>(function(u,d){return d.store(rc).J().next((p=>{u.deleteObjectStore(rc),u.createObjectStore(rc,{keyPath:OO,autoIncrement:!0}).createIndex(Ih,RO,{unique:!0});const y=d.store(rc),v=p.map((E=>y.put(E)));return Re.waitFor(v)}))})(e,a)))),s=s.next((()=>{(function(u){u.createObjectStore(Zm,{keyPath:BZ})})(e)}))),r<5&&i>=5&&(s=s.next((()=>this.yi(a)))),r<6&&i>=6&&(s=s.next((()=>((function(u){u.createObjectStore(Ry)})(e),this.wi(a))))),r<7&&i>=7&&(s=s.next((()=>this.Si(a)))),r<8&&i>=8&&(s=s.next((()=>this.bi(e,a)))),r<9&&i>=9&&(s=s.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(s=s.next((()=>this.Di(a)))),r<11&&i>=11&&(s=s.next((()=>{(function(u){u.createObjectStore(Fx,{keyPath:VZ})})(e),(function(u){u.createObjectStore(Ux,{keyPath:zZ})})(e)}))),r<12&&i>=12&&(s=s.next((()=>{(function(u){const d=u.createObjectStore(Bx,{keyPath:KZ});d.createIndex(oS,XZ,{unique:!1}),d.createIndex(h8,QZ,{unique:!1})})(e)}))),r<13&&i>=13&&(s=s.next((()=>(function(u){const d=u.createObjectStore(u2,{keyPath:DZ});d.createIndex(jb,kZ),d.createIndex(c8,jZ)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(gh)))),r<14&&i>=14&&(s=s.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(s=s.next((()=>(function(u){u.createObjectStore(NN,{keyPath:qZ,autoIncrement:!0}).createIndex(sS,HZ,{unique:!1}),u.createObjectStore(uy,{keyPath:$Z}).createIndex(d8,GZ,{unique:!1}),u.createObjectStore(dy,{keyPath:YZ}).createIndex(f8,WZ,{unique:!1})})(e)))),r<16&&i>=16&&(s=s.next((()=>{n.objectStore(uy).clear()})).next((()=>{n.objectStore(dy).clear()}))),r<17&&i>=17&&(s=s.next((()=>{(function(u){u.createObjectStore(IN,{keyPath:JZ})})(e)}))),r<18&&i>=18&&OM()&&(s=s.next((()=>{n.objectStore(uy).clear()})).next((()=>{n.objectStore(dy).clear()}))),s}wi(e){let n=0;return e.store(gh).ee(((r,i)=>{n+=v2(i)})).next((()=>{const r={byteSize:n};return e.store(Ry).put(aS,r)}))}yi(e){const n=e.store(Oy),r=e.store(rc);return n.J().next((i=>Re.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,xf],[a.userId,a.lastAcknowledgedBatchId]);return r.J(Ih,s).next((l=>Re.forEach(l,(u=>{Lt(u.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const d=wh(this.serializer,u);return yF(e,a.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(Jm),r=e.store(gh);return e.store(Lh).get(d2).next((i=>{const a=[];return r.ee(((s,l)=>{const u=new kn(s),d=(function(p){return[0,Ds(p)]})(u);a.push(n.get(d).next((f=>f?Re.resolve():(p=>n.put({targetId:0,path:Ds(p),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>Re.waitFor(a)))}))}bi(e,n){e.createObjectStore(Dy,{keyPath:UZ});const r=n.store(Dy),i=new HN,a=s=>{if(i.add(s)){const l=s.lastSegment(),u=s.popLast();return r.put({collectionId:l,parent:Ds(u)})}};return n.store(gh).ee({X:!0},((s,l)=>{const u=new kn(s);return a(u.popLast())})).next((()=>n.store(Xm).ee({X:!0},(([s,l,u],d)=>{const f=Qc(l);return a(f.popLast())}))))}Di(e){const n=e.store(Qm);return n.ee(((r,i)=>{const a=Jv(i),s=pF(this.serializer,a);return n.put(s)}))}Ci(e,n){const r=n.store(gh),i=[];return r.ee(((a,s)=>{const l=n.store(u2),u=(function(p){return p.document?new mt(kn.fromString(p.document.name).popFirst(5)):p.noDocument?mt.fromSegments(p.noDocument.path):p.unknownDocument?mt.fromSegments(p.unknownDocument.path):wt(36783)})(s).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(l.put(d))})).next((()=>Re.waitFor(i)))}Fi(e,n){const r=n.store(rc),i=AF(this.serializer),a=new GN(Wx.mi,this.serializer.yt);return r.J().next((s=>{const l=new Map;return s.forEach((u=>{let d=l.get(u.userId)??_n();wh(this.serializer,u).keys().forEach((f=>d=d.add(f))),l.set(u.userId,d)})),Re.forEach(l,((u,d)=>{const f=new Ba(d),p=Gx.wt(this.serializer,f),y=a.getIndexManager(f),v=Yx.wt(f,this.serializer,y,a.referenceDelegate);return new SF(i,v,p,y).recalculateAndSaveOverlaysForDocumentKeys(new lS(n,Eo.ce),u).next()}))}))}}function _R(t){t.createObjectStore(Jm,{keyPath:MZ}).createIndex(TN,FZ,{unique:!0}),t.createObjectStore(Qm,{keyPath:"targetId"}).createIndex(u8,LZ,{unique:!0}),t.createObjectStore(Lh)}const rf="IndexedDbPersistence",O5=18e5,R5=5e3,D5="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",TF="main";class YN{constructor(e,n,r,i,a,s,l,u,d,f,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=s,this.document=l,this.xi=d,this.Oi=f,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=y=>Promise.resolve(),!YN.v())throw new tt(Be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rte(this,i),this.$i=n+TF,this.serializer=new hF(u),this.Ui=new tu(this.$i,this.Ni,new mte(this.serializer)),this.hi=new $ee,this.Pi=new Zee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AF(this.serializer),this.Ii=new Hee,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,f===!1&&$i(rf,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Be.FAILED_PRECONDITION,D5);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Eo(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>tb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(qf(e))return at(rf,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return at(rf,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Lv(e).get(im).next((n=>Re.resolve(this.es(n))))}ts(e){return tb(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,O5)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Ea(n,Zm);return r.J().next((i=>{const a=this.ss(i,O5),s=i.filter((l=>a.indexOf(l)===-1));return Re.forEach(s,(l=>r.delete(l.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Re.resolve(!0):Lv(e).get(im).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,R5)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new tt(Be.FAILED_PRECONDITION,D5);return!1}}return!(!this.networkEnabled||!this.inForeground)||tb(e).J().next((r=>this.ss(r,R5).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(a||s&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&at(rf,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[_0,Zm],(e=>{const n=new lS(e,Eo.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>tb(e).J().next((n=>this.ss(n,O5).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Yx.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jee(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Gx.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){at(rf,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(u){return u===18?tee:u===17?v8:u===16?eee:u===15?CN:u===14?g8:u===13?m8:u===12?ZZ:u===11?p8:void wt(60245)})(this.Ni);let s;return this.Ui.runTransaction(e,i,a,(l=>(s=new lS(l,this.ci?this.ci.next():Eo.ce),n==="readwrite-primary"?this.Hi(s).next((u=>!!u||this.Yi(s))).next((u=>{if(!u)throw $i(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new tt(Be.FAILED_PRECONDITION,i8);return r(s)})).next((u=>this.Xi(s).next((()=>u)))):this.Is(s).next((()=>r(s)))))).then((l=>(s.raiseOnCommittedEvent(),l)))}Is(e){return Lv(e).get(im).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,R5)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new tt(Be.FAILED_PRECONDITION,D5)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lv(e).put(im,n)}static v(){return tu.v()}Zi(e){const n=Lv(e);return n.get(im).next((r=>this.es(r)?(at(rf,"Releasing primary lease."),n.delete(im)):Re.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||($i(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;PM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return at(rf,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $i(rf,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$i("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lv(t){return Ea(t,_0)}function tb(t){return Ea(t,Zm)}function WN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=_n(),i=_n();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new KN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PM()?8:s8(bi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new gte;return this.Ss(e,n,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,s,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ym()<=Dn.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",bm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(ym()<=Dn.DEBUG&&at("QueryEngine","Query:",bm(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ym()<=Dn.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",bm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):Re.resolve())}ys(e,n){if($O(n))return Re.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=p2(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=_n(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,s,u.readTime)?this.ys(e,p2(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return $O(n)||i.isEqual(Gt.min())?Re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?Re.resolve(null):(ym()<=Dn.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bm(n)),this.vs(e,s,n,n8(i,Km)).next((l=>l)))}))}Ds(e,n){let r=new _r(F8(e));return n.forEach(((i,a)=>{A0(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ym()<=Dn.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",bm(n)),this.ps.getDocumentsMatchingQuery(e,n,Zo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="LocalStore",vte=3e8;class yte{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new zr(mn),this.xs=new yd((a=>Yh(a)),w0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function IF(t,e,n,r){return new yte(t,e,n,r)}async function CF(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let u=_n();for(const d of i){s.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:l})))}))}))}function bte(t,e){const n=bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const p=d.batch,y=p.keys();let v=Re.resolve();return y.forEach((E=>{v=v.next((()=>f.getEntry(u,E))).next((A=>{const S=d.docVersions.get(E);Lt(S!==null,48541),A.version.compareTo(S)<0&&(p.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),f.addEntry(A)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=_n();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function PF(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xte(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,p)=>{const y=i.get(p);if(!y)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,p))));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ci.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),(function(A,S,I){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=vte?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(y,v,f)&&l.push(n.Pi.updateTargetData(a,v))}));let u=So(),d=_n();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),l.push(OF(a,s,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(Gt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(f)}return Re.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,d))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function OF(t,e,n){let r=_n(),i=_n();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=So();return n.forEach(((l,u)=>{const d=a.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Gt.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):at(XN,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:s,qs:i}}))}function _te(t,e){const n=bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sg(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Re.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Xu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function og(t,e,n){const r=bt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!qf(s))throw s;at(XN,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function b2(t,e,n){const r=bt(t);let i=Gt.min(),a=_n();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(u,d,f){const p=bt(u),y=p.xs.get(f);return y!==void 0?Re.resolve(p.Ms.get(y)):p.Pi.getTargetData(d,f)})(r,s,Ks(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,l.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Gt.min(),n?a:_n()))).next((l=>(kF(r,M8(e),l),{documents:l,Qs:a})))))}function RF(t,e){const n=bt(t),r=bt(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((s=>s?s.target:null))))}function DF(t,e){const n=bt(t),r=n.Os.get(e)||Gt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,n8(r,Km),Number.MAX_SAFE_INTEGER))).then((i=>(kF(n,e,i),i)))}function kF(t,e,n){let r=t.Os.get(e)||Gt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}async function wte(t,e,n,r){const i=bt(t);let a=_n(),s=So();for(const d of n){const f=e.$s(d.metadata.name);d.document&&(a=a.add(f));const p=e.Us(d);p.setReadTime(e.Ks(d.metadata.readTime)),s=s.insert(f,p)}const l=i.Ns.newChangeBuffer({trackRemovals:!0}),u=await sg(i,(function(f){return Ks(Ig(kn.fromString(`__bundle__/docs/${f}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>OF(d,l,s).next((f=>(l.apply(d),f))).next((f=>i.Pi.removeMatchingKeysForTargetId(d,u.targetId).next((()=>i.Pi.addMatchingKeys(d,a,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,f.ks,f.qs))).next((()=>f.ks))))))}async function Ete(t,e,n=_n()){const r=await sg(t,Ks(zN(e.bundledQuery))),i=bt(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const s=Gi(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(a,e);const l=r.withResumeToken(Ci.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(l.targetId,l),i.Pi.updateTargetData(a,l).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="firestore_clients";function wR(t,e){return`${jF}_${t}_${e}`}const LF="firestore_mutations";function ER(t,e,n){let r=`${LF}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const MF="firestore_targets";function k5(t,e){return`${MF}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="SharedClientState";class x2{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new tt(i.error.code,i.error.message))),s?new x2(e,n,i.state,a):($i(zc,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class my{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new tt(r.error.code,r.error.message))),a?new my(e,r.state,i):($i(zc,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _2{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=kN();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=o8(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new _2(e,a):($i(zc,`Failed to parse client data for instance '${e}': ${n}`),null)}}class QN{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new QN(n.clientId,n.onlineState):($i(zc,`Failed to parse online state: ${e}`),null)}}class ES{constructor(){this.activeTargetIds=kN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j5{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new zr(mn),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=wR(this.persistenceKey,this.Js),this.no=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new ES),this.ro=new RegExp(`^${jF}_${s}_([^_]*)$`),this.io=new RegExp(`^${LF}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${MF}_${s}_(\\d+)$`),this.oo=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this._o=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(wR(this.persistenceKey,r));if(i){const a=_2.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(k5(this.persistenceKey,e));if(i){const a=my.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(k5(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return at(zc,"READ",e,n),n}setItem(e,n){at(zc,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){at(zc,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(at(zc,"EVENT",n.key,n.newValue),n.key===this.eo)return void $i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let s=Eo.ce;if(a!=null)try{const l=JSON.parse(a);Lt(typeof l=="number",30636,{So:a}),s=l}catch(l){$i(zc,"Failed to read sequence number from WebStorage",l)}return s})(n.newValue);r!==Eo.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new x2(this.currentUser,e,n,r),a=ER(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=ER(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=k5(this.persistenceKey,e),a=new my(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return _2.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return x2.Ws(new Ba(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return my.Ws(i,n)}uo(e){return QN.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);at(zc,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),s=[],l=[];return a.forEach((u=>{i.has(u)||s.push(u)})),i.forEach((u=>{a.has(u)||l.push(u)})),this.syncEngine.Fo(s,l).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=kN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class FF{constructor(){this.Mo=new ES,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ES,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="ConnectivityMonitor";class SR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(AR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(AR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nb=null;function AS(){return nb===null?nb=(function(){return 268435456+Math.round(2147483648*Math.random())})():nb++,"0x"+nb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="RestConnection",Ste={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tte{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===cS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=AS(),l=this.zo(e,n.toUriEncodedString());at(L5,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:d}=new URL(l),f=wg(d);return this.Jo(e,l,u,r,f).then((p=>(at(L5,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw lu(L5,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ng})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=Ste[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="WebChannelConnection";class Ite extends Tte{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=AS();return new Promise(((l,u)=>{const d=new $9;d.setWithCredentials(!0),d.listenOnce(G9.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Rb.NO_ERROR:const p=d.getResponseJson();at(Es,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Rb.TIMEOUT:at(Es,`RPC '${e}' ${s} timed out`),u(new tt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Rb.HTTP_ERROR:const y=d.getStatus();if(at(Es,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const A=(function(I){const q=I.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(q)>=0?q:Be.UNKNOWN})(E.status);u(new tt(A,E.message))}else u(new tt(Be.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new tt(Be.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{at(Es,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);at(Es,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=AS(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K9(),l=W9(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");at(Es,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);this.I_(p);let y=!1,v=!1;const E=new Nte({Yo:S=>{v?at(Es,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(at(Es,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),at(Es,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),A=(S,I,q)=>{S.listen(I,(k=>{try{q(k)}catch(B){setTimeout((()=>{throw B}),0)}}))};return A(p,Kv.EventType.OPEN,(()=>{v||(at(Es,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),A(p,Kv.EventType.CLOSE,(()=>{v||(v=!0,at(Es,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),A(p,Kv.EventType.ERROR,(S=>{v||(v=!0,lu(Es,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new tt(Be.UNAVAILABLE,"The operation could not be completed")))})),A(p,Kv.EventType.MESSAGE,(S=>{var I;if(!v){const q=S.data[0];Lt(!!q,16349);const k=q,B=(k==null?void 0:k.error)||((I=k[0])==null?void 0:I.error);if(B){at(Es,`RPC '${e}' stream ${i} received error:`,B);const $=B.status;let K=(function(D){const G=ta[D];if(G!==void 0)return Q8(G)})($),L=B.message;K===void 0&&(K=Be.INTERNAL,L="Unknown error status: "+$+" with message "+B.message),v=!0,E.a_(new tt(K,L)),p.close()}else at(Es,`RPC '${e}' stream ${i} received:`,q),E.u_(q)}})),A(l,Y9.STAT_EVENT,(S=>{S.stat===nS.PROXY?at(Es,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===nS.NOPROXY&&at(Es,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return typeof window<"u"?window:null}function zb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){return new Dee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="PersistentStream";class BF{constructor(e,n,r,i,a,s,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new tt(Be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(TR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(at(TR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cte extends BF{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Lee(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Gt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Gt.min():s.readTime?Gi(s.readTime):Gt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yS(this.serializer),n.addTarget=(function(a,s){let l;const u=s.target;if(l=f2(u)?{documents:oF(a,u)}:{query:lF(a,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=tF(a,s.resumeToken);const d=gS(a,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(Gt.min())>0){l.readTime=ag(a,s.snapshotVersion.toTimestamp());const d=gS(a,s.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=Fee(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yS(this.serializer),n.removeTarget=e,this.q_(n)}}class Pte extends BF{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Mee(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Uy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{}class Rte extends Ote{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,vS(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Be.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,vS(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(Be.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Dte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RemoteStore";class kte{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{$f(this)&&(at(Zh,"Restarting streams for network reachability change."),await(async function(u){const d=bt(u);d.Ea.add(4),await Og(d),d.Ra.set("Unknown"),d.Ea.delete(4),await C0(d)})(this))}))})),this.Ra=new Dte(r,i)}}async function C0(t){if($f(t))for(const e of t.da)await e(!0)}async function Og(t){for(const e of t.da)await e(!1)}function Kx(t,e){const n=bt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tI(n)?eI(n):Dg(n).O_()&&ZN(n,e))}function lg(t,e){const n=bt(t),r=Dg(n);n.Ia.delete(e),r.O_()&&VF(n,e),n.Ia.size===0&&(r.O_()?r.L_():$f(n)&&n.Ra.set("Unknown"))}function ZN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dg(t).Y_(e)}function VF(t,e){t.Va.Ue(e),Dg(t).Z_(e)}function eI(t){t.Va=new Cee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Dg(t).start(),t.Ra.ua()}function tI(t){return $f(t)&&!Dg(t).x_()&&t.Ia.size>0}function $f(t){return bt(t).Ea.size===0}function zF(t){t.Va=void 0}async function jte(t){t.Ra.set("Online")}async function Lte(t){t.Ia.forEach(((e,n)=>{ZN(t,e)}))}async function Mte(t,e){zF(t),tI(t)?(t.Ra.ha(e),eI(t)):t.Ra.set("Unknown")}async function Fte(t,e,n){if(t.Ra.set("Online"),e instanceof eF&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){at(Zh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await w2(t,r)}else if(e instanceof Bb?t.Va.Ze(e):e instanceof Z8?t.Va.st(e):t.Va.tt(e),!n.isEqual(Gt.min()))try{const r=await PF(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(u.resumeToken,s))}})),l.targetMismatches.forEach(((u,d)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(Ci.EMPTY_BYTE_STRING,f.snapshotVersion)),VF(a,u);const p=new Xu(f.target,u,d,f.sequenceNumber);ZN(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){at(Zh,"Failed to raise snapshot:",r),await w2(t,r)}}async function w2(t,e,n){if(!qf(e))throw e;t.Ea.add(1),await Og(t),t.Ra.set("Offline"),n||(n=()=>PF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{at(Zh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await C0(t)}))}function qF(t,e){return e().catch((n=>w2(t,n,e)))}async function Rg(t){const e=bt(t),n=Rf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xf;for(;Ute(e);)try{const i=await _te(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Bte(e,i)}catch(i){await w2(e,i)}HF(e)&&$F(e)}function Ute(t){return $f(t)&&t.Ta.length<10}function Bte(t,e){t.Ta.push(e);const n=Rf(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HF(t){return $f(t)&&!Rf(t).x_()&&t.Ta.length>0}function $F(t){Rf(t).start()}async function Vte(t){Rf(t).ra()}async function zte(t){const e=Rf(t);for(const n of t.Ta)e.ea(n.mutations)}async function qte(t,e,n){const r=t.Ta.shift(),i=FN.from(r,e,n);await qF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Rg(t)}async function Hte(t,e){e&&Rf(t).X_&&await(async function(r,i){if((function(s){return X8(s)&&s!==Be.ABORTED})(i.code)){const a=r.Ta.shift();Rf(r).B_(),await qF(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Rg(r)}})(t,e),HF(t)&&$F(t)}async function NR(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),at(Zh,"RemoteStore received new credentials");const r=$f(n);n.Ea.add(3),await Og(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await C0(n)}async function SS(t,e){const n=bt(t);e?(n.Ea.delete(2),await C0(n)):e||(n.Ea.add(2),await Og(n),n.Ra.set("Unknown"))}function Dg(t){return t.ma||(t.ma=(function(n,r,i){const a=bt(n);return a.sa(),new Cte(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:jte.bind(null,t),t_:Lte.bind(null,t),r_:Mte.bind(null,t),H_:Fte.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),tI(t)?eI(t):t.Ra.set("Unknown")):(await t.ma.stop(),zF(t))}))),t.ma}function Rf(t){return t.fa||(t.fa=(function(n,r,i){const a=bt(n);return a.sa(),new Pte(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vte.bind(null,t),r_:Hte.bind(null,t),ta:zte.bind(null,t),na:qte.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rg(t)):(await t.fa.stop(),t.Ta.length>0&&(at(Zh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new nI(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(t,e){if($i("AsyncQueue",`${e}: ${t}`),qf(t))return new tt(Be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{static emptySet(e){return new jm(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=Xv(),this.sortedSet=new zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.ga=new zr(mt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class cg{constructor(e,n,r,i,a,s,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new cg(e,n,jm.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Gte{constructor(){this.queries=CR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=bt(n),a=i.queries;i.queries=CR(),a.forEach(((s,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new tt(Be.ABORTED,"Firestore shutting down"))}}function CR(){return new yd((t=>L8(t)),E0)}async function rI(t,e){const n=bt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new $te,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=kg(s,`Initialization of query '${bm(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&aI(n)}async function iI(t,e){const n=bt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yte(t,e){const n=bt(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(r=!0);s.wa=i}}r&&aI(n)}function Wte(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function aI(t){t.Ca.forEach((e=>{e.next()}))}var TS,PR;(PR=TS||(TS={})).Ma="default",PR.Cache="cache";class sI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==TS.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.serializer=e}$s(e){return nu(this.serializer,e)}Us(e){return e.metadata.exists?sF(this.serializer,e.document,!1):Wr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Gi(e)}}class Xte{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=GF(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=kn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new OR(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const s of i.metadata.queries){const l=(n.get(s)||_n()).add(a);n.set(s,l)}}return n}async ja(e){const n=await wte(e,new OR(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Ete(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function GF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.key=e}}class WF{constructor(e){this.key=e}}class KF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_n(),this.mutatedKeys=_n(),this.eu=F8(e),this.tu=new jm(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const y=i.get(f),v=A0(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;y&&v?y.data.isEqual(v.data)?E!==A&&(r.track({type:3,doc:v}),S=!0):this.su(y,v)||(r.track({type:2,doc:v}),S=!0,(u&&this.eu(v,u)>0||d&&this.eu(v,d)<0)&&(l=!0)):!y&&v?(r.track({type:0,doc:v}),S=!0):y&&!v&&(r.track({type:1,doc:y}),S=!0,(u||d)&&(l=!0)),S&&(v?(s=s.add(v),a=A?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((f,p)=>(function(v,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:S})}};return A(v)-A(E)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,s.length!==0||d?{snapshot:new cg(this.query,e.tu,a,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_n(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new WF(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new YF(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=_n();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cg.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gf="SyncEngine";class Qte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jte{constructor(e){this.key=e,this.hu=!1}}class Zte{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new yd((l=>L8(l)),E0),this.Iu=new Map,this.Eu=new Set,this.du=new zr(mt.comparator),this.Au=new Map,this.Ru=new $N,this.Vu={},this.mu=new Map,this.fu=Jh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ene(t,e,n=!0){const r=Xx(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await XF(r,e,n,!0),i}async function tne(t,e){const n=Xx(t);await XF(n,e,!0,!1)}async function XF(t,e,n,r){const i=await sg(t.localStore,Ks(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await oI(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Kx(t.remoteStore,i),l}async function oI(t,e,n,r,i){t.pu=(p,y,v)=>(async function(A,S,I,q){let k=S.view.ru(I);k.Cs&&(k=await b2(A.localStore,S.query,!1).then((({documents:L})=>S.view.ru(L,k))));const B=q&&q.targetChanges.get(S.targetId),$=q&&q.targetMismatches.get(S.targetId)!=null,K=S.view.applyChanges(k,A.isPrimaryClient,B,$);return NS(A,S.targetId,K.au),K.snapshot})(t,p,y,v);const a=await b2(t.localStore,e,!0),s=new KF(e,a.Qs),l=s.ru(a.documents),u=N0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,u);NS(t,n,d.au);const f=new Qte(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function nne(t,e,n){const r=bt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!E0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await og(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lg(r.remoteStore,i.targetId),ug(r,i.targetId)})).catch(zf)):(ug(r,i.targetId),await og(r.localStore,i.targetId,!0))}async function rne(t,e){const n=bt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lg(n.remoteStore,r.targetId))}async function ine(t,e,n){const r=dI(t);try{const i=await(function(s,l){const u=bt(s),d=fr.now(),f=l.reduce(((v,E)=>v.add(E.key)),_n());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=So(),A=_n();return u.Ns.getEntries(v,f).next((S=>{E=S,E.forEach(((I,q)=>{q.isValidDocument()||(A=A.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,E))).next((S=>{p=S;const I=[];for(const q of l){const k=Tee(q,p.get(q.key).overlayedDocument);k!=null&&I.push(new bd(q.key,k,N8(k.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,I,l)})).next((S=>{y=S;const I=S.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(v,S.batchId,I)}))})).then((()=>({batchId:y.batchId,changes:B8(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,u){let d=s.Vu[s.currentUser.toKey()];d||(d=new zr(mn)),d=d.insert(l,u),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,n),await xd(r,i.changes),await Rg(r.remoteStore)}catch(i){const a=kg(i,"Failed to persist write");n.reject(a)}}async function QF(t,e){const n=bt(t);try{const r=await xte(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Lt(s.hu,14607):i.removedDocuments.size>0&&(Lt(s.hu,42227),s.hu=!1))})),await xd(n,r,e)}catch(r){await zf(r)}}function RR(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const u=bt(s);u.onlineState=l;let d=!1;u.queries.forEach(((f,p)=>{for(const y of p.Sa)y.va(l)&&(d=!0)})),d&&aI(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ane(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new zr(mt.comparator);s=s.insert(a,Wr.newNoDocument(a,Gt.min()));const l=_n().add(a),u=new T0(Gt.min(),new Map,new zr(mn),s,l);await QF(r,u),r.du=r.du.remove(a),r.Au.delete(e),uI(r)}else await og(r.localStore,e,!1).then((()=>ug(r,e,n))).catch(zf)}async function sne(t,e){const n=bt(t),r=e.batch.batchId;try{const i=await bte(n.localStore,e);cI(n,r,null),lI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xd(n,i)}catch(i){await zf(i)}}async function one(t,e,n){const r=bt(t);try{const i=await(function(s,l){const u=bt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((p=>(Lt(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);cI(r,e,n),lI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xd(r,i)}catch(i){await zf(i)}}async function lne(t,e){const n=bt(t);$f(n.remoteStore)||at(Gf,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(s){const l=bt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(n.localStore);if(r===xf)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=kg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function lI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cI(t,e,n){const r=bt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ug(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||JF(t,r)}))}function JF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uI(t))}function NS(t,e,n){for(const r of n)r instanceof YF?(t.Ru.addReference(r.key,e),cne(t,r)):r instanceof WF?(at(Gf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JF(t,r.key)):wt(19791,{wu:r})}function cne(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(at(Gf,"New document in limbo: "+n),t.Eu.add(r),uI(t))}function uI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new mt(kn.fromString(e)),r=t.fu.next();t.Au.set(r,new Jte(n)),t.du=t.du.insert(n,r),Kx(t.remoteStore,new Xu(Ks(Ig(n.path)),r,"TargetPurposeLimboResolution",Eo.ce))}}async function xd(t,e,n){const r=bt(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{s.push(r.pu(u,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){i.push(d);const p=KN.As(u.targetId,d);a.push(p)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(u,d){const f=bt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Re.forEach(d,(y=>Re.forEach(y.Es,(v=>f.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>Re.forEach(y.ds,(v=>f.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!qf(p))throw p;at(XN,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const v=f.Ms.get(y),E=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(E);f.Ms=f.Ms.insert(y,A)}}})(r.localStore,a))}async function une(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){at(Gf,"User change. New user:",e.toKey());const r=await CF(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new tt(Be.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(n,r.Ls)}}function dne(t,e){const n=bt(t),r=n.Au.get(e);if(r&&r.hu)return _n().add(r.key);{let i=_n();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}async function fne(t,e){const n=bt(t),r=await b2(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&NS(n,e.targetId,i.au),i}async function hne(t,e){const n=bt(t);return DF(n.localStore,e).then((r=>xd(n,r)))}async function pne(t,e,n,r){const i=bt(t),a=await(function(l,u){const d=bt(l),f=bt(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(p=>f.er(p,u).next((y=>y?d.localDocuments.getDocuments(p,y):Re.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await Rg(i.remoteStore):n==="acknowledged"||n==="rejected"?(cI(i,e,r||null),lI(i,e),(function(l,u){bt(bt(l).mutationQueue).ir(u)})(i.localStore,e)):wt(6720,"Unknown batchState",{Su:n}),await xd(i,a)):at(Gf,"Cannot apply mutation batch with id: "+e)}async function mne(t,e){const n=bt(t);if(Xx(n),dI(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await DR(n,r.toArray());n.gu=!0,await SS(n.remoteStore,!0);for(const a of i)Kx(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then((()=>(ug(n,s),og(n.localStore,s,!0)))),lg(n.remoteStore,s)})),await i,await DR(n,r),(function(s){const l=bt(s);l.Au.forEach(((u,d)=>{lg(l.remoteStore,d)})),l.Ru.Jr(),l.Au=new Map,l.du=new zr(mt.comparator)})(n),n.gu=!1,await SS(n.remoteStore,!1)}}async function DR(t,e,n){const r=bt(t),i=[],a=[];for(const s of e){let l;const u=r.Iu.get(s);if(u&&u.length!==0){l=await sg(r.localStore,Ks(u[0]));for(const d of u){const f=r.Tu.get(d),p=await fne(r,f);p.snapshot&&a.push(p.snapshot)}}else{const d=await RF(r.localStore,s);l=await sg(r.localStore,d),await oI(r,ZF(d),s,!1,l.resumeToken)}i.push(l)}return r.Pu.H_(a),i}function ZF(t){return j8(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gne(t){return(function(n){return bt(bt(n).persistence).Ts()})(bt(t).localStore)}async function vne(t,e,n,r){const i=bt(t);if(i.gu)return void at(Gf,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const s=await DF(i.localStore,M8(a[0])),l=T0.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ci.EMPTY_BYTE_STRING);await xd(i,s,l);break}case"rejected":await og(i.localStore,e,!0),ug(i,e,r);break;default:wt(64155,n)}}async function yne(t,e,n){const r=Xx(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){at(Gf,"Adding an already active target "+i);continue}const a=await RF(r.localStore,i),s=await sg(r.localStore,a);await oI(r,ZF(a),s.targetId,!1,s.resumeToken),Kx(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await og(r.localStore,i,!1).then((()=>{lg(r.remoteStore,i),ug(r,i)})).catch(zf)}}function Xx(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ane.bind(null,e),e.Pu.H_=Yte.bind(null,e.eventManager),e.Pu.yu=Wte.bind(null,e.eventManager),e}function dI(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=one.bind(null,e),e}function bne(t,e,n){const r=bt(t);(async function(a,s,l){try{const u=await s.getMetadata();if(await(function(v,E){const A=bt(v),S=Gi(E.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",(I=>A.Ii.getBundleMetadata(I,E.id))).then((I=>!!I&&I.createTime.compareTo(S)>=0))})(a.localStore,u))return await s.close(),l._completeWith((function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}})(u)),Promise.resolve(new Set);l._updateProgress(GF(u));const d=new Xte(u,s.serializer);let f=await s.bu();for(;f;){const y=await d.Ga(f);y&&l._updateProgress(y),f=await s.bu()}const p=await d.ja(a.localStore);return await xd(a,p.Ha,void 0),await(function(v,E){const A=bt(v);return A.persistence.runTransaction("Save bundle","readwrite",(S=>A.Ii.saveBundleMetadata(S,E)))})(a.localStore,u),l._completeWith(p.progress),Promise.resolve(p.Ja)}catch(u){return lu(Gf,`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class By{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=I0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IF(this.persistence,new NF,e.initialUser,this.serializer)}Cu(e){return new GN(Wx.mi,this.serializer)}Du(e){return new FF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}By.provider={build:()=>new By};class xne extends By{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Lt(this.persistence.referenceDelegate instanceof y2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _F(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new GN((r=>y2.mi(r,n)),this.serializer)}}class eU extends By{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await dI(this.xu.syncEngine),await Rg(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return IF(this.persistence,new NF,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new _F(r,e.asyncQueue,n)}Mu(e,n){const r=new CZ(n,this.persistence);return new IZ(e.asyncQueue,r)}Cu(e){const n=WN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new YN(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,UF(),zb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new FF}}class _ne extends eU{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof j5&&(this.sharedClientState.syncEngine={Co:pne.bind(null,n),vo:vne.bind(null,n),Fo:yne.bind(null,n),Ts:gne.bind(null,n),Do:hne.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await mne(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=UF();if(!j5.v(n))throw new tt(Be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new j5(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=une.bind(null,this.syncEngine),await SS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Gte})()}createDatastore(e){const n=I0(e.databaseInfo.databaseId),r=(function(a){return new Ite(a)})(e.databaseInfo);return(function(a,s,l,u){return new Rte(a,s,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new kte(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>RR(this.syncEngine,n,0)),(function(){return SR.v()?new SR:new Ate})())}createSyncEngine(e,n){return(function(i,a,s,l,u,d,f){const p=new Zte(i,a,s,l,u,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=bt(i);at(Zh,"RemoteStore shutting down."),a.Ea.add(5),await Og(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vy.provider={build:()=>new Vy};function kR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new ls,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new Kte(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tt(Be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const s=bt(i),l={documents:a.map((p=>Fy(s.serializer,p)))},u=await s.Ho("BatchGetDocuments",s.serializer.databaseId,kn.emptyPath(),l,a.length),d=new Map;u.forEach((p=>{const y=jee(s.serializer,p);d.set(y.key.toString(),y)}));const f=[];return a.forEach((p=>{const y=d.get(p.toString());Lt(!!y,55234,{key:p}),f.push(y)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=mt.fromPath(r);this.mutations.push(new LN(i,this.precondition(i)))})),await(async function(r,i){const a=bt(r),s={writes:i.map((l=>Uy(a.serializer,l)))};await a.Go("Commit",a.serializer.databaseId,kn.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw wt(50498,{Gu:e.constructor.name});n=Gt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new tt(Be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Gt.min())?ci.exists(!1):ci.updateTime(n):ci.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Gt.min()))throw new tt(Be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ci.updateTime(n)}return ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new JN(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Ene(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!x0(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!X8(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="FirestoreClient";class Sne{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ba.UNAUTHENTICATED,this.clientId=wN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{at(Df,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(at(Df,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function M5(t,e){t.asyncQueue.verifyOperationInProgress(),at(Df,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await CF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function jR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fI(t);at(Df,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>NR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>NR(e.remoteStore,i))),t._onlineComponents=e}async function fI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at(Df,"Using user provided OfflineComponentProvider");try{await M5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;lu("Error using user provided cache. Falling back to memory cache: "+n),await M5(t,new By)}}else at(Df,"Using default OfflineComponentProvider"),await M5(t,new xne(void 0));return t._offlineComponents}async function Jx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at(Df,"Using user provided OnlineComponentProvider"),await jR(t,t._uninitializedComponentsProvider._online)):(at(Df,"Using default OnlineComponentProvider"),await jR(t,new Vy))),t._onlineComponents}function tU(t){return fI(t).then((e=>e.persistence))}function hI(t){return fI(t).then((e=>e.localStore))}function nU(t){return Jx(t).then((e=>e.remoteStore))}function pI(t){return Jx(t).then((e=>e.syncEngine))}function Tne(t){return Jx(t).then((e=>e.datastore))}async function dg(t){const e=await Jx(t),n=e.eventManager;return n.onListen=ene.bind(null,e.syncEngine),n.onUnlisten=nne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rne.bind(null,e.syncEngine),n}function Nne(t){return t.asyncQueue.enqueue((async()=>{const e=await tU(t),n=await nU(t);return e.setNetworkEnabled(!0),(function(i){const a=bt(i);return a.Ea.delete(0),C0(a)})(n)}))}function Ine(t){return t.asyncQueue.enqueue((async()=>{const e=await tU(t),n=await nU(t);return e.setNetworkEnabled(!1),(async function(i){const a=bt(i);a.Ea.add(0),await Og(a),a.Ra.set("Offline")})(n)}))}function Cne(t,e){const n=new ls;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,s){try{const l=await(function(d,f){const p=bt(d);return p.persistence.runTransaction("read document","readonly",(y=>p.localDocuments.getDocument(y,f)))})(i,a);l.isFoundDocument()?s.resolve(l):l.isNoDocument()?s.resolve(null):s.reject(new tt(Be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=kg(l,`Failed to get document '${a} from cache`);s.reject(u)}})(await hI(t),e,n))),n.promise}function rU(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,u,d){const f=new Qx({next:y=>{f.Nu(),s.enqueueAndForget((()=>iI(a,p)));const v=y.docs.has(l);!v&&y.fromCache?d.reject(new tt(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&u&&u.source==="server"?d.reject(new tt(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new sI(Ig(l.path),f,{includeMetadataChanges:!0,qa:!0});return rI(a,p)})(await dg(t),t.asyncQueue,e,n,r))),r.promise}function Pne(t,e){const n=new ls;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,s){try{const l=await b2(i,a,!0),u=new KF(a,l.Qs),d=u.ru(l.documents),f=u.applyChanges(d,!1);s.resolve(f.snapshot)}catch(l){const u=kg(l,`Failed to execute query '${a} against cache`);s.reject(u)}})(await hI(t),e,n))),n.promise}function iU(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,u,d){const f=new Qx({next:y=>{f.Nu(),s.enqueueAndForget((()=>iI(a,p))),y.fromCache&&u.source==="server"?d.reject(new tt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new sI(l,f,{includeMetadataChanges:!0,qa:!0});return rI(a,p)})(await dg(t),t.asyncQueue,e,n,r))),r.promise}function One(t,e){const n=new Qx(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){bt(i).Ca.add(a),a.next()})(await dg(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){bt(i).Ca.delete(a)})(await dg(t),n)))}}function Rne(t,e,n,r){const i=(function(s,l){let u;return u=typeof s=="string"?J8().encode(s):s,(function(f,p){return new wne(f,p)})((function(f,p){if(f instanceof Uint8Array)return kR(f,p);if(f instanceof ArrayBuffer)return kR(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),l)})(n,I0(e));t.asyncQueue.enqueueAndForget((async()=>{bne(await pI(t),i,r)}))}function Dne(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const a=bt(r);return a.persistence.runTransaction("Get named query","readonly",(s=>a.Ii.getNamedQuery(s,i)))})(await hI(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="firestore.googleapis.com",MR=!0;class FR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new tt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sU,this.ssl=MR}else this.host=e.host,this.ssl=e.ssl??MR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ete)throw new tt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gZ;switch(r.type){case"firstParty":return new xZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=LR.get(n);r&&(at("ComponentProvider","Removing Datastore"),LR.delete(n),r.terminate())})(this),Promise.resolve()}}function kne(t,e,n,r={}){var d;t=nr(t,P0);const i=wg(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(SM(`https://${l}`),TM("Firestore",!0)),a.host!==sU&&a.host!==l&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:r};if(!Ef(u,s)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ba.MOCK_USER;else{f=DY(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new tt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ba(y)}t._authCredentials=new vZ(new Q9(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs=class oU{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oU(this.firestore,e,this._query)}},Vr=class Zv{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _f(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zv(this.firestore,e,this._key)}toJSON(){return{type:Zv._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(b0(n,Zv._jsonSchema))return new Zv(e,r||null,new mt(kn.fromString(n.referencePath)))}};Vr._jsonSchemaVersion="firestore/documentReference/1.0",Vr._jsonSchema={type:aa("string",Vr._jsonSchemaVersion),referencePath:aa("string")};let _f=class lU extends Xs{constructor(e,n,r){super(e,n,Ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new mt(e))}withConverter(e){return new lU(this.firestore,e,this._path)}};function cU(t,e,...n){if(t=on(t),EN("collection","path",e),t instanceof P0){const r=kn.fromString(e,...n);return TO(r),new _f(t,null,r)}{if(!(t instanceof Vr||t instanceof _f))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kn.fromString(e,...n));return TO(r),new _f(t.firestore,null,r)}}function jne(t,e){if(t=nr(t,P0),EN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(t,null,(function(r){return new vd(kn.emptyPath(),r)})(e))}function E2(t,e,...n){if(t=on(t),arguments.length===1&&(e=wN.newId()),EN("doc","path",e),t instanceof P0){const r=kn.fromString(e,...n);return SO(r),new Vr(t,null,new mt(r))}{if(!(t instanceof Vr||t instanceof _f))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kn.fromString(e,...n));return SO(r),new Vr(t.firestore,t instanceof _f?t.converter:null,new mt(r))}}function uU(t,e){return t=on(t),e=on(e),(t instanceof Vr||t instanceof _f)&&(e instanceof Vr||e instanceof _f)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function dU(t,e){return t=on(t),e=on(e),t instanceof Xs&&e instanceof Xs&&t.firestore===e.firestore&&E0(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="AsyncQueue";class BR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JN(this,"async_queue_retry"),this._c=()=>{const r=zb();r&&at(UR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qf(e))throw e;at(UR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",VR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=nI.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&wt(47125,{Pc:VR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Lne{constructor(){this._progressObserver={},this._taskCompletionResolver=new ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne=-1;let Yi=class extends P0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new BR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BR(e),this._firestoreClient=void 0,await e}}};function ks(t){if(t._terminated)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fU(t),t._firestoreClient}function fU(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,u,d,f){return new iee(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,aU(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Sne(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}function Fne(t,e){lu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return hU(t,Vy.provider,{build:r=>new eU(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Une(t){lu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();hU(t,Vy.provider,{build:n=>new _ne(n,e.cacheSizeBytes)})}function hU(t,e,n){if((t=nr(t,Yi))._firestoreClient||t._terminated)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new tt(Be.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},fU(t)}function Bne(t){if(t._initialized&&!t._terminated)throw new tt(Be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ls;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!tu.v())return Promise.resolve();const i=r+TF;await tu.delete(i)})(WN(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Vne(t){return(function(n){const r=new ls;return n.asyncQueue.enqueueAndForget((async()=>lne(await pI(n),r))),r.promise})(ks(t=nr(t,Yi)))}function zne(t){return Nne(ks(t=nr(t,Yi)))}function qne(t){return Ine(ks(t=nr(t,Yi)))}function Hne(t,e){const n=ks(t=nr(t,Yi)),r=new Lne;return Rne(n,t._databaseId,e,r),r}function $ne(t,e){return Dne(ks(t=nr(t,Yi)),e).then((n=>n?new Xs(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Ci.fromBase64String(e))}catch(n){throw new tt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(b0(e,Rs._jsonSchema))return Rs.fromBase64String(e.bytes)}}Rs._jsonSchemaVersion="firestore/bytes/1.0",Rs._jsonSchema={type:aa("string",Rs._jsonSchemaVersion),bytes:aa("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new tt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lc._jsonSchemaVersion}}static fromJSON(e){if(b0(e,lc._jsonSchema))return new lc(e.latitude,e.longitude)}}lc._jsonSchemaVersion="firestore/geoPoint/1.0",lc._jsonSchema={type:aa("string",lc._jsonSchemaVersion),latitude:aa("number"),longitude:aa("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ru._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(b0(e,ru._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ru(e.vectorValues);throw new tt(Be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ru._jsonSchemaVersion="firestore/vectorValue/1.0",ru._jsonSchema={type:aa("string",ru._jsonSchemaVersion),vectorValues:aa("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne=/^__.*__$/;class Yne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bd(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cg(e,this.data,n,this.fieldTransforms)}}class pU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:t})}}class Zx{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return A2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mU(this.Ac)&&Gne.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||I0(e)}Cc(e,n,r,i=!1){return new Zx({Ac:e,methodName:n,Dc:r,path:li.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(t){const e=t._freezeSettings(),n=I0(t._databaseId);return new Wne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e_(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);_I("Data must be an object, but it was:",s,r);const l=yU(r,s);let u,d;if(a.merge)u=new Ao(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const y=CS(e,p,n);if(!s.contains(y))throw new tt(Be.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);xU(f,y)||f.push(y)}u=new Ao(f),d=s.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,d=s.fieldTransforms;return new Yne(new as(l),u,d)}class O0 extends pp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function gU(t,e,n){return new Zx({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mI extends pp{_toFieldTransform(e){return new S0(e.path,new rg)}isEqual(e){return e instanceof mI}}class gI extends pp{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=gU(this,e,!0),r=this.vc.map((a=>gp(a,n))),i=new Wh(r);return new S0(e.path,i)}isEqual(e){return e instanceof gI&&Ef(this.vc,e.vc)}}class vI extends pp{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=gU(this,e,!0),r=this.vc.map((a=>gp(a,n))),i=new Kh(r);return new S0(e.path,i)}isEqual(e){return e instanceof vI&&Ef(this.vc,e.vc)}}class yI extends pp{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ig(e.serializer,q8(e.serializer,this.Fc));return new S0(e.path,n)}isEqual(e){return e instanceof yI&&this.Fc===e.Fc}}function bI(t,e,n,r){const i=t.Cc(1,e,n);_I("Data must be an object, but it was:",i,r);const a=[],s=as.empty();Hf(r,((u,d)=>{const f=wI(e,u,n);d=on(d);const p=i.yc(f);if(d instanceof O0)a.push(f);else{const y=gp(d,p);y!=null&&(a.push(f),s.set(f,y))}}));const l=new Ao(a);return new pU(s,l,i.fieldTransforms)}function xI(t,e,n,r,i,a){const s=t.Cc(1,e,n),l=[CS(e,r,n)],u=[i];if(a.length%2!=0)throw new tt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(CS(e,a[y])),u.push(a[y+1]);const d=[],f=as.empty();for(let y=l.length-1;y>=0;--y)if(!xU(d,l[y])){const v=l[y];let E=u[y];E=on(E);const A=s.yc(v);if(E instanceof O0)d.push(v);else{const S=gp(E,A);S!=null&&(d.push(v),f.set(v,S))}}const p=new Ao(d);return new pU(f,p,s.fieldTransforms)}function vU(t,e,n,r=!1){return gp(n,t.Cc(r?4:3,e))}function gp(t,e){if(bU(t=on(t)))return _I("Unsupported field value:",e,t),yU(t,e);if(t instanceof pp)return(function(r,i){if(!mU(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let u=gp(l,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fr.fromDate(r);return{timestampValue:ag(i.serializer,a)}}if(r instanceof fr){const a=new fr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ag(i.serializer,a)}}if(r instanceof lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:tF(i.serializer,r._byteString)};if(r instanceof Vr){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:VN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ru)return(function(s,l){return{mapValue:{fields:{[PN]:{stringValue:ON},[eg]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return jN(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Lx(r)}`)})(t,e)}function yU(t,e){const n={};return y8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hf(t,((r,i)=>{const a=gp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function bU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fr||t instanceof lc||t instanceof Rs||t instanceof Vr||t instanceof pp||t instanceof ru)}function _I(t,e,n){if(!bU(n)||!e8(n)){const r=Lx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function CS(t,e,n){if((e=on(e))instanceof kf)return e._internalPath;if(typeof e=="string")return wI(t,e);throw A2("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kne=new RegExp("[~\\*/\\[\\]]");function wI(t,e,n){if(e.search(Kne)>=0)throw A2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw A2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function A2(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new tt(Be.INVALID_ARGUMENT,l+t+u)}function xU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xne extends zy{data(){return super.data()}}function t_(t,e){return typeof e=="string"?wI(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new tt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EI{}class R0 extends EI{}function af(t,e,...n){let r=[];e instanceof EI&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((u=>u instanceof AI)).length,l=a.filter((u=>u instanceof n_)).length;if(s>1||s>0&&l>0)throw new tt(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class n_ extends R0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new n_(e,n,r)}_apply(e){const n=this._parse(e);return EU(e._query,n),new Xs(e.firestore,e.converter,mS(e._query,n))}_parse(e){const n=mp(e.firestore);return(function(a,s,l,u,d,f,p){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){qR(p,f);const E=[];for(const A of p)E.push(zR(u,a,A));y={arrayValue:{values:E}}}else y=zR(u,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||qR(p,f),y=vU(l,s,p,f==="in"||f==="not-in");return Fn.create(d,f,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qne(t,e,n){const r=e,i=t_("where",t);return n_._create(i,r,n)}class AI extends EI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const u of l)EU(s,u),s=mS(s,u)})(e._query,n),new Xs(e.firestore,e.converter,mS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SI extends R0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SI(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new My(a,s)})(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new vd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Jne(t,e="asc"){const n=e,r=t_("orderBy",t);return SI._create(r,n)}class r_ extends R0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r_(e,n,r)}_apply(e){return new Xs(e.firestore,e.converter,p2(e._query,this._limit,this._limitType))}}function Zne(t){return t8("limit",t),r_._create("limit",t,"F")}function ere(t){return t8("limitToLast",t),r_._create("limitToLast",t,"L")}class i_ extends R0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new i_(e,n,r)}_apply(e){const n=wU(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(function(i,a){return new vd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function tre(...t){return i_._create("startAt",t,!0)}function nre(...t){return i_._create("startAfter",t,!1)}class a_ extends R0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new a_(e,n,r)}_apply(e){const n=wU(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(function(i,a){return new vd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function rre(...t){return a_._create("endBefore",t,!1)}function ire(...t){return a_._create("endAt",t,!0)}function wU(t,e,n,r){if(n[0]=on(n[0]),n[0]instanceof zy)return(function(a,s,l,u,d){if(!u)throw new tt(Be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of km(a))if(p.field.isKeyField())f.push(Gh(s,u.key));else{const y=u.data.field(p.field);if(Vx(y))throw new tt(Be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const v=p.field.canonicalString();throw new tt(Be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}f.push(y)}return new Of(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=mp(t.firestore);return(function(s,l,u,d,f,p){const y=s.explicitOrderBy;if(f.length>y.length)throw new tt(Be.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<f.length;E++){const A=f[E];if(y[E].field.isKeyField()){if(typeof A!="string")throw new tt(Be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!DN(s)&&A.indexOf("/")!==-1)throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const S=s.path.child(kn.fromString(A));if(!mt.isDocumentKey(S))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const I=new mt(S);v.push(Gh(l,I))}else{const S=vU(u,d,A);v.push(S)}}return new Of(v,p)})(t._query,t.firestore._databaseId,i,e,n,r)}}function zR(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new tt(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DN(e)&&n.indexOf("/")!==-1)throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kn.fromString(n));if(!mt.isDocumentKey(r))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gh(t,new mt(r))}if(n instanceof Vr)return Gh(t,n._key);throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lx(n)}.`)}function qR(t,e){if(!Array.isArray(t)||t.length===0)throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EU(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new tt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TI{convertValue(e,n="none"){switch(Cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(od(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[eg].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>si(s.doubleValue)));return new ru(n)}convertGeoPoint(e){return new lc(si(e.latitude),si(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ky(e));default:return null}}convertTimestamp(e){const n=sd(e);return new fr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kn.fromString(e);Lt(fF(r),9688,{name:e});const i=new If(r.get(1),r.get(3)),a=new mt(r.popFirst(5));return i.isEqual(n)||$i(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class are extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}class Ch{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Il=class AU extends zy{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=AU._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:aa("string",Il._jsonSchemaVersion),bundleSource:aa("string","DocumentSnapshot"),bundleName:aa("string"),bundle:aa("string")};let gy=class extends Il{data(e={}){return super.data(e)}},cc=class SU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ch(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gy(this._firestore,this._userDataWriter,r.key,r,new Ch(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const u=new gy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new gy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ch(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:sre(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=SU._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function sre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:t})}}function TU(t,e){return t instanceof Il&&e instanceof Il?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cc&&e instanceof cc&&t._firestore===e._firestore&&dU(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ore(t){t=nr(t,Vr);const e=nr(t.firestore,Yi);return rU(ks(e),t._key).then((n=>NI(e,t,n)))}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:aa("string",cc._jsonSchemaVersion),bundleSource:aa("string","QuerySnapshot"),bundleName:aa("string"),bundle:aa("string")};class vp extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}function lre(t){t=nr(t,Vr);const e=nr(t.firestore,Yi),n=ks(e),r=new vp(e);return Cne(n,t._key).then((i=>new Il(e,r,t._key,i,new Ch(i!==null&&i.hasLocalMutations,!0),t.converter)))}function cre(t){t=nr(t,Vr);const e=nr(t.firestore,Yi);return rU(ks(e),t._key,{source:"server"}).then((n=>NI(e,t,n)))}function ure(t){t=nr(t,Xs);const e=nr(t.firestore,Yi),n=ks(e),r=new vp(e);return _U(t._query),iU(n,t._query).then((i=>new cc(e,r,t,i)))}function dre(t){t=nr(t,Xs);const e=nr(t.firestore,Yi),n=ks(e),r=new vp(e);return Pne(n,t._query).then((i=>new cc(e,r,t,i)))}function fre(t){t=nr(t,Xs);const e=nr(t.firestore,Yi),n=ks(e),r=new vp(e);return iU(n,t._query,{source:"server"}).then((i=>new cc(e,r,t,i)))}function HR(t,e,n){t=nr(t,Vr);const r=nr(t.firestore,Yi),i=s_(t.converter,e,n);return D0(r,[e_(mp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function $R(t,e,n,...r){t=nr(t,Vr);const i=nr(t.firestore,Yi),a=mp(i);let s;return s=typeof(e=on(e))=="string"||e instanceof kf?xI(a,"updateDoc",t._key,e,n,r):bI(a,"updateDoc",t._key,e),D0(i,[s.toMutation(t._key,ci.exists(!0))])}function hre(t){return D0(nr(t.firestore,Yi),[new Pg(t._key,ci.none())])}function pre(t,e){const n=nr(t.firestore,Yi),r=E2(t),i=s_(t.converter,e);return D0(n,[e_(mp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function NU(t,...e){var u,d,f;t=on(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IS(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let a,s,l;if(t instanceof Vr)s=nr(t.firestore,Yi),l=Ig(t._key.path),a={next:p=>{e[r]&&e[r](NI(s,t,p))},error:e[r+1],complete:e[r+2]};else{const p=nr(t,Xs);s=nr(p.firestore,Yi),l=p._query;const y=new vp(s);a={next:v=>{e[r]&&e[r](new cc(s,y,p,v))},error:e[r+1],complete:e[r+2]},_U(t._query)}return(function(y,v,E,A){const S=new Qx(A),I=new sI(v,S,E);return y.asyncQueue.enqueueAndForget((async()=>rI(await dg(y),I))),()=>{S.Nu(),y.asyncQueue.enqueueAndForget((async()=>iI(await dg(y),I)))}})(ks(s),l,i,a)}function mre(t,e){return One(ks(t=nr(t,Yi)),IS(e)?e:{next:e})}function D0(t,e){return(function(r,i){const a=new ls;return r.asyncQueue.enqueueAndForget((async()=>ine(await pI(r),i,a))),a.promise})(ks(t),e)}function NI(t,e,n){const r=n.docs.get(e._key),i=new vp(t);return new Il(t,i,e._key,r,new Ch(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gre={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vre=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mp(e)}set(e,n,r){this._verifyNotCommitted();const i=pf(e,this._firestore),a=s_(i.converter,n,r),s=e_(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ci.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=pf(e,this._firestore);let s;return s=typeof(n=on(n))=="string"||n instanceof kf?xI(this._dataReader,"WriteBatch.update",a._key,n,r,i):bI(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pf(e,this._firestore);return this._mutations=this._mutations.concat(new Pg(n._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function pf(t,e){if((t=on(t)).firestore!==e)throw new tt(Be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=mp(e)}get(e){const n=pf(e,this._firestore),r=new are(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return wt(24041);const a=i[0];if(a.isFoundDocument())return new zy(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new zy(this._firestore,r,n._key,null,n.converter);throw wt(18433,{doc:a})}))}set(e,n,r){const i=pf(e,this._firestore),a=s_(i.converter,n,r),s=e_(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=pf(e,this._firestore);let s;return s=typeof(n=on(n))=="string"||n instanceof kf?xI(this._dataReader,"Transaction.update",a._key,n,r,i):bI(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=pf(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bre=class extends yre{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=pf(e,this._firestore),r=new vp(this._firestore);return super.get(e).then((i=>new Il(this._firestore,r,n._key,i._document,new Ch(!1,!1),n.converter)))}};function xre(t,e,n){t=nr(t,Yi);const r={...gre,...n};return(function(a){if(a.maxAttempts<1)throw new tt(Be.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,s,l){const u=new ls;return a.asyncQueue.enqueueAndForget((async()=>{const d=await Tne(a);new Ane(a.asyncQueue,d,l,s,u).ju()})),u.promise})(ks(t),(i=>e(new bre(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(){return new O0("deleteField")}function wre(){return new mI("serverTimestamp")}function Ere(...t){return new gI("arrayUnion",t)}function Are(...t){return new vI("arrayRemove",t)}function Sre(t){return new yI("increment",t)}(function(e,n=!0){(function(i){Ng=i})(Bf),Tf(new su("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Yi(new yZ(r.getProvider("auth-internal")),new _Z(s,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new tt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(d.options.projectId,f)})(s,i),s);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),oc(_O,wO,e),oc(_O,wO,"esm2020")})();const Tre="@firebase/firestore-compat",Nre="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new tt("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function YR(){if(!nee())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}let IU=class PS{constructor(e){this._delegate=e}static fromBase64String(e){return YR(),new PS(Rs.fromBase64String(e))}static fromUint8Array(e){return GR(),new PS(Rs.fromUint8Array(e))}toBase64(){return YR(),this._delegate.toBase64()}toUint8Array(){return GR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){return Ire(t,["next","error","complete"])}function Ire(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{enableIndexedDbPersistence(e,n){return Fne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Une(e._delegate)}clearIndexedDbPersistence(e){return Bne(e._delegate)}}class CU{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof If||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&lu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){kne(this._delegate,e,n,r)}enableNetwork(){return zne(this._delegate)}disableNetwork(){return qne(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Z9("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Vne(this._delegate)}onSnapshotsInSync(e){return mre(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fg(this,cU(this._delegate,e))}catch(n){throw Gs(n,"collection()","Firestore.collection()")}}doc(e){try{return new Sl(this,E2(this._delegate,e))}catch(n){throw Gs(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,jne(this._delegate,e))}catch(n){throw Gs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return xre(this._delegate,n=>e(new PU(this,n)))}batch(){return ks(this._delegate),new OU(new vre(this._delegate,e=>D0(this._delegate,e)))}loadBundle(e){return Hne(this._delegate,e)}namedQuery(e){return $ne(this._delegate,e).then(n=>n?new $s(this,n):null)}}class o_ extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new IU(new Rs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Sl.forKey(n,this.firestore,null)}}function Pre(t){pZ(t)}class PU{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new o_(e)}get(e){const n=Ph(e);return this._delegate.get(n).then(r=>new qy(this._firestore,new Il(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ph(e);return r?(II("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Ph(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Ph(e);return this._delegate.delete(n),this}}class OU{constructor(e){this._delegate=e}set(e,n,r){const i=Ph(e);return r?(II("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Ph(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Ph(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ep{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new gy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ep.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new ep(e,new o_(e),n),i.set(n,a)),a}}ep.INSTANCES=new WeakMap;class Sl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new o_(e)}static forPath(e,n,r){if(e.length%2!==0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sl(n,new Vr(n._delegate,r,new mt(e)))}static forKey(e,n,r){return new Sl(n,new Vr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fg(this.firestore,cU(this._delegate,e))}catch(n){throw Gs(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=on(e),e instanceof Vr?uU(this._delegate,e):!1}set(e,n){n=II("DocumentReference.set",n);try{return n?HR(this._delegate,e,n):HR(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?$R(this._delegate,e):$R(this._delegate,e,n,...r)}catch(i){throw Gs(i,"updateDoc()","DocumentReference.update()")}}delete(){return hre(this._delegate)}onSnapshot(...e){const n=RU(e),r=DU(e,i=>new qy(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return NU(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=lre(this._delegate):(e==null?void 0:e.source)==="server"?n=cre(this._delegate):n=ore(this._delegate),n.then(r=>new qy(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Sl(this.firestore,e?this._delegate.withConverter(ep.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gs(t,e,n){return t.message=t.message.replace(e,n),t}function RU(t){for(const e of t)if(typeof e=="object"&&!OS(e))return e;return{}}function DU(t,e){var r,i;let n;return OS(t[0])?n=t[0]:OS(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class qy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Sl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return TU(this._delegate,e._delegate)}}class Hy extends qy{data(e){const n=this._delegate.data(e);return this._delegate._converter||mZ(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class $s{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new o_(e)}where(e,n,r){try{return new $s(this.firestore,af(this._delegate,Qne(e,n,r)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new $s(this.firestore,af(this._delegate,Jne(e,n)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,af(this._delegate,Zne(e)))}catch(n){throw Gs(n,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,af(this._delegate,ere(e)))}catch(n){throw Gs(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,af(this._delegate,tre(...e)))}catch(n){throw Gs(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,af(this._delegate,nre(...e)))}catch(n){throw Gs(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,af(this._delegate,rre(...e)))}catch(n){throw Gs(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,af(this._delegate,ire(...e)))}catch(n){throw Gs(n,"endAt()","Query.endAt()")}}isEqual(e){return dU(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=dre(this._delegate):(e==null?void 0:e.source)==="server"?n=fre(this._delegate):n=ure(this._delegate),n.then(r=>new RS(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=RU(e),r=DU(e,i=>new RS(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return NU(this._delegate,n,r)}withConverter(e){return new $s(this.firestore,e?this._delegate.withConverter(ep.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Ore{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Hy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RS{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Hy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Ore(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Hy(this._firestore,r))})}isEqual(e){return TU(this._delegate,e._delegate)}}class fg extends $s{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sl(this.firestore,e):null}doc(e){try{return e===void 0?new Sl(this.firestore,E2(this._delegate)):new Sl(this.firestore,E2(this._delegate,e))}catch(n){throw Gs(n,"doc()","CollectionReference.doc()")}}add(e){return pre(this._delegate,e).then(n=>new Sl(this.firestore,n))}isEqual(e){return uU(this._delegate,e._delegate)}withConverter(e){return new fg(this.firestore,e?this._delegate.withConverter(ep.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ph(t){return nr(t,Vr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(...e){this._delegate=new kf(...e)}static documentId(){return new CI(li.keyField().canonicalString())}isEqual(e){return e=on(e),e instanceof kf?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{static serverTimestamp(){const e=wre();return e._methodName="FieldValue.serverTimestamp",new Sh(e)}static delete(){const e=_re();return e._methodName="FieldValue.delete",new Sh(e)}static arrayUnion(...e){const n=Ere(...e);return n._methodName="FieldValue.arrayUnion",new Sh(n)}static arrayRemove(...e){const n=Are(...e);return n._methodName="FieldValue.arrayRemove",new Sh(n)}static increment(e){const n=Sre(e);return n._methodName="FieldValue.increment",new Sh(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre={Firestore:CU,GeoPoint:lc,Timestamp:fr,Blob:IU,Transaction:PU,WriteBatch:OU,DocumentReference:Sl,DocumentSnapshot:qy,Query:$s,QueryDocumentSnapshot:Hy,QuerySnapshot:RS,CollectionReference:fg,FieldPath:CI,FieldValue:Sh,setLogLevel:Pre,CACHE_SIZE_UNLIMITED:Mne};function Dre(t,e){t.INTERNAL.registerComponent(new su("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Rre}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kre(t){Dre(t,(e,n)=>new CU(e,n,new Cre)),t.registerVersion(Tre,Nre)}kre(id);const jre={apiKey:"AIzaSyB69m5pyBKWWQLho1xlyVRpT3L7nOI4UDg",authDomain:"laserspeed-pro.firebaseapp.com",projectId:"laserspeed-pro",storageBucket:"laserspeed-pro.firebasestorage.app",messagingSenderId:"989287528750",appId:"1:989287528750:web:d451ca56d6182d3186e2bf",measurementId:"G-HMKMS1Q7M8"};id.apps.length||id.initializeApp(jre);const Fr=id.auth(),Vc=id.firestore();try{Vc.enablePersistence().catch(t=>{t.code=="failed-precondition"?console.log("Persistence failed: Multiple tabs open"):t.code=="unimplemented"&&console.log("Persistence not supported by browser")})}catch{console.log("Persistence setup skipped")}const kU=O.createContext({user:null,loading:!0,logout:async()=>{}}),k0=()=>O.useContext(kU),Lre=({children:t})=>{const[e,n]=O.useState(null),[r,i]=O.useState(!0);O.useEffect(()=>Fr.onAuthStateChanged(l=>{n(l),i(!1)}),[]);const a=async()=>{await Fr.signOut()};return m.jsx(kU.Provider,{value:{user:e,loading:r,logout:a},children:t})};var sn=(t=>(t.LOGIN="LOGIN",t.DASHBOARD="DASHBOARD",t.SESSION_SETUP="SESSION_SETUP",t.LIVE_RUN="LIVE_RUN",t.ANALYSIS="ANALYSIS",t.COMPARISON="COMPARISON",t.ATHLETES="ATHLETES",t.ATHLETE_DETAIL="ATHLETE_DETAIL",t.HISTORY="HISTORY",t.SESSION_DETAIL="SESSION_DETAIL",t.SENSOR_CHECK="SENSOR_CHECK",t.SETTINGS="SETTINGS",t.LEADERBOARD="LEADERBOARD",t.ANALYTICS="ANALYTICS",t.GUIDE="GUIDE",t))(sn||{}),ct=(t=>(t.FREE_RUN="FREE_RUN",t.ACCELERATION="ACCELERATION",t.FLY="FLY",t.POLE_VAULT="POLE_VAULT",t.LONG_JUMP="LONG_JUMP",t.FORTY_YARD_DASH="FORTY_YARD_DASH",t.SIXTY_METER_RUN="SIXTY_METER_RUN",t))(ct||{});const Mre=460800,Fre=92,F5=4,$y={speedUnit:"kph",distanceUnit:"metric",dateFormat:"DD.MM.YYYY"},iu={speed:{mps:"m/s",kph:"km/h",mph:"mph"},distance:{metric:"m",imperial:"yd"}},Ps={[ct.FREE_RUN]:{label:"Free Run / Manual",description:"Start and stop manually."},[ct.ACCELERATION]:{label:"Acceleration Test",description:"Measure time to specific distance from stop."},[ct.FLY]:{label:"Fly Test",description:"Measure max speed segment with run-up."},[ct.POLE_VAULT]:{label:"Pole Vault Run-up",description:"Track run-up velocity and log jump height."},[ct.LONG_JUMP]:{label:"Long Jump",description:"Track approach speed and log jump distance."},[ct.FORTY_YARD_DASH]:{label:"40 Yard Dash",description:"Auto-stops at 40 yards. Time measured from start."},[ct.SIXTY_METER_RUN]:{label:"60 Meter Run",description:"Auto-stops at 60 meters. Time measured from start."}},DS=t=>{if(Array.isArray(t))return t.map(e=>DS(e));if(t!==null&&typeof t=="object"){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=DS(r))}),e}return t},Kc={async postToLeaderboard(t){if(!Fr.currentUser)throw new Error("User not authenticated");const e=DS(t);await Vc.collection("leaderboards").doc(t.id).set(e)},subscribeToLeaderboard(t,e){return Vc.collection("leaderboards").where("testType","==",t).orderBy("time","asc").limit(100).onSnapshot(n=>{const r=n.docs.map(i=>i.data());e(r)})},async deleteEntry(t){if(!Fr.currentUser)throw new Error("User not authenticated");try{await Vc.collection("leaderboards").doc(t).delete()}catch(e){throw console.error("Error deleting leaderboard entry:",e),e.code==="permission-denied"?new Error("Permission Denied: You can only delete your own entries."):e}},async getUserEntries(t){return(await Vc.collection("leaderboards").where("userId","==",t).orderBy("createdAt","desc").get()).docs.map(n=>n.data())},async getAthleteEntries(t){return(await Vc.collection("leaderboards").where("athleteId","==",t).orderBy("time","asc").get()).docs.map(n=>n.data())},async updateAthleteName(t,e,n){if(!Fr.currentUser)throw new Error("User not authenticated");try{const r=await Vc.collection("leaderboards").where("athleteId","==",t).get(),i=Vc.batch();r.docs.forEach(a=>{const s={athleteName:e};n!==void 0&&(s.athleteGender=n),i.update(a.ref,s)}),await i.commit(),console.log(`Updated ${r.docs.length} leaderboard entries for athlete ${t}`)}catch(r){throw console.error("Error updating athlete name in leaderboard:",r),r}}},$u=t=>{if(Array.isArray(t))return t.map(e=>$u(e));if(t!==null&&typeof t=="object"){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=$u(r))}),e}return t},Hs=()=>{var e;const t=(e=Fr.currentUser)==null?void 0:e.uid;if(!t)throw new Error("User not authenticated");return Vc.collection("users").doc(t)},xo={async saveSettings(t){Fr.currentUser&&await Hs().set({settings:$u(t)},{merge:!0})},async getSettings(){var e;return Fr.currentUser&&((e=(await Hs().get()).data())==null?void 0:e.settings)||$y},async addAthlete(t){Fr.currentUser&&await Hs().collection("athletes").doc(t.id).set($u(t))},async updateAthlete(t){if(!Fr.currentUser)return;const n=(await Hs().collection("athletes").doc(t.id).get()).data();if(await Hs().collection("athletes").doc(t.id).set($u(t),{merge:!0}),n&&(n.name!==t.name||n.gender!==t.gender))try{await Kc.updateAthleteName(t.id,t.name,t.gender)}catch(r){console.error("Failed to update leaderboard entries:",r)}},async deleteAthlete(t){Fr.currentUser&&await Hs().collection("athletes").doc(t).delete()},subscribeToAthletes(t){return Fr.currentUser?Hs().collection("athletes").onSnapshot(e=>{const n=e.docs.map(r=>r.data());t(n)}):()=>{}},async createSession(t){Fr.currentUser&&await Hs().collection("sessions").doc(t.id).set($u(t))},async updateSession(t,e){Fr.currentUser&&await Hs().collection("sessions").doc(t).update($u(e))},async updateSessionAthletes(t,e){Fr.currentUser&&await Hs().collection("sessions").doc(t).update({athleteIds:e})},async finishSession(t){Fr.currentUser&&await Hs().collection("sessions").doc(t).update({status:"COMPLETED"})},async deleteSession(t){if(!Fr.currentUser)throw console.error("Cannot delete session: User not authenticated"),new Error("User not authenticated");try{console.log("Attempting to delete session:",t),await Hs().collection("sessions").doc(t).delete(),console.log("Session deleted successfully from DB")}catch(e){throw console.error("Error deleting session from DB:",e),e.code==="permission-denied"?new Error("Permission Denied: Check your Firestore Console Rules to allow delete."):e}},async addRunToSession(t,e){if(!Fr.currentUser)return;const n=Hs().collection("sessions").doc(t),r=await n.get();if(r.exists){const a=[...r.data().runs||[],$u(e)];await n.update({runs:a})}},async updateRunInSession(t,e){Fr.currentUser&&await Hs().collection("sessions").doc(t).update({runs:$u(e)})},subscribeToSessions(t){return Fr.currentUser?Hs().collection("sessions").orderBy("date","desc").onSnapshot(e=>{const n=e.docs.map(r=>r.data());t(n)}):()=>{}}},jU=O.createContext({athletes:[],sessions:[],settings:$y,refreshSettings:async()=>{}}),Ure=()=>O.useContext(jU),Bre=({children:t})=>{const{user:e}=k0(),[n,r]=O.useState([]),[i,a]=O.useState([]),[s,l]=O.useState($y),u=async()=>{if(e){const d=await xo.getSettings();l(d)}};return O.useEffect(()=>{if(!e){r([]),a([]),l($y);return}u();const d=xo.subscribeToAthletes(r),f=xo.subscribeToSessions(a);return()=>{d(),f()}},[e]),m.jsx(jU.Provider,{value:{athletes:n,sessions:i,settings:s,refreshSettings:u},children:t})},LU=O.createContext({isOnline:!0,isSyncing:!1,pendingWrites:0}),Vre=()=>O.useContext(LU),zre=({children:t})=>{const[e,n]=O.useState(navigator.onLine),[r,i]=O.useState(!1),[a,s]=O.useState(0);return O.useEffect(()=>{const l=()=>{console.log(" Connection restored - syncing data..."),n(!0),i(!0)},u=()=>{console.log(" Connection lost - working offline"),n(!1)};window.addEventListener("online",l),window.addEventListener("offline",u);let d=[];const f=Vc.collection("_sync_status").limit(1).onSnapshot({includeMetadataChanges:!0},y=>{y.metadata.fromCache&&navigator.onLine||i(!1)}),p=setInterval(()=>{e&&!navigator.onLine?n(!1):!e&&navigator.onLine&&(n(!0),i(!0),setTimeout(()=>i(!1),2e3))},1e3);return()=>{window.removeEventListener("online",l),window.removeEventListener("offline",u),f(),clearInterval(p),d.forEach(y=>y())}},[e]),m.jsx(LU.Provider,{value:{isOnline:e,isSyncing:r,pendingWrites:a},children:t})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hre=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),WR=t=>{const e=Hre(t);return e.charAt(0).toUpperCase()+e.slice(1)},MU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),$re=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},u)=>O.createElement("svg",{ref:u,...Gre,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MU("lucide",i),...!a&&!$re(l)&&{"aria-hidden":"true"},...l},[...s.map(([d,f])=>O.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(Yre,{ref:a,iconNode:e,className:MU(`lucide-${qre(WR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=WR(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],za=Ft("activity",Wre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gy=Ft("arrow-left",Kre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qre=Ft("arrow-right",Xre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Zre=Ft("arrow-up-right",Jre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tie=Ft("arrow-up",eie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],qb=Ft("book",nie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],iie=Ft("bot",rie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tp=Ft("calendar",aie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],kS=Ft("chart-no-axes-column",sie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jf=Ft("check",oie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PI=Ft("chevron-down",lie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uie=Ft("chevron-left",cie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lm=Ft("chevron-right",die);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hie=Ft("chevron-up",fie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],mie=Ft("chevrons-down",pie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],vie=Ft("chevrons-up",gie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lf=Ft("circle-alert",yie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KR=Ft("circle-check-big",bie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],FU=Ft("circle-check",xie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],wie=Ft("clipboard-pen",_ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UU=Ft("clock",Eie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Sie=Ft("crosshair",Aie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nie=Ft("download",Tie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Cie=Ft("ellipsis-vertical",Iie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],OI=Ft("file-down",Pie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],BU=Ft("footprints",Oie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Die=Ft("funnel",Rie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],jS=Ft("git-compare",kie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Lie=Ft("globe",jie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],XR=Ft("history",Mie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VU=Ft("list",Fie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Bie=Ft("log-in",Uie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QR=Ft("lock",Vie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RI=Ft("log-out",zie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hie=Ft("mail",qie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],U5=Ft("medal",$ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Yie=Ft("message-square",Gie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],l_=Ft("pen",Wie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],j0=Ft("play",Kie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yy=Ft("plus",Xie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jie=Ft("refresh-cw",Qie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],L0=Ft("ruler",Zie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],S2=Ft("save",eae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zU=Ft("search",tae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LS=Ft("settings",nae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],iae=Ft("shield",rae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],JR=Ft("sparkles",aae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],oae=Ft("square",sae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],hg=Ft("target",lae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],DI=Ft("timer",cae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],np=Ft("trash-2",uae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],fae=Ft("trending-down",dae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pg=Ft("trending-up",hae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mae=Ft("triangle-alert",pae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ko=Ft("trophy",gae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qU=Ft("user-plus",vae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZR=Ft("user",yae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jg=Ft("users",bae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kI=Ft("wifi-off",xae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],HU=Ft("wifi",_ae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dc=Ft("x",wae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rp=Ft("zap",Eae),Aae=({currentView:t,onChangeView:e,onLogout:n})=>{const[r,i]=O.useState(!1),a=({view:l,icon:u,label:d,mobileOnly:f=!1})=>{const p=t===l,y=`flex flex-col items-center justify-center p-2 w-full transition-colors ${p?"text-[#37352F]":"text-[#9B9A97]"}`,v=`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors select-none ${p?"bg-[#EFEFED] text-[#37352F]":"text-[#787774] hover:bg-[#EFEFED] hover:text-[#37352F]"}`;return m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>e(l),className:`md:hidden ${y} `,children:[m.jsx(u,{size:20,strokeWidth:p?2.5:2}),m.jsx("span",{className:"text-[10px] mt-1 font-medium",children:d})]}),m.jsxs("button",{onClick:()=>e(l),className:`hidden md:flex ${v}`,children:[m.jsx(u,{size:16,strokeWidth:2})," ",d]})]})},s=({href:l,icon:u,label:d})=>m.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"hidden md:flex flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors select-none text-[#787774] hover:bg-[#EFEFED] hover:text-[#37352F]",children:[m.jsx(u,{size:16,strokeWidth:2})," ",d]});return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-[#E9E9E7] flex justify-between items-center z-50 pb-safe px-2 shadow-[0_-1px_10px_rgba(0,0,0,0.02)]",children:[m.jsx(a,{view:sn.DASHBOARD,icon:za,label:"Home"}),m.jsx(a,{view:sn.LIVE_RUN,icon:rp,label:"Measure"}),m.jsx(a,{view:sn.LEADERBOARD,icon:Ko,label:"Ranks"}),m.jsx(a,{view:sn.HISTORY,icon:XR,label:"History"}),m.jsx(a,{view:sn.SETTINGS,icon:LS,label:"Settings"})]}),m.jsxs("div",{className:"hidden md:flex flex-col w-60 bg-[#F7F7F5] border-r border-[#E9E9E7] h-screen fixed left-0 top-0",children:[m.jsx("div",{className:"px-6 pt-6 pb-2 flex flex-col items-center",children:r?m.jsx("div",{className:"w-20 h-20 rounded-xl shadow-sm bg-[#37352F] flex items-center justify-center",children:m.jsx(za,{size:44,className:"text-white"})}):m.jsx("img",{src:"favicon.png?v=8",alt:"Logo",className:"w-32 h-auto",onError:()=>i(!0)})}),m.jsxs("nav",{className:"flex-1 flex flex-col gap-0.5 px-2",children:[m.jsx("div",{className:"px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Workspace"}),m.jsx(a,{view:sn.DASHBOARD,icon:za,label:"Dashboard"}),m.jsx(a,{view:sn.LIVE_RUN,icon:rp,label:"Measurement"}),m.jsx(a,{view:sn.HISTORY,icon:XR,label:"History"}),m.jsx(a,{view:sn.ATHLETES,icon:jg,label:"Athletes"}),m.jsx(a,{view:sn.ANALYTICS,icon:kS,label:"Analytics"}),m.jsx("div",{className:"mt-6 px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Social"}),m.jsx(a,{view:sn.LEADERBOARD,icon:Ko,label:"Leaderboard"}),m.jsx("div",{className:"mt-6 px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Tools"}),m.jsx(a,{view:sn.SENSOR_CHECK,icon:za,label:"Sensor Check"}),m.jsx(a,{view:sn.GUIDE,icon:qb,label:"User Guide"}),m.jsx(a,{view:sn.SETTINGS,icon:LS,label:"Settings"}),m.jsx("div",{className:"mt-6 px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Community"}),m.jsx(s,{href:"https://laservelocitypro.userjot.com/",icon:Yie,label:"Feedback"}),m.jsx(s,{href:"https://laservelocitypro.userjot.com/roadmap",icon:pg,label:"Roadmap"})]}),m.jsx("div",{className:"p-2 border-t border-[#E9E9E7]",children:m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 w-full rounded-md font-medium text-[#787774] hover:bg-[#EFEFED] text-sm transition-colors",children:[m.jsx(RI,{size:16})," Logout"]})})]})]})};class Sae{constructor(){this.port=null,this.reader=null,this.keepReading=!1,this.onDataCallback=null,this.onStatusCallback=null}isSupported(){return"serial"in navigator}setOnData(e){this.onDataCallback=e}setOnStatus(e){this.onStatusCallback=e}async connect(){var e,n;try{if(!this.isSupported())throw new Error("Web Serial API not supported in this browser.");this.port=await navigator.serial.requestPort(),await this.port.open({baudRate:Mre,dataBits:8,stopBits:1,parity:"none"}),this.keepReading=!0,this.readLoop(),(e=this.onStatusCallback)==null||e.call(this,"Connected")}catch(r){throw console.error("Connection failed",r),(n=this.onStatusCallback)==null||n.call(this,"Connection Failed"),r}}async disconnect(){var e;this.keepReading=!1,this.reader&&await this.reader.cancel(),this.port&&await this.port.close(),this.port=null,(e=this.onStatusCallback)==null||e.call(this,"Disconnected")}async readLoop(){var n;if(!this.port||!this.port.readable)return;this.reader=this.port.readable.getReader();let e=[];try{for(;this.keepReading;){const{value:r,done:i}=await this.reader.read();if(i){this.reader.releaseLock();break}if(r){for(let a=0;a<r.length;a++)e.push(r[a]);this.processBuffer(e)}}}catch(r){console.error("Read error",r),(n=this.onStatusCallback)==null||n.call(this,"Read Error")}finally{this.reader&&this.reader.releaseLock()}}processBuffer(e){for(;e.length>=F5;){const n=e.indexOf(Fre);if(n===-1){e.splice(0,e.length-1);return}if(n>0&&e.splice(0,n),e.length<F5)return;const r=e[1],i=e[2],a=e[3],l=~(r+i&255)&255;if(a===l){const u=r+(i<<8);u!==65535&&this.onDataCallback&&this.onDataCallback(u),e.splice(0,F5)}else e.splice(0,1)}}}const qc=new Sae;function $U(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$U(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$U(t))&&(r&&(r+=" "),r+=e);return r}var Tae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jI(t){if(typeof t!="string")return!1;var e=Tae;return e.includes(t)}var Nae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GU(t){if(typeof t!="string")return!1;var e=Nae;return e.includes(t)}function YU(t){return typeof t=="string"&&t.startsWith("data-")}function Pl(t){var e=Object.entries(t).filter(n=>{var[r]=n;return GU(r)||YU(r)});return Object.fromEntries(e)}function c_(t){if(t==null)return null;if(O.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Pl(e)}return typeof t=="object"&&!Array.isArray(t)?Pl(t):null}function ds(t){var e=Object.entries(t).filter(n=>{var[r]=n;return GU(r)||YU(r)||jI(r)});return Object.fromEntries(e)}function Iae(t){return t==null?null:O.isValidElement(t)?ds(t.props):typeof t=="object"&&!Array.isArray(t)?ds(t):null}var Cae=["children","width","height","viewBox","className","style","title","desc"];function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(null,arguments)}function Pae(t,e){if(t==null)return{};var n,r,i=Oae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var WU=O.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:u,desc:d}=t,f=Pae(t,Cae),p=a||{width:r,height:i,x:0,y:0},y=wr("recharts-surface",s);return O.createElement("svg",MS({},ds(f),{className:y,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),O.createElement("title",null,u),O.createElement("desc",null,d),n)}),Rae=["children","className"];function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FS.apply(null,arguments)}function Dae(t,e){if(t==null)return{};var n,r,i=kae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var el=O.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Dae(t,Rae),a=wr("recharts-layer",r);return O.createElement("g",FS({className:a},ds(i),{ref:e}),n)}),KU=wM(),jae=O.createContext(null);function Ur(t){return function(){return t}}const XU=Math.cos,T2=Math.sin,hc=Math.sqrt,N2=Math.PI,u_=2*N2,US=Math.PI,BS=2*US,vh=1e-6,Lae=BS-vh;function QU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Mae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Fae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QU:Mae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=r-e,d=i-n,f=s-e,p=l-n,y=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>vh)if(!(Math.abs(p*u-d*f)>vh)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,E=i-l,A=u*u+d*d,S=v*v+E*E,I=Math.sqrt(A),q=Math.sqrt(y),k=a*Math.tan((US-Math.acos((A+y-S)/(2*I*q)))/2),B=k/q,$=k/I;Math.abs(B-1)>vh&&this._append`L${e+B*f},${n+B*p}`,this._append`A${a},${a},0,0,${+(p*v>f*E)},${this._x1=e+$*u},${this._y1=n+$*d}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,f=n+u,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>vh||Math.abs(this._y1-f)>vh)&&this._append`L${d},${f}`,r&&(y<0&&(y=y%BS+BS),y>Lae?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:y>vh&&this._append`A${r},${r},0,${+(y>=US)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Fae(e)}function MI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JU(t){this._context=t}JU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function d_(t){return new JU(t)}function ZU(t){return t[0]}function eB(t){return t[1]}function tB(t,e){var n=Ur(!0),r=null,i=d_,a=null,s=LI(l);t=typeof t=="function"?t:t===void 0?ZU:Ur(t),e=typeof e=="function"?e:e===void 0?eB:Ur(e);function l(u){var d,f=(u=MI(u)).length,p,y=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,d,u),+e(p,d,u));if(v)return a=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ur(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ur(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ur(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function rb(t,e,n){var r=null,i=Ur(!0),a=null,s=d_,l=null,u=LI(d);t=typeof t=="function"?t:t===void 0?ZU:Ur(+t),e=typeof e=="function"?e:Ur(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eB:Ur(+n);function d(p){var y,v,E,A=(p=MI(p)).length,S,I=!1,q,k=new Array(A),B=new Array(A);for(a==null&&(l=s(q=u())),y=0;y<=A;++y){if(!(y<A&&i(S=p[y],y,p))===I)if(I=!I)v=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=y-1;E>=v;--E)l.point(k[E],B[E]);l.lineEnd(),l.areaEnd()}I&&(k[y]=+t(S,y,p),B[y]=+e(S,y,p),l.point(r?+r(S,y,p):k[y],n?+n(S,y,p):B[y]))}if(q)return l=null,q+""||null}function f(){return tB().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ur(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ur(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ur(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ur(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ur(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ur(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ur(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),d):a},d}class nB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Uae(t){return new nB(t,!0)}function Bae(t){return new nB(t,!1)}const FI={draw(t,e){const n=hc(e/N2);t.moveTo(n,0),t.arc(0,0,n,0,u_)}},Vae={draw(t,e){const n=hc(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rB=hc(1/3),zae=rB*2,qae={draw(t,e){const n=hc(e/zae),r=n*rB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Hae={draw(t,e){const n=hc(e),r=-n/2;t.rect(r,r,n,n)}},$ae=.8908130915292852,iB=T2(N2/10)/T2(7*N2/10),Gae=T2(u_/10)*iB,Yae=-XU(u_/10)*iB,Wae={draw(t,e){const n=hc(e*$ae),r=Gae*n,i=Yae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=u_*a/5,l=XU(s),u=T2(s);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},B5=hc(3),Kae={draw(t,e){const n=-hc(e/(B5*3));t.moveTo(0,n*2),t.lineTo(-B5*n,-n),t.lineTo(B5*n,-n),t.closePath()}},_l=-.5,wl=hc(3)/2,VS=1/hc(12),Xae=(VS/2+1)*3,Qae={draw(t,e){const n=hc(e/Xae),r=n/2,i=n*VS,a=r,s=n*VS+n,l=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(_l*r-wl*i,wl*r+_l*i),t.lineTo(_l*a-wl*s,wl*a+_l*s),t.lineTo(_l*l-wl*u,wl*l+_l*u),t.lineTo(_l*r+wl*i,_l*i-wl*r),t.lineTo(_l*a+wl*s,_l*s-wl*a),t.lineTo(_l*l+wl*u,_l*u-wl*l),t.closePath()}};function Jae(t,e){let n=null,r=LI(i);t=typeof t=="function"?t:Ur(t||FI),e=typeof e=="function"?e:Ur(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ur(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function I2(){}function C2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aB(t){this._context=t}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zae(t){return new aB(t)}function sB(t){this._context=t}sB.prototype={areaStart:I2,areaEnd:I2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:C2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ese(t){return new sB(t)}function oB(t){this._context=t}oB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:C2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tse(t){return new oB(t)}function lB(t){this._context=t}lB.prototype={areaStart:I2,areaEnd:I2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nse(t){return new lB(t)}function eD(t){return t<0?-1:1}function tD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(eD(a)+eD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function nD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function V5(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function P2(t){this._context=t}P2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V5(this,this._t0,nD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,V5(this,nD(this,n=tD(this,t,e)),n);break;default:V5(this,this._t0,n=tD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cB(t){this._context=new uB(t)}(cB.prototype=Object.create(P2.prototype)).point=function(t,e){P2.prototype.point.call(this,e,t)};function uB(t){this._context=t}uB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function rse(t){return new P2(t)}function ise(t){return new cB(t)}function dB(t){this._context=t}dB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=rD(t),i=rD(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rD(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ase(t){return new dB(t)}function f_(t,e){this._context=t,this._t=e}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sse(t){return new f_(t,.5)}function ose(t){return new f_(t,0)}function lse(t){return new f_(t,1)}function mg(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cse(t,e){return t[e]}function use(t){const e=[];return e.key=t,e}function dse(){var t=Ur([]),e=zS,n=mg,r=cse;function i(a){var s=Array.from(t.apply(this,arguments),use),l,u=s.length,d=-1,f;for(const p of a)for(l=0,++d;l<u;++l)(s[l][d]=[0,+r(p,s[l].key,d,a)]).data=p;for(l=0,f=MI(e(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ur(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?zS:typeof a=="function"?a:Ur(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??mg,i):n},i}function fse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}mg(t,e)}}function hse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}mg(t,e)}}function pse(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,u=0,d=0;l<s;++l){for(var f=t[e[l]],p=f[r][1]||0,y=f[r-1][1]||0,v=(p-y)/2,E=0;E<l;++E){var A=t[e[E]],S=A[r][1]||0,I=A[r-1][1]||0;v+=S-I}u+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,mg(t,e)}}var z5={},q5={},iD;function mse(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(q5)),q5}var H5={},aD;function fB(){return aD||(aD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(H5)),H5}var $5={},sD;function UI(){return sD||(sD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})($5)),$5}var G5={},Y5={},oD;function gse(){return oD||(oD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Y5)),Y5}var lD;function BI(){return lD||(lD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gse(),n=UI();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,u+=i[l]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,a.push(u),u=""):u+=p:p==="["?(f=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}t.toPath=r})(G5)),G5}var cD;function VI(){return cD||(cD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mse(),n=fB(),r=UI(),i=BI();function a(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?a(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function s(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||e.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}t.get=a})(z5)),z5}var W5,uD;function vse(){return uD||(uD=1,W5=VI().get),W5}var yse=vse();const h_=fu(yse);var Tl=t=>t===0?0:t>0?1:-1,tl=t=>typeof t=="number"&&t!=+t,ld=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$t=t=>(typeof t=="number"||t instanceof Number)&&!tl(t),Ol=t=>$t(t)||typeof t=="string",bse=0,Wy=t=>{var e=++bse;return"".concat(t||"").concat(e)},Mf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(e)&&typeof e!="string")return r;var a;if(ld(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return tl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},hB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ia(t,e,n){return $t(t)&&$t(e)?t+n*(e-t):e}function pB(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):h_(r,e))===n)}var wa=t=>t===null||typeof t>"u",M0=t=>wa(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function xse(t){return t!=null}function Lg(){}var _se=["type","size","sizeType"];function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(null,arguments)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sse(t,e){if(t==null)return{};var n,r,i=Tse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mB={symbolCircle:FI,symbolCross:Vae,symbolDiamond:qae,symbolSquare:Hae,symbolStar:Wae,symbolTriangle:Kae,symbolWye:Qae},Nse=Math.PI/180,Ise=t=>{var e="symbol".concat(M0(t));return mB[e]||FI},Cse=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Nse;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Pse=(t,e)=>{mB["symbol".concat(M0(t))]=e},gB=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Sse(t,_se),a=fD(fD({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var y=Ise(s),v=Jae().type(y).size(Cse(n,r,s)),E=v();if(E!==null)return E},{className:u,cx:d,cy:f}=a,p=ds(a);return $t(d)&&$t(f)&&$t(n)?O.createElement("path",qS({},p,{className:wr("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};gB.registerSymbol=Pse;var vB=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,zI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{jI(i)&&(r[i]=(a=>n[i](n,a)))}),r},Ose=(t,e,n)=>r=>(t(e,n,r),null),Rse=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];jI(i)&&typeof a=="function"&&(r||(r={}),r[i]=Ose(a,e,n))}),r};function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(t,e){var n=Dse({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}var K5={},X5={},pD;function Mse(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(X5)),X5}var Q5={},mD;function yB(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Q5)),Q5}var J5={},Z5={},eE={},gD;function Fse(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(eE)),eE}var vD;function qI(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fse();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Z5)),Z5}var tE={},yD;function Use(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(tE)),tE}var bD;function Bse(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qI(),n=Use();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(J5)),J5}var nE={},rE={},xD;function Vse(){return xD||(xD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(rE)),rE}var iE={},aE={},sE={},oE={},_D;function bB(){return _D||(_D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(oE)),oE}var lE={},wD;function xB(){return wD||(wD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(lE)),lE}var cE={},ED;function _B(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(cE)),cE}var AD;function zse(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bB(),n=xB(),r=_B();function i(f,p,y){return typeof y!="function"?i(f,p,()=>{}):a(f,p,function v(E,A,S,I,q,k){const B=y(E,A,S,I,q,k);return B!==void 0?!!B:a(E,A,v,k)},new Map)}function a(f,p,y,v){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,y,v);case"function":return Object.keys(p).length>0?a(f,{...p},y,v):r.eq(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:r.eq(f,p)}}function s(f,p,y,v){if(p==null)return!0;if(Array.isArray(p))return u(f,p,y,v);if(p instanceof Map)return l(f,p,y,v);if(p instanceof Set)return d(f,p,y,v);const E=Object.keys(p);if(f==null)return E.length===0;if(E.length===0)return!0;if(v!=null&&v.has(p))return v.get(p)===f;v==null||v.set(p,f);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(f)&&!(S in f)||p[S]===void 0&&f[S]!==void 0||p[S]===null&&f[S]!==null||!y(f[S],p[S],S,f,p,v))return!1}return!0}finally{v==null||v.delete(p)}}function l(f,p,y,v){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[E,A]of p.entries()){const S=f.get(E);if(y(S,A,E,f,p,v)===!1)return!1}return!0}function u(f,p,y,v){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const E=new Set;for(let A=0;A<p.length;A++){const S=p[A];let I=!1;for(let q=0;q<f.length;q++){if(E.has(q))continue;const k=f[q];let B=!1;if(y(k,S,A,f,p,v)&&(B=!0),B){E.add(q),I=!0;break}}if(!I)return!1}return!0}function d(f,p,y,v){return p.size===0?!0:f instanceof Set?u([...f],[...p],y,v):!1}t.isMatchWith=i,t.isSetMatch=d})(sE)),sE}var SD;function wB(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zse();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(aE)),aE}var uE={},dE={},fE={},TD;function qse(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(fE)),fE}var hE={},ND;function EB(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(hE)),hE}var pE={},ID;function AB(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",y="[object ArrayBuffer]",v="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",q="[object Uint16Array]",k="[object Uint32Array]",B="[object BigUint64Array]",$="[object Int8Array]",K="[object Int16Array]",L="[object Int32Array]",j="[object BigInt64Array]",D="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=f,t.bigInt64ArrayTag=j,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=A,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=G,t.functionTag=p,t.int16ArrayTag=K,t.int32ArrayTag=L,t.int8ArrayTag=$,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=q,t.uint32ArrayTag=k,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=I})(pE)),pE}var mE={},CD;function Hse(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(mE)),mE}var PD;function SB(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qse(),n=EB(),r=AB(),i=xB(),a=Hse();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,y,v=new Map,E=void 0){const A=E==null?void 0:E(f,p,y,v);if(A!==void 0)return A;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let I=0;I<f.length;I++)S[I]=l(f[I],I,y,v,E);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[I,q]of f)S.set(I,l(q,I,y,v,E));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const I of f)S.add(l(I,void 0,y,v,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let I=0;I<f.length;I++)S[I]=l(f[I],I,y,v,E);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),u(S,f,y,v,E),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),u(S,f,y,v,E),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),u(S,f,y,v,E),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,u(S,f,y,v,E),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),u(S,f,y,v,E),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),u(S,f,y,v,E),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),u(S,f,y,v,E),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),u(S,f,y,v,E),S}return f}function u(f,p,y=f,v,E){const A=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<A.length;S++){const I=A[S],q=Object.getOwnPropertyDescriptor(f,I);(q==null||q.writable)&&(f[I]=l(p[I],I,y,v,E))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=u})(dE)),dE}var OD;function $se(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SB();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(uE)),uE}var RD;function Gse(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wB(),n=$se();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(iE)),iE}var gE={},vE={},yE={},DD;function Yse(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SB(),n=AB();function r(i,a){return e.cloneDeepWith(i,(s,l,u,d)=>{const f=a==null?void 0:a(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(yE)),yE}var kD;function Wse(){return kD||(kD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yse();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(vE)),vE}var bE={},xE={},jD;function TB(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(xE)),xE}var _E={},LD;function Kse(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EB();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(_E)),_E}var MD;function Xse(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fB(),n=TB(),r=Kse(),i=BI();function a(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(bE)),bE}var FD;function Qse(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wB(),n=UI(),r=Wse(),i=VI(),a=Xse();function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?a.has(d,l):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=s})(gE)),gE}var UD;function Jse(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yB(),n=Vse(),r=Gse(),i=Qse();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(nE)),nE}var BD;function Zse(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mse(),n=yB(),r=Bse(),i=Jse();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(K5)),K5}var wE,VD;function eoe(){return VD||(VD=1,wE=Zse().uniqBy),wE}var toe=eoe();const zD=fu(toe);function noe(t,e,n){return e===!0?zD(t,n):typeof e=="function"?zD(t,e):t}var EE={exports:{}},AE={},SE={exports:{}},TE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD;function roe(){if(qD)return TE;qD=1;var t=_g();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,y){var v=y(),E=r({inst:{value:v,getSnapshot:y}}),A=E[0].inst,S=E[1];return a(function(){A.value=v,A.getSnapshot=y,u(A)&&S({inst:A})},[p,v,y]),i(function(){return u(A)&&S({inst:A}),p(function(){u(A)&&S({inst:A})})},[p]),s(v),v}function u(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!n(p,v)}catch{return!0}}function d(p,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return TE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,TE}var HD;function ioe(){return HD||(HD=1,SE.exports=roe()),SE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function aoe(){if($D)return AE;$D=1;var t=_g(),e=ioe();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return AE.useSyncExternalStoreWithSelector=function(d,f,p,y,v){var E=a(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function I(K){if(!q){if(q=!0,k=K,K=y(K),v!==void 0&&A.hasValue){var L=A.value;if(v(L,K))return B=L}return B=K}if(L=B,r(k,K))return L;var j=y(K);return v!==void 0&&v(L,j)?(k=K,L):(k=K,B=j)}var q=!1,k,B,$=p===void 0?null:p;return[function(){return I(f())},$===null?void 0:function(){return I($())}]},[f,p,y,v]);var S=i(d,E[0],E[1]);return s(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},AE}var GD;function soe(){return GD||(GD=1,EE.exports=aoe()),EE.exports}var ooe=soe(),HI=O.createContext(null),loe=t=>t,Aa=()=>{var t=O.useContext(HI);return t?t.store.dispatch:loe},Hb=()=>{},coe=()=>Hb,uoe=(t,e)=>t===e;function Yt(t){var e=O.useContext(HI);return ooe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:coe,e?e.store.getState:Hb,e?e.store.getState:Hb,e?t:Hb,uoe)}function doe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function foe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function hoe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var YD=t=>Array.isArray(t)?t:[t];function poe(t){const e=Array.isArray(t[0])?t[0]:t;return hoe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function moe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var goe=class{constructor(t){this.value=t}deref(){return this.value}},voe=typeof WeakRef<"u"?WeakRef:goe,yoe=0,WD=1;function ib(){return{s:yoe,v:void 0,o:null,p:null}}function NB(t,e={}){let n=ib();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let l=n;const{length:u}=arguments;for(let y=0,v=u;y<v;y++){const E=arguments[y];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=l.o;A===null&&(l.o=A=new WeakMap);const S=A.get(E);S===void 0?(l=ib(),A.set(E,l)):l=S}else{let A=l.p;A===null&&(l.p=A=new Map);const S=A.get(E);S===void 0?(l=ib(),A.set(E,l)):l=S}}const d=l;let f;if(l.s===WD)f=l.v;else if(f=t.apply(null,arguments),a++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,f)&&(f=y,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new voe(f):f}return d.s=WD,d.v=f,f}return s.clearCache=()=>{n=ib(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function boe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),doe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:v=NB,argsMemoizeOptions:E=[]}=f,A=YD(y),S=YD(E),I=poe(i),q=p(function(){return a++,d.apply(null,arguments)},...A),k=v(function(){s++;const $=moe(I,arguments);return l=q.apply(null,$),l},...S);return Object.assign(k,{resultFunc:d,memoizedResultFunc:q,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var He=boe(NB),xoe=Object.assign((t,e=He)=>{foe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>xoe}),NE={},IE={},CE={},KD;function _oe(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(CE)),CE}var PE={},OE={},XD;function IB(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(OE)),OE}var QD;function woe(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(PE)),PE}var JD;function Eoe(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_oe(),n=woe(),r=BI();function i(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,E)=>{let A=v;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},f=(v,E)=>E==null||v==null?E:typeof v=="object"&&"key"in v?Object.hasOwn(E,v.key)?E[v.key]:d(E,v.path):typeof v=="function"?v(E):Array.isArray(v)?d(E,v):typeof E=="object"?E[v]:E,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:p.map(E=>f(E,v))})).slice().sort((v,E)=>{for(let A=0;A<p.length;A++){const S=e.compareValues(v.criteria[A],E.criteria[A],l[A]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(IE)),IE}var RE={},ZD;function Aoe(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<a?s(f,u+1):i.push(f)}};return s(n,0),i}t.flatten=e})(RE)),RE}var DE={},e7;function CB(){return e7||(e7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TB(),n=qI(),r=bB(),i=_B();function a(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],s):!1}t.isIterateeCall=a})(DE)),DE}var t7;function Soe(){return t7||(t7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eoe(),n=Aoe(),r=CB();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(NE)),NE}var kE,n7;function Toe(){return n7||(n7=1,kE=Soe().sortBy),kE}var Noe=Toe();const p_=fu(Noe);var PB=t=>t.legend.settings,Ioe=t=>t.legend.size,Coe=t=>t.legend.payload;He([Coe,PB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?p_(r,n):r});var ab=1;function Poe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>ab||Math.abs(s.left-e.left)>ab||Math.abs(s.top-e.top)>ab||Math.abs(s.width-e.width)>ab)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function rs(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ooe=typeof Symbol=="function"&&Symbol.observable||"@@observable",r7=Ooe,jE=()=>Math.random().toString(36).substring(7).split("").join("."),Roe={INIT:`@@redux/INIT${jE()}`,REPLACE:`@@redux/REPLACE${jE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jE()}`},O2=Roe;function $I(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function OB(t,e,n){if(typeof t!="function")throw new Error(rs(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rs(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rs(1));return n(OB)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,u=!1;function d(){s===a&&(s=new Map,a.forEach((S,I)=>{s.set(I,S)}))}function f(){if(u)throw new Error(rs(3));return i}function p(S){if(typeof S!="function")throw new Error(rs(4));if(u)throw new Error(rs(5));let I=!0;d();const q=l++;return s.set(q,S),function(){if(I){if(u)throw new Error(rs(6));I=!1,d(),s.delete(q),a=null}}}function y(S){if(!$I(S))throw new Error(rs(7));if(typeof S.type>"u")throw new Error(rs(8));if(typeof S.type!="string")throw new Error(rs(17));if(u)throw new Error(rs(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=s).forEach(q=>{q()}),S}function v(S){if(typeof S!="function")throw new Error(rs(10));r=S,y({type:O2.REPLACE})}function E(){const S=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(rs(11));function q(){const B=I;B.next&&B.next(f())}return q(),{unsubscribe:S(q)}},[r7](){return this}}}return y({type:O2.INIT}),{dispatch:y,subscribe:p,getState:f,replaceReducer:v,[r7]:E}}function Doe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:O2.INIT})>"u")throw new Error(rs(12));if(typeof n(void 0,{type:O2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rs(13))})}function RB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Doe(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],y=n[p],v=s[p],E=y(v,l);if(typeof E>"u")throw l&&l.type,new Error(rs(14));d[p]=E,u=u||E!==v}return u=u||r.length!==Object.keys(s).length,u?d:s}}function R2(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function koe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(rs(15))};const s={getState:i.getState,dispatch:(u,...d)=>a(u,...d)},l=t.map(u=>u(s));return a=R2(...l)(i.dispatch),{...i,dispatch:a}}}function DB(t){return $I(t)&&"type"in t&&typeof t.type=="string"}var kB=Symbol.for("immer-nothing"),i7=Symbol.for("immer-draftable"),nl=Symbol.for("immer-state");function ic(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ky=Object.getPrototypeOf;function ip(t){return!!t&&!!t[nl]}function cd(t){var e;return t?jB(t)||Array.isArray(t)||!!t[i7]||!!((e=t.constructor)!=null&&e[i7])||F0(t)||g_(t):!1}var joe=Object.prototype.constructor.toString(),a7=new WeakMap;function jB(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=a7.get(n);return r===void 0&&(r=Function.toString.call(n),a7.set(n,r)),r===joe}function D2(t,e,n=!0){m_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function m_(t){const e=t[nl];return e?e.type_:Array.isArray(t)?1:F0(t)?2:g_(t)?3:0}function HS(t,e){return m_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function LB(t,e,n){const r=m_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Loe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function F0(t){return t instanceof Map}function g_(t){return t instanceof Set}function yh(t){return t.copy_||t.base_}function $S(t,e){if(F0(t))return new Map(t);if(g_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=jB(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[nl];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Ky(t),r)}else{const r=Ky(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function GI(t,e=!1){return v_(t)||ip(t)||!cd(t)||(m_(t)>1&&Object.defineProperties(t,{set:sb,add:sb,clear:sb,delete:sb}),Object.freeze(t),e&&Object.values(t).forEach(n=>GI(n,!0))),t}function Moe(){ic(2)}var sb={value:Moe};function v_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Foe={};function ap(t){const e=Foe[t];return e||ic(0,t),e}var Xy;function MB(){return Xy}function Uoe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s7(t,e){e&&(ap("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function GS(t){YS(t),t.drafts_.forEach(Boe),t.drafts_=null}function YS(t){t===Xy&&(Xy=t.parent_)}function o7(t){return Xy=Uoe(Xy,t)}function Boe(t){const e=t[nl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function l7(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[nl].modified_&&(GS(e),ic(4)),cd(t)&&(t=k2(e,t),e.parent_||j2(e,t)),e.patches_&&ap("Patches").generateReplacementPatches_(n[nl].base_,t,e.patches_,e.inversePatches_)):t=k2(e,n,[]),GS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kB?t:void 0}function k2(t,e,n){if(v_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[nl];if(!i)return D2(e,(a,s)=>c7(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return j2(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),D2(s,(u,d)=>c7(t,i,a,u,d,n,l),r),j2(t,a,!1),n&&t.patches_&&ap("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function c7(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=v_(i);if(!(l&&!s)){if(ip(i)){const u=a&&e&&e.type_!==3&&!HS(e.assigned_,r)?a.concat(r):void 0,d=k2(t,i,u);if(LB(n,r,d),ip(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(cd(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;k2(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(F0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&j2(t,i)}}}function j2(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&GI(e,n)}function Voe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:MB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=YI;n&&(i=[r],a=Qy);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var YI={get(t,e){if(e===nl)return t;const n=yh(t);if(!HS(n,e))return zoe(t,n,e);const r=n[e];return t.finalized_||!cd(r)?r:r===LE(t.base_,e)?(ME(t),t.copy_[e]=KS(r,t)):r},has(t,e){return e in yh(t)},ownKeys(t){return Reflect.ownKeys(yh(t))},set(t,e,n){const r=FB(yh(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=LE(yh(t),e),a=i==null?void 0:i[nl];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Loe(n,i)&&(n!==void 0||HS(t.base_,e)))return!0;ME(t),WS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ME(t),WS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=yh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ic(11)},getPrototypeOf(t){return Ky(t.base_)},setPrototypeOf(){ic(12)}},Qy={};D2(YI,(t,e)=>{Qy[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qy.deleteProperty=function(t,e){return Qy.set.call(this,t,e,void 0)};Qy.set=function(t,e,n){return YI.set.call(this,t[0],e,n,t[0])};function LE(t,e){const n=t[nl];return(n?yh(n):t)[e]}function zoe(t,e,n){var i;const r=FB(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function FB(t,e){if(!(e in t))return;let n=Ky(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ky(n)}}function WS(t){t.modified_||(t.modified_=!0,t.parent_&&WS(t.parent_))}function ME(t){t.copy_||(t.copy_=$S(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qoe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...d){return s.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&ic(6),r!==void 0&&typeof r!="function"&&ic(7);let i;if(cd(e)){const a=o7(this),s=KS(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?GS(a):YS(a)}return s7(a,r),l7(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===kB&&(i=void 0),this.autoFreeze_&&GI(i,!0),r){const a=[],s=[];ap("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else ic(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){cd(t)||ic(8),ip(t)&&(t=td(t));const e=o7(this),n=KS(t,void 0);return n[nl].isManual_=!0,YS(e),n}finishDraft(t,e){const n=t&&t[nl];(!n||!n.isManual_)&&ic(9);const{scope_:r}=n;return s7(r,e),l7(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ap("Patches").applyPatches_;return ip(t)?r(t,e):this.produce(t,i=>r(i,e))}};function KS(t,e){const n=F0(t)?ap("MapSet").proxyMap_(t,e):g_(t)?ap("MapSet").proxySet_(t,e):Voe(t,e);return(e?e.scope_:MB()).drafts_.push(n),n}function td(t){return ip(t)||ic(10,t),UB(t)}function UB(t){if(!cd(t)||v_(t))return t;const e=t[nl];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=$S(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=$S(t,!0);return D2(n,(i,a)=>{LB(n,i,UB(a))},r),e&&(e.finalized_=!1),n}var XS=new qoe,BB=XS.produce,Hoe=XS.setUseStrictIteration.bind(XS);function VB(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var $oe=VB(),Goe=VB,Yoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?R2:R2.apply(null,arguments)};function Rl(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Jo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>DB(r)&&r.type===t,n}var zB=class ey extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ey.prototype)}static get[Symbol.species](){return ey}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ey(...e[0].concat(this)):new ey(...e.concat(this))}};function u7(t){return cd(t)?BB(t,()=>{}):t}function ob(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Woe(t){return typeof t=="boolean"}var Koe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new zB;return n&&(Woe(n)?s.push($oe):s.push(Goe(n.extraArgument))),s},qB="RTK_autoBatch",xa=()=>t=>({payload:t,meta:{[qB]:!0}}),d7=t=>e=>{setTimeout(e,t)},HB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:d7(10):t.type==="callback"?t.queueNotification:d7(t.timeout),d=()=>{s=!1,a&&(a=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),y=r.subscribe(p);return l.add(f),()=>{y(),l.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[qB]),a=!i,a&&(s||(s=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},Xoe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new zB(t);return r&&i.push(HB(typeof r=="object"?r:void 0)),i};function Qoe(t){const e=Koe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if($I(n))l=RB(n);else throw new Error(Jo(1));let u;typeof r=="function"?u=r(e):u=e();let d=R2;i&&(d=Yoe({trace:!1,...typeof i=="object"&&i}));const f=koe(...u),p=Xoe(f);let y=typeof s=="function"?s(p):p();const v=d(...y);return OB(l,a,v)}function $B(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Jo(28));if(l in e)throw new Error(Jo(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}Hoe(!1);function Joe(t){return typeof t=="function"}function Zoe(t,e){let[n,r,i]=$B(e),a;if(Joe(t))a=()=>u7(t());else{const l=u7(t);a=()=>l}function s(l=a(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(ip(f)){const v=p(f,u);return v===void 0?f:v}else{if(cd(f))return BB(f,y=>p(y,u));{const y=p(f,u);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},l)}return s.getInitialState=a,s}var ele="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tle=(t=21)=>{let e="",n=t;for(;n--;)e+=ele[Math.random()*64|0];return e},nle=Symbol.for("rtk-slice-createasyncthunk");function rle(t,e){return`${t}/${e}`}function ile({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[nle];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Jo(11));const l=(typeof i.reducers=="function"?i.reducers(sle()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(B,$){const K=typeof B=="string"?B:B.type;if(!K)throw new Error(Jo(12));if(K in d.sliceCaseReducersByType)throw new Error(Jo(13));return d.sliceCaseReducersByType[K]=$,f},addMatcher(B,$){return d.sliceMatchers.push({matcher:B,reducer:$}),f},exposeAction(B,$){return d.actionCreators[B]=$,f},exposeCaseReducer(B,$){return d.sliceCaseReducersByName[B]=$,f}};u.forEach(B=>{const $=l[B],K={reducerName:B,type:rle(a,B),createNotation:typeof i.reducers=="function"};lle($)?ule(K,$,f,e):ole(K,$,f)});function p(){const[B={},$=[],K=void 0]=typeof i.extraReducers=="function"?$B(i.extraReducers):[i.extraReducers],L={...B,...d.sliceCaseReducersByType};return Zoe(i.initialState,j=>{for(let D in L)j.addCase(D,L[D]);for(let D of d.sliceMatchers)j.addMatcher(D.matcher,D.reducer);for(let D of $)j.addMatcher(D.matcher,D.reducer);K&&j.addDefaultCase(K)})}const y=B=>B,v=new Map,E=new WeakMap;let A;function S(B,$){return A||(A=p()),A(B,$)}function I(){return A||(A=p()),A.getInitialState()}function q(B,$=!1){function K(j){let D=j[B];return typeof D>"u"&&$&&(D=ob(E,K,I)),D}function L(j=y){const D=ob(v,$,()=>new WeakMap);return ob(D,j,()=>{const G={};for(const[P,F]of Object.entries(i.selectors??{}))G[P]=ale(F,j,()=>ob(E,j,I),$);return G})}return{reducerPath:B,getSelectors:L,get selectors(){return L(K)},selectSlice:K}}const k={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:I,...q(s),injectInto(B,{reducerPath:$,...K}={}){const L=$??s;return B.inject({reducerPath:L,reducer:S},K),{...k,...q(L,!0)}}};return k}}function ale(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var No=ile();function sle(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ole({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!cle(r))throw new Error(Jo(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Rl(t,s):Rl(t))}function lle(t){return t._reducerDefinitionType==="asyncThunk"}function cle(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ule({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Jo(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:d,options:f}=n,p=i(t,a,f);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:s||lb,pending:l||lb,rejected:u||lb,settled:d||lb})}function lb(){}var dle="task",GB="listener",YB="completed",WI="cancelled",fle=`task-${WI}`,hle=`task-${YB}`,QS=`${GB}-${WI}`,ple=`${GB}-${YB}`,y_=class{constructor(t){lr(this,"name","TaskAbortError");lr(this,"message");this.code=t,this.message=`${dle} ${WI} (reason: ${t})`}},KI=(t,e)=>{if(typeof t!="function")throw new TypeError(Jo(32))},L2=()=>{},WB=(t,e=L2)=>(t.catch(e),t),KB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Mh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Fh=t=>{if(t.aborted){const{reason:e}=t;throw new y_(e)}};function XB(t,e){let n=L2;return new Promise((r,i)=>{const a=()=>i(new y_(t.reason));if(t.aborted){a();return}n=KB(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=L2})}var mle=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof y_?"cancelled":"rejected",error:n}}finally{e==null||e()}},M2=t=>e=>WB(XB(t,e).then(n=>(Fh(t),n))),QB=t=>{const e=M2(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Mm}=Object,f7={},b_="listenerMiddleware",gle=(t,e)=>{const n=r=>KB(t,()=>Mh(r,t.reason));return(r,i)=>{KI(r);const a=new AbortController;n(a);const s=mle(async()=>{Fh(t),Fh(a.signal);const l=await r({pause:M2(a.signal),delay:QB(a.signal),signal:a.signal});return Fh(a.signal),l},()=>Mh(a,hle));return i!=null&&i.autoJoin&&e.push(s.catch(L2)),{result:M2(t)(s),cancel(){Mh(a,fle)}}}},vle=(t,e)=>{const n=async(r,i)=>{Fh(e);let a=()=>{};const l=[new Promise((u,d)=>{let f=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await XB(e,Promise.race(l));return Fh(e),u}finally{a()}};return(r,i)=>WB(n(r,i))},JB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Rl(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jo(21));return KI(a),{predicate:i,type:e,effect:a}},ZB=Mm(t=>{const{type:e,predicate:n,effect:r}=JB(t);return{id:tle(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jo(22))}}},{withTypes:()=>ZB}),h7=(t,e)=>{const{type:n,effect:r,predicate:i}=JB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},JS=t=>{t.pending.forEach(e=>{Mh(e,QS)})},yle=(t,e)=>()=>{for(const n of e.keys())JS(n);t.clear()},p7=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},eV=Mm(Rl(`${b_}/add`),{withTypes:()=>eV}),ble=Rl(`${b_}/removeAll`),tV=Mm(Rl(`${b_}/remove`),{withTypes:()=>tV}),xle=(...t)=>{console.error(`${b_}/error`,...t)},U0=(t={})=>{const e=new Map,n=new Map,r=v=>{const E=n.get(v)??0;n.set(v,E+1)},i=v=>{const E=n.get(v)??1;E===1?n.delete(v):n.set(v,E-1)},{extra:a,onError:s=xle}=t;KI(s);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),E=>{v.unsubscribe(),E!=null&&E.cancelActive&&JS(v)}),u=v=>{const E=h7(e,v)??ZB(v);return l(E)};Mm(u,{withTypes:()=>u});const d=v=>{const E=h7(e,v);return E&&(E.unsubscribe(),v.cancelActive&&JS(E)),!!E};Mm(d,{withTypes:()=>d});const f=async(v,E,A,S)=>{const I=new AbortController,q=vle(u,I.signal),k=[];try{v.pending.add(I),r(v),await Promise.resolve(v.effect(E,Mm({},A,{getOriginalState:S,condition:(B,$)=>q(B,$).then(Boolean),take:q,delay:QB(I.signal),pause:M2(I.signal),extra:a,signal:I.signal,fork:gle(I.signal,k),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((B,$,K)=>{B!==I&&(Mh(B,QS),K.delete(B))})},cancel:()=>{Mh(I,QS),v.pending.delete(I)},throwIfCancelled:()=>{Fh(I.signal)}})))}catch(B){B instanceof y_||p7(s,B,{raisedBy:"effect"})}finally{await Promise.all(k),Mh(I,ple),i(v),v.pending.delete(I)}},p=yle(e,n);return{middleware:v=>E=>A=>{if(!DB(A))return E(A);if(eV.match(A))return u(A.payload);if(ble.match(A)){p();return}if(tV.match(A))return d(A.payload);let S=v.getState();const I=()=>{if(S===f7)throw new Error(Jo(23));return S};let q;try{if(q=E(A),e.size>0){const k=v.getState(),B=Array.from(e.values());for(const $ of B){let K=!1;try{K=$.predicate(A,k,S)}catch(L){K=!1,p7(s,L,{raisedBy:"predicate"})}K&&f($,A,v,I)}}}finally{S=f7}return q},startListening:u,stopListening:d,clearListeners:p}};function Jo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _le={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nV=No({name:"chartLayout",initialState:_le,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:wle,setLayout:Ele,setChartSize:Ale,setScale:Sle}=nV.actions,Tle=nV.reducer;function rV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function m7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(n),!0).forEach(function(r){Nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nle(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(t,e,n){return wa(t)||wa(e)?n:Ol(e)?h_(t,e,n):typeof e=="function"?e(t):n}var Ple=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&$t(t[a]))return Tm(Tm({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&$t(t[s]))return Tm(Tm({},t),{},{[s]:t[s]+(i||0)})}return t},hu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",iV=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(n),s},aV=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:y,axisType:v}=t;if(!s)return null;var E=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,A=i==="category"&&s.bandwidth?s.bandwidth()/E:0;if(A=v==="angleAxis"&&a&&a.length>=2?Tl(a[0]-a[1])*2*A:A,p||y){var S=(p||y||[]).map((I,q)=>{var k=r?r.indexOf(I):I;return{coordinate:s(k)+A,value:I,offset:A,index:q}});return S.filter(I=>!tl(I.coordinate))}return u&&d?d.map((I,q)=>({coordinate:s(I)+A,value:I,index:q,offset:A})):s.ticks&&f!=null?s.ticks(f).map((I,q)=>({coordinate:s(I)+A,value:I,offset:A,index:q})):s.domain().map((I,q)=>({coordinate:s(I)+A,value:r?r[I]:I,index:q,offset:A}))},g7=1e-4,Ole=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-g7,a=Math.max(r[0],r[1])+g7,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},Rle=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var l=tl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},Dle=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=tl(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},kle={sign:Rle,expand:fse,none:mg,silhouette:hse,wiggle:pse,positive:Dle},jle=(t,e,n)=>{var r=kle[n],i=dse().keys(e).value((a,s)=>Number(cs(a,s,0))).order(zS).offset(r);return i(t)};function Lle(t){return t==null?void 0:String(t)}function F2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wa(i[e.dataKey])){var l=pB(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=cs(i,wa(s)?e.dataKey:s);return wa(u)?null:e.scale(u)}var Mle=t=>{var e=t.flat(2).filter($t);return[Math.min(...e),Math.max(...e)]},Fle=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Ule=(t,e,n)=>{if(t!=null)return Fle(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((u,d)=>{var f=rV(d,e,n),p=Mle(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},v7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=p_(e,f=>f.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function b7(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Tm(Tm({},e),{},{dataKey:n,payload:r,value:i,name:a})}function x_(t,e){if(t)return String(t);if(typeof e=="string")return e}var Ble=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Vle=(t,e)=>e==="centric"?t.angle:t.radius,_d=t=>t.layout.width,wd=t=>t.layout.height,zle=t=>t.layout.scale,sV=t=>t.layout.margin,__=He(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),w_=He(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),qle="data-recharts-item-index",Hle="data-recharts-item-data-key",B0=60;function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(r){$le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $le(t,e,n){return(e=Gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wle=t=>t.brush.height;function Kle(t){var e=w_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:B0;return n+i}return n},0)}function Xle(t){var e=w_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:B0;return n+i}return n},0)}function Qle(t){var e=__(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Jle(t){var e=__(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var hs=He([_d,wd,sV,Wle,Kle,Xle,Qle,Jle,PB,Ioe],(t,e,n,r,i,a,s,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},y=cb(cb({},p),f),v=y.bottom;y.bottom+=r,y=Ple(y,u,d);var E=t-y.left-y.right,A=e-y.top-y.bottom;return cb(cb({brushBottom:v},y),{},{width:Math.max(E,0),height:Math.max(A,0)})}),Zle=He(hs,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),oV=He(_d,wd,(t,e)=>({x:0,y:0,width:t,height:e})),ece=O.createContext(null),ps=()=>O.useContext(ece)!=null,E_=t=>t.brush,A_=He([E_,hs,sV],(t,e,n)=>({height:t.height,x:$t(t.x)?t.x:e.left,y:$t(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:$t(t.width)?t.width:e.width})),FE={},UE={},BE={},_7;function tce(){return _7||(_7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),A()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},A=()=>{E(),s=void 0,l=null},S=()=>{f()},I=function(...q){if(i!=null&&i.aborted)return;s=this,l=q;const k=y==null;v(),u&&k&&f()};return I.schedule=v,I.cancel=A,I.flush=S,i==null||i.addEventListener("abort",A,{once:!0}),I}t.debounce=e})(BE)),BE}var w7;function nce(){return w7||(w7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tce();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const y=e.debounce(function(...A){f=r.apply(this,A),p=null},i,{edges:d}),v=function(...A){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,A),p=Date.now(),y.cancel(),y.schedule(),f):(y.apply(this,A),f)},E=()=>(y.flush(),f);return v.cancel=y.cancel,v.flush=E,v}t.debounce=n})(UE)),UE}var E7;function rce(){return E7||(E7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nce();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(FE)),FE}var VE,A7;function ice(){return A7||(A7=1,VE=rce().throttle),VE}var ace=ice();const sce=fu(ace);var U2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},lV=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=ld(r)?t:Number(r),u=ld(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},oce={width:0,height:0,overflow:"visible"},lce={width:0,overflowX:"visible"},cce={height:0,overflowY:"visible"},uce={},dce=t=>{var{width:e,height:n}=t,r=ld(e),i=ld(n);return r&&i?oce:r?lce:i?cce:uce};function fce(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Br(t){return Number.isFinite(t)}function uu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZS.apply(null,arguments)}function S7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return(e=pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cV=O.createContext({width:-1,height:-1});function gce(t){return uu(t.width)&&uu(t.height)}function uV(t){var{children:e,width:n,height:r}=t,i=O.useMemo(()=>({width:n,height:r}),[n,r]);return gce(i)?O.createElement(cV.Provider,{value:i},e):null}var XI=()=>O.useContext(cV),vce=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:p,className:y,onResize:v,style:E={}}=t,A=O.useRef(null),S=O.useRef();S.current=v,O.useImperativeHandle(e,()=>A.current);var[I,q]=O.useState({containerWidth:r.width,containerHeight:r.height}),k=O.useCallback((j,D)=>{q(G=>{var P=Math.round(j),F=Math.round(D);return G.containerWidth===P&&G.containerHeight===F?G:{containerWidth:P,containerHeight:F}})},[]);O.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return Lg;var j=F=>{var V,{width:ee,height:ge}=F[0].contentRect;k(ee,ge),(V=S.current)===null||V===void 0||V.call(S,ee,ge)};f>0&&(j=sce(j,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(j),{width:G,height:P}=A.current.getBoundingClientRect();return k(G,P),D.observe(A.current),()=>{D.disconnect()}},[k,f]);var{containerWidth:B,containerHeight:$}=I;U2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:K,calculatedHeight:L}=lV(B,$,{width:i,height:a,aspect:n,maxHeight:u});return U2(K!=null&&K>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,L,i,a,s,l,n),O.createElement("div",{id:p?"".concat(p):void 0,className:wr("recharts-responsive-container",y),style:T7(T7({},E),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:A},O.createElement("div",{style:dce({width:i,height:a})},O.createElement(uV,{width:K,height:L},d)))}),S_=O.forwardRef((t,e)=>{var n=XI();if(uu(n.width)&&uu(n.height))return t.children;var{width:r,height:i}=fce({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=lV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return $t(a)&&$t(s)?O.createElement(uV,{width:a,height:s},t.children):O.createElement(vce,ZS({},t,{width:r,height:i,ref:e}))});function dV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var V0=()=>{var t,e=ps(),n=Yt(Zle),r=Yt(A_),i=(t=Yt(E_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fV=()=>{var t;return(t=Yt(hs))!==null&&t!==void 0?t:yce},hV=()=>Yt(_d),pV=()=>Yt(wd),Pr=t=>t.layout.layoutType,z0=()=>Yt(Pr),bce=()=>{var t=z0();return t!==void 0},T_=t=>{var e=Aa(),n=ps(),{width:r,height:i}=t,a=XI(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),O.useEffect(()=>{!n&&uu(s)&&uu(l)&&e(Ale({width:s,height:l}))},[e,n,s,l]),null},xce={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mV=No({name:"legend",initialState:xce,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:xa()},removeLegendPayload:{reducer(t,e){var n=td(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:xa()}}}),{setLegendSize:$5e,setLegendSettings:G5e,addLegendPayload:_ce,removeLegendPayload:wce}=mV.actions,Ece=mV.reducer;function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(null,arguments)}function N7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(n),!0).forEach(function(r){Ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e,n){return(e=Sce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nce(t){return Array.isArray(t)&&Ol(t[0])&&Ol(t[1])?t.join(" ~ "):t}var Ice=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:y=!1}=t,v=()=>{if(a&&a.length){var $={padding:0,margin:0},K=(l?p_(a,l):a).map((L,j)=>{if(L.type==="none")return null;var D=L.formatter||s||Nce,{value:G,name:P}=L,F=G,V=P;if(D){var ee=D(G,P,L,j,a);if(Array.isArray(ee))[F,V]=ee;else if(ee!=null)F=ee;else return null}var ge=zE({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:ge},Ol(V)?O.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ol(V)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},F),O.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:$},K)}return null},E=zE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=zE({margin:0},i),S=!wa(f),I=S?f:"",q=wr("recharts-default-tooltip",u),k=wr("recharts-tooltip-label",d);S&&p&&a!==void 0&&a!==null&&(I=p(f,a));var B=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",eT({className:q,style:E},B),O.createElement("p",{className:k,style:A},O.isValidElement(I)?I:"".concat(I)),v())},Mv="recharts-tooltip-wrapper",Cce={visibility:"hidden"};function Pce(t){var{coordinate:e,translateX:n,translateY:r}=t;return wr(Mv,{["".concat(Mv,"-right")]:$t(n)&&e&&$t(e.x)&&n>=e.x,["".concat(Mv,"-left")]:$t(n)&&e&&$t(e.x)&&n<e.x,["".concat(Mv,"-bottom")]:$t(r)&&e&&$t(e.y)&&r>=e.y,["".concat(Mv,"-top")]:$t(r)&&e&&$t(e.y)&&r<e.y})}function I7(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(a&&$t(a[r]))return a[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?f:p;var y=u[r];if(y==null)return 0;if(s[r]){var v=f,E=y;return v<E?Math.max(p,y):Math.max(f,y)}if(d==null)return 0;var A=p+l,S=y+d;return A>S?Math.max(f,y):Math.max(p,y)}function Oce(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Rce(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,d,f,p;return s.height>0&&s.width>0&&n?(f=I7({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=I7({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),d=Oce({translateX:f,translateY:p,useTranslate3d:l})):d=Cce,{cssProperties:d,cssClasses:Pce({translateX:f,translateY:p,coordinate:n})}}function C7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(n),!0).forEach(function(r){tT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tT(t,e,n){return(e=Dce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=kce(t,"string");return typeof e=="symbol"?e:e+""}function kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jce extends O.PureComponent{constructor(){super(...arguments),tT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:y,viewBox:v,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:I}=this.props,{cssClasses:q,cssProperties:k}=Rce({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:A.height,width:A.width},useTranslate3d:y,viewBox:v}),B=I?{}:ub(ub({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),$=ub(ub({},B),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:q,style:$,ref:S},a)}}var Lce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yp={devToolsEnabled:!1,isSsr:Lce()},gV=()=>{var t;return(t=Yt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function nT(){return nT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nT.apply(null,arguments)}function P7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(n),!0).forEach(function(r){Mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mce(t,e,n){return(e=Fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fce(t){var e=Uce(t,"string");return typeof e=="symbol"?e:e+""}function Uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R7={curveBasisClosed:ese,curveBasisOpen:tse,curveBasis:Zae,curveBumpX:Uae,curveBumpY:Bae,curveLinearClosed:nse,curveLinear:d_,curveMonotoneX:rse,curveMonotoneY:ise,curveNatural:ase,curveStep:sse,curveStepAfter:lse,curveStepBefore:ose},B2=t=>Br(t.x)&&Br(t.y),D7=t=>t.base!=null&&B2(t.base)&&B2(t),Fv=t=>t.x,Uv=t=>t.y,Bce=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(M0(t));return(n==="curveMonotone"||n==="curveBump")&&e?R7["".concat(n).concat(e==="vertical"?"Y":"X")]:R7[n]||d_},Vce=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=Bce(e,i),l=a?n.filter(B2):n,u;if(Array.isArray(r)){var d=n.map((v,E)=>O7(O7({},v),{},{base:r[E]}));i==="vertical"?u=rb().y(Uv).x1(Fv).x0(v=>v.base.x):u=rb().x(Fv).y1(Uv).y0(v=>v.base.y);var f=u.defined(D7).curve(s),p=a?d.filter(D7):d;return f(p)}i==="vertical"&&$t(r)?u=rb().y(Uv).x1(Fv).x0(r):$t(r)?u=rb().x(Fv).y1(Uv).y0(r):u=tB().x(Fv).y(Uv);var y=u.defined(B2).curve(s);return y(l)},vy=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Vce(t):r;return O.createElement("path",nT({},Pl(t),zI(t),{className:wr("recharts-curve",e),d:a===null?void 0:a,ref:i}))},zce=["x","y","top","left","width","height","className"];function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(null,arguments)}function k7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k7(Object(n),!0).forEach(function(r){Hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yce(t,e){if(t==null)return{};var n,r,i=Wce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kce=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Xce=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,u=Yce(t,zce),d=qce({x:e,y:n,top:r,left:i,width:a,height:s},u);return!$t(e)||!$t(n)||!$t(a)||!$t(s)||!$t(r)||!$t(i)?null:O.createElement("path",rT({},ds(d),{className:wr("recharts-cross",l),d:Kce(e,n,a,s,r,i)}))};function Qce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function j7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j7(Object(n),!0).forEach(function(r){Jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jce(t,e,n){return(e=Zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=eue(t,"string");return typeof e=="symbol"?e:e+""}function eue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tue=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vV=(t,e,n)=>t.map(r=>"".concat(tue(r)," ").concat(e,"ms ").concat(n)).join(","),nue=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jy=(t,e)=>Object.keys(e).reduce((n,r)=>L7(L7({},n),{},{[r]:t(r,e[r])}),{});function M7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V2=(t,e,n)=>t+(e-t)*n,iT=t=>{var{from:e,to:n}=t;return e!==n},yV=(t,e,n)=>{var r=Jy((i,a)=>{if(iT(a)){var[s,l]=t(a.from,a.to,a.velocity);return ba(ba({},a),{},{from:s,velocity:l})}return a},e);return n<1?Jy((i,a)=>iT(a)?ba(ba({},a),{},{velocity:V2(a.velocity,r[i].velocity,n),from:V2(a.from,r[i].from,n)}):a,e):yV(t,r,n-1)};function sue(t,e,n,r,i,a){var s,l=r.reduce((y,v)=>ba(ba({},y),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>Jy((y,v)=>v.from,l),d=()=>!Object.values(l).filter(iT).length,f=null,p=y=>{s||(s=y);var v=y-s,E=v/n.dt;l=yV(n,l,E),i(ba(ba(ba({},t),e),u())),s=y,d()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{var y;(y=f)===null||y===void 0||y()})}function oue(t,e,n,r,i,a,s){var l=null,u=i.reduce((p,y)=>ba(ba({},p),{},{[y]:[t[y],e[y]]}),{}),d,f=p=>{d||(d=p);var y=(p-d)/r,v=Jy((A,S)=>V2(...S,n(y)),u);if(a(ba(ba(ba({},t),e),v)),y<1)l=s.setTimeout(f);else{var E=Jy((A,S)=>V2(...S,n(1)),u);a(ba(ba(ba({},t),e),E))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const lue=(t,e,n,r,i,a)=>{var s=nue(t,e);return n==null?()=>(i(ba(ba({},t),e)),()=>{}):n.isStepper===!0?sue(t,e,n,s,i,a):oue(t,e,n,r,s,i,a)};var z2=1e-4,bV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],xV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),F7=(t,e)=>n=>{var r=bV(t,e);return xV(r,n)},cue=(t,e)=>n=>{var r=bV(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return xV(i,n)},uue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},due=(t,e,n,r)=>{var i=F7(t,n),a=F7(e,r),s=cue(t,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,y=0;y<8;++y){var v=i(p)-f,E=s(p);if(Math.abs(v-f)<z2||E<z2)return a(p);p=l(p-v/E)}return a(p)};return u.isStepper=!1,u},U7=function(){return due(...uue(...arguments))},fue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,u)=>{var d=-(s-l)*n,f=u*r,p=u+(d-f)*i/1e3,y=u*i/1e3+s;return Math.abs(y-l)<z2&&Math.abs(p)<z2?[l,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},hue=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U7(t);case"spring":return fue();default:if(t.split("(")[0]==="cubic-bezier")return U7(t)}return typeof t=="function"?t:null};function pue(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,d),u);return}a(u),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class mue{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function gue(){return pue(new mue)}var vue=O.createContext(gue);function yue(t,e){var n=O.useContext(vue);return O.useMemo(()=>e??n(t),[t,e,n])}var bue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},B7={t:0},qE={t:1};function N_(t){var e=fs(t,bue),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=e,f=yue(e.animationId,e.animationManager),[p,y]=O.useState(n?B7:qE),v=O.useRef(null);return O.useEffect(()=>{n||y(qE)},[n]),O.useEffect(()=>{if(!n||!r)return Lg;var E=lue(B7,qE,hue(a),i,y,f.getTimeoutController()),A=()=>{v.current=E()};return f.start([u,s,A,i,l]),()=>{f.stop(),v.current&&v.current(),l()}},[n,r,i,a,s,u,l,f]),d(p.t)}function I_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(Wy(e)),r=O.useRef(t);return r.current!==t&&(n.current=Wy(e),r.current=t),n.current}var xue=["radius"],_ue=["radius"];function V7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Aue(t,"string");return typeof e=="symbol"?e:e+""}function Aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(null,arguments)}function q7(t,e){if(t==null)return{};var n,r,i=Sue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H7=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,y=4;p<y;p++)f[p]=i[p]>a?a:i[p];d="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+s*f[1])),d+="L ".concat(t+n,",").concat(e+r-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-s*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-s*v," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},$7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_V=t=>{var e=fs(t,$7),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:a,y:s,width:l,height:u,radius:d,className:f}=e,{animationEasing:p,animationDuration:y,animationBegin:v,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=O.useRef(l),I=O.useRef(u),q=O.useRef(a),k=O.useRef(s),B=O.useMemo(()=>({x:a,y:s,width:l,height:u,radius:d}),[a,s,l,u,d]),$=I_(B,"rectangle-");if(a!==+a||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var K=wr("recharts-rectangle",f);if(!A){var L=ds(e),{radius:j}=L,D=q7(L,xue);return O.createElement("path",q2({},D,{radius:typeof d=="number"?d:void 0,className:K,d:H7(a,s,l,u,d)}))}var G=S.current,P=I.current,F=q.current,V=k.current,ee="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),se=vV(["strokeDasharray"],y,typeof p=="string"?p:$7.animationEasing);return O.createElement(N_,{animationId:$,key:$,canBegin:r>0,duration:y,easing:p,isActive:A,begin:v},fe=>{var me=ia(G,l,fe),xe=ia(P,u,fe),Ue=ia(F,a,fe),ne=ia(V,s,fe);n.current&&(S.current=me,I.current=xe,q.current=Ue,k.current=ne);var M;E?fe>0?M={transition:se,strokeDasharray:ge}:M={strokeDasharray:ee}:M={strokeDasharray:ge};var X=ds(e),{radius:Z}=X,de=q7(X,_ue);return O.createElement("path",q2({},de,{radius:typeof d=="number"?d:void 0,className:K,d:H7(Ue,ne,me,xe,d),ref:n,style:z7(z7({},M),e.style)}))})};function G7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return(e=Nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H2=Math.PI/180,Cue=t=>t*180/Math.PI,ss=(t,e,n,r)=>({x:t+Math.cos(-H2*r)*n,y:e+Math.sin(-H2*r)*n}),Pue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Oue=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Rue=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=Oue({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:s,angle:Cue(u),angleInRadian:u}},Due=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},kue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},jue=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Rue({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:d}=Due(e),f=a,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?Y7(Y7({},e),{},{radius:i,angle:kue(f,e)}):null};function wV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=ss(e,n,r,i),l=ss(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(null,arguments)}var Lue=(t,e)=>{var n=Tl(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},db=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:u}=t,d=l*(s?1:-1)+r,f=Math.asin(l/d)/H2,p=u?i:i+a*f,y=ss(e,n,d,p),v=ss(e,n,r,p),E=u?i-a*f:i,A=ss(e,n,d*Math.cos(f*H2),E);return{center:y,circleTangency:v,lineTangency:A,theta:f}},EV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=Lue(a,s),u=a+l,d=ss(e,n,i,a),f=ss(e,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var y=ss(e,n,r,a),v=ss(e,n,r,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Mue=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=t,f=Tl(d-u),{circleTangency:p,lineTangency:y,theta:v}=db({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:A,theta:S}=db({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),I=l?Math.abs(u-d):Math.abs(u-d)-v-S;if(I<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):EV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var q="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:B,theta:$}=db({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:K,lineTangency:L,theta:j}=db({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=l?Math.abs(u-d):Math.abs(u-d)-$-j;if(D<0&&a===0)return"".concat(q,"L").concat(e,",").concat(n,"Z");q+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(B.x,",").concat(B.y,"Z")}else q+="L".concat(e,",").concat(n,"Z");return q},Fue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AV=t=>{var e=fs(t,Fue),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=e;if(a<i||d===f)return null;var y=wr("recharts-sector",p),v=a-i,E=Mf(s,v,0,!0),A;return E>0&&Math.abs(d-f)<360?A=Mue({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):A=EV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),O.createElement("path",aT({},ds(e),{className:y,d:A}))};function Uue(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(vB(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,u=ss(r,i,a,l),d=ss(r,i,s,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return wV(e)}}var HE={},$E={},GE={},W7;function Bue(){return W7||(W7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IB();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(GE)),GE}var K7;function Vue(){return K7||(K7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bue();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})($E)),$E}var X7;function zue(){return X7||(X7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CB(),n=Vue();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=s;return u}t.range=r})(HE)),HE}var YE,Q7;function que(){return Q7||(Q7=1,YE=zue().range),YE}var Hue=que();const SV=fu(Hue);function wf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $ue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QI(t){let e,n,r;t.length!==2?(e=wf,n=(l,u)=>wf(t(l),u),r=(l,u)=>t(l)-u):(e=t===wf||t===$ue?t:Gue,n=t,r=t);function i(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function a(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:a}}function Gue(){return 0}function TV(t){return t===null?NaN:+t}function*Yue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Wue=QI(wf),q0=Wue.right;QI(TV).center;class J7 extends Map{constructor(e,n=Que){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Z7(this,e))}has(e){return super.has(Z7(this,e))}set(e,n){return super.set(Kue(this,e),n)}delete(e){return super.delete(Xue(this,e))}}function Z7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Kue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Que(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jue(t=wf){if(t===wf)return NV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function NV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zue=Math.sqrt(50),ede=Math.sqrt(10),tde=Math.sqrt(2);function $2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Zue?10:a>=ede?5:a>=tde?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?$2(t,e,n*2):[l,u,d]}function sT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?$2(e,t,n):$2(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)u[d]=(a-d)/-s;else for(let d=0;d<l;++d)u[d]=(a-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(i+d)/-s;else for(let d=0;d<l;++d)u[d]=(i+d)*s;return u}function oT(t,e,n){return e=+e,t=+t,n=+n,$2(t,e,n)[2]}function lT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?oT(e,t,n):oT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function e6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function IV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?NV:Jue(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(e-d*p/u+y)),E=Math.min(r,Math.floor(e+(u-d)*p/u+y));IV(t,e,v,E,i)}const a=t[e];let s=n,l=r;for(Bv(t,n,e),i(t[r],a)>0&&Bv(t,n,r);s<l;){for(Bv(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Bv(t,n,l):(++l,Bv(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Bv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nde(t,e,n){if(t=Float64Array.from(Yue(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return t6(t);if(e>=1)return e6(t);var r,i=(r-1)*e,a=Math.floor(i),s=e6(IV(t,a).subarray(0,a+1)),l=t6(t.subarray(a+1));return s+(l-s)*(i-a)}}function rde(t,e,n=TV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function ide(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function jl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ed(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cT=Symbol("implicit");function JI(){var t=new J7,e=[],n=[],r=cT;function i(a){let s=t.get(a);if(s===void 0){if(r!==cT)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new J7;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return JI(e,n).unknown(r)},jl.apply(i,arguments),i}function ZI(){var t=JI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,u=0,d=0,f=.5;delete t.unknown;function p(){var y=e().length,v=i<r,E=v?i:r,A=v?r:i;a=(A-E)/Math.max(1,y-u+d*2),l&&(a=Math.floor(a)),E+=(A-E-a*(y-u))*f,s=a*(1-u),l&&(E=Math.round(E),s=Math.round(s));var S=ide(y).map(function(I){return E+a*I});return n(v?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,d=+y),p()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),p()):f},t.copy=function(){return ZI(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},jl.apply(p(),arguments)}function CV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return CV(e())},t}function ade(){return CV(ZI.apply(null,arguments).paddingInner(1))}function e3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function PV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function H0(){}var Zy=.7,G2=1/Zy,Fm="\\s*([+-]?\\d+)\\s*",e0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sde=/^#([0-9a-f]{3,8})$/,ode=new RegExp(`^rgb\\(${Fm},${Fm},${Fm}\\)$`),lde=new RegExp(`^rgb\\(${au},${au},${au}\\)$`),cde=new RegExp(`^rgba\\(${Fm},${Fm},${Fm},${e0}\\)$`),ude=new RegExp(`^rgba\\(${au},${au},${au},${e0}\\)$`),dde=new RegExp(`^hsl\\(${e0},${au},${au}\\)$`),fde=new RegExp(`^hsla\\(${e0},${au},${au},${e0}\\)$`),n6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e3(H0,t0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r6,formatHex:r6,formatHex8:hde,formatHsl:pde,formatRgb:i6,toString:i6});function r6(){return this.rgb().formatHex()}function hde(){return this.rgb().formatHex8()}function pde(){return OV(this).formatHsl()}function i6(){return this.rgb().formatRgb()}function t0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sde.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?a6(e):n===3?new To(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ode.exec(t))?new To(e[1],e[2],e[3],1):(e=lde.exec(t))?new To(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cde.exec(t))?fb(e[1],e[2],e[3],e[4]):(e=ude.exec(t))?fb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dde.exec(t))?l6(e[1],e[2]/100,e[3]/100,1):(e=fde.exec(t))?l6(e[1],e[2]/100,e[3]/100,e[4]):n6.hasOwnProperty(t)?a6(n6[t]):t==="transparent"?new To(NaN,NaN,NaN,0):null}function a6(t){return new To(t>>16&255,t>>8&255,t&255,1)}function fb(t,e,n,r){return r<=0&&(t=e=n=NaN),new To(t,e,n,r)}function mde(t){return t instanceof H0||(t=t0(t)),t?(t=t.rgb(),new To(t.r,t.g,t.b,t.opacity)):new To}function uT(t,e,n,r){return arguments.length===1?mde(t):new To(t,e,n,r??1)}function To(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}e3(To,uT,PV(H0,{brighter(t){return t=t==null?G2:Math.pow(G2,t),new To(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zy:Math.pow(Zy,t),new To(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new To(Uh(this.r),Uh(this.g),Uh(this.b),Y2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s6,formatHex:s6,formatHex8:gde,formatRgb:o6,toString:o6}));function s6(){return`#${Oh(this.r)}${Oh(this.g)}${Oh(this.b)}`}function gde(){return`#${Oh(this.r)}${Oh(this.g)}${Oh(this.b)}${Oh((isNaN(this.opacity)?1:this.opacity)*255)}`}function o6(){const t=Y2(this.opacity);return`${t===1?"rgb(":"rgba("}${Uh(this.r)}, ${Uh(this.g)}, ${Uh(this.b)}${t===1?")":`, ${t})`}`}function Y2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oh(t){return t=Uh(t),(t<16?"0":"")+t.toString(16)}function l6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ac(t,e,n,r)}function OV(t){if(t instanceof ac)return new ac(t.h,t.s,t.l,t.opacity);if(t instanceof H0||(t=t0(t)),!t)return new ac;if(t instanceof ac)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new ac(s,l,u,t.opacity)}function vde(t,e,n,r){return arguments.length===1?OV(t):new ac(t,e,n,r??1)}function ac(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e3(ac,vde,PV(H0,{brighter(t){return t=t==null?G2:Math.pow(G2,t),new ac(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zy:Math.pow(Zy,t),new ac(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new To(WE(t>=240?t-240:t+120,i,r),WE(t,i,r),WE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ac(c6(this.h),hb(this.s),hb(this.l),Y2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Y2(this.opacity);return`${t===1?"hsl(":"hsla("}${c6(this.h)}, ${hb(this.s)*100}%, ${hb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function c6(t){return t=(t||0)%360,t<0?t+360:t}function hb(t){return Math.max(0,Math.min(1,t||0))}function WE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const t3=t=>()=>t;function yde(t,e){return function(n){return t+n*e}}function bde(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xde(t){return(t=+t)==1?RV:function(e,n){return n-e?bde(e,n,t):t3(isNaN(e)?n:e)}}function RV(t,e){var n=e-t;return n?yde(t,n):t3(isNaN(t)?e:t)}const u6=(function t(e){var n=xde(e);function r(i,a){var s=n((i=uT(i)).r,(a=uT(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),d=RV(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function _de(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ede(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Mg(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Ade(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function W2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Sde(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mg(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var dT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KE=new RegExp(dT.source,"g");function Tde(t){return function(){return t}}function Nde(t){return function(e){return t(e)+""}}function Ide(t,e){var n=dT.lastIndex=KE.lastIndex=0,r,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=dT.exec(t))&&(i=KE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:W2(r,i)})),n=KE.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?Nde(u[0].x):Tde(e):(e=u.length,function(d){for(var f=0,p;f<e;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function Mg(t,e){var n=typeof e,r;return e==null||n==="boolean"?t3(e):(n==="number"?W2:n==="string"?(r=t0(e))?(e=r,u6):Ide:e instanceof t0?u6:e instanceof Date?Ade:wde(e)?_de:Array.isArray(e)?Ede:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Sde:W2)(t,e)}function n3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cde(t,e){e===void 0&&(e=t,t=Mg);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Pde(t){return function(){return t}}function K2(t){return+t}var d6=[0,1];function Ys(t){return t}function fT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pde(isNaN(e)?NaN:.5)}function Ode(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Rde(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=fT(i,r),a=n(s,a)):(r=fT(r,i),a=n(a,s)),function(l){return a(r(l))}}function Dde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=fT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var u=q0(t,l,1,r)-1;return a[u](i[u](l))}}function $0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C_(){var t=d6,e=d6,n=Mg,r,i,a,s=Ys,l,u,d;function f(){var y=Math.min(t.length,e.length);return s!==Ys&&(s=Ode(t[0],t[y-1])),l=y>2?Dde:Rde,u=d=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=l(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((d||(d=l(e,t.map(r),W2)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,K2),f()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),f()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=n3,f()},p.clamp=function(y){return arguments.length?(s=y?!0:Ys,f()):s!==Ys},p.interpolate=function(y){return arguments.length?(n=y,f()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,v){return r=y,i=v,f()}}function r3(){return C_()(Ys,Ys)}function kde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function X2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vg(t){return t=X2(Math.abs(t)),t?t[1]:NaN}function jde(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Lde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n0(t){if(!(e=Mde.exec(t)))throw new Error("invalid format: "+t);var e;return new i3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}n0.prototype=i3.prototype;function i3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}i3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var DV;function Ude(t,e){var n=X2(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(DV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+X2(t,Math.max(0,e+a-1))[0]}function f6(t,e){var n=X2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const h6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>f6(t*100,e),r:f6,s:Ude,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function p6(t){return t}var m6=Array.prototype.map,g6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bde(t){var e=t.grouping===void 0||t.thousands===void 0?p6:jde(m6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?p6:Lde(m6.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(p){p=n0(p);var y=p.fill,v=p.align,E=p.sign,A=p.symbol,S=p.zero,I=p.width,q=p.comma,k=p.precision,B=p.trim,$=p.type;$==="n"?(q=!0,$="g"):h6[$]||(k===void 0&&(k=12),B=!0,$="g"),(S||y==="0"&&v==="=")&&(S=!0,y="0",v="=");var K=A==="$"?n:A==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",L=A==="$"?r:/[%p]/.test($)?s:"",j=h6[$],D=/[defgprs%]/.test($);k=k===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(P){var F=K,V=L,ee,ge,se;if($==="c")V=j(P)+V,P="";else{P=+P;var fe=P<0||1/P<0;if(P=isNaN(P)?u:j(Math.abs(P),k),B&&(P=Fde(P)),fe&&+P==0&&E!=="+"&&(fe=!1),F=(fe?E==="("?E:l:E==="-"||E==="("?"":E)+F,V=($==="s"?g6[8+DV/3]:"")+V+(fe&&E==="("?")":""),D){for(ee=-1,ge=P.length;++ee<ge;)if(se=P.charCodeAt(ee),48>se||se>57){V=(se===46?i+P.slice(ee+1):P.slice(ee))+V,P=P.slice(0,ee);break}}}q&&!S&&(P=e(P,1/0));var me=F.length+P.length+V.length,xe=me<I?new Array(I-me+1).join(y):"";switch(q&&S&&(P=e(xe+P,xe.length?I-V.length:1/0),xe=""),v){case"<":P=F+P+V+xe;break;case"=":P=F+xe+P+V;break;case"^":P=xe.slice(0,me=xe.length>>1)+F+P+V+xe.slice(me);break;default:P=xe+F+P+V;break}return a(P)}return G.toString=function(){return p+""},G}function f(p,y){var v=d((p=n0(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(vg(y)/3)))*3,A=Math.pow(10,-E),S=g6[8+E/3];return function(I){return v(A*I)+S}}return{format:d,formatPrefix:f}}var pb,a3,kV;Vde({thousands:",",grouping:[3],currency:["$",""]});function Vde(t){return pb=Bde(t),a3=pb.format,kV=pb.formatPrefix,pb}function zde(t){return Math.max(0,-vg(Math.abs(t)))}function qde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vg(e)/3)))*3-vg(Math.abs(t)))}function Hde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vg(e)-vg(t))+1}function jV(t,e,n,r){var i=lT(t,e,n),a;switch(r=n0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=qde(i,s))&&(r.precision=a),kV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hde(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zde(i))&&(r.precision=a-(r.type==="%")*2);break}}return a3(r)}function Yf(t){var e=t.domain;return t.ticks=function(n){var r=e();return sT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],u,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=oT(s,l,n),d===u)return r[i]=s,r[a]=l,e(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function LV(){var t=r3();return t.copy=function(){return $0(t,LV())},jl.apply(t,arguments),Yf(t)}function MV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,K2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return MV(t).unknown(e)},t=arguments.length?Array.from(t,K2):[0,1],Yf(n)}function FV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function v6(t){return Math.log(t)}function y6(t){return Math.exp(t)}function $de(t){return-Math.log(-t)}function Gde(t){return-Math.exp(-t)}function Yde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wde(t){return t===10?Yde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function b6(t){return(e,n)=>-t(-e,n)}function s3(t){const e=t(v6,y6),n=e.domain;let r=10,i,a;function s(){return i=Kde(r),a=Wde(r),n()[0]<0?(i=b6(i),a=b6(a),t($de,Gde)):t(v6,y6),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let y=i(d),v=i(f),E,A;const S=l==null?10:+l;let I=[];if(!(r%1)&&v-y<S){if(y=Math.floor(y),v=Math.ceil(v),d>0){for(;y<=v;++y)for(E=1;E<r;++E)if(A=y<0?E/a(-y):E*a(y),!(A<d)){if(A>f)break;I.push(A)}}else for(;y<=v;++y)for(E=r-1;E>=1;--E)if(A=y>0?E/a(-y):E*a(y),!(A<d)){if(A>f)break;I.push(A)}I.length*2<S&&(I=sT(d,f,S))}else I=sT(y,v,Math.min(v-y,S)).map(a);return p?I.reverse():I},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=n0(u)).precision==null&&(u.trim=!0),u=a3(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},e.nice=()=>n(FV(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function UV(){const t=s3(C_()).domain([1,10]);return t.copy=()=>$0(t,UV()).base(t.base()),jl.apply(t,arguments),t}function x6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function o3(t){var e=1,n=t(x6(e),_6(e));return n.constant=function(r){return arguments.length?t(x6(e=+r),_6(e)):e},Yf(n)}function BV(){var t=o3(C_());return t.copy=function(){return $0(t,BV()).constant(t.constant())},jl.apply(t,arguments)}function w6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qde(t){return t<0?-t*t:t*t}function l3(t){var e=t(Ys,Ys),n=1;function r(){return n===1?t(Ys,Ys):n===.5?t(Xde,Qde):t(w6(n),w6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Yf(e)}function c3(){var t=l3(C_());return t.copy=function(){return $0(t,c3()).exponent(t.exponent())},jl.apply(t,arguments),t}function Jde(){return c3.apply(null,arguments).exponent(.5)}function E6(t){return Math.sign(t)*t*t}function Zde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function VV(){var t=r3(),e=[0,1],n=!1,r;function i(a){var s=Zde(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(E6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,K2)).map(E6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},jl.apply(i,arguments),Yf(i)}function zV(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=rde(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[q0(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(wf),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return zV().domain(t).range(e).unknown(r)},jl.apply(a,arguments)}function qV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[q0(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return qV().domain([t,e]).range(i).unknown(a)},jl.apply(Yf(s),arguments)}function HV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[q0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return HV().domain(t).range(e).unknown(n)},jl.apply(i,arguments)}const XE=new Date,QE=new Date;function Sa(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let d;do u.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<s);return u},i.filter=a=>Sa(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(XE.setTime(+a),QE.setTime(+s),t(XE),t(QE),Math.floor(n(XE,QE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Q2=Sa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Q2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sa(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Q2);Q2.range;const Qu=1e3,Nl=Qu*60,Ju=Nl*60,ud=Ju*24,u3=ud*7,A6=ud*30,JE=ud*365,Rh=Sa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qu)},(t,e)=>(e-t)/Qu,t=>t.getUTCSeconds());Rh.range;const d3=Sa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qu)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getMinutes());d3.range;const f3=Sa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCMinutes());f3.range;const h3=Sa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qu-t.getMinutes()*Nl)},(t,e)=>{t.setTime(+t+e*Ju)},(t,e)=>(e-t)/Ju,t=>t.getHours());h3.range;const p3=Sa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ju)},(t,e)=>(e-t)/Ju,t=>t.getUTCHours());p3.range;const G0=Sa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nl)/ud,t=>t.getDate()-1);G0.range;const P_=Sa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ud,t=>t.getUTCDate()-1);P_.range;const $V=Sa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ud,t=>Math.floor(t/ud));$V.range;function bp(t){return Sa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nl)/u3)}const O_=bp(0),J2=bp(1),efe=bp(2),tfe=bp(3),yg=bp(4),nfe=bp(5),rfe=bp(6);O_.range;J2.range;efe.range;tfe.range;yg.range;nfe.range;rfe.range;function xp(t){return Sa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/u3)}const R_=xp(0),Z2=xp(1),ife=xp(2),afe=xp(3),bg=xp(4),sfe=xp(5),ofe=xp(6);R_.range;Z2.range;ife.range;afe.range;bg.range;sfe.range;ofe.range;const m3=Sa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());m3.range;const g3=Sa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());g3.range;const dd=Sa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());dd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});dd.range;const fd=Sa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fd.range;function GV(t,e,n,r,i,a){const s=[[Rh,1,Qu],[Rh,5,5*Qu],[Rh,15,15*Qu],[Rh,30,30*Qu],[a,1,Nl],[a,5,5*Nl],[a,15,15*Nl],[a,30,30*Nl],[i,1,Ju],[i,3,3*Ju],[i,6,6*Ju],[i,12,12*Ju],[r,1,ud],[r,2,2*ud],[n,1,u3],[e,1,A6],[e,3,3*A6],[t,1,JE]];function l(d,f,p){const y=f<d;y&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:u(d,f,p),E=v?v.range(d,+f+1):[];return y?E.reverse():E}function u(d,f,p){const y=Math.abs(f-d)/p,v=QI(([,,S])=>S).right(s,y);if(v===s.length)return t.every(lT(d/JE,f/JE,p));if(v===0)return Q2.every(Math.max(lT(d,f,p),1));const[E,A]=s[y/s[v-1][2]<s[v][2]/y?v-1:v];return E.every(A)}return[l,u]}const[lfe,cfe]=GV(fd,g3,R_,$V,p3,f3),[ufe,dfe]=GV(dd,m3,O_,G0,h3,d3);function ZE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ffe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,d=zv(i),f=qv(i),p=zv(a),y=qv(a),v=zv(s),E=qv(s),A=zv(l),S=qv(l),I=zv(u),q=qv(u),k={a:fe,A:me,b:xe,B:Ue,c:null,d:P6,e:P6,f:jfe,g:$fe,G:Yfe,H:Rfe,I:Dfe,j:kfe,L:YV,m:Lfe,M:Mfe,p:ne,q:M,Q:D6,s:k6,S:Ffe,u:Ufe,U:Bfe,V:Vfe,w:zfe,W:qfe,x:null,X:null,y:Hfe,Y:Gfe,Z:Wfe,"%":R6},B={a:X,A:Z,b:de,B:pe,c:null,d:O6,e:O6,f:Jfe,g:lhe,G:uhe,H:Kfe,I:Xfe,j:Qfe,L:KV,m:Zfe,M:ehe,p:ye,q:Pe,Q:D6,s:k6,S:the,u:nhe,U:rhe,V:ihe,w:ahe,W:she,x:null,X:null,y:ohe,Y:che,Z:dhe,"%":R6},$={a:G,A:P,b:F,B:V,c:ee,d:I6,e:I6,f:Ife,g:N6,G:T6,H:C6,I:C6,j:Afe,L:Nfe,m:Efe,M:Sfe,p:D,q:wfe,Q:Pfe,s:Ofe,S:Tfe,u:vfe,U:yfe,V:bfe,w:gfe,W:xfe,x:ge,X:se,y:N6,Y:T6,Z:_fe,"%":Cfe};k.x=K(n,k),k.X=K(r,k),k.c=K(e,k),B.x=K(n,B),B.X=K(r,B),B.c=K(e,B);function K(he,Ce){return function(Ve){var Se=[],rt=-1,it=0,oe=he.length,Xe,Nt,yt;for(Ve instanceof Date||(Ve=new Date(+Ve));++rt<oe;)he.charCodeAt(rt)===37&&(Se.push(he.slice(it,rt)),(Nt=S6[Xe=he.charAt(++rt)])!=null?Xe=he.charAt(++rt):Nt=Xe==="e"?" ":"0",(yt=Ce[Xe])&&(Xe=yt(Ve,Nt)),Se.push(Xe),it=rt+1);return Se.push(he.slice(it,rt)),Se.join("")}}function L(he,Ce){return function(Ve){var Se=Vv(1900,void 0,1),rt=j(Se,he,Ve+="",0),it,oe;if(rt!=Ve.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(Ce&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(it=eA(Vv(Se.y,0,1)),oe=it.getUTCDay(),it=oe>4||oe===0?Z2.ceil(it):Z2(it),it=P_.offset(it,(Se.V-1)*7),Se.y=it.getUTCFullYear(),Se.m=it.getUTCMonth(),Se.d=it.getUTCDate()+(Se.w+6)%7):(it=ZE(Vv(Se.y,0,1)),oe=it.getDay(),it=oe>4||oe===0?J2.ceil(it):J2(it),it=G0.offset(it,(Se.V-1)*7),Se.y=it.getFullYear(),Se.m=it.getMonth(),Se.d=it.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),oe="Z"in Se?eA(Vv(Se.y,0,1)).getUTCDay():ZE(Vv(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(oe+5)%7:Se.w+Se.U*7-(oe+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,eA(Se)):ZE(Se)}}function j(he,Ce,Ve,Se){for(var rt=0,it=Ce.length,oe=Ve.length,Xe,Nt;rt<it;){if(Se>=oe)return-1;if(Xe=Ce.charCodeAt(rt++),Xe===37){if(Xe=Ce.charAt(rt++),Nt=$[Xe in S6?Ce.charAt(rt++):Xe],!Nt||(Se=Nt(he,Ve,Se))<0)return-1}else if(Xe!=Ve.charCodeAt(Se++))return-1}return Se}function D(he,Ce,Ve){var Se=d.exec(Ce.slice(Ve));return Se?(he.p=f.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function G(he,Ce,Ve){var Se=v.exec(Ce.slice(Ve));return Se?(he.w=E.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function P(he,Ce,Ve){var Se=p.exec(Ce.slice(Ve));return Se?(he.w=y.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function F(he,Ce,Ve){var Se=I.exec(Ce.slice(Ve));return Se?(he.m=q.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function V(he,Ce,Ve){var Se=A.exec(Ce.slice(Ve));return Se?(he.m=S.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function ee(he,Ce,Ve){return j(he,e,Ce,Ve)}function ge(he,Ce,Ve){return j(he,n,Ce,Ve)}function se(he,Ce,Ve){return j(he,r,Ce,Ve)}function fe(he){return s[he.getDay()]}function me(he){return a[he.getDay()]}function xe(he){return u[he.getMonth()]}function Ue(he){return l[he.getMonth()]}function ne(he){return i[+(he.getHours()>=12)]}function M(he){return 1+~~(he.getMonth()/3)}function X(he){return s[he.getUTCDay()]}function Z(he){return a[he.getUTCDay()]}function de(he){return u[he.getUTCMonth()]}function pe(he){return l[he.getUTCMonth()]}function ye(he){return i[+(he.getUTCHours()>=12)]}function Pe(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ce=K(he+="",k);return Ce.toString=function(){return he},Ce},parse:function(he){var Ce=L(he+="",!1);return Ce.toString=function(){return he},Ce},utcFormat:function(he){var Ce=K(he+="",B);return Ce.toString=function(){return he},Ce},utcParse:function(he){var Ce=L(he+="",!0);return Ce.toString=function(){return he},Ce}}}var S6={"-":"",_:" ",0:"0"},Ha=/^\s*\d+/,hfe=/^%/,pfe=/[\\^$*+?|[\]().{}]/g;function rr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function mfe(t){return t.replace(pfe,"\\$&")}function zv(t){return new RegExp("^(?:"+t.map(mfe).join("|")+")","i")}function qv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gfe(t,e,n){var r=Ha.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vfe(t,e,n){var r=Ha.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yfe(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bfe(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xfe(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function T6(t,e,n){var r=Ha.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function N6(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _fe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wfe(t,e,n){var r=Ha.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Efe(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function I6(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Afe(t,e,n){var r=Ha.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function C6(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Sfe(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Tfe(t,e,n){var r=Ha.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nfe(t,e,n){var r=Ha.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ife(t,e,n){var r=Ha.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cfe(t,e,n){var r=hfe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pfe(t,e,n){var r=Ha.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ofe(t,e,n){var r=Ha.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function P6(t,e){return rr(t.getDate(),e,2)}function Rfe(t,e){return rr(t.getHours(),e,2)}function Dfe(t,e){return rr(t.getHours()%12||12,e,2)}function kfe(t,e){return rr(1+G0.count(dd(t),t),e,3)}function YV(t,e){return rr(t.getMilliseconds(),e,3)}function jfe(t,e){return YV(t,e)+"000"}function Lfe(t,e){return rr(t.getMonth()+1,e,2)}function Mfe(t,e){return rr(t.getMinutes(),e,2)}function Ffe(t,e){return rr(t.getSeconds(),e,2)}function Ufe(t){var e=t.getDay();return e===0?7:e}function Bfe(t,e){return rr(O_.count(dd(t)-1,t),e,2)}function WV(t){var e=t.getDay();return e>=4||e===0?yg(t):yg.ceil(t)}function Vfe(t,e){return t=WV(t),rr(yg.count(dd(t),t)+(dd(t).getDay()===4),e,2)}function zfe(t){return t.getDay()}function qfe(t,e){return rr(J2.count(dd(t)-1,t),e,2)}function Hfe(t,e){return rr(t.getFullYear()%100,e,2)}function $fe(t,e){return t=WV(t),rr(t.getFullYear()%100,e,2)}function Gfe(t,e){return rr(t.getFullYear()%1e4,e,4)}function Yfe(t,e){var n=t.getDay();return t=n>=4||n===0?yg(t):yg.ceil(t),rr(t.getFullYear()%1e4,e,4)}function Wfe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rr(e/60|0,"0",2)+rr(e%60,"0",2)}function O6(t,e){return rr(t.getUTCDate(),e,2)}function Kfe(t,e){return rr(t.getUTCHours(),e,2)}function Xfe(t,e){return rr(t.getUTCHours()%12||12,e,2)}function Qfe(t,e){return rr(1+P_.count(fd(t),t),e,3)}function KV(t,e){return rr(t.getUTCMilliseconds(),e,3)}function Jfe(t,e){return KV(t,e)+"000"}function Zfe(t,e){return rr(t.getUTCMonth()+1,e,2)}function ehe(t,e){return rr(t.getUTCMinutes(),e,2)}function the(t,e){return rr(t.getUTCSeconds(),e,2)}function nhe(t){var e=t.getUTCDay();return e===0?7:e}function rhe(t,e){return rr(R_.count(fd(t)-1,t),e,2)}function XV(t){var e=t.getUTCDay();return e>=4||e===0?bg(t):bg.ceil(t)}function ihe(t,e){return t=XV(t),rr(bg.count(fd(t),t)+(fd(t).getUTCDay()===4),e,2)}function ahe(t){return t.getUTCDay()}function she(t,e){return rr(Z2.count(fd(t)-1,t),e,2)}function ohe(t,e){return rr(t.getUTCFullYear()%100,e,2)}function lhe(t,e){return t=XV(t),rr(t.getUTCFullYear()%100,e,2)}function che(t,e){return rr(t.getUTCFullYear()%1e4,e,4)}function uhe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bg(t):bg.ceil(t),rr(t.getUTCFullYear()%1e4,e,4)}function dhe(){return"+0000"}function R6(){return"%"}function D6(t){return+t}function k6(t){return Math.floor(+t/1e3)}var um,QV,JV;fhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fhe(t){return um=ffe(t),QV=um.format,um.parse,JV=um.utcFormat,um.utcParse,um}function hhe(t){return new Date(t)}function phe(t){return t instanceof Date?+t:+new Date(+t)}function v3(t,e,n,r,i,a,s,l,u,d){var f=r3(),p=f.invert,y=f.domain,v=d(".%L"),E=d(":%S"),A=d("%I:%M"),S=d("%I %p"),I=d("%a %d"),q=d("%b %d"),k=d("%B"),B=d("%Y");function $(K){return(u(K)<K?v:l(K)<K?E:s(K)<K?A:a(K)<K?S:r(K)<K?i(K)<K?I:q:n(K)<K?k:B)(K)}return f.invert=function(K){return new Date(p(K))},f.domain=function(K){return arguments.length?y(Array.from(K,phe)):y().map(hhe)},f.ticks=function(K){var L=y();return t(L[0],L[L.length-1],K??10)},f.tickFormat=function(K,L){return L==null?$:d(L)},f.nice=function(K){var L=y();return(!K||typeof K.range!="function")&&(K=e(L[0],L[L.length-1],K??10)),K?y(FV(L,K)):f},f.copy=function(){return $0(f,v3(t,e,n,r,i,a,s,l,u,d))},f}function mhe(){return jl.apply(v3(ufe,dfe,dd,m3,O_,G0,h3,d3,Rh,QV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ghe(){return jl.apply(v3(lfe,cfe,fd,g3,R_,P_,p3,f3,Rh,JV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D_(){var t=0,e=1,n,r,i,a,s=Ys,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(y){var v,E;return arguments.length?([v,E]=y,s=p(v,E),d):[s(0),s(1)]}}return d.range=f(Mg),d.rangeRound=f(n3),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function Wf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ZV(){var t=Yf(D_()(Ys));return t.copy=function(){return Wf(t,ZV())},Ed.apply(t,arguments)}function ez(){var t=s3(D_()).domain([1,10]);return t.copy=function(){return Wf(t,ez()).base(t.base())},Ed.apply(t,arguments)}function tz(){var t=o3(D_());return t.copy=function(){return Wf(t,tz()).constant(t.constant())},Ed.apply(t,arguments)}function y3(){var t=l3(D_());return t.copy=function(){return Wf(t,y3()).exponent(t.exponent())},Ed.apply(t,arguments)}function vhe(){return y3.apply(null,arguments).exponent(.5)}function nz(){var t=[],e=Ys;function n(r){if(r!=null&&!isNaN(r=+r))return e((q0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>nde(t,a/r))},n.copy=function(){return nz(e).domain(t)},Ed.apply(n,arguments)}function k_(){var t=0,e=.5,n=1,r=1,i,a,s,l,u,d=Ys,f,p=!1,y;function v(A){return isNaN(A=+A)?y:(A=.5+((A=+f(A))-a)*(r*A<r*a?l:u),d(p?Math.max(0,Math.min(1,A)):A))}v.domain=function(A){return arguments.length?([t,e,n]=A,i=f(t=+t),a=f(e=+e),s=f(n=+n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(A){return arguments.length?(p=!!A,v):p},v.interpolator=function(A){return arguments.length?(d=A,v):d};function E(A){return function(S){var I,q,k;return arguments.length?([I,q,k]=S,d=Cde(A,[I,q,k]),v):[d(0),d(.5),d(1)]}}return v.range=E(Mg),v.rangeRound=E(n3),v.unknown=function(A){return arguments.length?(y=A,v):y},function(A){return f=A,i=A(t),a=A(e),s=A(n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function rz(){var t=Yf(k_()(Ys));return t.copy=function(){return Wf(t,rz())},Ed.apply(t,arguments)}function iz(){var t=s3(k_()).domain([.1,1,10]);return t.copy=function(){return Wf(t,iz()).base(t.base())},Ed.apply(t,arguments)}function az(){var t=o3(k_());return t.copy=function(){return Wf(t,az()).constant(t.constant())},Ed.apply(t,arguments)}function b3(){var t=l3(k_());return t.copy=function(){return Wf(t,b3()).exponent(t.exponent())},Ed.apply(t,arguments)}function yhe(){return b3.apply(null,arguments).exponent(.5)}const ty=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZI,scaleDiverging:rz,scaleDivergingLog:iz,scaleDivergingPow:b3,scaleDivergingSqrt:yhe,scaleDivergingSymlog:az,scaleIdentity:MV,scaleImplicit:cT,scaleLinear:LV,scaleLog:UV,scaleOrdinal:JI,scalePoint:ade,scalePow:c3,scaleQuantile:zV,scaleQuantize:qV,scaleRadial:VV,scaleSequential:ZV,scaleSequentialLog:ez,scaleSequentialPow:y3,scaleSequentialQuantile:nz,scaleSequentialSqrt:vhe,scaleSequentialSymlog:tz,scaleSqrt:Jde,scaleSymlog:BV,scaleThreshold:HV,scaleTime:mhe,scaleUtc:ghe,tickFormat:jV},Symbol.toStringTag,{value:"Module"}));var Kf=t=>t.chartData,bhe=He([Kf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),j_=(t,e,n,r)=>r?bhe(t):Kf(t);function sp(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Br(e)&&Br(n))return!0}return!1}function j6(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function sz(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Br(n))i=n;else if(typeof n=="function")return;if(Br(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(sp(s))return s}}function xhe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(sp(r))return j6(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if($t(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&v7.test(i)){var u=v7.exec(i);if(u==null||e==null)s=void 0;else{var d=+u[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if($t(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&y7.test(a)){var f=y7.exec(a);if(f==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e==null?void 0:e[1];var y=[s,l];if(sp(y))return e==null?y:j6(y,e,n)}}}var Fg=1e9,_he={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_3,ui=!0,Dl="[DecimalError] ",Bh=Dl+"Invalid argument: ",x3=Dl+"Exponent out of range: ",Ug=Math.floor,bh=Math.pow,whe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yo,Ua=1e7,Yr=7,oz=9007199254740991,ex=Ug(oz/Yr),Pt={};Pt.absoluteValue=Pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pt.comparedTo=Pt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pt.decimalPlaces=Pt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pt.dividedBy=Pt.div=function(t){return nd(this,new this.constructor(t))};Pt.dividedToIntegerBy=Pt.idiv=function(t){var e=this,n=e.constructor;return Lr(nd(e,new n(t),0,1),n.precision)};Pt.equals=Pt.eq=function(t){return!this.cmp(t)};Pt.exponent=function(){return sa(this)};Pt.greaterThan=Pt.gt=function(t){return this.cmp(t)>0};Pt.greaterThanOrEqualTo=Pt.gte=function(t){return this.cmp(t)>=0};Pt.isInteger=Pt.isint=function(){return this.e>this.d.length-2};Pt.isNegative=Pt.isneg=function(){return this.s<0};Pt.isPositive=Pt.ispos=function(){return this.s>0};Pt.isZero=function(){return this.s===0};Pt.lessThan=Pt.lt=function(t){return this.cmp(t)<0};Pt.lessThanOrEqualTo=Pt.lte=function(t){return this.cmp(t)<1};Pt.logarithm=Pt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yo))throw Error(Dl+"NaN");if(n.s<1)throw Error(Dl+(n.s?"NaN":"-Infinity"));return n.eq(Yo)?new r(0):(ui=!1,e=nd(r0(n,a),r0(t,a),a),ui=!0,Lr(e,i))};Pt.minus=Pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uz(e,t):lz(e,(t.s=-t.s,t))};Pt.modulo=Pt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Dl+"NaN");return n.s?(ui=!1,e=nd(n,t,0,1).times(t),ui=!0,n.minus(e)):Lr(new r(n),i)};Pt.naturalExponential=Pt.exp=function(){return cz(this)};Pt.naturalLogarithm=Pt.ln=function(){return r0(this)};Pt.negated=Pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pt.plus=Pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lz(e,t):uz(e,(t.s=-t.s,t))};Pt.precision=Pt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bh+t);if(e=sa(i)+1,r=i.d.length-1,n=r*Yr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pt.squareRoot=Pt.sqrt=function(){var t,e,n,r,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Dl+"NaN")}for(t=sa(l),ui=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Zc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ug((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(nd(l,a,s+2)).times(.5),Zc(a.d).slice(0,s)===(e=Zc(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Lr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ui=!0,Lr(r,n)};Pt.times=Pt.mul=function(t){var e,n,r,i,a,s,l,u,d,f=this,p=f.constructor,y=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,u=y.length,d=v.length,u<d&&(a=y,y=v,v=a,s=u,u=d,d=s),a=[],s=u+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+v[r]*y[i-r-1]+e,a[i--]=l%Ua|0,e=l/Ua|0;a[i]=(a[i]+e)%Ua|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ui?Lr(t,p.precision):t};Pt.toDecimalPlaces=Pt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(du(t,0,Fg),e===void 0?e=r.rounding:du(e,0,8),Lr(n,t+sa(n)+1,e))};Pt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=op(r,!0):(du(t,0,Fg),e===void 0?e=i.rounding:du(e,0,8),r=Lr(new i(r),t+1,e),n=op(r,!0,t+1)),n};Pt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?op(i):(du(t,0,Fg),e===void 0?e=a.rounding:du(e,0,8),r=Lr(new a(i),t+sa(i)+1,e),n=op(r.abs(),!1,t+sa(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pt.toInteger=Pt.toint=function(){var t=this,e=t.constructor;return Lr(new e(t),sa(t)+1,e.rounding)};Pt.toNumber=function(){return+this};Pt.toPower=Pt.pow=function(t){var e,n,r,i,a,s,l=this,u=l.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(Yo);if(l=new u(l),!l.s){if(t.s<1)throw Error(Dl+"Infinity");return l}if(l.eq(Yo))return l;if(r=u.precision,t.eq(Yo))return Lr(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=f<0?-f:f)<=oz){for(i=new u(Yo),e=Math.ceil(r/Yr+4),ui=!1;n%2&&(i=i.times(l),M6(i.d,e)),n=Ug(n/2),n!==0;)l=l.times(l),M6(l.d,e);return ui=!0,t.s<0?new u(Yo).div(i):Lr(i,r)}}else if(a<0)throw Error(Dl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ui=!1,i=t.times(r0(l,r+d)),ui=!0,i=cz(i),i.s=a,i};Pt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=sa(i),r=op(i,n<=a.toExpNeg||n>=a.toExpPos)):(du(t,1,Fg),e===void 0?e=a.rounding:du(e,0,8),i=Lr(new a(i),t,e),n=sa(i),r=op(i,t<=n||n<=a.toExpNeg,t)),r};Pt.toSignificantDigits=Pt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(du(t,1,Fg),e===void 0?e=r.rounding:du(e,0,8)),Lr(new r(n),t,e)};Pt.toString=Pt.valueOf=Pt.val=Pt.toJSON=Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sa(t),n=t.constructor;return op(t,e<=n.toExpNeg||e>=n.toExpPos)};function lz(t,e){var n,r,i,a,s,l,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ui?Lr(e,p):e;if(u=t.d,d=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,l=d.length):(r=d,i=s,l=u.length),s=Math.ceil(p/Yr),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=d.length,l-a<0&&(a=l,r=d,d=u,u=r),n=0;a;)n=(u[--a]=u[a]+d[a]+n)/Ua|0,u[a]%=Ua;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,ui?Lr(e,p):e}function du(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bh+t)}function Zc(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Yr-r.length,n&&(a+=lf(n)),a+=r;s=t[e],r=s+"",n=Yr-r.length,n&&(a+=lf(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var nd=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%Ua|0,s=a/Ua|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ua+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,u,d,f,p,y,v,E,A,S,I,q,k,B,$,K,L,j,D=r.constructor,G=r.s==i.s?1:-1,P=r.d,F=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Dl+"Division by zero");for(u=r.e-i.e,L=F.length,$=P.length,v=new D(G),E=v.d=[],d=0;F[d]==(P[d]||0);)++d;if(F[d]>(P[d]||0)&&--u,a==null?q=a=D.precision:s?q=a+(sa(r)-sa(i))+1:q=a,q<0)return new D(0);if(q=q/Yr+2|0,d=0,L==1)for(f=0,F=F[0],q++;(d<$||f)&&q--;d++)k=f*Ua+(P[d]||0),E[d]=k/F|0,f=k%F|0;else{for(f=Ua/(F[0]+1)|0,f>1&&(F=t(F,f),P=t(P,f),L=F.length,$=P.length),B=L,A=P.slice(0,L),S=A.length;S<L;)A[S++]=0;j=F.slice(),j.unshift(0),K=F[0],F[1]>=Ua/2&&++K;do f=0,l=e(F,A,L,S),l<0?(I=A[0],L!=S&&(I=I*Ua+(A[1]||0)),f=I/K|0,f>1?(f>=Ua&&(f=Ua-1),p=t(F,f),y=p.length,S=A.length,l=e(p,A,y,S),l==1&&(f--,n(p,L<y?j:F,y))):(f==0&&(l=f=1),p=F.slice()),y=p.length,y<S&&p.unshift(0),n(A,p,S),l==-1&&(S=A.length,l=e(F,A,L,S),l<1&&(f++,n(A,L<S?j:F,S))),S=A.length):l===0&&(f++,A=[0]),E[d++]=f,l&&A[0]?A[S++]=P[B]||0:(A=[P[B]],S=1);while((B++<$||A[0]!==void 0)&&q--)}return E[0]||E.shift(),v.e=u,Lr(v,s?a+sa(v)+1:a)}})();function cz(t,e){var n,r,i,a,s,l,u=0,d=0,f=t.constructor,p=f.precision;if(sa(t)>16)throw Error(x3+sa(t));if(!t.s)return new f(Yo);for(ui=!1,l=p,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(bh(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(Yo),f.precision=l;;){if(i=Lr(i.times(t),l),n=n.times(++u),s=a.plus(nd(i,n,l)),Zc(s.d).slice(0,l)===Zc(a.d).slice(0,l)){for(;d--;)a=Lr(a.times(a),l);return f.precision=p,e==null?(ui=!0,Lr(a,p)):a}a=s}}function sa(t){for(var e=t.e*Yr,n=t.d[0];n>=10;n/=10)e++;return e}function tA(t,e,n){if(e>t.LN10.sd())throw ui=!0,n&&(t.precision=n),Error(Dl+"LN10 precision limit exceeded");return Lr(new t(t.LN10),e)}function lf(t){for(var e="";t--;)e+="0";return e}function r0(t,e){var n,r,i,a,s,l,u,d,f,p=1,y=10,v=t,E=v.d,A=v.constructor,S=A.precision;if(v.s<1)throw Error(Dl+(v.s?"NaN":"-Infinity"));if(v.eq(Yo))return new A(0);if(e==null?(ui=!1,d=S):d=e,v.eq(10))return e==null&&(ui=!0),tA(A,d);if(d+=y,A.precision=d,n=Zc(E),r=n.charAt(0),a=sa(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Zc(v.d),r=n.charAt(0),p++;a=sa(v),r>1?(v=new A("0."+n),a++):v=new A(r+"."+n.slice(1))}else return u=tA(A,d+2,S).times(a+""),v=r0(new A(r+"."+n.slice(1)),d-y).plus(u),A.precision=S,e==null?(ui=!0,Lr(v,S)):v;for(l=s=v=nd(v.minus(Yo),v.plus(Yo),d),f=Lr(v.times(v),d),i=3;;){if(s=Lr(s.times(f),d),u=l.plus(nd(s,new A(i),d)),Zc(u.d).slice(0,d)===Zc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(tA(A,d+2,S).times(a+""))),l=nd(l,new A(p),d),A.precision=S,e==null?(ui=!0,Lr(l,S)):l;l=u,i+=2}}function L6(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ug(n/Yr),t.d=[],r=(n+1)%Yr,n<0&&(r+=Yr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yr;r<i;)t.d.push(+e.slice(r,r+=Yr));e=e.slice(r),r=Yr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ui&&(t.e>ex||t.e<-ex))throw Error(x3+n)}else t.s=0,t.e=0,t.d=[0];return t}function Lr(t,e,n){var r,i,a,s,l,u,d,f,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Yr,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/Yr),a=p.length,f>=a)return t;for(d=a=p[f],s=1;a>=10;a/=10)s++;r%=Yr,i=r-Yr+s}if(n!==void 0&&(a=bh(10,s-i-1),l=d/a%10|0,u=e<0||p[f+1]!==void 0||d%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/bh(10,s-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=sa(t),p.length=1,e=e-a-1,p[0]=bh(10,(Yr-e%Yr)%Yr),t.e=Ug(-e/Yr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,a=1,f--):(p.length=f+1,a=bh(10,Yr-r),p[f]=i>0?(d/bh(10,s-i)%bh(10,i)|0)*a:0),u)for(;;)if(f==0){(p[0]+=a)==Ua&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=Ua)break;p[f--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(ui&&(t.e>ex||t.e<-ex))throw Error(x3+sa(t));return t}function uz(t,e){var n,r,i,a,s,l,u,d,f,p,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ui?Lr(e,v):e;if(u=t.d,p=e.d,r=e.e,d=t.e,u=u.slice(),s=d-r,s){for(f=s<0,f?(n=u,s=-s,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(v/Yr),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}s=0}for(f&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=Ua-1;--u[a],u[i]+=Ua}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,ui?Lr(e,v):e):new y(0)}function op(t,e,n){var r,i=sa(t),a=Zc(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+lf(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+lf(-i-1)+a,n&&(r=n-s)>0&&(a+=lf(r))):i>=s?(a+=lf(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+lf(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=lf(r))),t.s<0?"-"+a:a}function M6(t,e){if(t.length>e)return t.length=e,!0}function dz(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return L6(s,a.toString())}else if(typeof a!="string")throw Error(Bh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,whe.test(a))L6(s,a);else throw Error(Bh+a)}if(i.prototype=Pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dz,i.config=i.set=Ehe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ehe(t){if(!t||typeof t!="object")throw Error(Dl+"Object expected");var e,n,r,i=["precision",1,Fg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ug(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bh+n+": "+r);return this}var _3=dz(_he);Yo=new _3(1);const yr=_3;var Ahe=t=>t,fz={},hz=t=>t===fz,F6=t=>function e(){return arguments.length===0||arguments.length===1&&hz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},pz=(t,e)=>t===1?e:F6(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==fz).length;return a>=t?e(...r):pz(t-a,F6(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=r.map(f=>hz(f)?l.shift():f);return e(...d,...l)}))}),L_=t=>pz(t.length,t),hT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},She=L_((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),The=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ahe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,u)=>u(l),a(...arguments))}},pT=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),mz=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,l)=>{var u;return s===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function gz(t){var e;return t===0?e=1:e=Math.floor(new yr(t).abs().log(10).toNumber())+1,e}function vz(t,e,n){for(var r=new yr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}L_((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});L_((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});L_((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var yz=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},bz=(t,e,n)=>{if(t.lte(0))return new yr(0);var r=gz(t.toNumber()),i=new yr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new yr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return e?new yr(u.toNumber()):new yr(Math.ceil(u.toNumber()))},Nhe=(t,e,n)=>{var r=new yr(1),i=new yr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new yr(10).pow(gz(t)-1),i=new yr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new yr(Math.floor(t)))}else t===0?i=new yr(Math.floor((e-1)/2)):n||(i=new yr(Math.floor(t)));var s=Math.floor((e-1)/2),l=The(She(u=>i.add(new yr(u-s).mul(r)).toNumber()),hT);return l(0,e)},xz=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var s=bz(new yr(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new yr(0):(l=new yr(e).add(n).div(2),l=l.sub(new yr(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),d=Math.ceil(new yr(n).sub(l).div(s).toNumber()),f=u+d+1;return f>r?xz(e,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new yr(u).mul(s)),tickMax:l.add(new yr(d).mul(s))})};function Ihe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,l]=yz([e,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...hT(0,r-1).map(()=>1/0)]:[...hT(0,r-1).map(()=>-1/0),l];return e>n?pT(u):u}if(s===l)return Nhe(s,r,i);var{step:d,tickMin:f,tickMax:p}=xz(s,l,a,i,0),y=vz(f,p.add(new yr(.1).mul(d)),d);return e>n?pT(y):y}function Che(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=yz([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var l=Math.max(e,2),u=bz(new yr(s).sub(a).div(l-1),i,0),d=[...vz(new yr(a),new yr(s),u),s];return i===!1&&(d=d.map(f=>Math.round(f))),n>r?pT(d):d}var Phe=mz(Ihe),Ohe=mz(Che),Rhe=t=>t.rootProps.barCategoryGap,M_=t=>t.rootProps.stackOffset,w3=t=>t.options.chartName,E3=t=>t.rootProps.syncId,_z=t=>t.rootProps.syncMethod,A3=t=>t.options.eventEmitter,Dhe=t=>t.rootProps.baseValue,os={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$o={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},F_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},khe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yu.angleAxisId,includeHidden:!1,name:void 0,reversed:Yu.reversed,scale:Yu.scale,tick:Yu.tick,tickCount:void 0,ticks:void 0,type:Yu.type,unit:void 0},jhe={allowDataOverflow:$o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$o.scale,tick:$o.tick,tickCount:$o.tickCount,ticks:void 0,type:$o.type,unit:void 0},Lhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yu.scale,tick:Yu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Mhe={allowDataOverflow:$o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$o.scale,tick:$o.tick,tickCount:$o.tickCount,ticks:void 0,type:"category",unit:void 0},S3=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Lhe:khe,T3=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Mhe:jhe,U_=t=>t.polarOptions,N3=He([_d,wd,hs],Pue),wz=He([U_,N3],(t,e)=>{if(t!=null)return Mf(t.innerRadius,e,0)}),Ez=He([U_,N3],(t,e)=>{if(t!=null)return Mf(t.outerRadius,e,e*.8)}),Fhe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Az=He([U_],Fhe);He([S3,Az],F_);var Sz=He([N3,wz,Ez],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});He([T3,Sz],F_);var Tz=He([Pr,U_,wz,Ez,_d,wd],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=e;return{cx:Mf(s,i,i/2),cy:Mf(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),Ta=(t,e)=>e,B_=(t,e,n)=>n;function I3(t){return t==null?void 0:t.id}function Nz(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=I3(l);d.forEach((p,y)=>{var v=a==null||i?y:String(cs(p,a,null)),E=cs(p,l.dataKey,0),A;s.has(v)?A=s.get(v):A={},Object.assign(A,{[f]:E}),s.set(v,A)})}}),Array.from(s.values())}function C3(t){return t.stackId!=null&&t.dataKey!=null}var V_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function z_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Uhe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Na=t=>{var e=Pr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Bg=t=>t.tooltip.settings.axisId;function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=Vhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mT=[0,"auto"],zo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Iz=(t,e)=>t.cartesianAxis.xAxis[e],pu=(t,e)=>{var n=Iz(t,e);return n??zo},qo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:B0},Cz=(t,e)=>t.cartesianAxis.yAxis[e],mu=(t,e)=>{var n=Cz(t,e);return n??qo},qhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},P3=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qhe},Qs=(t,e,n)=>{switch(e){case"xAxis":return pu(t,n);case"yAxis":return mu(t,n);case"zAxis":return P3(t,n);case"angleAxis":return S3(t,n);case"radiusAxis":return T3(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Hhe=(t,e,n)=>{switch(e){case"xAxis":return pu(t,n);case"yAxis":return mu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Y0=(t,e,n)=>{switch(e){case"xAxis":return pu(t,n);case"yAxis":return mu(t,n);case"angleAxis":return S3(t,n);case"radiusAxis":return T3(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pz=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Oz(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var O3=t=>t.graphicalItems.cartesianItems,$he=He([Ta,B_],Oz),Rz=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),W0=He([O3,Qs,$he],Rz,{memoizeOptions:{resultEqualityCheck:z_}}),Dz=He([W0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(C3)),kz=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Ghe=He([W0],kz),jz=t=>t.map(e=>e.data).filter(Boolean).flat(1),Yhe=He([W0],jz,{memoizeOptions:{resultEqualityCheck:z_}}),Lz=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},R3=He([Yhe,j_],Lz),Mz=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:cs(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:cs(i,r)}))):t.map(r=>({value:r})),q_=He([R3,Qs,W0],Mz);function Fz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function $b(t){if(Ol(t)||t instanceof Date){var e=Number(t);if(Br(e))return e}}function B6(t){if(Array.isArray(t)){var e=[$b(t[0]),$b(t[1])];return sp(e)?e:void 0}var n=$b(t);if(n!=null)return[n,n]}function hd(t){return t.map($b).filter(xse)}function Whe(t,e,n){return!n||typeof e!="number"||tl(e)?[]:n.length?hd(n.flatMap(r=>{var i=cs(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Br(a)||!Br(s)))return[e-a,e+s]})):[]}var Ia=t=>{var e=Na(t),n=Bg(t);return Y0(t,e,n)},Uz=He([Ia],t=>t==null?void 0:t.dataKey),Khe=He([Dz,j_,Ia],Nz),Bz=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,u=l.map(I3);return[s,{stackedData:jle(t,u,n),graphicalItems:l}]}))},gT=He([Khe,Dz,M_],Bz),Vz=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Ule(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Xhe=He([Qs],t=>t.allowDataOverflow),D3=t=>{var e;if(t==null||!("domain"in t))return mT;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=hd(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:mT},zz=He([Qs],D3),qz=He([zz,Xhe],sz),Qhe=He([gT,Kf,Ta,qz],Vz,{memoizeOptions:{resultEqualityCheck:V_}}),k3=t=>t.errorBars,Jhe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Fz(n,r)),nx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},Hz=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var d,f,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(I=>Fz(i,I)),y=cs(l,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),v=Whe(l,y,p);if(v.length>=2){var E=Math.min(...v),A=Math.max(...v);(a==null||E<a)&&(a=E),(s==null||A>s)&&(s=A)}var S=B6(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=B6(cs(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Br(a)&&Br(s))return[a,s]},Zhe=He([R3,Qs,Ghe,k3,Ta],Hz,{memoizeOptions:{resultEqualityCheck:V_}});function epe(t){var{value:e}=t;if(Ol(e)||e instanceof Date)return e}var tpe=(t,e,n)=>{var r=t.map(epe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&hB(r))?SV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},$z=t=>t.referenceElements.dots,Vg=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),npe=He([$z,Ta,B_],Vg),Gz=t=>t.referenceElements.areas,rpe=He([Gz,Ta,B_],Vg),Yz=t=>t.referenceElements.lines,ipe=He([Yz,Ta,B_],Vg),Wz=(t,e)=>{var n=hd(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ape=He(npe,Ta,Wz),Kz=(t,e)=>{var n=hd(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},spe=He([rpe,Ta],Kz);function ope(t){var e;if(t.x!=null)return hd([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:hd(n)}function lpe(t){var e;if(t.y!=null)return hd([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:hd(n)}var Xz=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?ope(r):lpe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cpe=He([ipe,Ta],Xz),upe=He(ape,cpe,spe,(t,e,n)=>nx(t,n,e)),Qz=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?nx(r,a,i):nx(a,i);return xhe(e,d,t.allowDataOverflow)},dpe=He([Qs,zz,qz,Qhe,Zhe,upe,Pr,Ta],Qz,{memoizeOptions:{resultEqualityCheck:V_}}),fpe=[0,1],Jz=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=t,d=hu(e,a);if(d&&l==null){var f;return SV(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?tpe(r,t,d):i==="expand"?fpe:s}},j3=He([Qs,Pr,R3,q_,M_,Ta,dpe],Jz),Zz=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(M0(a));return l in ty?l:"point"}}},K0=He([Qs,Pr,Pz,w3,Ta],Zz);function hpe(t){if(t!=null){if(t in ty)return ty[t]();var e="scale".concat(M0(t));if(e in ty)return ty[e]()}}function L3(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=hpe(e);if(i!=null){var a=i.domain(n).range(r);return Ole(a),a}}}var eq=(t,e,n)=>{var r=D3(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&sp(t))return Phe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&sp(t))return Ohe(t,e.tickCount,e.allowDecimals)}},M3=He([j3,Y0,K0],eq),tq=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&sp(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},ppe=He([Qs,j3,M3,Ta],tq),mpe=He(q_,Qs,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(hd(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),nq=He(mpe,Pr,Rhe,hs,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Br(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Mf(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),gpe=(t,e)=>{var n=pu(t,e);return n==null||typeof n.padding!="string"?0:nq(t,"xAxis",e,n.padding)},vpe=(t,e)=>{var n=mu(t,e);return n==null||typeof n.padding!="string"?0:nq(t,"yAxis",e,n.padding)},ype=He(pu,gpe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),bpe=He(mu,vpe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),xpe=He([hs,ype,A_,E_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),_pe=He([hs,Pr,bpe,A_,E_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),X0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return xpe(t,n,r);case"yAxis":return _pe(t,n,r);case"zAxis":return(i=P3(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Az(t);case"radiusAxis":return Sz(t,n);default:return}},rq=He([Qs,X0],F_),Ff=He([Qs,K0,ppe,rq],L3);He([W0,k3,Ta],Jhe);function iq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var H_=(t,e)=>e,$_=(t,e,n)=>n,wpe=He(__,H_,$_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(iq)),Epe=He(w_,H_,$_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(iq)),aq=(t,e)=>({width:t.width,height:e.height}),Ape=(t,e)=>{var n=typeof e.width=="number"?e.width:B0;return{width:n,height:t.height}},Spe=He(hs,pu,aq),Tpe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Npe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ipe=He(wd,hs,wpe,H_,$_,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=aq(e,l);s==null&&(s=Tpe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),a}),Cpe=He(_d,hs,Epe,H_,$_,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=Ape(e,l);s==null&&(s=Npe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),a}),Ppe=(t,e)=>{var n=pu(t,e);if(n!=null)return Ipe(t,n.orientation,n.mirror)},Ope=He([hs,pu,Ppe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Rpe=(t,e)=>{var n=mu(t,e);if(n!=null)return Cpe(t,n.orientation,n.mirror)},Dpe=He([hs,mu,Rpe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),kpe=He(hs,mu,(t,e)=>{var n=typeof e.width=="number"?e.width:B0;return{width:n,height:t.height}}),sq=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=hu(t,r),u=e.map(d=>d.value);if(s&&l&&a==="category"&&i&&hB(u))return u}},F3=He([Pr,q_,Qs,Ta],sq),oq=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=hu(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},U3=He([Pr,q_,Y0,Ta],oq),V6=He([Pr,Hhe,K0,Ff,F3,U3,X0,M3,Ta],(t,e,n,r,i,a,s,l,u)=>{if(e!=null){var d=hu(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),jpe=(t,e,n,r,i,a,s,l,u)=>{if(!(e==null||r==null)){var d=hu(t,u),{type:f,ticks:p,tickCount:y}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=f==="category"&&r.bandwidth?r.bandwidth()/v:0;E=u==="angleAxis"&&a!=null&&a.length>=2?Tl(a[0]-a[1])*2*E:E;var A=p||i;if(A){var S=A.map((I,q)=>{var k=s?s.indexOf(I):I;return{index:q,coordinate:r(k)+E,value:I,offset:E}});return S.filter(I=>Br(I.coordinate))}return d&&l?l.map((I,q)=>({coordinate:r(I)+E,value:I,index:q,offset:E})).filter(I=>Br(I.coordinate)):r.ticks?r.ticks(y).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,q)=>({coordinate:r(I)+E,value:s?s[I]:I,index:q,offset:E}))}},lq=He([Pr,Y0,K0,Ff,M3,X0,F3,U3,Ta],jpe),Lpe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=hu(t,s),{tickCount:u}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Tl(r[0]-r[1])*2*d:d,l&&a?a.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:i?i[f]:f,index:p,offset:d}))}},G_=He([Pr,Y0,Ff,X0,F3,U3,Ta],Lpe),Y_=He(Qs,Ff,(t,e)=>{if(!(t==null||e==null))return tx(tx({},t),{},{scale:e})}),Mpe=He([Qs,K0,j3,rq],L3);He((t,e,n)=>P3(t,n),Mpe,(t,e)=>{if(!(t==null||e==null))return tx(tx({},t),{},{scale:e})});var Fpe=He([Pr,__,w_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),cq=t=>t.options.defaultTooltipEventType,uq=t=>t.options.validateTooltipEventTypes;function dq(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function B3(t,e){var n=cq(t),r=uq(t);return dq(e,n,r)}function Upe(t){return Yt(e=>B3(e,t))}var fq=(t,e)=>{var n,r=Number(e);if(!(tl(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Bpe=t=>t.tooltip.settings,df={active:!1,index:null,dataKey:void 0,coordinate:void 0},Vpe={itemInteraction:{click:df,hover:df},axisInteraction:{click:df,hover:df},keyboardInteraction:df,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},hq=No({name:"tooltip",initialState:Vpe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:xa()},removeTooltipEntrySettings:{reducer(t,e){var n=td(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:xa()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:zpe,removeTooltipEntrySettings:qpe,setTooltipSettingsState:Hpe,setActiveMouseOverItemIndex:$pe,mouseLeaveItem:Y5e,mouseLeaveChart:pq,setActiveClickItemIndex:W5e,setMouseOverAxisIndex:mq,setMouseClickAxisIndex:Gpe,setSyncInteraction:vT,setKeyboardInteraction:yT}=hq.actions,Ype=hq.reducer;function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){Wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wpe(t,e,n){return(e=Kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qpe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Jpe(t){return t.index!=null}var gq=(t,e,n,r)=>{if(e==null)return df;var i=Qpe(t,e,n);if(i==null)return df;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Jpe(i)){if(a)return mb(mb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return mb(mb({},df),{},{coordinate:i.coordinate})},V3=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Br(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},vq=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var u=s[0],d=u==null?void 0:l(u.positions,a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},yq=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Q0=t=>t.options.tooltipPayloadSearcher,zg=t=>t.tooltip;function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e){return t??e}var bq=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return t.reduce((y,v)=>{var E,{dataDefinedOnItem:A,settings:S}=v,I=nme(A,l),q=Array.isArray(I)?rV(I,d,f):I,k=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,B=S==null?void 0:S.nameKey,$;if(r&&Array.isArray(q)&&!Array.isArray(q[0])&&s==="axis"?$=pB(q,r,i):$=a(q,e,u,B),Array.isArray($))$.forEach(L=>{var j=H6(H6({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});y.push(b7({tooltipEntrySettings:j,dataKey:L.dataKey,payload:L.payload,value:cs(L.payload,L.dataKey),name:L.name}))});else{var K;y.push(b7({tooltipEntrySettings:S,dataKey:k,payload:$,value:cs($,k),name:(K=cs($,B))!==null&&K!==void 0?K:S==null?void 0:S.name}))}return y},p)}},z3=He([Ia,Pr,Pz,w3,Na],Zz),rme=He([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ime=He([Na,Bg],Oz),J0=He([rme,Ia,ime],Rz,{memoizeOptions:{resultEqualityCheck:z_}}),ame=He([J0],t=>t.filter(C3)),sme=He([J0],jz,{memoizeOptions:{resultEqualityCheck:z_}}),qg=He([sme,Kf],Lz),ome=He([ame,Kf,Ia],Nz),q3=He([qg,Ia,J0],Mz),xq=He([Ia],D3),lme=He([Ia],t=>t.allowDataOverflow),_q=He([xq,lme],sz),cme=He([J0],t=>t.filter(C3)),ume=He([ome,cme,M_],Bz),dme=He([ume,Kf,Na,_q],Vz),fme=He([J0],kz),hme=He([qg,Ia,fme,k3,Na],Hz,{memoizeOptions:{resultEqualityCheck:V_}}),pme=He([$z,Na,Bg],Vg),mme=He([pme,Na],Wz),gme=He([Gz,Na,Bg],Vg),vme=He([gme,Na],Kz),yme=He([Yz,Na,Bg],Vg),bme=He([yme,Na],Xz),xme=He([mme,bme,vme],nx),_me=He([Ia,xq,_q,dme,hme,xme,Pr,Na],Qz),wq=He([Ia,Pr,qg,q3,M_,Na,_me],Jz),wme=He([wq,Ia,z3],eq),Eme=He([Ia,wq,wme,Na],tq),Eq=t=>{var e=Na(t),n=Bg(t),r=!1;return X0(t,e,n,r)},Aq=He([Ia,Eq],F_),Sq=He([Ia,z3,Eme,Aq],L3),Ame=He([Pr,q3,Ia,Na],sq),Sme=He([Pr,q3,Ia,Na],oq),Tme=(t,e,n,r,i,a,s,l)=>{if(e){var{type:u}=e,d=hu(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Tl(i[0]-i[1])*2*p:p,d&&s?s.map((y,v)=>({coordinate:r(y)+p,value:y,index:v,offset:p})):r.domain().map((y,v)=>({coordinate:r(y)+p,value:a?a[y]:y,index:v,offset:p}))}}},Ad=He([Pr,Ia,z3,Sq,Eq,Ame,Sme,Na],Tme),H3=He([cq,uq,Bpe],(t,e,n)=>dq(n.shared,t,e)),Tq=t=>t.tooltip.settings.trigger,$3=t=>t.tooltip.settings.defaultIndex,W_=He([zg,H3,Tq,$3],gq),i0=He([W_,qg],V3),Nq=He([Ad,i0],fq),Nme=He([W_],t=>{if(t)return t.dataKey}),Iq=He([zg,H3,Tq,$3],yq),Ime=He([_d,wd,Pr,hs,Ad,$3,Iq,Q0],vq),Cme=He([W_,Ime],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Pme=He([W_],t=>t.active),Ome=He([Iq,i0,Kf,Uz,Nq,Q0,H3],bq),Rme=He([Ome],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){Dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dme(t,e,n){return(e=kme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=jme(t,"string");return typeof e=="symbol"?e:e+""}function jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lme=()=>Yt(Ia),Mme=()=>{var t=Lme(),e=Yt(Ad),n=Yt(Sq);return gg(!t||!n?void 0:G6(G6({},t),{},{scale:n}),e)};function Y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(n),!0).forEach(function(r){Fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fme(t,e,n){return(e=Ume(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=Bme(t,"string");return typeof e=="symbol"?e:e+""}function Bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vme=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},zme=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return dm(dm(dm({},r),ss(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:u}=r;return dm(dm(dm({},r),ss(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qme(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var Cq=(t,e,n,r,i)=>{var a,s=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,f=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(Tl(f-d)!==Tl(p-f)){var v=[];if(Tl(p-f)===Tl(i[1]-i[0])){y=p;var E=f+i[1]-i[0];v[0]=Math.min(E,(E+d)/2),v[1]=Math.max(E,(E+d)/2)}else{y=d;var A=p+i[1]-i[0];v[0]=Math.min(f,(A+f)/2),v[1]=Math.max(f,(A+f)/2)}var S=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){({index:s}=n[u]);break}}else{var I=Math.min(d,p),q=Math.max(d,p);if(t>(I+f)/2&&t<=(q+f)/2){({index:s}=n[u]);break}}}else if(e){for(var k=0;k<l;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<l-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===l-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:s}=e[k]);break}}return s},Pq=()=>Yt(w3),G3=(t,e)=>e,Oq=(t,e,n)=>n,Y3=(t,e,n,r)=>r,Hme=He(Ad,t=>p_(t,e=>e.coordinate)),W3=He([zg,G3,Oq,Y3],gq),Rq=He([W3,qg],V3),$me=(t,e,n)=>{if(e!=null){var r=zg(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Dq=He([zg,G3,Oq,Y3],yq),rx=He([_d,wd,Pr,hs,Ad,Y3,Dq,Q0],vq),Gme=He([W3,rx],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),kq=He([Ad,Rq],fq),Yme=He([Dq,Rq,Kf,Uz,kq,Q0,G3],bq),Wme=He([W3],t=>({isActive:t.active,activeIndex:t.index})),Kme=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&qme(t,s)){var l=Ble(t,e),u=Cq(l,a,i,n,r),d=Vme(e,i,u,t);return{activeIndex:String(u),activeCoordinate:d}}},Xme=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=jue(t,n);if(l){var u=Vle(l,e),d=Cq(u,s,a,r,i),f=zme(e,a,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Qme=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Kme(t,e,r,i,a,s,l):Xme(t,e,n,r,i,a,s)},Jme=He(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Zme=He(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(os)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Uhe}});function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ege(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rge={},ige={zIndexMap:Object.values(os).reduce((t,e)=>K6(K6({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),rge)},age=new Set(Object.values(os));function sge(t){return age.has(t)}var jq=No({name:"zIndex",initialState:ige,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xa()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!sge(n)&&delete t.zIndexMap[n])},prepare:xa()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:xa()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:xa()}}}),{registerZIndexPortal:oge,unregisterZIndexPortal:lge,registerZIndexPortalId:cge,unregisterZIndexPortalId:uge}=jq.actions,dge=jq.reducer;function pc(t){var{zIndex:e,children:n}=t,r=bce(),i=r&&e!==void 0&&e!==0,a=ps(),s=Aa();O.useLayoutEffect(()=>i?(s(oge({zIndex:e})),()=>{s(lge({zIndex:e}))}):Lg,[s,e,i]);var l=Yt(d=>Jme(d,e,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?KU.createPortal(n,u):null}function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(null,arguments)}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e,n){return(e=hge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=pge(t,"string");return typeof e=="symbol"?e:e+""}function pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mge(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return O.isValidElement(e)?O.cloneElement(e,r):O.createElement(n,r)}function gge(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:d,chartName:f}=t,p=n,y=r,v=i;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var E,A,S;if(f==="ScatterChart")E=p,A=Xce,S=os.cursorLine;else if(f==="BarChart")E=Qce(l,p,a,s),A=_V,S=os.cursorRectangle;else if(l==="radial"&&vB(p)){var{cx:I,cy:q,radius:k,startAngle:B,endAngle:$}=wV(p);E={cx:I,cy:q,startAngle:B,endAngle:$,innerRadius:k,outerRadius:k},A=AV,S=os.cursorLine}else E={points:Uue(l,p,a)},A=vy,S=os.cursorLine;var K=typeof u=="object"&&"className"in u?u.className:void 0,L=gb(gb(gb(gb({stroke:"#ccc",pointerEvents:"none"},a),E),c_(u)),{},{payload:y,payloadIndex:v,className:wr("recharts-tooltip-cursor",K)});return O.createElement(pc,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},O.createElement(mge,{cursor:u,cursorComp:A,cursorProps:L}))}function vge(t){var e=Mme(),n=fV(),r=z0(),i=Pq();return e==null||n==null||r==null||i==null?null:O.createElement(gge,bT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Lq=O.createContext(null),yge=()=>O.useContext(Lq),nA={exports:{}},Q6;function bge(){return Q6||(Q6=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(u,d,f,p,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||u,y),E=n?n+d:d;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],v]:u._events[E].push(v):(u._events[E]=v,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,E=new Array(v);y<v;y++)E[y]=p[y].fn;return E},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,y,v,E){var A=n?n+d:d;if(!this._events[A])return!1;var S=this._events[A],I=arguments.length,q,k;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,p),!0;case 4:return S.fn.call(S.context,f,p,y),!0;case 5:return S.fn.call(S.context,f,p,y,v),!0;case 6:return S.fn.call(S.context,f,p,y,v,E),!0}for(k=1,q=new Array(I-1);k<I;k++)q[k-1]=arguments[k];S.fn.apply(S.context,q)}else{var B=S.length,$;for(k=0;k<B;k++)switch(S[k].once&&this.removeListener(d,S[k].fn,void 0,!0),I){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,f);break;case 3:S[k].fn.call(S[k].context,f,p);break;case 4:S[k].fn.call(S[k].context,f,p,y);break;default:if(!q)for($=1,q=new Array(I-1);$<I;$++)q[$-1]=arguments[$];S[k].fn.apply(S[k].context,q)}}return!0},l.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,y){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return s(this,v),this;var E=this._events[v];if(E.fn)E.fn===f&&(!y||E.once)&&(!p||E.context===p)&&s(this,v);else{for(var A=0,S=[],I=E.length;A<I;A++)(E[A].fn!==f||y&&!E[A].once||p&&E[A].context!==p)&&S.push(E[A]);S.length?this._events[v]=S.length===1?S[0]:S:s(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(nA)),nA.exports}var xge=bge();const _ge=fu(xge);var a0=new _ge,xT="recharts.syncEvent.tooltip",J6="recharts.syncEvent.brush";function Mq(t,e){if(e){var n=Number.parseInt(e,10);if(!tl(n))return t==null?void 0:t[n]}}var wge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Fq=No({name:"options",initialState:wge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ege=Fq.reducer,{createEventEmitter:Age}=Fq.actions;function Sge(t){return t.tooltip.syncInteraction}var Tge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Uq=No({name:"chartData",initialState:Tge,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:Z6,setDataStartEndIndexes:Nge,setComputedData:K5e}=Uq.actions,Ige=Uq.reducer,Cge=["x","y"];function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pge(t,e,n){return(e=Oge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oge(t){var e=Rge(t,"string");return typeof e=="symbol"?e:e+""}function Rge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dge(t,e){if(t==null)return{};var n,r,i=kge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jge(){var t=Yt(E3),e=Yt(A3),n=Aa(),r=Yt(_z),i=Yt(Ad),a=z0(),s=V0(),l=Yt(u=>u.rootProps.className);O.useEffect(()=>{if(t==null)return Lg;var u=(d,f,p)=>{if(e!==p&&t===d){if(r==="index"){var y;if(s&&f!==null&&f!==void 0&&(y=f.payload)!==null&&y!==void 0&&y.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:E,y:A}=v,S=Dge(v,Cge),{x:I,y:q,width:k,height:B}=f.payload.sourceViewBox,$=fm(fm({},S),{},{x:s.x+(k?(E-I)/k:0)*s.width,y:s.y+(B?(A-q)/B:0)*s.height});n(fm(fm({},f),{},{payload:fm(fm({},f.payload),{},{coordinate:$})}))}else n(f);return}if(i!=null){var K;if(typeof r=="function"){var L={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},j=r(i,L);K=i[j]}else r==="value"&&(K=i.find(se=>String(se.value)===f.payload.label));var{coordinate:D}=f.payload;if(K==null||f.payload.active===!1||D==null||s==null){n(vT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:G,y:P}=D,F=Math.min(G,s.x+s.width),V=Math.min(P,s.y+s.height),ee={x:a==="horizontal"?K.coordinate:F,y:a==="horizontal"?V:K.coordinate},ge=vT({active:f.payload.active,coordinate:ee,dataKey:f.payload.dataKey,index:String(K.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});n(ge)}}};return a0.on(xT,u),()=>{a0.off(xT,u)}},[l,n,e,t,r,i,a,s])}function Lge(){var t=Yt(E3),e=Yt(A3),n=Aa();O.useEffect(()=>{if(t==null)return Lg;var r=(i,a,s)=>{e!==s&&t===i&&n(Nge(a))};return a0.on(J6,r),()=>{a0.off(J6,r)}},[n,e,t])}function Mge(){var t=Aa();O.useEffect(()=>{t(Age())},[t]),jge(),Lge()}function Fge(t,e,n,r,i,a){var s=Yt(v=>$me(v,t,e)),l=Yt(A3),u=Yt(E3),d=Yt(_z),f=Yt(Sge),p=f==null?void 0:f.active,y=V0();O.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=vT({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});a0.emit(xT,u,v,l)}},[p,n,s,i,r,l,u,d,a,y])}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){Uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uge(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=Vge(t,"string");return typeof e=="symbol"?e:e+""}function Vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zge(t){return t.dataKey}function qge(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(Ice,e)}var rk=[],Hge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yp.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function K_(t){var e,n,r=fs(t,Hge),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:y,position:v,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:I,shared:q,trigger:k,defaultIndex:B,portal:$,axisId:K}=r,L=Aa(),j=typeof B=="number"?String(B):B;O.useEffect(()=>{L(Hpe({shared:q,trigger:k,axisId:K,active:i,defaultIndex:j}))},[L,q,k,K,i,j]);var D=V0(),G=gV(),P=Upe(q),{activeIndex:F,isActive:V}=(e=Yt(ye=>Wme(ye,P,k,j)))!==null&&e!==void 0?e:{},ee=Yt(ye=>Yme(ye,P,k,j)),ge=Yt(ye=>kq(ye,P,k,j)),se=Yt(ye=>Gme(ye,P,k,j)),fe=ee,me=yge(),xe=(n=i??V)!==null&&n!==void 0?n:!1,[Ue,ne]=Poe([fe,xe]),M=P==="axis"?ge:void 0;Fge(P,k,se,M,F,xe);var X=$??me;if(X==null||D==null||P==null)return null;var Z=fe??rk;xe||(Z=rk),d&&Z.length&&(Z=noe(Z.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),y,zge));var de=Z.length>0,pe=O.createElement(jce,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:xe,coordinate:se,hasPayload:de,offset:p,position:v,reverseDirection:E,useTranslate3d:A,viewBox:D,wrapperStyle:S,lastBoundingBox:Ue,innerRef:ne,hasPortalFromProps:!!$},qge(u,nk(nk({},r),{},{payload:Z,label:M,active:xe,activeIndex:F,coordinate:se,accessibilityLayer:G})));return O.createElement(O.Fragment,null,KU.createPortal(pe,X),xe&&O.createElement(vge,{cursor:I,tooltipEventType:P,coordinate:se,payload:Z,index:F}))}function $ge(t,e,n){return(e=Gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wge{constructor(e){$ge(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Xge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xge(t,e,n){return(e=Qge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qge(t){var e=Jge(t,"string");return typeof e=="symbol"?e:e+""}function Jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zge={cacheSize:2e3,enableCache:!0},Bq=Kge({},Zge),ak=new Wge(Bq.cacheSize),eve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sk="recharts_measurement_span";function tve(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var ok=(t,e)=>{try{var n=document.getElementById(sk);n||(n=document.createElement("span"),n.setAttribute("id",sk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,eve,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yp.isSsr)return{width:0,height:0};if(!Bq.enableCache)return ok(e,n);var r=tve(e,n),i=ak.get(r);if(i)return i;var a=ok(e,n);return ak.set(r,a),a},lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ive=Object.keys(Vq),Nm="NaN";function ave(t,e){return t*Vq[e]}class _o{static parse(e){var n,[,r,i]=(n=rve.exec(e))!==null&&n!==void 0?n:[];return new _o(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,tl(e)&&(this.unit=""),n!==""&&!nve.test(n)&&(this.num=NaN,this.unit=""),ive.includes(n)&&(this.num=ave(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _o(NaN,""):new _o(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _o(NaN,""):new _o(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _o(NaN,""):new _o(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _o(NaN,""):new _o(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return tl(this.num)}}function zq(t){if(t.includes(Nm))return Nm;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=lk.exec(e))!==null&&n!==void 0?n:[],s=_o.parse(r??""),l=_o.parse(a??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Nm;e=e.replace(lk,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,y]=(d=ck.exec(e))!==null&&d!==void 0?d:[],v=_o.parse(f??""),E=_o.parse(y??""),A=p==="+"?v.add(E):v.subtract(E);if(A.isNaN())return Nm;e=e.replace(ck,A.toString())}return e}var uk=/\(([^()]*)\)/;function sve(t){for(var e=t,n;(n=uk.exec(e))!=null;){var[,r]=n;e=e.replace(uk,zq(r))}return e}function ove(t){var e=t.replace(/\s+/g,"");return e=sve(e),e=zq(e),e}function lve(t){try{return ove(t)}catch{return Nm}}function rA(t){var e=lve(t.slice(5,-1));return e===Nm?"":e}var cve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],uve=["dx","dy","angle","className","breakAll"];function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(null,arguments)}function dk(t,e){if(t==null)return{};var n,r,i=dve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var qq=/[ \f\n\r\t\v\u2028\u2029]+/,Hq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];wa(e)||(n?i=e.toString().split(""):i=e.toString().split(qq));var a=i.map(l=>({word:l,width:yy(l,r).width})),s=n?0:yy("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function fve(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var $q=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(s),u.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),Gq=t=>t.reduce((e,n)=>e.width>n.width?e:n),hve="",fk=(t,e,n,r,i,a,s,l)=>{var u=t.slice(0,e),d=Hq({breakAll:n,style:r,children:u+hve});if(!d)return[!1,[]];var f=$q(d.wordsWithComputedWidth,a,s,l),p=f.length>i||Gq(f).width>Number(a);return[p,f]},pve=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:u}=t,d=$t(a),f=String(s),p=$q(e,r,n,i);if(!d||i)return p;var y=p.length>a||Gq(p).width>Number(r);if(!y)return p;for(var v=0,E=f.length-1,A=0,S;v<=E&&A<=f.length-1;){var I=Math.floor((v+E)/2),q=I-1,[k,B]=fk(f,q,u,l,a,r,n,i),[$]=fk(f,I,u,l,a,r,n,i);if(!k&&!$&&(v=I+1),k&&$&&(E=I-1),!k&&$){S=B;break}A++}return S||p},hk=t=>{var e=wa(t)?[]:t.toString().split(qq);return[{words:e,width:void 0}]},mve=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!yp.isSsr){var l,u,d=Hq({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return hk(r);return pve({breakAll:a,children:r,maxLines:s,style:i},l,u,e,!!n)}return hk(r)},Yq="#808080",gve={breakAll:!1,capHeight:"0.71em",fill:Yq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},K3=O.forwardRef((t,e)=>{var n=fs(t,gve),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=dk(n,cve),y=O.useMemo(()=>mve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:E,angle:A,className:S,breakAll:I}=p,q=dk(p,uve);if(!Ol(r)||!Ol(i)||y.length===0)return null;var k=Number(r)+($t(v)?v:0),B=Number(i)+($t(E)?E:0);if(!Br(k)||!Br(B))return null;var $;switch(f){case"start":$=rA("calc(".concat(s,")"));break;case"middle":$=rA("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:$=rA("calc(".concat(y.length-1," * -").concat(a,")"));break}var K=[];if(u){var L=y[0].width,{width:j}=p;K.push("scale(".concat($t(j)&&$t(L)?j/L:1,")"))}return A&&K.push("rotate(".concat(A,", ").concat(k,", ").concat(B,")")),K.length&&(q.transform=K.join(" ")),O.createElement("text",_T({},ds(q),{ref:e,x:k,y:B,className:wr("recharts-text",S),textAnchor:d,fill:l.includes("url")?Yq:l}),y.map((D,G)=>{var P=D.words.join(I?"":" ");return O.createElement("tspan",{x:k,dy:G===0?$:a,key:"".concat(P,"-").concat(G)},P)}))});K3.displayName="Text";var vve=["labelRef"];function yve(t,e){if(t==null)return{};var n,r,i=bve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t,e,n){return(e=_ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=wve(t,"string");return typeof e=="symbol"?e:e+""}function wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(null,arguments)}var Wq=O.createContext(null),Kq=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,u=O.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return O.createElement(Wq.Provider,{value:u},l)},Xq=()=>{var t=O.useContext(Wq),e=V0();return t||dV(e)},Eve=O.createContext(null),Ave=()=>{var t=O.useContext(Eve),e=Yt(Tz);return t||e},Sve=t=>{var{value:e,formatter:n}=t,r=wa(t.children)?e:t.children;return typeof n=="function"?n(r):r},X3=t=>t!=null&&typeof t=="function",Tve=(t,e)=>{var n=Tl(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Nve=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:y,clockWise:v}=i,E=(d+f)/2,A=Tve(p,y),S=A>=0?1:-1,I,q;switch(e){case"insideStart":I=p+S*a,q=v;break;case"insideEnd":I=y-S*a,q=!v;break;case"end":I=y+S*a,q=v;break;default:throw new Error("Unsupported position ".concat(e))}q=A<=0?q:!q;var k=ss(l,u,E,I),B=ss(l,u,E,I+(q?1:-1)*359),$="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(q?0:1,`,
    `).concat(B.x,",").concat(B.y),K=wa(t.id)?Wy("recharts-radial-line-"):t.id;return O.createElement("text",Wu({},r,{dominantBaseline:"central",className:wr("recharts-radial-bar-label",s)}),O.createElement("defs",null,O.createElement("path",{id:K,d:$})),O.createElement("textPath",{xlinkHref:"#".concat(K)},n))},Ive=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:f,y:p}=ss(r,i,s+e,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:v,y:E}=ss(r,i,y,d);return{x:v,y:E,textAnchor:"middle",verticalAnchor:"middle"}},wT=t=>"cx"in t&&$t(t.cx),Cve=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!wT(n)&&(a=n);var{x:s,y:l,upperWidth:u,lowerWidth:d,height:f}=e,p=s,y=s+(u-d)/2,v=(p+y)/2,E=(u+d)/2,A=p+u/2,S=f>=0?1:-1,I=S*r,q=S>0?"end":"start",k=S>0?"start":"end",B=u>=0?1:-1,$=B*r,K=B>0?"end":"start",L=B>0?"start":"end";if(i==="top"){var j={x:p+u/2,y:l-I,textAnchor:"middle",verticalAnchor:q};return Vi(Vi({},j),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var D={x:y+d/2,y:l+f+I,textAnchor:"middle",verticalAnchor:k};return Vi(Vi({},D),a?{height:Math.max(a.y+a.height-(l+f),0),width:d}:{})}if(i==="left"){var G={x:v-$,y:l+f/2,textAnchor:K,verticalAnchor:"middle"};return Vi(Vi({},G),a?{width:Math.max(G.x-a.x,0),height:f}:{})}if(i==="right"){var P={x:v+E+$,y:l+f/2,textAnchor:L,verticalAnchor:"middle"};return Vi(Vi({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:f}:{})}var F=a?{width:E,height:f}:{};return i==="insideLeft"?Vi({x:v+$,y:l+f/2,textAnchor:L,verticalAnchor:"middle"},F):i==="insideRight"?Vi({x:v+E-$,y:l+f/2,textAnchor:K,verticalAnchor:"middle"},F):i==="insideTop"?Vi({x:p+u/2,y:l+I,textAnchor:"middle",verticalAnchor:k},F):i==="insideBottom"?Vi({x:y+d/2,y:l+f-I,textAnchor:"middle",verticalAnchor:q},F):i==="insideTopLeft"?Vi({x:p+$,y:l+I,textAnchor:L,verticalAnchor:k},F):i==="insideTopRight"?Vi({x:p+u-$,y:l+I,textAnchor:K,verticalAnchor:k},F):i==="insideBottomLeft"?Vi({x:y+$,y:l+f-I,textAnchor:L,verticalAnchor:q},F):i==="insideBottomRight"?Vi({x:y+d-$,y:l+f-I,textAnchor:K,verticalAnchor:q},F):i&&typeof i=="object"&&($t(i.x)||ld(i.x))&&($t(i.y)||ld(i.y))?Vi({x:s+Mf(i.x,E),y:l+Mf(i.y,f),textAnchor:"end",verticalAnchor:"end"},F):Vi({x:A,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Pve={offset:5,zIndex:os.label};function cf(t){var e=fs(t,Pve),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:u,labelRef:d}=e,f=Ave(),p=Xq(),y=r==="center"?p:f??p,v,E,A;if(n==null?v=y:wT(n)?v=n:v=dV(n),!v||wa(i)&&wa(a)&&!O.isValidElement(s)&&typeof s!="function")return null;var S=Vi(Vi({},e),{},{viewBox:v});if(O.isValidElement(s)){var{labelRef:I}=S,q=yve(S,vve);return O.cloneElement(s,q)}if(typeof s=="function"){if(E=O.createElement(s,S),O.isValidElement(E))return E}else E=Sve(e);var k=ds(e);if(wT(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Nve(e,r,E,k,v);A=Ive(v,e.offset,e.position)}else A=Cve(e,v);return O.createElement(pc,{zIndex:e.zIndex},O.createElement(K3,Wu({ref:d,className:wr("recharts-label",l)},k,A,{textAnchor:fve(k.textAnchor)?k.textAnchor:A.textAnchor,breakAll:u}),E))}cf.displayName="Label";var Ove=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?O.createElement(cf,Wu({key:"label-implicit"},r)):Ol(t)?O.createElement(cf,Wu({key:"label-implicit",value:t},r)):O.isValidElement(t)?t.type===cf?O.cloneElement(t,Vi({key:"label-implicit"},r)):O.createElement(cf,Wu({key:"label-implicit",content:t},r)):X3(t)?O.createElement(cf,Wu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?O.createElement(cf,Wu({},t,{key:"label-implicit"},r)):null};function Qq(t){var{label:e,labelRef:n}=t,r=Xq();return Ove(e,r,n)||null}var iA={},aA={},mk;function Rve(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(aA)),aA}var sA={},gk;function Dve(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(sA)),sA}var vk;function kve(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rve(),n=Dve(),r=qI();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(iA)),iA}var oA,yk;function jve(){return yk||(yk=1,oA=kve().last),oA}var Lve=jve();const Mve=fu(Lve);var Fve=["valueAccessor"],Uve=["dataKey","clockWise","id","textBreakAll","zIndex"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}function bk(t,e){if(t==null)return{};var n,r,i=Bve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vve=t=>Array.isArray(t.value)?Mve(t.value):t.value,Jq=O.createContext(void 0),Zq=Jq.Provider,eH=O.createContext(void 0);eH.Provider;function zve(){return O.useContext(Jq)}function qve(){return O.useContext(eH)}function Gb(t){var{valueAccessor:e=Vve}=t,n=bk(t,Fve),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,u=bk(n,Uve),d=zve(),f=qve(),p=d||f;return!p||!p.length?null:O.createElement(pc,{zIndex:l??os.label},O.createElement(el,{className:"recharts-label-list"},p.map((y,v)=>{var E,A=wa(r)?e(y,v):cs(y&&y.payload,r),S=wa(a)?{}:{id:"".concat(a,"-").concat(v)};return O.createElement(cf,ix({key:"label-".concat(v)},ds(y),u,S,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:A,textBreakAll:s,viewBox:y.viewBox,index:v,zIndex:0}))})))}Gb.displayName="LabelList";function tH(t){var{label:e}=t;return e?e===!0?O.createElement(Gb,{key:"labelList-implicit"}):O.isValidElement(e)||X3(e)?O.createElement(Gb,{key:"labelList-implicit",content:e}):typeof e=="object"?O.createElement(Gb,ix({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function ET(){return ET=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ET.apply(null,arguments)}var nH=t=>{var{cx:e,cy:n,r,className:i}=t,a=wr("recharts-dot",i);return $t(e)&&$t(n)&&$t(r)?O.createElement("circle",ET({},Pl(t),zI(t),{className:a,cx:e,cy:n,r})):null},Hve={radiusAxis:{},angleAxis:{}},rH=No({name:"polarAxis",initialState:Hve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:X5e,removeRadiusAxis:Q5e,addAngleAxis:J5e,removeAngleAxis:Z5e}=rH.actions,$ve=rH.reducer,Q3=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,lA={},xk;function Gve(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(lA)),lA}var cA,_k;function Yve(){return _k||(_k=1,cA=Gve().isPlainObject),cA}var Wve=Yve();const Kve=fu(Wve);function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return(e=Qve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qve(t){var e=Jve(t,"string");return typeof e=="symbol"?e:e+""}function Jve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}var Ak=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Zve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eye=t=>{var e=fs(t,Zve),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=e,y=O.useRef(null),[v,E]=O.useState(-1),A=O.useRef(i),S=O.useRef(a),I=O.useRef(s),q=O.useRef(n),k=O.useRef(r),B=I_(t,"trapezoid-");if(O.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ee=y.current.getTotalLength();ee&&E(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var $=wr("recharts-trapezoid",l);if(!p)return O.createElement("g",null,O.createElement("path",ax({},ds(e),{className:$,d:Ak(n,r,i,a,s)})));var K=A.current,L=S.current,j=I.current,D=q.current,G=k.current,P="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),V=vV(["strokeDasharray"],d,u);return O.createElement(N_,{animationId:B,key:B,canBegin:v>0,duration:d,easing:u,isActive:p,begin:f},ee=>{var ge=ia(K,i,ee),se=ia(L,a,ee),fe=ia(j,s,ee),me=ia(D,n,ee),xe=ia(G,r,ee);y.current&&(A.current=ge,S.current=se,I.current=fe,q.current=me,k.current=xe);var Ue=ee>0?{transition:V,strokeDasharray:F}:{strokeDasharray:P};return O.createElement("path",ax({},ds(e),{className:$,d:Ak(me,xe,ge,se,fe),ref:y,style:Ek(Ek({},Ue),e.style)}))})},tye=["option","shapeType","propTransformer","activeClassName","isActive"];function nye(t,e){if(t==null)return{};var n,r,i=rye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e,n){return(e=aye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aye(t){var e=sye(t,"string");return typeof e=="symbol"?e:e+""}function sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oye(t,e){return sx(sx({},e),t)}function lye(t,e){return t==="symbols"}function Tk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(_V,n);case"trapezoid":return O.createElement(eye,n);case"sector":return O.createElement(AV,n);case"symbols":if(lye(e))return O.createElement(gB,n);break;case"curve":return O.createElement(vy,n);default:return null}}function cye(t){return O.isValidElement(t)?t.props:t}function uye(t){var{option:e,shapeType:n,propTransformer:r=oye,activeClassName:i="recharts-active-shape",isActive:a}=t,s=nye(t,tye),l;if(O.isValidElement(e))l=O.cloneElement(e,sx(sx({},s),cye(e)));else if(typeof e=="function")l=e(s);else if(Kve(e)&&typeof e!="boolean"){var u=r(e,s);l=O.createElement(Tk,{shapeType:n,elementProps:u})}else{var d=s;l=O.createElement(Tk,{shapeType:n,elementProps:d})}return a?O.createElement(el,{className:i},l):l}function iH(t){var{fn:e,args:n}=t,r=Aa(),i=ps();return O.useLayoutEffect(()=>{if(!i){var a=e(n);return r(zpe(a)),()=>{r(qpe(a))}}},[e,n,r,i]),null}function aH(t){var{legendPayload:e}=t,n=Aa(),r=ps();return O.useLayoutEffect(()=>r?Lg:(n(_ce(e)),()=>{n(wce(e))}),[n,r,e]),null}var uA,dye=()=>{var[t]=O.useState(()=>Wy("uid-"));return t},fye=(uA=mY.useId)!==null&&uA!==void 0?uA:dye;function sH(t,e){var n=fye();return e||(t?"".concat(t,"-").concat(n):n)}var hye=O.createContext(void 0),oH=t=>{var{id:e,type:n,children:r}=t,i=sH("recharts-".concat(n),e);return O.createElement(hye.Provider,{value:i},r(i))},pye={cartesianItems:[],polarItems:[]},lH=No({name:"graphicalItems",initialState:pye,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:xa()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=td(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:xa()},removeCartesianGraphicalItem:{reducer(t,e){var n=td(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:xa()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:xa()},removePolarGraphicalItem:{reducer(t,e){var n=td(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:xa()}}}),{addCartesianGraphicalItem:mye,replaceCartesianGraphicalItem:gye,removeCartesianGraphicalItem:vye,addPolarGraphicalItem:eEe,removePolarGraphicalItem:tEe}=lH.actions,yye=lH.reducer;function cH(t){var e=Aa(),n=O.useRef(null);return O.useLayoutEffect(()=>{n.current===null?e(mye(t)):n.current!==t&&e(gye({prev:n.current,next:t})),n.current=t},[e,t]),O.useLayoutEffect(()=>()=>{n.current&&(e(vye(n.current)),n.current=null)},[e]),null}var bye=["points"];function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xye(t,e,n){return(e=_ye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ye(t){var e=wye(t,"string");return typeof e=="symbol"?e:e+""}function wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}function Eye(t,e){if(t==null)return{};var n,r,i=Aye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sye(t){var{option:e,dotProps:n,className:r}=t;if(O.isValidElement(e))return O.cloneElement(e,n);if(typeof e=="function")return e(n);var i=wr(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=Eye(a,bye);return O.createElement(nH,ox({},l,{className:i}))}function Tye(t,e){return t==null?!1:e?!0:t.length===1}function uH(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:u,zIndex:d=os.scatter}=t;if(!Tye(e,n))return null;var f=Q3(n),p=Iae(n),y=e.map((E,A)=>{var S,I,q=dA(dA(dA({r:3},s),p),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(I=E.y)!==null&&I!==void 0?I:void 0,dataKey:a,value:E.value,payload:E.payload,points:e});return O.createElement(Sye,{key:"dot-".concat(A),option:n,dotProps:q,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),O.createElement(pc,{zIndex:d},O.createElement(el,ox({className:r},v),y))}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Nye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nye(t,e,n){return(e=Iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pye={xAxis:{},yAxis:{},zAxis:{}},dH=No({name:"cartesianAxis",initialState:Pye,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:xa()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:xa()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:xa()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:xa()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:xa()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:xa()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=Ck(Ck({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Oye,removeXAxis:Rye,addYAxis:Dye,removeYAxis:kye,addZAxis:nEe,removeZAxis:rEe,updateYAxisWidth:jye}=dH.actions,Lye=dH.reducer,Mye=He([hs],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Fye=He([Mye,_d,wd],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),X_=()=>Yt(Fye),Uye=()=>Yt(Rme);function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){Bye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bye(t,e,n){return(e=Vye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vye(t){var e=zye(t,"string");return typeof e=="symbol"?e:e+""}function zye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qye=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=fA(fA(fA({},s),c_(i)),zI(i)),u;return O.isValidElement(i)?u=O.cloneElement(i,l):typeof i=="function"?u=i(l):u=O.createElement(nH,l),O.createElement(el,{className:"recharts-active-dot"},u)};function AT(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=os.activeDot}=t,s=Yt(i0),l=Uye();if(e==null||l==null)return null;var u=e.find(d=>l.includes(d.payload));return wa(u)?null:O.createElement(pc,{zIndex:a},O.createElement(qye,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var Hye={},fH=No({name:"errorBars",initialState:Hye,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:iEe,replaceErrorBar:aEe,removeErrorBar:sEe}=fH.actions,$ye=fH.reducer,Gye=["children"];function Yye(t,e){if(t==null)return{};var n,r,i=Wye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xye=O.createContext(Kye);function Qye(t){var{children:e}=t,n=Yye(t,Gye);return O.createElement(Xye.Provider,{value:n},e)}function J3(t,e){var n,r,i=Yt(d=>pu(d,t)),a=Yt(d=>mu(d,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:zo.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qo.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function hH(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=X_(),{needClipX:a,needClipY:s,needClip:l}=J3(e,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:p}=i;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:a?u:u-f/2,y:s?d:d-p/2,width:a?f:f*2,height:s?p:p*2}))}var Jye=t=>{var{chartData:e}=t,n=Aa(),r=ps();return O.useEffect(()=>r?()=>{}:(n(Z6(e)),()=>{n(Z6(void 0))}),[e,n,r]),null},Ok={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pH=No({name:"brush",initialState:Ok,reducers:{setBrushSettings(t,e){return e.payload==null?Ok:e.payload}}}),{setBrushSettings:oEe}=pH.actions,Zye=pH.reducer;function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){mH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mH(t,e,n){return(e=e0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return typeof e=="symbol"?e:e+""}function t0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n0e=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},r0e=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return n0e({x:e,y:n},{x:r,y:i})};class Q_{static create(e){return new Q_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}mH(Q_,"EPS",1e-4);var i0e=t=>{var e=Object.keys(t).reduce((n,r)=>vb(vb({},n),{},{[r]:Q_.create(t[r])}),{});return vb(vb({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[s,l]=a;return[s,e[s].apply(l,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function a0e(t){return(t%180+180)%180}var s0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=a0e(i),s=a*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},o0e={dots:[],areas:[],lines:[]},gH=No({name:"referenceElements",initialState:o0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=td(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=td(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=td(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:lEe,removeDot:cEe,addArea:uEe,removeArea:dEe,addLine:l0e,removeLine:c0e}=gH.actions,u0e=gH.reducer,vH=O.createContext(void 0),d0e=t=>{var{children:e}=t,[n]=O.useState("".concat(Wy("recharts"),"-clip")),r=X_();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return O.createElement(vH.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:a,height:l,width:s}))),e)},f0e=()=>O.useContext(vH);function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){h0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0e(t,e,n){return(e=p0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p0e(t){var e=m0e(t,"string");return typeof e=="symbol"?e:e+""}function m0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}var g0e=(t,e)=>{var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!Br(e.x1)||!Br(e.y1)||!Br(e.x2)||!Br(e.y2))return null;n=O.createElement("line",lx({},e,{className:"recharts-reference-line-line"}))}return n},v0e=(t,e,n,r,i,a)=>{var{x:s,width:l}=a,u=i.y.apply(t,{position:n});if(tl(u)||e==="discard"&&!i.y.isInRange(u))return null;var d=[{x:s+l,y:u},{x:s,y:u}];return r==="left"?d.reverse():d},y0e=(t,e,n,r,i,a)=>{var{y:s,height:l}=a,u=i.x.apply(t,{position:n});if(tl(u)||e==="discard"&&!i.x.isInRange(u))return null;var d=[{x:u,y:s+l},{x:u,y:s}];return r==="top"?d.reverse():d},b0e=(t,e,n,r)=>{var i=t.map(a=>r.apply(a,{position:n}));return e==="discard"&&i.some(a=>!r.isInRange(a))?null:i},x0e=(t,e,n,r,i,a)=>{var{x:s,y:l,segment:u,ifOverflow:d}=a,f=Ol(s),p=Ol(l);return p?v0e(l,d,n,i,t,e):f?y0e(s,d,n,r,t,e):u!=null&&u.length===2?b0e(u,d,n,t):null};function _0e(t){var e=Aa();return O.useEffect(()=>(e(l0e(t)),()=>{e(c0e(t))})),null}function w0e(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:a}=t,s=ps(),l=f0e(),u=Yt(K=>pu(K,e)),d=Yt(K=>mu(K,n)),f=Yt(K=>Ff(K,"xAxis",e,s)),p=Yt(K=>Ff(K,"yAxis",n,s)),y=V0();if(!l||!y||u==null||d==null||f==null||p==null)return null;var v=i0e({x:f,y:p}),E=x0e(v,y,t.position,u.orientation,d.orientation,t);if(!E)return null;var[{x:A,y:S},{x:I,y:q}]=E,k=a==="hidden"?"url(#".concat(l,")"):void 0,B=kk(kk({clipPath:k},ds(t)),{},{x1:A,y1:S,x2:I,y2:q}),$=r0e({x1:A,y1:S,x2:I,y2:q});return O.createElement(pc,{zIndex:t.zIndex},O.createElement(el,{className:wr("recharts-reference-line",i)},g0e(r,B),O.createElement(Kq,lx({},$,{lowerWidth:$.width,upperWidth:$.width}),O.createElement(Qq,{label:t.label}),t.children)))}var E0e={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:os.line};function s0(t){var e=fs(t,E0e);return O.createElement(O.Fragment,null,O.createElement(_0e,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),O.createElement(w0e,e))}s0.displayName="ReferenceLine";function xg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function yH(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function A0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return s0e(r,n)}function S0e(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function cx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function T0e(t,e){return yH(t,e+1)}function N0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,u=0,d=1,f=s,p=function(){var E=r==null?void 0:r[u];if(E===void 0)return{v:yH(r,d)};var A=u,S,I=()=>(S===void 0&&(S=n(E,A)),S),q=E.coordinate,k=u===0||cx(t,q,I,f,l);k||(u=0,f=s,d+=1),k&&(f=q+t*(I()/2+i),u+=d)},y;d<=a.length;)if(y=p(),y)return y.v;return[]}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return(e=C0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C0e(t){var e=P0e(t,"string");return typeof e=="symbol"?e:e+""}function P0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O0e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:u}=e,d=function(y){var v=a[y],E,A=()=>(E===void 0&&(E=n(v,y)),E);if(y===s-1){var S=t*(v.coordinate+t*A()/2-u);a[y]=v=Is(Is({},v),{},{tickCoord:S>0?v.coordinate-S*t:v.coordinate})}else a[y]=v=Is(Is({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var I=cx(t,v.tickCoord,A,l,u);I&&(u=v.tickCoord-t*(A()/2+i),a[y]=Is(Is({},v),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return a}function R0e(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:u,end:d}=e;if(a){var f=r[l-1],p=n(f,l-1),y=t*(f.coordinate+t*p/2-d);if(s[l-1]=f=Is(Is({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate}),f.tickCoord!=null){var v=cx(t,f.tickCoord,()=>p,u,d);v&&(d=f.tickCoord-t*(p/2+i),s[l-1]=Is(Is({},f),{},{isShow:!0}))}}for(var E=a?l-1:l,A=function(q){var k=s[q],B,$=()=>(B===void 0&&(B=n(k,q)),B);if(q===0){var K=t*(k.coordinate-t*$()/2-u);s[q]=k=Is(Is({},k),{},{tickCoord:K<0?k.coordinate-K*t:k.coordinate})}else s[q]=k=Is(Is({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var L=cx(t,k.tickCoord,$,u,d);L&&(u=k.tickCoord+t*($()/2+i),s[q]=Is(Is({},k),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return s}function Z3(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if($t(u)||yp.isSsr){var y;return(y=T0e(i,$t(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],E=l==="top"||l==="bottom"?"width":"height",A=f&&E==="width"?yy(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(k,B)=>{var $=typeof d=="function"?d(k.value,B):k.value;return E==="width"?A0e(yy($,{fontSize:e,letterSpacing:n}),A,p):yy($,{fontSize:e,letterSpacing:n})[E]},I=i.length>=2?Tl(i[1].coordinate-i[0].coordinate):1,q=S0e(a,I,E);return u==="equidistantPreserveStart"?N0e(I,q,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=R0e(I,q,S,i,s,u==="preserveStartEnd"):v=O0e(I,q,S,i,s),v.filter(k=>k.isShow))}var D0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,d=s+u+l+(n?r:0);return Math.round(d)}return 0},k0e=["axisLine","width","height","className","hide","ticks","axisType"],j0e=["viewBox"],L0e=["viewBox"];function ST(t,e){if(t==null)return{};var n,r,i=M0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function M0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(null,arguments)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){F0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0e(t,e,n){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=B0e(t,"string");return typeof e=="symbol"?e:e+""}function B0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e4={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:os.axis};function V0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var d=ra(ra(ra({},u),Pl(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);d=ra(ra({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=ra(ra({},d),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return O.createElement("line",lp({},d,{className:wr("recharts-cartesian-axis-line",h_(l,"className"))}))}function z0e(t,e,n,r,i,a,s,l,u){var d,f,p,y,v,E,A=l?-1:1,S=t.tickSize||s,I=$t(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,y=n+ +!l*i,p=y-A*S,E=p-A*u,v=I;break;case"left":p=y=t.coordinate,f=e+ +!l*r,d=f-A*S,v=d-A*u,E=I;break;case"right":p=y=t.coordinate,f=e+ +l*r,d=f+A*S,v=d+A*u,E=I;break;default:d=f=t.coordinate,y=n+ +l*i,p=y+A*S,E=p+A*u,v=I;break}return{line:{x1:d,y1:p,x2:f,y2:y},tick:{x:v,y:E}}}function q0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function H0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function $0e(t){var{option:e,tickProps:n,value:r}=t,i,a=wr(n.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))i=O.cloneElement(e,ra(ra({},n),{},{className:a}));else if(typeof e=="function")i=e(ra(ra({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=wr(s,e==null?void 0:e.className)),i=O.createElement(K3,lp({},n,{className:s}),r)}return i}var G0e=O.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:y,y:v,width:E,height:A,tickSize:S,tickMargin:I,fontSize:q,letterSpacing:k,getTicksConfig:B,events:$,axisType:K}=t,L=Z3(ra(ra({},B),{},{ticks:n}),q,k),j=q0e(f,p),D=H0e(f,p),G=Pl(B),P=c_(r),F={};typeof i=="object"&&(F=i);var V=ra(ra({},G),{},{fill:"none"},F),ee=L.map(fe=>ra({entry:fe},z0e(fe,y,v,E,A,f,S,p,I))),ge=ee.map(fe=>{var{entry:me,line:xe}=fe;return O.createElement(el,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},i&&O.createElement("line",lp({},V,xe,{className:wr("recharts-cartesian-axis-tick-line",h_(i,"className"))})))}),se=ee.map((fe,me)=>{var{entry:xe,tick:Ue}=fe,ne=ra(ra(ra(ra({textAnchor:j,verticalAnchor:D},G),{},{stroke:"none",fill:a},P),Ue),{},{index:me,payload:xe,visibleTicksCount:L.length,tickFormatter:s,padding:u},d);return O.createElement(el,lp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},Rse($,xe,me)),r&&O.createElement($0e,{option:r,tickProps:ne,value:"".concat(typeof s=="function"?s(xe.value,me):xe.value).concat(l||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(K,"-ticks")},se.length>0&&O.createElement(pc,{zIndex:os.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(K,"-tick-labels"),ref:e},se)),ge.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(K,"-tick-lines")},ge))}),Y0e=O.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:u}=t,d=ST(t,k0e),[f,p]=O.useState(""),[y,v]=O.useState(""),E=O.useRef(null);O.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return D0e({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=O.useCallback(S=>{if(S){var I=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=I;var q=I[0];if(q){var k=window.getComputedStyle(q),B=k.fontSize,$=k.letterSpacing;(B!==f||$!==y)&&(p(B),v($))}}},[f,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:O.createElement(pc,{zIndex:t.zIndex},O.createElement(el,{className:wr("recharts-cartesian-axis",a)},O.createElement(V0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Pl(t)}),O.createElement(G0e,{ref:A,axisType:u,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),O.createElement(Kq,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},O.createElement(Qq,{label:t.label,labelRef:t.labelRef}),t.children)))}),W0e=O.memo(Y0e,(t,e)=>{var{viewBox:n}=t,r=ST(t,j0e),{viewBox:i}=e,a=ST(e,L0e);return xg(n,i)&&xg(r,a)}),t4=O.forwardRef((t,e)=>{var n=fs(t,e4);return O.createElement(W0e,lp({},n,{ref:e}))});t4.displayName="CartesianAxis";var K0e=["x1","y1","x2","y2","key"],X0e=["offset"],Q0e=["xAxisId","yAxisId"],J0e=["xAxisId","yAxisId"];function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Z0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z0e(t,e,n){return(e=e1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1e(t){var e=t1e(t,"string");return typeof e=="symbol"?e:e+""}function t1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(null,arguments)}function ux(t,e){if(t==null)return{};var n,r,i=n1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r1e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=t;return O.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bH(t){var{option:e,lineItemProps:n}=t,r;if(O.isValidElement(e))r=O.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:l,y2:u,key:d}=n,f=ux(n,K0e),p=(i=Pl(f))!==null&&i!==void 0?i:{},{offset:y}=p,v=ux(p,X0e);r=O.createElement("line",Dh({},v,{x1:a,y1:s,x2:l,y2:u,fill:"none",key:d}))}return r}function i1e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=ux(t,Q0e),u=i.map((d,f)=>{var p=Os(Os({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return O.createElement(bH,{key:"line-".concat(f),option:r,lineItemProps:p})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function a1e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=ux(t,J0e),u=i.map((d,f)=>{var p=Os(Os({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return O.createElement(bH,{option:r,lineItemProps:p,key:"line-".concat(f)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function s1e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var f=d.map((p,y)=>{var v=!d[y+1],E=v?i+s-p:d[y+1]-p;if(E<=0)return null;var A=y%e.length;return O.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:E,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function o1e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==d[0]&&d.unshift(0);var f=d.map((p,y)=>{var v=!d[y+1],E=v?i+s-p:d[y+1]-p;if(E<=0)return null;var A=y%n.length;return O.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:E,height:l,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var l1e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return iV(Z3(Os(Os(Os({},e4),n),{},{ticks:aV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},c1e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return iV(Z3(Os(Os(Os({},e4),n),{},{ticks:aV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},u1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:os.grid};function Z0(t){var e=hV(),n=pV(),r=fV(),i=Os(Os({},fs(t,u1e)),{},{x:$t(t.x)?t.x:r.left,y:$t(t.y)?t.y:r.top,width:$t(t.width)?t.width:r.width,height:$t(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:y,verticalValues:v}=i,E=ps(),A=Yt(D=>V6(D,"xAxis",a,E)),S=Yt(D=>V6(D,"yAxis",s,E));if(!uu(d)||!uu(f)||!$t(l)||!$t(u))return null;var I=i.verticalCoordinatesGenerator||l1e,q=i.horizontalCoordinatesGenerator||c1e,{horizontalPoints:k,verticalPoints:B}=i;if((!k||!k.length)&&typeof q=="function"){var $=y&&y.length,K=q({yAxis:S?Os(Os({},S),{},{ticks:$?y:S.ticks}):void 0,width:e??d,height:n??f,offset:r},$?!0:p);U2(Array.isArray(K),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(k=K)}if((!B||!B.length)&&typeof I=="function"){var L=v&&v.length,j=I({xAxis:A?Os(Os({},A),{},{ticks:L?v:A.ticks}):void 0,width:e??d,height:n??f,offset:r},L?!0:p);U2(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(B=j)}return O.createElement(pc,{zIndex:i.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(r1e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(s1e,Dh({},i,{horizontalPoints:k})),O.createElement(o1e,Dh({},i,{verticalPoints:B})),O.createElement(i1e,Dh({},i,{offset:r,horizontalPoints:k,xAxis:A,yAxis:S})),O.createElement(a1e,Dh({},i,{offset:r,verticalPoints:B,xAxis:A,yAxis:S}))))}Z0.displayName="CartesianGrid";var xH=(t,e,n,r)=>Y_(t,"xAxis",e,r),_H=(t,e,n,r)=>G_(t,"xAxis",e,r),wH=(t,e,n,r)=>Y_(t,"yAxis",n,r),EH=(t,e,n,r)=>G_(t,"yAxis",n,r),d1e=He([Pr,xH,wH,_H,EH],(t,e,n,r,i)=>hu(t,"xAxis")?gg(e,r,!1):gg(n,i,!1)),f1e=(t,e,n,r,i)=>i;function h1e(t){return t.type==="line"}var p1e=He([O3,f1e],(t,e)=>t.filter(h1e).find(n=>n.id===e)),m1e=He([Pr,xH,wH,_H,EH,p1e,d1e,j_],(t,e,n,r,i,a,s,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:p,data:y}=a,v;if(y!=null&&y.length>0?v=y:v=u==null?void 0:u.slice(d,f+1),v!=null)return j1e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:v})}});function AH(t){var e=c_(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var g1e=["id"],v1e=["type","layout","connectNulls","needClip","shape"],y1e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(null,arguments)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){b1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b1e(t,e,n){return(e=x1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x1e(t){var e=_1e(t,"string");return typeof e=="symbol"?e:e+""}function _1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n4(t,e){if(t==null)return{};var n,r,i=w1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E1e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:x_(n,e),payload:t}]};function A1e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:x_(s,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var SH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function S1e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var T1e=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return SH(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>a){l=[...n.slice(0,u),a-d];break}var f=l.length%2===0?[0,s]:[s];return[...S1e(n,i),...l,...f].map(p=>"".concat(p,"px")).join(", ")};function N1e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:l}=r,u=n4(r,g1e),d=Pl(u);return O.createElement(uH,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:e})}function I1e(t){var{showLabels:e,children:n,points:r}=t,i=O.useMemo(()=>r==null?void 0:r.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hc(Hc({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return O.createElement(Zq,{value:e?i:void 0},n)}function Uk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:u,needClip:d,shape:f}=a,p=n4(a,v1e),y=Hc(Hc({},ds(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return O.createElement(O.Fragment,null,(r==null?void 0:r.length)>1&&O.createElement(uye,o0({shapeType:"curve",option:f},y,{pathRef:n})),O.createElement(N1e,{points:r,clipPathId:e,props:a}))}function C1e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function P1e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,animateNewValues:y,width:v,height:E,onAnimationEnd:A,onAnimationStart:S}=n,I=i.current,q=I_(n,"recharts-line-"),[k,B]=O.useState(!1),$=!k,K=O.useCallback(()=>{typeof A=="function"&&A(),B(!1)},[A]),L=O.useCallback(()=>{typeof S=="function"&&S(),B(!0)},[S]),j=C1e(r.current),D=a.current;return O.createElement(I1e,{points:s,showLabels:$},n.children,O.createElement(N_,{animationId:q,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:K,onAnimationStart:L,key:q},G=>{var P=ia(D,j+D,G),F=Math.min(P,j),V;if(u)if(l){var ee="".concat(l).split(/[,\s]+/gim).map(fe=>parseFloat(fe));V=T1e(F,j,ee)}else V=SH(j,F);else V=l==null?void 0:String(l);if(I){var ge=I.length/s.length,se=G===1?s:s.map((fe,me)=>{var xe=Math.floor(me*ge);if(I[xe]){var Ue=I[xe];return Hc(Hc({},fe),{},{x:ia(Ue.x,fe.x,G),y:ia(Ue.y,fe.y,G)})}return y?Hc(Hc({},fe),{},{x:ia(v*2,fe.x,G),y:ia(E/2,fe.y,G)}):Hc(Hc({},fe),{},{x:fe.x,y:fe.y})});return i.current=se,O.createElement(Uk,{props:n,points:se,clipPathId:e,pathRef:r,strokeDasharray:V})}return G>0&&j>0&&(i.current=s,a.current=F),O.createElement(Uk,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:V})}),O.createElement(tH,{label:n.label}))}function O1e(t){var{clipPathId:e,props:n}=t,r=O.useRef(null),i=O.useRef(0),a=O.useRef(null);return O.createElement(P1e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var R1e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:cs(t.payload,e)}};class D1e extends O.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:l,left:u,width:d,height:f,id:p,needClip:y,zIndex:v}=this.props;if(e)return null;var E=wr("recharts-line",i),A=p,{r:S,strokeWidth:I}=AH(n),q=Q3(n),k=S*2+I;return O.createElement(pc,{zIndex:v},O.createElement(el,{className:E},y&&O.createElement("defs",null,O.createElement(hH,{clipPathId:A,xAxisId:a,yAxisId:s}),!q&&O.createElement("clipPath",{id:"clipPath-dots-".concat(A)},O.createElement("rect",{x:u-k/2,y:l-k/2,width:d+k,height:f+k}))),O.createElement(Qye,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:R1e,errorBarOffset:0},O.createElement(O1e,{props:this.props,clipPathId:A}))),O.createElement(AT,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var TH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!yp.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:os.line};function k1e(t){var e=fs(t,TH),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:p,legendType:y,xAxisId:v,yAxisId:E,id:A}=e,S=n4(e,y1e),{needClip:I}=J3(v,E),q=X_(),k=z0(),B=ps(),$=Yt(G=>m1e(G,v,E,B,A));if(k!=="horizontal"&&k!=="vertical"||$==null||q==null)return null;var{height:K,width:L,x:j,y:D}=q;return O.createElement(D1e,o0({},S,{id:A,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:f,hide:d,label:p,legendType:y,xAxisId:v,yAxisId:E,points:$,layout:k,height:K,width:L,left:j,top:D,needClip:I}))}function j1e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:u}=t;return u.map((d,f)=>{var p=cs(d,s);if(e==="horizontal"){var y=F2({axis:n,ticks:i,bandSize:l,entry:d,index:f}),v=wa(p)?null:r.scale(p);return{x:y,y:v,value:p,payload:d}}var E=wa(p)?null:n.scale(p),A=F2({axis:r,ticks:a,bandSize:l,entry:d,index:f});return E==null||A==null?null:{x:E,y:A,value:p,payload:d}}).filter(Boolean)}function L1e(t){var e=fs(t,TH),n=ps();return O.createElement(oH,{id:e.id,type:"line"},r=>O.createElement(O.Fragment,null,O.createElement(aH,{legendPayload:E1e(e)}),O.createElement(iH,{fn:A1e,args:e}),O.createElement(cH,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),O.createElement(k1e,o0({},e,{id:r}))))}var r4=O.memo(L1e);r4.displayName="Line";var NH=(t,e,n,r)=>Y_(t,"xAxis",e,r),IH=(t,e,n,r)=>G_(t,"xAxis",e,r),CH=(t,e,n,r)=>Y_(t,"yAxis",n,r),PH=(t,e,n,r)=>G_(t,"yAxis",n,r),M1e=He([Pr,NH,CH,IH,PH],(t,e,n,r,i)=>hu(t,"xAxis")?gg(e,r,!1):gg(n,i,!1)),F1e=(t,e,n,r,i)=>i,OH=He([O3,F1e],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),U1e=(t,e,n,r,i)=>{var a,s=OH(t,e,n,r,i);if(s!=null){var l=Pr(t),u=hu(l,"xAxis"),d;if(u?d=gT(t,"yAxis",n,r):d=gT(t,"xAxis",e,r),d!=null){var{stackId:f}=s,p=I3(s);if(!(f==null||p==null)){var y=(a=d[f])===null||a===void 0?void 0:a.stackedData;return y==null?void 0:y.find(v=>v.key===p)}}}},B1e=He([Pr,NH,CH,IH,PH,U1e,j_,M1e,OH,Dhe],(t,e,n,r,i,a,s,l,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:y}=s;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:v}=u,E;if(v&&v.length>0?E=v:E=f==null?void 0:f.slice(p,y+1),E!=null)return abe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:E,chartBaseValue:d,bandSize:l})}}),V1e=["id"],z1e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(null,arguments)}function RH(t,e){if(t==null)return{};var n,r,i=q1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){H1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1e(t,e,n){return(e=$1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $1e(t){var e=G1e(t,"string");return typeof e=="symbol"?e:e+""}function G1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dx(t,e){return t&&t!=="none"?t:e}var Y1e=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:dx(r,i),value:x_(n,e),payload:t}]};function W1e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:x_(s,e),hide:l,type:t.tooltipType,color:dx(r,a),unit:u}}}function K1e(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,l=Pl(r);return O.createElement(uH,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:e})}function X1e(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Im(Im({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return O.createElement(Zq,{value:e?i:void 0},n)}function Vk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:l,stroke:u,connectNulls:d,isRange:f}=a,{id:p}=a,y=RH(a,V1e),v=Pl(y),E=ds(y);return O.createElement(O.Fragment,null,(e==null?void 0:e.length)>1&&O.createElement(el,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},O.createElement(vy,Vh({},E,{id:p,points:e,connectNulls:d,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&O.createElement(vy,Vh({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:e})),u!=="none"&&f&&O.createElement(vy,Vh({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:n}))),O.createElement(K1e,{points:e,props:y,clipPathId:i}))}function Q1e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Br(a)||!Br(s))return null;var l=e*Math.abs(a-s),u=Math.max(...r.map(d=>d.x||0));return $t(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.x||0),u)),$t(u)?O.createElement("rect",{x:0,y:a<s?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function J1e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Br(a)||!Br(s))return null;var l=e*Math.abs(a-s),u=Math.max(...r.map(d=>d.y||0));return $t(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(d=>d.y||0),u)),$t(u)?O.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function Z1e(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?O.createElement(Q1e,{alpha:e,points:r,baseLine:i,strokeWidth:a}):O.createElement(J1e,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function ebe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:y,onAnimationEnd:v}=r,E=I_(r,"recharts-area-"),[A,S]=O.useState(!1),I=!A,q=O.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),k=O.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),B=i.current,$=a.current;return O.createElement(X1e,{showLabels:I,points:s},r.children,O.createElement(N_,{animationId:E,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:q,onAnimationStart:k,key:E},K=>{if(B){var L=B.length/s.length,j=K===1?s:s.map((G,P)=>{var F=Math.floor(P*L);if(B[F]){var V=B[F];return Im(Im({},G),{},{x:ia(V.x,G.x,K),y:ia(V.y,G.y,K)})}return G}),D;return $t(l)?D=ia($,l,K):wa(l)||tl(l)?D=ia($,0,K):D=l.map((G,P)=>{var F=Math.floor(P*L);if(Array.isArray($)&&$[F]){var V=$[F];return Im(Im({},G),{},{x:ia(V.x,G.x,K),y:ia(V.y,G.y,K)})}return G}),K>0&&(i.current=j,a.current=D),O.createElement(Vk,{points:j,baseLine:D,needClip:e,clipPathId:n,props:r})}return K>0&&(i.current=s,a.current=l),O.createElement(el,null,u&&O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(n)},O.createElement(Z1e,{alpha:K,points:s,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),O.createElement(el,{clipPath:"url(#animationClipPath-".concat(n,")")},O.createElement(Vk,{points:s,baseLine:l,needClip:e,clipPathId:n,props:r})))}),O.createElement(tH,{label:r.label}))}function tbe(t){var{needClip:e,clipPathId:n,props:r}=t,i=O.useRef(null),a=O.useRef();return O.createElement(ebe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class nbe extends O.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:l,xAxisId:u,yAxisId:d,width:f,height:p,id:y,baseLine:v,zIndex:E}=this.props;if(e)return null;var A=wr("recharts-area",i),S=y,{r:I,strokeWidth:q}=AH(n),k=Q3(n),B=I*2+q;return O.createElement(pc,{zIndex:E},O.createElement(el,{className:A},l&&O.createElement("defs",null,O.createElement(hH,{clipPathId:S,xAxisId:u,yAxisId:d}),!k&&O.createElement("clipPath",{id:"clipPath-dots-".concat(S)},O.createElement("rect",{x:s-B/2,y:a-B/2,width:f+B,height:p+B}))),O.createElement(tbe,{needClip:l,clipPathId:S,props:this.props})),O.createElement(AT,{points:r,mainColor:dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&O.createElement(AT,{points:v,mainColor:dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var DH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!yp.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:os.area};function rbe(t){var e,n=fs(t,DH),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:p,isAnimationActive:y,legendType:v,stroke:E,xAxisId:A,yAxisId:S}=n,I=RH(n,z1e),q=z0(),k=Pq(),{needClip:B}=J3(A,S),$=ps(),{points:K,isRange:L,baseLine:j}=(e=Yt(ee=>B1e(ee,A,S,$,t.id)))!==null&&e!==void 0?e:{},D=X_();if(q!=="horizontal"&&q!=="vertical"||D==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:G,width:P,x:F,y:V}=D;return!K||!K.length?null:O.createElement(nbe,Vh({},I,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:j,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:G,hide:p,layout:q,isAnimationActive:y,isRange:L,legendType:v,needClip:B,points:K,stroke:E,width:P,left:F,top:V,xAxisId:A,yAxisId:S}))}var ibe=(t,e,n,r,i)=>{var a=n??e;if($t(a))return a;var s=t==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function abe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:y,bandSize:v}=t,E=i&&i.length,A=ibe(a,s,n,l,u),S=a==="horizontal",I=!1,q=d.map((B,$)=>{var K;E?K=i[f+$]:(K=cs(B,r),Array.isArray(K)?I=!0:K=[A,K]);var L=K[1]==null||E&&!e&&cs(B,r)==null;return S?{x:F2({axis:l,ticks:p,bandSize:v,entry:B,index:$}),y:L?null:u.scale(K[1]),value:K,payload:B}:{x:L?null:l.scale(K[1]),y:F2({axis:u,ticks:y,bandSize:v,entry:B,index:$}),value:K,payload:B}}),k;return E||I?k=q.map(B=>{var $=Array.isArray(B.value)?B.value[0]:null;return S?{x:B.x,y:$!=null&&B.y!=null?u.scale($):null,payload:B.payload}:{x:$!=null?l.scale($):null,y:B.y,payload:B.payload}}):k=S?u.scale(A):l.scale(A),{points:q,baseLine:k,isRange:I}}function sbe(t){var e=fs(t,DH),n=ps();return O.createElement(oH,{id:e.id,type:"area"},r=>O.createElement(O.Fragment,null,O.createElement(aH,{legendPayload:Y1e(e)}),O.createElement(iH,{fn:W1e,args:e}),O.createElement(cH,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Lle(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),O.createElement(rbe,Vh({},e,{id:r}))))}var i4=O.memo(sbe);i4.displayName="Area";var obe=["dangerouslySetInnerHTML","ticks"],lbe=["id"],cbe=["domain"],ube=["domain"];function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(null,arguments)}function fx(t,e){if(t==null)return{};var n,r,i=dbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fbe(t){var e=Aa();return O.useLayoutEffect(()=>(e(Oye(t)),()=>{e(Rye(t))}),[t,e]),null}var hbe=t=>{var{xAxisId:e,className:n}=t,r=Yt(oV),i=ps(),a="xAxis",s=Yt(S=>Ff(S,a,e,i)),l=Yt(S=>lq(S,a,e,i)),u=Yt(S=>Spe(S,e)),d=Yt(S=>Ope(S,e)),f=Yt(S=>Iz(S,e));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,v=fx(t,obe),{id:E}=f,A=fx(f,lbe);return O.createElement(t4,TT({},v,A,{scale:s,x:d.x,y:d.y,width:u.width,height:u.height,className:wr("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},pbe={allowDataOverflow:zo.allowDataOverflow,allowDecimals:zo.allowDecimals,allowDuplicatedCategory:zo.allowDuplicatedCategory,height:zo.height,hide:!1,mirror:zo.mirror,orientation:zo.orientation,padding:zo.padding,reversed:zo.reversed,scale:zo.scale,tickCount:zo.tickCount,type:zo.type,xAxisId:0},mbe=t=>{var e,n,r,i,a,s=fs(t,pbe);return O.createElement(O.Fragment,null,O.createElement(fbe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),O.createElement(hbe,s))},gbe=(t,e)=>{var{domain:n}=t,r=fx(t,cbe),{domain:i}=e,a=fx(e,ube);return xg(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:xg({domain:n},{domain:i}):!1},e1=O.memo(mbe,gbe);e1.displayName="XAxis";var vbe=["dangerouslySetInnerHTML","ticks"],ybe=["id"],bbe=["domain"],xbe=["domain"];function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(null,arguments)}function hx(t,e){if(t==null)return{};var n,r,i=_be(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _be(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wbe(t){var e=Aa();return O.useLayoutEffect(()=>(e(Dye(t)),()=>{e(kye(t))}),[t,e]),null}var Ebe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=O.useRef(null),s=O.useRef(null),l=Yt(oV),u=ps(),d=Aa(),f="yAxis",p=Yt($=>Ff($,f,e,u)),y=Yt($=>kpe($,e)),v=Yt($=>Dpe($,e)),E=Yt($=>lq($,f,e,u)),A=Yt($=>Cz($,e));if(O.useLayoutEffect(()=>{if(!(r!=="auto"||!y||X3(i)||O.isValidElement(i)||A==null)){var $=a.current;if($){var K=$.getCalculatedWidth();Math.round(y.width)!==Math.round(K)&&d(jye({id:e,width:K}))}}},[E,y,d,i,e,r,A]),y==null||v==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:I}=t,q=hx(t,vbe),{id:k}=A,B=hx(A,ybe);return O.createElement(t4,NT({},q,B,{ref:a,labelRef:s,scale:p,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:wr("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:E,axisType:f}))},Abe={allowDataOverflow:qo.allowDataOverflow,allowDecimals:qo.allowDecimals,allowDuplicatedCategory:qo.allowDuplicatedCategory,hide:!1,mirror:qo.mirror,orientation:qo.orientation,padding:qo.padding,reversed:qo.reversed,scale:qo.scale,tickCount:qo.tickCount,type:qo.type,width:qo.width,yAxisId:0},Sbe=t=>{var e,n,r,i,a,s=fs(t,Abe);return O.createElement(O.Fragment,null,O.createElement(wbe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),O.createElement(Ebe,s))},Tbe=(t,e)=>{var{domain:n}=t,r=hx(t,bbe),{domain:i}=e,a=hx(e,xbe);return xg(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:xg({domain:n},{domain:i}):!1},t1=O.memo(Sbe,Tbe);t1.displayName="YAxis";var hA={exports:{}},pA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function Nbe(){if(zk)return pA;zk=1;var t=_g();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return pA.useSyncExternalStoreWithSelector=function(u,d,f,p,y){var v=i(null);if(v.current===null){var E={hasValue:!1,value:null};v.current=E}else E=v.current;v=s(function(){function S($){if(!I){if(I=!0,q=$,$=p($),y!==void 0&&E.hasValue){var K=E.value;if(y(K,$))return k=K}return k=$}if(K=k,n(q,$))return K;var L=p($);return y!==void 0&&y(K,L)?(q=$,K):(q=$,k=L)}var I=!1,q,k,B=f===void 0?null:f;return[function(){return S(d())},B===null?void 0:function(){return S(B())}]},[d,f,p,y]);var A=r(u,v[0],v[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),l(A),A},pA}var qk;function Ibe(){return qk||(qk=1,hA.exports=Nbe()),hA.exports}Ibe();function Cbe(t){t()}function Pbe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Cbe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Hk={notify(){},get:()=>[]};function Obe(t,e){let n,r=Hk,i=0,a=!1;function s(A){f();const S=r.subscribe(A);let I=!1;return()=>{I||(I=!0,S(),p())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function d(){return a}function f(){i++,n||(n=t.subscribe(u),r=Pbe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Hk)}function y(){a||(a=!0,f())}function v(){a&&(a=!1,p())}const E={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>r};return E}var Rbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dbe=Rbe(),kbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jbe=kbe(),Lbe=()=>Dbe||jbe?O.useLayoutEffect:O.useEffect,Mbe=Lbe(),mA=Symbol.for("react-redux-context"),gA=typeof globalThis<"u"?globalThis:{};function Fbe(){if(!O.createContext)return{};const t=gA[mA]??(gA[mA]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Ube=Fbe();function Bbe(t){const{children:e,context:n,serverState:r,store:i}=t,a=O.useMemo(()=>{const u=Obe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=O.useMemo(()=>i.getState(),[i]);Mbe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=n||Ube;return O.createElement(l.Provider,{value:a},e)}var Vbe=Bbe,zbe=(t,e)=>e,a4=He([zbe,Pr,Tz,Na,Aq,Ad,Hme,hs],Qme),s4=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},kH=Rl("mouseClick"),jH=U0();jH.startListening({actionCreator:kH,effect:(t,e)=>{var n=t.payload,r=a4(e.getState(),s4(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Gpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var IT=Rl("mouseMove"),LH=U0();LH.startListening({actionCreator:IT,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=B3(r,r.tooltip.settings.shared),a=a4(r,s4(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(mq({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(pq()))}});var $k={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},MH=No({name:"rootProps",initialState:$k,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:$k.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),qbe=MH.reducer,{updateOptions:Hbe}=MH.actions,FH=No({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:fEe}=FH.actions,$be=FH.reducer,UH=Rl("keyDown"),BH=Rl("focus"),o4=U0();o4.startListening({actionCreator:UH,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(V3(i,qg(n))),l=Ad(n);if(a==="Enter"){var u=rx(n,"axis","hover",String(i.index));e.dispatch(yT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=Fpe(n),f=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=s+p*f;if(!(l==null||y>=l.length||y<0)){var v=rx(n,"axis","hover",String(y));e.dispatch(yT({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});o4.startListening({actionCreator:BH,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=rx(n,"axis","hover",String(a));e.dispatch(yT({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Al=Rl("externalEvent"),VH=U0();VH.startListening({actionCreator:Al,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Cme(n),activeDataKey:Nme(n),activeIndex:i0(n),activeLabel:Nq(n),activeTooltipIndex:i0(n),isTooltipActive:Pme(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Gbe=He([zg],t=>t.tooltipItemPayloads),Ybe=He([Gbe,Q0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),zH=Rl("touchMove"),qH=U0();qH.startListening({actionCreator:zH,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=B3(r,r.tooltip.settings.shared);if(i==="axis"){var a=a4(r,s4({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(mq({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(qle),f=(s=u.getAttribute(Hle))!==null&&s!==void 0?s:void 0,p=Ybe(e.getState(),d,f);e.dispatch($pe({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}}});var Wbe=RB({brush:Zye,cartesianAxis:Lye,chartData:Ige,errorBars:$ye,graphicalItems:yye,layout:Tle,legend:Ece,options:Ege,polarAxis:$ve,polarOptions:$be,referenceElements:u0e,rootProps:qbe,tooltip:Ype,zIndex:dge}),Kbe=function(e){return Qoe({reducer:Wbe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([jH.middleware,LH.middleware,o4.middleware,VH.middleware,qH.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(HB({type:"raf"}))},devTools:yp.devToolsEnabled})};function Xbe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ps(),a=O.useRef(null);if(i)return n;a.current==null&&(a.current=Kbe(e));var s=HI;return O.createElement(Vbe,{context:s,store:a.current},n)}function Qbe(t){var{layout:e,margin:n}=t,r=Aa(),i=ps();return O.useEffect(()=>{i||(r(Ele(e)),r(wle(n)))},[r,i,e,n]),null}function Jbe(t){var e=Aa();return O.useEffect(()=>{e(Hbe(t))},[e,t]),null}function Gk(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=sH("".concat(r).concat(e)),a=Aa();return O.useLayoutEffect(()=>(a(cge({zIndex:e,elementId:i,isPanorama:n})),()=>{a(uge({zIndex:e,isPanorama:n}))}),[a,e,i,n]),O.createElement("g",{id:i})}function Yk(t){var{children:e,isPanorama:n}=t,r=Yt(Zme);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return O.createElement(O.Fragment,null,i.map(s=>O.createElement(Gk,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>O.createElement(Gk,{key:s,zIndex:s,isPanorama:n})))}var Zbe=["children"];function e2e(t,e){if(t==null)return{};var n,r,i=t2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(null,arguments)}var n2e={width:"100%",height:"100%",display:"block"},r2e=O.forwardRef((t,e)=>{var n=hV(),r=pV(),i=gV();if(!uu(n)||!uu(r))return null;var{children:a,otherAttributes:s,title:l,desc:u}=t,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),O.createElement(WU,px({},s,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:n2e,ref:e}),a)}),i2e=t=>{var{children:e}=t,n=Yt(A_);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return O.createElement(WU,{width:r,height:i,x:s,y:a},e)},Wk=O.forwardRef((t,e)=>{var{children:n}=t,r=e2e(t,Zbe),i=ps();return i?O.createElement(i2e,null,O.createElement(Yk,{isPanorama:!0},n)):O.createElement(r2e,px({ref:e},r),O.createElement(Yk,{isPanorama:!1},n))});function a2e(){var t=Aa(),[e,n]=O.useState(null),r=Yt(zle);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Br(a)&&a!==r&&t(Sle(a))}},[e,t,r]),n}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){o2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o2e(t,e,n){return(e=l2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l2e(t){var e=c2e(t,"string");return typeof e=="symbol"?e:e+""}function c2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(null,arguments)}var u2e=()=>(Mge(),null);function mx(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var d2e=O.forwardRef((t,e)=>{var n,r,i=O.useRef(null),[a,s]=O.useState({containerWidth:mx((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:mx((r=t.style)===null||r===void 0?void 0:r.height)}),l=O.useCallback((d,f)=>{s(p=>{var y=Math.round(d),v=Math.round(f);return p.containerWidth===y&&p.containerHeight===v?p:{containerWidth:y,containerHeight:v}})},[]),u=O.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var y=E=>{var{width:A,height:S}=E[0].contentRect;l(A,S)},v=new ResizeObserver(y);v.observe(d),i.current=v}},[e,l]);return O.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[l]),O.createElement(O.Fragment,null,O.createElement(T_,{width:a.containerWidth,height:a.containerHeight}),O.createElement("div",cp({ref:u},t)))}),f2e=O.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=O.useState({containerWidth:mx(n),containerHeight:mx(r)}),s=O.useCallback((u,d)=>{a(f=>{var p=Math.round(u),y=Math.round(d);return f.containerWidth===p&&f.containerHeight===y?f:{containerWidth:p,containerHeight:y}})},[]),l=O.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f)}},[e,s]);return O.createElement(O.Fragment,null,O.createElement(T_,{width:i.containerWidth,height:i.containerHeight}),O.createElement("div",cp({ref:l},t)))}),h2e=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return O.createElement(O.Fragment,null,O.createElement(T_,{width:n,height:r}),O.createElement("div",cp({ref:e},t)))}),p2e=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return ld(n)||ld(r)?O.createElement(f2e,cp({},t,{ref:e})):O.createElement(h2e,cp({},t,{ref:e}))});function m2e(t){return t===!0?d2e:p2e}var g2e=O.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:y,onTouchEnd:v,onTouchMove:E,onTouchStart:A,style:S,width:I,responsive:q,dispatchTouchEvents:k=!0}=t,B=O.useRef(null),$=Aa(),[K,L]=O.useState(null),[j,D]=O.useState(null),G=a2e(),P=XI(),F=(P==null?void 0:P.width)>0?P.width:I,V=(P==null?void 0:P.height)>0?P.height:i,ee=O.useCallback(he=>{G(he),typeof e=="function"&&e(he),L(he),D(he),he!=null&&(B.current=he)},[G,e,L,D]),ge=O.useCallback(he=>{$(kH(he)),$(Al({handler:a,reactEvent:he}))},[$,a]),se=O.useCallback(he=>{$(IT(he)),$(Al({handler:d,reactEvent:he}))},[$,d]),fe=O.useCallback(he=>{$(pq()),$(Al({handler:f,reactEvent:he}))},[$,f]),me=O.useCallback(he=>{$(IT(he)),$(Al({handler:p,reactEvent:he}))},[$,p]),xe=O.useCallback(()=>{$(BH())},[$]),Ue=O.useCallback(he=>{$(UH(he.key))},[$]),ne=O.useCallback(he=>{$(Al({handler:s,reactEvent:he}))},[$,s]),M=O.useCallback(he=>{$(Al({handler:l,reactEvent:he}))},[$,l]),X=O.useCallback(he=>{$(Al({handler:u,reactEvent:he}))},[$,u]),Z=O.useCallback(he=>{$(Al({handler:y,reactEvent:he}))},[$,y]),de=O.useCallback(he=>{$(Al({handler:A,reactEvent:he}))},[$,A]),pe=O.useCallback(he=>{k&&$(zH(he)),$(Al({handler:E,reactEvent:he}))},[$,k,E]),ye=O.useCallback(he=>{$(Al({handler:v,reactEvent:he}))},[$,v]),Pe=m2e(q);return O.createElement(Lq.Provider,{value:K},O.createElement(jae.Provider,{value:j},O.createElement(Pe,{width:F??(S==null?void 0:S.width),height:V??(S==null?void 0:S.height),className:wr("recharts-wrapper",r),style:s2e({position:"relative",cursor:"default",width:F,height:V},S),onClick:ge,onContextMenu:ne,onDoubleClick:M,onFocus:xe,onKeyDown:Ue,onMouseDown:X,onMouseEnter:se,onMouseLeave:fe,onMouseMove:me,onMouseUp:Z,onTouchEnd:ye,onTouchMove:pe,onTouchStart:de,ref:ee},O.createElement(u2e,null),n)))}),v2e=["width","height","responsive","children","className","style","compact","title","desc"];function y2e(t,e){if(t==null)return{};var n,r,i=b2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function b2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x2e=O.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:u,title:d,desc:f}=t,p=y2e(t,v2e),y=Pl(p);return u?O.createElement(O.Fragment,null,O.createElement(T_,{width:n,height:r}),O.createElement(Wk,{otherAttributes:y,title:d,desc:f},a)):O.createElement(g2e,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(Wk,{otherAttributes:y,title:d,desc:f,ref:e},O.createElement(d0e,null,a)))});function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT.apply(null,arguments)}var _2e={top:5,right:5,bottom:5,left:5},w2e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_2e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},HH=O.forwardRef(function(e,n){var r,i=fs(e.categoricalChartProps,w2e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return O.createElement(Xbe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},O.createElement(Jye,{chartData:d.data}),O.createElement(Qbe,{layout:i.layout,margin:i.margin}),O.createElement(Jbe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),O.createElement(x2e,CT({},i,{ref:n})))}),E2e=["axis"],$H=O.forwardRef((t,e)=>O.createElement(HH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:E2e,tooltipPayloadSearcher:Mq,categoricalChartProps:t,ref:e})),A2e=["axis"],GH=O.forwardRef((t,e)=>O.createElement(HH,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:A2e,tooltipPayloadSearcher:Mq,categoricalChartProps:t,ref:e}));const vA=(t,e)=>e==="kph"?t*3.6:e==="mph"?t*2.23694:t,S2e=(t,e)=>e==="imperial"?t*1.09361:t,T2e=(t,e,n,r,i)=>{if(t.length<2)return null;const a=s=>{const l=t.findIndex(p=>p.distance>=s);if(l===-1||l===0)return null;const u=t[l-1],d=t[l],f=(s-u.distance)/(d.distance-u.distance);return u.timestamp+f*(d.timestamp-u.timestamp)};if(e===ct.ACCELERATION){const s=a(n);return s?(s/1e3).toFixed(3)+"s":null}if(e===ct.FLY){const s=a(r),l=a(r+i);if(s&&l)return((l-s)/1e3).toFixed(3)+"s"}if(e===ct.FORTY_YARD_DASH){const s=a(36.576);return s?(s/1e3).toFixed(3)+"s":null}if(e===ct.SIXTY_METER_RUN){const s=a(60);return s?(s/1e3).toFixed(3)+"s":null}return null},N2e=({activeSession:t,availableAthletes:e,allAthletes:n,settings:r,initialTestType:i,onSaveSession:a,onUpdateRun:s,onEndSession:l,onViewRun:u,onUpdateSessionAthletes:d,onCreateAthlete:f})=>{var ms;const[p,y]=O.useState(((ms=e[0])==null?void 0:ms.id)||""),[v,E]=O.useState(!1),[A,S]=O.useState(!1),[I,q]=O.useState([]),[k,B]=O.useState("Ready"),[$,K]=O.useState(null),[L,j]=O.useState(null),[D,G]=O.useState(!1),[P,F]=O.useState(null),[V,ee]=O.useState(0),[ge,se]=O.useState(!1),[fe,me]=O.useState(!1),[xe,Ue]=O.useState([]),[ne,M]=O.useState(""),[X,Z]=O.useState(!1),[de,pe]=O.useState(!1),[ye,Pe]=O.useState(""),[he,Ce]=O.useState(null),[Ve,Se]=O.useState(""),[rt,it]=O.useState(""),[oe,Xe]=O.useState(null),[Nt,yt]=O.useState(!1),[qe,ht]=O.useState(""),[vt,Bt]=O.useState(""),[Rt,cn]=O.useState("Male"),[dn,Jt]=O.useState(""),[gn,st]=O.useState(""),dt=O.useRef(!1),Et=O.useRef(null),[Fe,wn]=O.useState(i||ct.FREE_RUN),[Vt,It]=O.useState(30),[Mt,nn]=O.useState(20),[xt,un]=O.useState(10),[_t,zt]=O.useState(null),[Tn,ft]=O.useState(!1),gt=O.useRef(0),Kt=O.useRef(0),Gn=O.useRef(0),Mr=O.useRef([]);O.useEffect(()=>{e.length>0&&!e.find(nt=>nt.id===p)&&y(e[0].id)},[e,p]),O.useEffect(()=>{dt.current=A},[A]),O.useEffect(()=>{ge&&(Ue(t.athleteIds),M(""),Z(!1))},[ge,t.athleteIds]);const oa=O.useCallback(nt=>{const rn=nt/100;if(ee(rn),!dt.current)return;const Qn=performance.now()-gt.current,ur=(Qn-Gn.current)/1e3;let gs=0;ur>0&&Gn.current>0&&(gs=(rn-Kt.current)/ur,gs=Math.max(0,Math.min(gs,15)));const Jr={timestamp:Qn,distance:rn,speed:gs};Mr.current.push(Jr),q(la=>[...la,Jr]),Kt.current=rn,Gn.current=Qn;let Yn=!1;Fe===ct.ACCELERATION&&rn>=Vt&&(Yn=!0),Fe===ct.FLY&&rn>=Mt+xt&&(Yn=!0),(Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP)&&_t&&rn>=_t&&(Yn=!0),Fe===ct.FORTY_YARD_DASH&&rn>=36.576&&(Yn=!0),Fe===ct.SIXTY_METER_RUN&&rn>=60&&(Yn=!0),Yn&&Ri()},[Fe,Vt,Mt,xt,_t]);O.useEffect(()=>{Et.current=oa},[oa]),O.useEffect(()=>(qc.setOnData(oa),qc.setOnStatus(B),()=>{$&&clearInterval($)}),[oa,$]);const di=async()=>{var nt;if(v)await qc.disconnect(),E(!1);else try{await qc.connect(),E(!0)}catch(rn){console.error(rn),(nt=rn.message)!=null&&nt.includes("Permissions policy")?alert("Connection Blocked: The browser's permission policy prevented the Serial connection. Please ensure this app is running in a secure context (HTTPS) or a compatible environment."):rn.name==="NotFoundError"||alert("Failed to connect: "+(rn.message||"Unknown error"))}},qt=()=>{if(!v)if($)clearInterval($),K(null),B("Ready"),A&&Ri();else{B("Demo Mode Active");let nt=0,rn=0,hr=0,Qn=0;const ur=window.setInterval(()=>{if(!dt.current){const vs=(Math.random()-.5)*.1;Et.current&&Et.current(4e3+vs*100),nt=0;return}nt===0&&(nt=performance.now(),rn=.15+Math.random()*.25,hr=9+Math.random()*3,Qn=1+Math.random()*.6);const Jr=(performance.now()-nt)/1e3;let Yn=0;if(Jr>rn){const vs=Jr-rn;Yn=hr*(vs-Qn*(1-Math.exp(-vs/Qn))),Yn+=(Math.random()-.5)*.02}(Fe===ct.LONG_JUMP||Fe===ct.POLE_VAULT)&&Yn>45&&(Yn=45),Fe===ct.FORTY_YARD_DASH&&Yn>40&&(Yn=40),Fe===ct.SIXTY_METER_RUN&&Yn>65&&(Yn=65);const la=Math.floor(Math.max(0,Yn*100));Et.current&&Et.current(la)},20);K(ur)}},js=()=>{q([]),Mr.current=[],gt.current=performance.now(),Kt.current=0,Gn.current=0,j(null),pe(!1),yt(!1),S(!0),B("Recording...")},Ri=()=>{S(!1),B("Finished"),yt(!0);const nt=T2e(Mr.current,Fe,Vt,Mt,xt);if(nt&&j(nt),Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP){if(Mr.current.length>0){const rn=Math.max(...Mr.current.map(hr=>hr.distance));Xe(rn)}else Xe(null);pe(!0)}},Di=()=>{if(!p)return;const nt={type:Fe,targetDistance:Fe===ct.ACCELERATION?Vt:void 0,runUpDistance:Fe===ct.FLY?Mt:void 0,flyDistance:Fe===ct.FLY?xt:void 0,boardLocation:_t||void 0},rn={id:Date.now().toString(),athleteId:p,date:new Date().toISOString(),data:I,config:nt,notes:Ve||void 0};(Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP)&&ye&&(rn.jumpResult={resultMetric:Number(ye),successful:Fe===ct.POLE_VAULT&&he!==null?he:void 0,boardLocation:_t||void 0,takeoffLocation:oe||void 0,stepCount:rt?Number(rt):void 0}),a(rn),q([]),j(null),Pe(""),it(""),Se(""),Ce(null),pe(!1),yt(!1),B("Ready")},ki=()=>{q([]),j(null),Pe(""),it(""),Se(""),Ce(null),pe(!1),yt(!1),B("Ready")},Xn=nt=>{xe.includes(nt)?Ue(xe.filter(rn=>rn!==nt)):Ue([...xe,nt])},cr=nt=>{if(nt.preventDefault(),!qe)return;const rn={id:Date.now().toString(),name:qe,email:vt||void 0,gender:Rt,dob:dn||void 0,primaryEvent:gn||void 0};f(rn),Ue(hr=>[...hr,rn.id]),ht(""),Bt(""),Jt(""),st(""),Z(!1)},Xr=()=>{d(xe),se(!1)},ji=()=>{zt(V),B(`Board Set at ${V.toFixed(2)}m`),me(!1)},fi=nt=>{Ce(rn=>rn===nt?null:nt)},Vn=I.length>0?I[I.length-1].speed:0,ir=I.length>0?I[I.length-1].distance:0,Qr=vA(Vn,r.speedUnit),Wi=S2e(ir,r.distanceUnit),Ca=n.filter(nt=>nt.name.toLowerCase().includes(ne.toLowerCase())),Js=HT.useMemo(()=>_t?I.map(nt=>({...nt,relativeDist:-(_t-nt.distance)})):I,[I,_t]),$a=Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP,Li=!A&&$a;return m.jsxs("div",{className:"flex h-full gap-6 relative",children:[fe&&m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[100]",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center border border-[#E9E9E7] animate-in zoom-in-95",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"w-16 h-16 bg-[#F7F7F5] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#E9E9E7]",children:m.jsx(Sie,{size:32,className:"text-[#37352F]"})}),m.jsx("h3",{className:"text-2xl font-serif font-bold text-[#37352F]",children:"Calibrate Takeoff"}),m.jsxs("p",{className:"text-sm text-[#787774] mt-2",children:["Stand at the takeoff board/box. ",m.jsx("br",{}),"The laser should be pointing at you."]})]}),m.jsxs("div",{className:"bg-[#37352F] text-white rounded-lg p-8 mb-6 shadow-inner",children:[m.jsxs("div",{className:"text-6xl font-mono font-bold tracking-tighter",children:[V.toFixed(2),m.jsx("span",{className:"text-2xl text-gray-400",children:"m"})]}),m.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mt-2 animate-pulse",children:"Live Laser Reading"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-3 rounded text-[#787774] font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{onClick:ji,className:"flex-[2] py-3 bg-[#37352F] text-white rounded font-medium shadow-sm hover:bg-[#2F2F2F] transition-colors flex items-center justify-center gap-2",children:[m.jsx(jf,{size:18})," Set as Board"]})]})]})}),ge&&m.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[100]",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl m-4 flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5] rounded-t-lg",children:[m.jsx("h3",{className:"font-serif font-bold text-[#37352F] text-lg",children:"Manage Session Athletes"}),m.jsx("button",{onClick:()=>se(!1),className:"p-1 hover:bg-[#E9E9E7] rounded",children:m.jsx(dc,{size:20})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(zU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),m.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search athletes...",value:ne,onChange:nt=>M(nt.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#F7F7F5] border border-[#E9E9E7] rounded text-sm focus:outline-none focus:border-[#37352F]"})]}),m.jsxs("button",{onClick:()=>Z(!X),className:"px-4 py-2 bg-[#37352F] text-white rounded text-sm font-medium flex items-center gap-2",children:[m.jsx(Yy,{size:16})," New"]})]}),X&&m.jsx("div",{className:"bg-[#F7F7F5] p-4 rounded border border-[#E9E9E7] mb-4",children:m.jsxs("form",{onSubmit:cr,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsx("input",{placeholder:"Full Name *",required:!0,value:qe,onChange:nt=>ht(nt.target.value),className:"bg-white border border-[#E9E9E7] rounded p-2 text-xs outline-none"}),m.jsx("button",{type:"submit",className:"col-span-2 bg-[#37352F] text-white px-3 py-1.5 rounded text-xs font-medium",children:"Create"})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Ca.map(nt=>m.jsxs("div",{onClick:()=>Xn(nt.id),className:`flex items-center p-2 rounded cursor-pointer border ${xe.includes(nt.id)?"bg-green-50 border-green-200":"bg-white border-transparent"}`,children:[m.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center mr-3 ${xe.includes(nt.id)?"bg-green-500 border-green-500":"border-[#E9E9E7]"}`,children:xe.includes(nt.id)&&m.jsx(jf,{size:12,className:"text-white"})}),m.jsx("div",{className:"text-sm font-medium",children:nt.name})]},nt.id))})]}),m.jsxs("div",{className:"p-4 border-t border-[#E9E9E7] flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>se(!1),className:"px-4 py-2 text-sm text-[#787774] hover:bg-[#F7F7F5] rounded",children:"Cancel"}),m.jsx("button",{onClick:Xr,className:"px-6 py-2 text-sm bg-[#37352F] text-white rounded",children:"Update Session"})]})]})}),m.jsxs("div",{className:"flex-1 flex flex-col max-w-5xl mx-auto w-full",children:[m.jsxs("div",{className:"mb-4 bg-white sticky top-0 z-10 pt-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-[#787774] font-bold uppercase tracking-wider mb-1",children:"Active Session"}),m.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:t.name})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>G(!D),className:"md:hidden p-2 border rounded text-[#787774]",children:m.jsx(VU,{size:16})}),!v&&m.jsx("button",{onClick:qt,className:`px-3 py-1.5 text-sm rounded border transition-colors ${$?"bg-yellow-50 border-yellow-200 text-yellow-700":"bg-white border-[#E9E9E7] text-[#37352F] hover:bg-[#F7F7F5]"}`,children:$?"Stop Demo":"Demo Mode"}),m.jsx("button",{onClick:di,className:`px-3 py-1.5 text-sm rounded border flex items-center gap-2 transition-colors ${v?"bg-red-50 border-red-200 text-red-700":"bg-[#37352F] border-[#37352F] text-white hover:bg-[#2F2F2F]"}`,children:v?m.jsx(m.Fragment,{children:m.jsx(kI,{size:14})}):m.jsxs(m.Fragment,{children:[m.jsx(HU,{size:14})," Connect"]})}),m.jsx("button",{onClick:l,className:"px-3 py-1.5 text-sm rounded border border-[#E9E9E7] text-[#37352F] hover:bg-red-50 hover:text-red-600 transition-colors ml-2 font-medium",children:"Finish"})]})]}),m.jsxs("div",{className:"flex overflow-x-auto pb-2 gap-3 no-scrollbar items-center mb-2",children:[e.map(nt=>m.jsxs("button",{onClick:()=>y(nt.id),className:`flex-shrink-0 flex items-center gap-3 pl-2 pr-4 py-2 rounded-full border transition-all ${nt.id===p?"bg-[#37352F] text-white border-[#37352F] shadow-sm":"bg-white border-[#E9E9E7] text-[#37352F] hover:bg-[#F7F7F5]"}`,children:[m.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${nt.id===p?"bg-white text-[#37352F]":"bg-[#F7F7F5] text-[#787774]"}`,children:nt.name.charAt(0)}),m.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:nt.name})]},nt.id)),m.jsx("button",{onClick:()=>se(!0),className:"flex-shrink-0 w-10 h-10 rounded-full bg-[#F7F7F5] border border-[#E9E9E7] flex items-center justify-center text-[#787774] hover:bg-[#EFEFED] transition-colors",children:m.jsx(Yy,{size:18})})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>ft(!Tn),className:"flex items-center gap-2 text-[#37352F] hover:bg-[#F7F7F5] px-3 py-1.5 rounded transition-colors border border-transparent hover:border-[#E9E9E7]",children:[m.jsx("span",{className:"font-bold text-lg font-serif",children:Ps[Fe].label}),m.jsx(PI,{size:16,className:`text-[#9B9A97] transition-transform ${Tn?"rotate-180":""}`})]}),(Fe===ct.LONG_JUMP||Fe===ct.POLE_VAULT)&&m.jsxs("button",{onClick:()=>me(!0),className:`flex items-center gap-2 border px-3 py-1.5 rounded text-xs transition-colors ${_t?"bg-green-50 border-green-200 text-green-700":"bg-white border-[#E9E9E7] hover:bg-[#F7F7F5]"}`,children:[m.jsx(hg,{size:12})," ",_t?"Reset Board":"Calibrate Board"]})]}),Tn&&m.jsxs("div",{className:"mt-3 p-4 bg-[#F7F7F5] border border-[#E9E9E7] rounded-lg animate-in slide-in-from-top-2",children:[m.jsx("h3",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-3",children:"Test Configuration"}),m.jsxs("div",{className:"flex flex-wrap gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Measurement Type"}),m.jsx("select",{value:Fe,onChange:nt=>wn(nt.target.value),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F] min-w-[200px]",children:Object.entries(Ps).map(([nt,rn])=>m.jsx("option",{value:nt,children:rn.label},nt))})]}),Fe===ct.ACCELERATION&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Target Distance (m)"}),m.jsx("input",{type:"number",value:Vt,onChange:nt=>It(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-24 outline-none focus:border-[#37352F]"})]}),Fe===ct.FLY&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Run Up (m)"}),m.jsx("input",{type:"number",value:Mt,onChange:nt=>nn(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-24 outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Fly Zone (m)"}),m.jsx("input",{type:"number",value:xt,onChange:nt=>un(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-24 outline-none focus:border-[#37352F]"})]})]}),(Fe===ct.LONG_JUMP||Fe===ct.POLE_VAULT)&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Board Location (m)"}),m.jsx("input",{type:"number",value:_t||"",placeholder:"Not set",onChange:nt=>zt(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-28 outline-none focus:border-[#37352F]"}),m.jsx("div",{className:"text-[10px] text-[#9B9A97] mt-1",children:"Or use Calibrate button"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"p-6 border border-[#E9E9E7] rounded bg-white shadow-sm flex flex-col items-center justify-center",children:[m.jsx("span",{className:"text-[#9B9A97] text-xs uppercase font-medium mb-1",children:"Speed"}),m.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-[#37352F] tabular-nums",children:[Qr.toFixed(1)," ",m.jsx("span",{className:"text-lg text-[#9B9A97] font-normal",children:iu.speed[r.speedUnit]})]})]}),m.jsxs("div",{className:"p-6 border border-[#E9E9E7] rounded bg-white shadow-sm flex flex-col items-center justify-center",children:[m.jsx("span",{className:"text-[#9B9A97] text-xs uppercase font-medium mb-1",children:"Distance"}),m.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-[#37352F] tabular-nums",children:[Wi.toFixed(2)," ",m.jsx("span",{className:"text-lg text-[#9B9A97] font-normal",children:iu.distance[r.distanceUnit]})]})]})]}),m.jsx("div",{className:"flex-1 border border-[#E9E9E7] rounded bg-white p-4 relative min-h-[250px] shadow-sm mb-6",children:m.jsx(S_,{width:"100%",height:"100%",children:m.jsxs(GH,{data:Js,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorSpeed",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#37352F",stopOpacity:.1}),m.jsx("stop",{offset:"95%",stopColor:"#37352F",stopOpacity:0})]})}),m.jsx(Z0,{strokeDasharray:"3 3",stroke:"#E9E9E7",vertical:!1}),m.jsx(e1,{dataKey:_t?"relativeDist":"distance",type:"number",unit:"m",domain:["auto","auto"],tickLine:!1,axisLine:!1,tick:{fill:"#9B9A97",fontSize:12}}),m.jsx(t1,{tickLine:!1,axisLine:!1,tick:{fill:"#9B9A97",fontSize:12}}),m.jsx(K_,{contentStyle:{backgroundColor:"#FFFFFF",borderColor:"#E9E9E7"},formatter:nt=>vA(Number(nt),r.speedUnit).toFixed(2)}),_t&&m.jsx(s0,{x:0,stroke:"#10B981",strokeDasharray:"3 3",label:{value:"TAKEOFF",fill:"#10B981",fontSize:10,position:"insideTop"}}),m.jsx(i4,{type:"monotone",dataKey:"speed",stroke:"#37352F",strokeWidth:2,fill:"url(#colorSpeed)",isAnimationActive:!1})]})})}),de?m.jsxs("div",{className:"bg-white rounded-lg border border-[#E9E9E7] shadow-md p-6 animate-in slide-in-from-bottom-4 fade-in",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-[#E9E9E7] pb-4",children:[m.jsx("h3",{className:"text-xl font-serif font-bold text-[#37352F]",children:"Log Result"}),Fe===ct.POLE_VAULT&&m.jsxs("div",{className:"flex bg-[#F7F7F5] rounded p-1 border border-[#E9E9E7]",children:[m.jsx("button",{onClick:()=>fi(!0),className:`px-4 py-1.5 rounded text-sm font-bold transition-all ${he===!0?"bg-green-500 text-white shadow-sm":"text-[#9B9A97] hover:text-[#37352F]"}`,children:"MAKE"}),m.jsx("button",{onClick:()=>fi(!1),className:`px-4 py-1.5 rounded text-sm font-bold transition-all ${he===!1?"bg-red-500 text-white shadow-sm":"text-[#9B9A97] hover:text-[#37352F]"}`,children:"MISS"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:[Fe===ct.POLE_VAULT?"Bar Height":"Distance"," (m)"]}),m.jsx("input",{autoFocus:!0,type:"number",step:"0.01",value:ye,onChange:nt=>Pe(nt.target.value),placeholder:"0.00",className:"w-full text-3xl font-serif font-bold text-[#37352F] placeholder-gray-200 border-b border-[#E9E9E7] pb-2 outline-none focus:border-[#37352F] bg-transparent"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Step Count"}),m.jsxs("div",{className:"relative",children:[m.jsx(BU,{className:"absolute left-0 top-2 text-[#9B9A97]",size:20}),m.jsx("input",{type:"number",value:rt,onChange:nt=>it(nt.target.value),placeholder:"e.g. 16",className:"w-full pl-8 text-xl font-mono text-[#37352F] placeholder-gray-200 border-b border-[#E9E9E7] pb-2 outline-none focus:border-[#37352F] bg-transparent"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Notes"}),m.jsx("textarea",{value:Ve,onChange:nt=>Se(nt.target.value),placeholder:"Wind, technique...",className:"w-full text-sm text-[#37352F] border-b border-[#E9E9E7] pb-2 outline-none focus:border-[#37352F] bg-transparent resize-none h-[42px]"})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:ki,className:"flex-1 py-3 rounded text-[#787774] font-medium hover:bg-[#F7F7F5] transition-colors flex items-center justify-center gap-2",children:[m.jsx(np,{size:16})," Discard"]}),m.jsxs("button",{onClick:Di,className:"flex-[2] py-3 bg-[#37352F] text-white rounded font-medium shadow-sm hover:bg-[#2F2F2F] transition-colors flex items-center justify-center gap-2",children:[m.jsx(S2,{size:16})," Save Log"]})]})]}):m.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F7F7F5] rounded-md border border-[#E9E9E7]",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-red-500 animate-pulse":"bg-[#9B9A97]"}`}),m.jsx("span",{className:"text-sm font-mono text-[#787774]",children:k})]}),m.jsx("div",{className:"flex gap-3 items-center",children:A?m.jsxs("button",{onClick:Ri,className:"bg-white border border-red-200 text-red-600 px-8 py-2.5 rounded hover:bg-red-50 transition-colors font-medium flex items-center gap-2 shadow-sm",children:[m.jsx(oae,{size:16,fill:"currentColor"})," Stop"]}):m.jsxs(m.Fragment,{children:[Nt&&!Li?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative w-64 mr-2",children:[m.jsx(wie,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:14}),m.jsx("input",{type:"text",value:Ve,onChange:nt=>Se(nt.target.value),placeholder:"Add note...",className:"w-full pl-8 pr-3 py-2 rounded border border-[#E9E9E7] text-sm focus:outline-none focus:border-[#37352F]"})]}),m.jsxs("button",{onClick:Di,className:"bg-[#37352F] text-white px-4 py-2.5 rounded hover:bg-black transition-colors font-medium flex items-center gap-2 shadow-sm text-sm",children:[m.jsx(S2,{size:14})," Save"]}),m.jsx("button",{onClick:ki,className:"text-[#787774] hover:text-red-600 px-2 py-2 transition-colors",children:m.jsx(np,{size:16})}),m.jsx("div",{className:"w-px h-6 bg-[#E9E9E7] mx-1"})]}):m.jsxs("button",{onClick:js,disabled:!v&&!$,className:"bg-[#37352F] text-white px-8 py-2.5 rounded hover:bg-black disabled:opacity-50 transition-colors font-medium flex items-center gap-2 shadow-sm",children:[m.jsx(j0,{size:16,fill:"currentColor"})," Start Run"]}),Li&&m.jsx("button",{onClick:()=>pe(!0),className:"px-4 py-2 border border-[#E9E9E7] bg-white rounded hover:bg-[#F7F7F5] text-sm text-[#37352F] font-medium",children:"Log Result"})]})})]})]}),m.jsxs("div",{className:`w-80 flex-shrink-0 border-l border-[#E9E9E7] bg-[#F7F7F5] flex flex-col ${D?"fixed inset-0 z-50 bg-white md:relative md:bg-[#F7F7F5] md:z-auto":"hidden md:flex"}`,children:[m.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold font-serif text-[#37352F]",children:"Session Log"}),m.jsx("button",{onClick:()=>G(!1),className:"md:hidden",children:m.jsx(RI,{size:16})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:t.runs.length===0?m.jsx("div",{className:"text-center p-8 text-[#9B9A97] text-sm italic",children:"No runs yet."}):t.runs.map((nt,rn)=>{const hr=e.find(Qn=>Qn.id===nt.athleteId)||n.find(Qn=>Qn.id===nt.athleteId);return m.jsxs("div",{className:"bg-white border border-[#E9E9E7] p-3 rounded hover:border-[#37352F] transition-colors relative group",children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsxs("span",{className:"font-bold text-xs text-[#9B9A97]",children:["#",t.runs.length-rn]}),m.jsx("span",{className:"text-[10px] text-[#9B9A97]",children:new Date(nt.date).toLocaleTimeString()})]}),m.jsxs("div",{className:"font-medium text-[#37352F] mb-1 flex items-center gap-2",children:[m.jsx("span",{onClick:()=>u(nt),className:"cursor-pointer hover:underline",children:hr==null?void 0:hr.name}),m.jsx("button",{onClick:Qn=>{Qn.stopPropagation(),F(nt.id)},className:"text-[#9B9A97] opacity-0 group-hover:opacity-100 hover:text-[#37352F] p-1",children:m.jsx(l_,{size:10})})]}),m.jsxs("div",{onClick:()=>u(nt),className:"flex justify-between items-end cursor-pointer",children:[m.jsx("span",{className:"text-xs bg-[#F7F7F5] px-1.5 py-0.5 rounded border border-[#E9E9E7]",children:nt.config.type===ct.POLE_VAULT?"PV":nt.config.type===ct.LONG_JUMP?"LJ":nt.config.type}),m.jsx("div",{className:"text-right",children:nt.jumpResult?m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsxs("span",{className:`font-bold text-sm ${nt.jumpResult.successful===!1?"text-red-600":"text-[#37352F]"}`,children:[nt.jumpResult.resultMetric,"m ",nt.jumpResult.successful===!1&&"(X)"]}),nt.jumpResult.stepCount&&m.jsxs("span",{className:"text-[10px] text-[#9B9A97]",children:[nt.jumpResult.stepCount," steps"]})]}):m.jsxs("span",{className:"font-mono font-bold text-[#37352F]",children:[vA(Math.max(...nt.data.map(Qn=>Qn.speed)),r.speedUnit).toFixed(1)," ",iu.speed[r.speedUnit]]})})]})]},nt.id)})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xk||(Xk={}));var Qk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Qk||(Qk={}));var Jk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Jk||(Jk={}));var Zk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Zk||(Zk={}));var ej;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ej||(ej={}));var tj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tj||(tj={}));var nj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(nj||(nj={}));var rj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(rj||(rj={}));var ij;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ij||(ij={}));var aj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(aj||(aj={}));var sj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sj||(sj={}));var oj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(oj||(oj={}));var lj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(lj||(lj={}));var cj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(cj||(cj={}));var uj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(uj||(uj={}));var dj;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dj||(dj={}));var fj;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fj||(fj={}));var hj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(hj||(hj={}));var pj;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(pj||(pj={}));var mj;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(mj||(mj={}));var gj;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gj||(gj={}));var vj;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vj||(vj={}));var yj;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(yj||(yj={}));var bj;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bj||(bj={}));var xj;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xj||(xj={}));var _j;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_j||(_j={}));var wj;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(wj||(wj={}));var Ej;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ej||(Ej={}));var Aj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Aj||(Aj={}));var Sj;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Sj||(Sj={}));var Tj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Tj||(Tj={}));var Nj;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Nj||(Nj={}));var Ij;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ij||(Ij={}));var Cj;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Cj||(Cj={}));var Pj;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pj||(Pj={}));var Oj;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Oj||(Oj={}));var Rj;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rj||(Rj={}));var Dj;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Dj||(Dj={}));var kj;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(kj||(kj={}));var jj;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jj||(jj={}));var Lj;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Lj||(Lj={}));var Mj;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Mj||(Mj={}));var Fj;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fj||(Fj={}));var Uj;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Uj||(Uj={}));var Bj;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Bj||(Bj={}));var Vj;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Vj||(Vj={}));var zj;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zj||(zj={}));var qj;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(qj||(qj={}));var Hj;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hj||(Hj={}));var $j;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($j||($j={}));var Gj;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Gj||(Gj={}));var Yj;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yj||(Yj={}));var Wj;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wj||(Wj={}));var Kj;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Kj||(Kj={}));var Xj;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xj||(Xj={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qj;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qj||(Qj={}));class I2e{constructor(){this.ai=null}hasKey(){return!1}async analyzeRun(e,n){if(!this.ai)return"API Key not configured. Cannot generate AI analysis.";const r=Math.max(1,Math.floor(n.length/50)),i=n.filter((s,l)=>l%r===0).map(s=>({t:s.timestamp/1e3,s:s.speed.toFixed(2),d:s.distance.toFixed(1)})),a=`
      You are an elite sprint coach. Analyze the following sprint data for athlete ${e.name}.
      
      Data Format: JSON Array of {t: time(s), s: speed(m/s), d: distance(m)}.
      Data: ${JSON.stringify(i)}

      Please provide a concise analysis in 3 bullet points:
      1. Acceleration Phase: How quickly did they reach peak velocity?
      2. Max Velocity: What was the top speed and was it maintained?
      3. Speed Endurance/Deceleration: Did they slow down significantly at the end?
      
      End with 1 specific actionable drill to improve.
      Keep the tone encouraging but professional.
    `;try{return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:a})).text||"No analysis generated."}catch(s){return console.error("Gemini Analysis Failed:",s),"Failed to generate analysis. Please check internet connection."}}}const C2e=new I2e,P2e=({isOpen:t,testType:e,athleteName:n,athleteGender:r,time:i,onClose:a,onConfirm:s})=>{const[l,u]=O.useState(!1),[d,f]=O.useState(!1);if(!t)return null;const p=v=>{switch(v){case"FORTY_YARD_DASH":return"40 Yard Dash";case"ACCELERATION_30M":return"30m Acceleration";case"FLY_30M":return"30m Flying";case"SIXTY_METER_RUN":return"60m Run";default:return v}},y=async()=>{if(l){f(!0);try{await s(),u(!1),a()}catch(v){console.error("Failed to post to leaderboard:",v)}finally{f(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[m.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5]",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Ko,{className:"text-[#37352F]",size:24}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:"Post to Leaderboard"}),m.jsx("p",{className:"text-xs text-[#787774]",children:"Share this result publicly"})]})]}),m.jsx("button",{onClick:a,className:"p-1 hover:bg-[#E9E9E7] rounded text-[#787774] hover:text-[#37352F] transition-colors",children:m.jsx(dc,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4 border border-[#E9E9E7]",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Test Type"}),m.jsx("div",{className:"text-sm font-medium text-[#37352F]",children:p(e)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Athlete"}),m.jsxs("div",{className:"text-sm font-medium text-[#37352F]",children:[n,r&&m.jsxs("span",{className:"text-[#9B9A97] ml-2",children:["(",r,")"]})]})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-[#E9E9E7]",children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Time"}),m.jsxs("div",{className:"text-3xl font-bold text-[#37352F]",children:[i.toFixed(3),"s"]})]})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[m.jsx(Lf,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-blue-900 mb-1",children:"Public Leaderboard"}),m.jsx("p",{className:"text-xs text-blue-800",children:"This result will be publicly visible on the global leaderboard. Anyone can view the athlete's name, gender, time, and date. You can delete this entry at any time."})]})]}),m.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:l,onChange:v=>u(v.target.checked),className:"mt-1 w-4 h-4 rounded border-[#E9E9E7] text-[#37352F] focus:ring-[#37352F]"}),m.jsx("span",{className:"text-sm text-[#37352F]",children:"I confirm that this result is accurate and can be publicly displayed on the leaderboard."})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[m.jsx("button",{onClick:a,className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{onClick:y,disabled:!l||d,className:"bg-[#37352F] text-white px-6 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[m.jsx(Ko,{size:16}),d?"Posting...":"Post to Leaderboard"]})]})]})]})})},hm=(t,e)=>e==="kph"?t*3.6:e==="mph"?t*2.23694:t,yb=(t,e)=>e==="imperial"?t*1.09361:t,O2e=(t,e)=>{const n=new Date(t),r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear();return e==="DD.MM.YYYY"?`${r}.${i}.${a}`:e==="YYYY-MM-DD"?`${a}-${i}-${r}`:`${i}.${r}.${a}`},El=(t,e)=>{const n=t.findIndex(u=>u.distance>=e);if(n===-1)return null;if(n===0)return{t:t[0].timestamp,v:t[0].speed};const r=t[n],i=t[n-1],a=(e-i.distance)/(r.distance-i.distance),s=i.timestamp+a*(r.timestamp-i.timestamp),l=i.speed+a*(r.speed-i.speed);return{t:s,v:l}},R2e=({session:t,athlete:e,settings:n,allSessions:r,onBack:i,onCompare:a})=>{const[s,l]=O.useState((t==null?void 0:t.aiFeedback)||null),[u,d]=O.useState(!1),[f,p]=O.useState(!1),[y,v]=O.useState([]),[E,A]=O.useState(!1),[S,I]=O.useState(null),[q,k]=O.useState(null),[B,$]=O.useState(null),[K,L]=O.useState(!1),{user:j}=k0(),D=O.useMemo(()=>{if(!t)return null;const{data:M,config:X}=t;if(M.length===0)return null;let Z=0,de=0,pe=0;M.forEach(Xe=>{Xe.speed>Z&&(Z=Xe.speed,de=Xe.timestamp,pe=Xe.distance)});const ye=M[M.length-1].distance,Pe=M[M.length-1].timestamp,he=[],Ce=10;let Ve=0,Se=0;for(;Ve+Ce<=ye+5;){const Xe=Ve+Ce;if(Xe>ye&&Xe-ye>2)break;const Nt=El(M,Xe);if(Nt){const yt=Nt.t,qe=(yt-Se)/1e3,ht=Ce/qe;he.push({start:Ve,end:Xe,time:qe,cumTime:yt/1e3,velocity:ht}),Se=yt,Ve=Xe}else break}let rt=null;if(X.type===ct.FLY&&X.runUpDistance&&X.flyDistance){const Xe=X.runUpDistance,Nt=X.runUpDistance+X.flyDistance,yt=El(M,Xe),qe=El(M,Nt);if(yt&&qe){const ht=(qe.t-yt.t)/1e3,vt=X.flyDistance/ht;rt={duration:ht,avgSpeed:vt,startZone:Xe,endZone:Nt}}}let it=null;if(X.type===ct.ACCELERATION&&X.targetDistance){const Xe=El(M,X.targetDistance);Xe&&(it={duration:Xe.t/1e3,dist:X.targetDistance})}let oe=null;if((X.type===ct.POLE_VAULT||X.type===ct.LONG_JUMP)&&X.boardLocation){const Xe=X.boardLocation,Nt=El(M,Xe-10),yt=El(M,Xe-5),qe=El(M,Xe);oe={v10m:Nt?Nt.v:null,v5m:yt?yt.v:null,vTakeoff:qe?qe.v:null}}return{maxSpeed:Z,maxSpeedTime:de,maxSpeedDist:pe,totalDist:ye,totalTime:Pe,splits:he,flyResult:rt,accelResult:it,approachMetrics:oe}},[t]),G=O.useMemo(()=>{if(!t)return[];if(t.config.boardLocation){const M=t.config.boardLocation;return t.data.map(X=>({...X,relativeDist:-(M-X.distance)}))}return t.data},[t]),P=O.useMemo(()=>{if(!t)return[];const M=[];return r.forEach(X=>{X.runs.forEach(Z=>{Z.id!==t.id&&Z.config.type===t.config.type&&M.push({run:Z,sessionName:X.name})})}),M},[t,r]),F=M=>{if(y.find(X=>X.id===M.id))v(y.filter(X=>X.id!==M.id));else{if(y.length>=3)return;v([...y,M])}},V=()=>{y.length>0&&a([t,...y])},ee=()=>{if(!t)return{eligible:!1,type:null,time:null};const{config:M,data:X}=t;if(M.type===ct.FORTY_YARD_DASH){const Z=El(X,36.576);if(Z)return{eligible:!0,type:"FORTY_YARD_DASH",time:Z.t/1e3}}if(M.type===ct.SIXTY_METER_RUN){const Z=El(X,60);if(Z)return{eligible:!0,type:"SIXTY_METER_RUN",time:Z.t/1e3}}if(M.type===ct.ACCELERATION&&M.targetDistance===30){const Z=El(X,30);if(Z)return{eligible:!0,type:"ACCELERATION_30M",time:Z.t/1e3}}if(M.type===ct.FLY&&M.flyDistance===30&&M.runUpDistance){const Z=El(X,M.runUpDistance),de=El(X,M.runUpDistance+30);if(Z&&de)return{eligible:!0,type:"FLY_30M",time:(de.t-Z.t)/1e3}}return{eligible:!1,type:null,time:null}},ge=()=>{const M=ee();M.eligible&&M.type&&M.time!==null&&(k(M.type),I(M.time),A(!0))},se=async()=>{if(!t||!e||!j||!q||S===null){console.error("Missing required data for leaderboard post:",{session:!!t,athlete:!!e,user:!!j,leaderboardType:q,leaderboardTime:S});return}try{const M={id:`${t.id}_${q}`,testType:q,athleteId:e.id,athleteName:e.name,athleteGender:e.gender,userId:j.uid,postedBy:"coach",time:S,date:t.date,sessionId:t.id,runId:t.id,createdAt:new Date().toISOString()};console.log("Posting to leaderboard:",M),await Kc.postToLeaderboard(M),console.log("Successfully posted to leaderboard!"),L(!0),$({message:"Successfully posted to leaderboard!",type:"success"}),setTimeout(()=>$(null),4e3)}catch(M){throw console.error("Error posting to leaderboard:",M),$({message:"Failed to post: "+(M.message||"Unknown error"),type:"error"}),setTimeout(()=>$(null),5e3),M}};O.useEffect(()=>{(async()=>{if(!t||!j)return;const X=ee();if(!(!X.eligible||!X.type))try{const Z=`${t.id}_${X.type}`,pe=(await Kc.getUserEntries(j.uid)).some(ye=>ye.id===Z);L(pe)}catch(Z){console.error("Error checking leaderboard status:",Z)}})()},[t,j]);const fe=O.useMemo(()=>ee(),[t]);if(!t||!e||!D)return null;const me=async()=>{d(!0);const M=await C2e.analyzeRun(e,t.data);l(M),d(!1)},xe=hm(D.maxSpeed,n.speedUnit),Ue=iu.speed[n.speedUnit],ne=iu.distance[n.distanceUnit];return m.jsxs("div",{className:"flex flex-col h-full max-w-5xl mx-auto pb-10 relative",children:[B&&m.jsxs("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-[110] px-6 py-3 rounded-lg shadow-lg text-sm font-medium animate-in slide-in-from-top-2 fade-in flex items-center gap-2 ${B.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:[B.type==="success"?m.jsx(Ko,{size:18,className:"flex-shrink-0"}):m.jsx(dc,{size:18,className:"flex-shrink-0"}),B.message]}),f&&m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg flex flex-col max-h-[80vh]",children:[m.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] flex justify-between items-center",children:[m.jsx("h3",{className:"font-serif font-bold text-[#37352F]",children:"Compare Runs"}),m.jsx("button",{onClick:()=>p(!1),children:m.jsx(dc,{size:20})})]}),m.jsx("div",{className:"p-4 bg-[#F7F7F5] border-b border-[#E9E9E7]",children:m.jsx("p",{className:"text-xs text-[#787774]",children:"Select up to 3 other runs to compare with."})}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[P.length===0&&m.jsx("p",{className:"text-center text-sm text-gray-400 py-8",children:"No other compatible runs found."}),P.map(({run:M,sessionName:X})=>{const Z=!!y.find(pe=>pe.id===M.id),de=Math.max(...M.data.map(pe=>pe.speed));return m.jsx("div",{onClick:()=>F(M),className:`p-3 rounded border cursor-pointer transition-all ${Z?"bg-blue-50 border-blue-300 shadow-sm":"bg-white border-[#E9E9E7] hover:border-[#37352F]"}`,children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-[#37352F] text-sm",children:X}),m.jsxs("div",{className:"text-xs text-[#9B9A97]",children:[new Date(M.date).toLocaleDateString(),"  ",M.jumpResult?`${M.jumpResult.resultMetric}m`:`${hm(de,n.speedUnit).toFixed(1)} ${Ue}`]})]}),m.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${Z?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:Z&&m.jsx(jf,{size:12,className:"text-white"})})]})},M.id)})]}),m.jsxs("div",{className:"p-4 border-t border-[#E9E9E7] flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded text-[#787774] hover:bg-[#F7F7F5] text-sm",children:"Cancel"}),m.jsxs("button",{onClick:V,disabled:y.length===0,className:"px-6 py-2 bg-[#37352F] text-white rounded text-sm font-medium disabled:opacity-50 flex items-center gap-2",children:[m.jsx(jS,{size:14})," Compare (",y.length,")"]})]})]})}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:i,className:"text-[#787774] hover:text-[#37352F] flex items-center gap-2 text-sm mb-4 transition-colors",children:[m.jsx(Gy,{size:16})," Back to History"]}),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline gap-3",children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F]",children:e.name}),m.jsx("span",{className:"text-[#9B9A97] font-medium",children:O2e(t.date,n.dateFormat)})]}),m.jsxs("div",{className:"flex gap-2 mt-2",children:[m.jsx("span",{className:"bg-[#F7F7F5] text-[#787774] text-xs px-2 py-1 rounded border border-[#E9E9E7]",children:t.config.type===ct.FLY?"Fly Test":t.config.type===ct.POLE_VAULT?"Pole Vault":t.config.type===ct.LONG_JUMP?"Long Jump":"Run"}),t.config.boardLocation&&m.jsxs("span",{className:"bg-green-50 text-green-700 text-xs px-2 py-1 rounded border border-green-100 flex items-center gap-1",children:[m.jsx(hg,{size:10})," Calibrated Run"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[fe.eligible&&m.jsx("button",{onClick:K?void 0:ge,disabled:K,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors shadow-sm ${K?"bg-green-100 text-green-700 border border-green-300 cursor-default":"bg-[#37352F] text-white hover:bg-[#2F2F2F]"}`,children:K?m.jsxs(m.Fragment,{children:[m.jsx(jf,{size:18})," Posted to Leaderboard"]}):m.jsxs(m.Fragment,{children:[m.jsx(Ko,{size:18})," Post to Leaderboard"]})}),m.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#E9E9E7] rounded-lg text-[#37352F] font-medium hover:bg-[#F7F7F5] transition-colors shadow-sm",children:[m.jsx(jS,{size:18})," Compare Run"]})]})]})]}),m.jsx(P2e,{isOpen:E,testType:q||"",athleteName:e.name,athleteGender:e.gender,time:S||0,onClose:()=>A(!1),onConfirm:se}),t.config.type===ct.FLY&&D.flyResult&&m.jsxs("div",{className:"mb-8 p-6 bg-[#37352F] text-white rounded-lg shadow-md flex flex-col md:flex-row items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Fly Zone Time"}),m.jsxs("div",{className:"text-5xl font-bold font-mono tracking-tighter",children:[D.flyResult.duration.toFixed(3),m.jsx("span",{className:"text-2xl text-gray-400",children:"s"})]})]}),m.jsxs("div",{className:"mt-4 md:mt-0 text-right",children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Avg Fly Velo"}),m.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:[hm(D.flyResult.avgSpeed,n.speedUnit).toFixed(2)," ",m.jsx("span",{className:"text-base font-normal text-gray-400",children:Ue})]})]})]}),(t.config.type===ct.POLE_VAULT||t.config.type===ct.LONG_JUMP)&&t.jumpResult&&m.jsxs("div",{className:"mb-8 p-6 bg-[#37352F] text-white rounded-lg shadow-md flex flex-col md:flex-row justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:t.config.type===ct.POLE_VAULT?"Bar Height":"Distance Jumped"}),m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsxs("div",{className:"text-5xl font-bold font-mono tracking-tighter",children:[t.jumpResult.resultMetric.toFixed(2),m.jsx("span",{className:"text-2xl text-gray-400",children:"m"})]}),t.jumpResult.successful===!1&&m.jsx("span",{className:"text-red-400 font-bold text-xl",children:"(MISS)"})]})]}),m.jsxs("div",{className:"flex gap-8 mt-4 md:mt-0",children:[t.jumpResult.stepCount&&m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Steps"}),m.jsxs("div",{className:"text-3xl font-bold flex items-center gap-2 justify-end",children:[m.jsx(BU,{size:20,className:"text-gray-400"})," ",t.jumpResult.stepCount]})]}),D.approachMetrics&&D.approachMetrics.v10m&&m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"V @ 10m Out"}),m.jsxs("div",{className:"text-3xl font-bold",children:[hm(D.approachMetrics.v10m,n.speedUnit).toFixed(1)," ",m.jsx("span",{className:"text-sm font-normal text-gray-400",children:Ue})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-px bg-[#E9E9E7] border border-[#E9E9E7] rounded-lg overflow-hidden mb-8 shadow-sm",children:[m.jsxs("div",{className:"bg-white p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[m.jsx(rp,{size:14})," ",m.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Peak Velo"})]}),m.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[xe.toFixed(2)," ",m.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:Ue})]})]}),m.jsxs("div",{className:"bg-white p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[m.jsx(L0,{size:14})," ",m.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Dist to Peak"})]}),m.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[t.config.boardLocation?yb(D.maxSpeedDist-t.config.boardLocation,n.distanceUnit).toFixed(1):yb(D.maxSpeedDist,n.distanceUnit).toFixed(1)," ",m.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:ne})]})]}),m.jsxs("div",{className:"bg-white p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[m.jsx(DI,{size:14})," ",m.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Time to Peak"})]}),m.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[(D.maxSpeedTime/1e3).toFixed(2)," ",m.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:"s"})]})]}),m.jsxs("div",{className:"bg-white p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[m.jsx(za,{size:14})," ",m.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Total Dist"})]}),m.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[yb(D.totalDist,n.distanceUnit).toFixed(2)," ",m.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:ne})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white border border-[#E9E9E7] rounded-lg p-6 h-96 shadow-sm",children:[m.jsx("h3",{className:"text-sm font-bold text-[#37352F] font-serif mb-6",children:"Velocity Profile"}),m.jsx(S_,{width:"100%",height:"100%",children:m.jsxs(GH,{data:G,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"gradSpeed",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#37352F",stopOpacity:.1}),m.jsx("stop",{offset:"95%",stopColor:"#37352F",stopOpacity:0})]})}),m.jsx(Z0,{strokeDasharray:"3 3",stroke:"#F7F7F5",vertical:!1}),m.jsx(e1,{dataKey:t.config.boardLocation?"relativeDist":"distance",type:"number",unit:"m",domain:["auto","auto"],tickFormatter:M=>yb(M,n.distanceUnit).toFixed(0),stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12},label:t.config.boardLocation?{value:"Distance from Takeoff (m)",position:"insideBottom",offset:-5,fontSize:10}:void 0}),m.jsx(t1,{stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12}}),m.jsx(K_,{contentStyle:{backgroundColor:"#fff",borderColor:"#E9E9E7",color:"#37352F"},labelFormatter:M=>t.config.boardLocation?`At ${Number(M).toFixed(2)}m from takeoff`:`Distance: ${Number(M).toFixed(2)}m`,formatter:M=>[hm(M,n.speedUnit).toFixed(2)+" "+Ue,"Speed"]}),t.config.boardLocation&&m.jsx(s0,{x:0,stroke:"#10B981",strokeDasharray:"3 3",label:{value:"Board",fill:"#10B981",fontSize:10,position:"top"}}),m.jsx(s0,{y:D.maxSpeed,stroke:"#E16259",strokeDasharray:"3 3",label:{value:"Peak",fill:"#E16259",fontSize:10,position:"right"}}),m.jsx(i4,{type:"monotone",dataKey:"speed",stroke:"#37352F",strokeWidth:2,fill:"url(#gradSpeed)",isAnimationActive:!1})]})})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm flex flex-col",children:[m.jsx("div",{className:"p-4 border-b border-[#E9E9E7] bg-[#F7F7F5]",children:m.jsx("h3",{className:"text-sm font-bold text-[#37352F] font-serif",children:"Notes & Splits"})}),t.notes&&m.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] bg-yellow-50/50 text-sm italic text-[#37352F]",children:['"',t.notes,'"']}),m.jsx("div",{className:"overflow-y-auto flex-1",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-[#9B9A97] text-xs border-b border-[#E9E9E7]",children:[m.jsxs("th",{className:"px-4 py-2 text-left font-normal",children:["Dist (",ne,")"]}),m.jsxs("th",{className:"px-4 py-2 text-right font-normal",children:["V",m.jsx("sub",{children:"avg"})]})]})}),m.jsx("tbody",{className:"divide-y divide-[#E9E9E7]",children:D.splits.map((M,X)=>m.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[m.jsxs("td",{className:"px-4 py-2 font-medium text-[#37352F]",children:[M.start,"-",M.end]}),m.jsx("td",{className:"px-4 py-2 text-right font-mono text-[#787774]",children:hm(M.velocity,n.speedUnit).toFixed(1)})]},X))})]})})]})]}),m.jsxs("div",{className:"bg-[#F7F7F5] border border-[#E9E9E7] rounded-lg p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#37352F]",children:[m.jsx(iie,{size:20}),m.jsx("h3",{className:"font-serif font-bold",children:"AI Coach Analysis"})]}),!s&&m.jsxs("button",{onClick:me,disabled:u,className:"flex items-center gap-2 text-xs font-medium bg-white border border-[#E9E9E7] px-3 py-1.5 rounded hover:bg-[#EFEFED] transition-colors text-[#37352F]",children:[u?m.jsx(JR,{className:"animate-spin",size:14}):m.jsx(JR,{size:14}),u?"Generating...":"Analyze with Gemini"]})]}),s?m.jsx("div",{className:"prose prose-sm max-w-none text-[#37352F] leading-relaxed whitespace-pre-line font-sans",children:s}):m.jsx("p",{className:"text-[#9B9A97] text-sm italic",children:"Run analysis to get technical feedback on acceleration and speed maintenance."})]})]})},D2e=({allAthletes:t,onStartSession:e,onAddAthlete:n,onCancel:r,testType:i})=>{const[a,s]=O.useState(`Session - ${new Date().toLocaleDateString()}`),[l,u]=O.useState([]),[d,f]=O.useState(!1),[p,y]=O.useState(""),[v,E]=O.useState(""),[A,S]=O.useState("Male"),[I,q]=O.useState(""),[k,B]=O.useState(""),$=L=>{l.includes(L)?u(l.filter(j=>j!==L)):u([...l,L])},K=L=>{if(L.preventDefault(),!p)return;const j={id:Date.now().toString(),name:p,email:v||void 0,gender:A,dob:I||void 0,primaryEvent:k||void 0};n(j),u(D=>[...D,j.id]),y(""),E(""),q(""),B(""),f(!1)};return m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"New Training Session"}),m.jsx("p",{className:"text-[#787774]",children:"Select athletes and configure your session."}),i&&m.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-50 border border-blue-200 rounded-lg px-3 py-2",children:[m.jsx(hg,{size:16,className:"text-blue-600"}),m.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Test Type: ",Ps[i].label]})]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-6 shadow-sm mb-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Session Name"}),m.jsx("input",{type:"text",value:a,onChange:L=>s(L.target.value),className:"w-full text-lg font-medium text-[#37352F] border-b border-[#E9E9E7] pb-2 focus:border-[#37352F] outline-none transition-colors bg-transparent"})]}),m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsxs("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase",children:["Select Athletes (",l.length,")"]}),m.jsxs("button",{onClick:()=>f(!0),className:"text-xs flex items-center gap-1 text-[#37352F] font-medium hover:bg-[#F7F7F5] px-2 py-1 rounded",children:[m.jsx(Yy,{size:12})," Add New"]})]}),d&&m.jsxs("div",{className:"mb-6 bg-[#F7F7F5] p-4 rounded border border-[#E9E9E7]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("span",{className:"text-sm font-bold text-[#37352F]",children:"New Athlete Profile"}),m.jsx("button",{onClick:()=>f(!1),children:m.jsx(dc,{size:14})})]}),m.jsxs("form",{onSubmit:K,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Full Name *"}),m.jsx("input",{autoFocus:!0,placeholder:"e.g. John Doe",value:p,onChange:L=>y(L.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Email"}),m.jsx("input",{placeholder:"john@example.com",value:v,onChange:L=>E(L.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Primary Event"}),m.jsx("input",{placeholder:"e.g. 100m",value:k,onChange:L=>B(L.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Gender"}),m.jsxs("select",{value:A,onChange:L=>S(L.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:"Male",children:"Male"}),m.jsx("option",{value:"Female",children:"Female"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Date of Birth"}),m.jsx("input",{type:"date",value:I,onChange:L=>q(L.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsx("div",{className:"col-span-2 flex justify-end mt-2",children:m.jsx("button",{type:"submit",className:"bg-[#37352F] text-white px-4 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors",children:"Add Athlete"})})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:t.map(L=>{const j=l.includes(L.id);return m.jsxs("div",{onClick:()=>$(L.id),className:`flex items-center p-3 rounded cursor-pointer border transition-all ${j?"bg-[#F7F7F5] border-[#37352F] shadow-sm":"bg-white border-[#E9E9E7] hover:bg-gray-50"}`,children:[m.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center mr-3 ${j?"bg-[#37352F] border-[#37352F]":"border-[#9B9A97]"}`,children:j&&m.jsx(jf,{size:10,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-[#37352F]",children:L.name}),m.jsxs("div",{className:"text-xs text-[#9B9A97]",children:[L.primaryEvent?L.primaryEvent:"Athlete",L.gender?`  ${L.gender.charAt(0)}`:""]})]})]},L.id)})})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"px-6 py-2 rounded text-[#787774] font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{onClick:()=>e(a,l),disabled:l.length===0,className:"bg-[#37352F] text-white px-8 py-2 rounded font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center gap-2 shadow-sm",children:["Start Session ",m.jsx(jg,{size:16})]})]})]})},k2e=({size:t=24})=>m.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5.5"}),m.jsx("line",{x1:"12",y1:"6.5",x2:"12",y2:"17.5"}),m.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),m.jsx("line",{x1:"10",y1:"10",x2:"14",y2:"10"}),m.jsx("line",{x1:"10",y1:"14",x2:"14",y2:"14"})]}),j2e=({onSelectType:t})=>{const e=[{type:ct.FREE_RUN,icon:za,color:"text-gray-600"},{type:ct.ACCELERATION,icon:DI,color:"text-blue-600"},{type:ct.FLY,icon:rp,color:"text-yellow-600"},{type:ct.FORTY_YARD_DASH,icon:k2e,color:"text-orange-600"},{type:ct.SIXTY_METER_RUN,icon:hg,color:"text-red-600"},{type:ct.POLE_VAULT,icon:Zre,color:"text-purple-600"},{type:ct.LONG_JUMP,icon:L0,color:"text-green-600"}];return m.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-0",children:[m.jsxs("div",{className:"mb-8 border-b border-[#E9E9E7] pb-6",children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Measurement Mode"}),m.jsx("p",{className:"text-[#787774]",children:"Select a test protocol to begin a new training session."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(({type:n,icon:r,color:i})=>m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 hover:shadow-md transition-all cursor-pointer group relative overflow-hidden",onClick:()=>t(n),children:[m.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${i}`,children:m.jsx(r,{size:100})}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:`w-12 h-12 rounded-lg bg-[#F7F7F5] flex items-center justify-center mb-4 ${i} group-hover:scale-110 transition-transform duration-300`,children:m.jsx(r,{size:24})}),m.jsx("h3",{className:"text-lg font-bold text-[#37352F] mb-1",children:Ps[n].label}),m.jsx("p",{className:"text-sm text-[#9B9A97] mb-6 min-h-[40px]",children:Ps[n].description}),m.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium bg-[#37352F] text-white px-4 py-2 rounded-lg group-hover:bg-black transition-colors w-full justify-center",children:[m.jsx(j0,{size:14,fill:"currentColor"})," Start Session"]})]})]},n))})]})},L2e=({settings:t,onUpdateSettings:e,onLogout:n,userEmail:r})=>{const[i,a]=O.useState(t),[s,l]=O.useState(!1);O.useEffect(()=>{a(t),l(!1)},[t]);const u=(p,y)=>{const v={...i,[p]:y};a(v);const E=JSON.stringify(v)!==JSON.stringify(t);l(E)},d=()=>{e(i)},f=()=>{a(t),l(!1)};return m.jsxs("div",{className:"max-w-2xl mx-auto pb-24 relative",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Settings"}),m.jsx("p",{className:"text-[#787774]",children:"Manage your preferences and account."})]}),m.jsxs("section",{className:"mb-8",children:[m.jsxs("h3",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-4 tracking-wider flex items-center gap-2",children:[m.jsx(Lie,{size:14})," Region & Units"]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg divide-y divide-[#E9E9E7] overflow-hidden shadow-sm",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#F7F7F5] transition-colors",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"Speed Unit"}),m.jsx("div",{className:"text-xs text-[#9B9A97]",children:"Unit for velocity charts and live display."})]}),m.jsx("div",{className:"flex bg-[#F7F7F5] rounded p-1 border border-[#E9E9E7]",children:["mps","kph","mph"].map(p=>m.jsx("button",{onClick:()=>u("speedUnit",p),className:`px-3 py-1 rounded text-xs font-medium transition-all ${i.speedUnit===p?"bg-white text-[#37352F] shadow-sm":"text-[#9B9A97] hover:text-[#787774]"}`,children:p==="mps"?"m/s":p==="kph"?"km/h":"mph"},p))})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#F7F7F5] transition-colors",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"Distance Unit"}),m.jsx("div",{className:"text-xs text-[#9B9A97]",children:"Metric (Meters) or Imperial (Yards)."})]}),m.jsx("div",{className:"flex bg-[#F7F7F5] rounded p-1 border border-[#E9E9E7]",children:["metric","imperial"].map(p=>m.jsx("button",{onClick:()=>u("distanceUnit",p),className:`px-3 py-1 rounded text-xs font-medium transition-all ${i.distanceUnit===p?"bg-white text-[#37352F] shadow-sm":"text-[#9B9A97] hover:text-[#787774]"}`,children:p==="metric"?"Meters":"Yards"},p))})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#F7F7F5] transition-colors",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"Date Format"}),m.jsx("div",{className:"text-xs text-[#9B9A97]",children:"Display format for history logs."})]}),m.jsxs("select",{value:i.dateFormat,onChange:p=>u("dateFormat",p.target.value),className:"bg-[#F7F7F5] border border-[#E9E9E7] text-[#37352F] text-xs rounded px-2 py-1 outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:"MM.DD.YYYY",children:"MM.DD.YYYY"}),m.jsx("option",{value:"DD.MM.YYYY",children:"DD.MM.YYYY"}),m.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsxs("h3",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-4 tracking-wider flex items-center gap-2",children:[m.jsx(ZR,{size:14})," Account"]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg divide-y divide-[#E9E9E7] overflow-hidden shadow-sm",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-[#F7F7F5] rounded-full flex items-center justify-center text-[#37352F] border border-[#E9E9E7]",children:m.jsx(ZR,{size:20})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"Current User"}),m.jsx("div",{className:"text-xs text-[#9B9A97]",children:r})]})]}),m.jsx("button",{className:"text-xs bg-white border border-[#E9E9E7] px-3 py-1.5 rounded text-[#37352F] hover:bg-[#F7F7F5]",children:"Edit Profile"})]}),m.jsxs("div",{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#37352F]",children:[m.jsx(iae,{size:16,className:"text-[#9B9A97]"}),m.jsx("span",{className:"text-sm",children:"Password & Security"})]}),m.jsx("button",{className:"text-xs text-[#9B9A97] hover:text-[#37352F] hover:underline",children:"Change"})]})]})]}),m.jsx("div",{className:"flex justify-center mt-12",children:m.jsxs("button",{onClick:n,className:"text-red-600 text-sm font-medium flex items-center gap-2 px-4 py-2 hover:bg-red-50 rounded transition-colors",children:[m.jsx(RI,{size:16})," Log Out"]})}),s&&m.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-[#37352F] text-white p-4 rounded-lg shadow-xl flex items-center gap-6 animate-in slide-in-from-bottom-4 z-50 w-[90%] max-w-md justify-between border border-[#787774]",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Lf,{size:16,className:"text-yellow-400"}),m.jsx("span",{className:"text-sm font-medium",children:"Unsaved changes"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:f,className:"px-3 py-1.5 hover:bg-white/10 rounded text-xs font-medium transition-colors text-gray-300 hover:text-white",children:"Discard"}),m.jsxs("button",{onClick:d,className:"px-4 py-1.5 bg-white text-[#37352F] rounded text-xs font-bold hover:bg-gray-100 transition-colors flex items-center gap-1 shadow-sm",children:[m.jsx(S2,{size:14})," Save Changes"]})]})]})]})},M2e=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState("Male"),[d,f]=O.useState(""),[p,y]=O.useState(""),[v,E]=O.useState(!1);if(!t)return null;const A=async S=>{if(S.preventDefault(),!r)return;E(!0);const I={id:Date.now().toString(),name:r,email:a||void 0,gender:l,dob:d||void 0,primaryEvent:p||void 0};await n(I),i(""),s(""),f(""),y(""),u("Male"),E(!1),e()};return m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[m.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5]",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:"New Athlete"}),m.jsx("p",{className:"text-xs text-[#787774]",children:"Add a new profile to your database."})]}),m.jsx("button",{onClick:e,className:"p-1 hover:bg-[#E9E9E7] rounded text-[#787774] hover:text-[#37352F] transition-colors",children:m.jsx(dc,{size:20})})]}),m.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Full Name *"}),m.jsx("input",{autoFocus:!0,required:!0,placeholder:"e.g. Usain Bolt",value:r,onChange:S=>i(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F] transition-colors"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Gender"}),m.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:"Male",children:"Male"}),m.jsx("option",{value:"Female",children:"Female"}),m.jsx("option",{value:"Other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Date of Birth"}),m.jsx("input",{type:"date",value:d,onChange:S=>f(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Primary Event"}),m.jsx("input",{placeholder:"e.g. 100m",value:p,onChange:S=>y(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Email (Optional)"}),m.jsx("input",{type:"email",placeholder:"athlete@example.com",value:a,onChange:S=>s(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),m.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{type:"submit",disabled:v||!r,className:"bg-[#37352F] text-white px-6 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center gap-2",children:[m.jsx(qU,{size:16}),v?"Saving...":"Add Athlete"]})]})]})]})})},F2e=({isOpen:t,athlete:e,onClose:n,onSave:r})=>{const[i,a]=O.useState(""),[s,l]=O.useState(""),[u,d]=O.useState("Male"),[f,p]=O.useState(""),[y,v]=O.useState(""),[E,A]=O.useState(""),[S,I]=O.useState(!1);if(O.useEffect(()=>{var k;e&&(a(e.name),l(e.email||""),d(e.gender||"Male"),p(e.dob||""),v(e.primaryEvent||""),A(((k=e.pb100m)==null?void 0:k.toString())||""))},[e]),!t||!e)return null;const q=async k=>{if(k.preventDefault(),!i)return;I(!0);const B={...e,name:i,email:s||void 0,gender:u,dob:f||void 0,primaryEvent:y||void 0,pb100m:E?parseFloat(E):void 0};await r(B),I(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[m.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5]",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:"Edit Athlete"}),m.jsx("p",{className:"text-xs text-[#787774]",children:"Update athlete information."})]}),m.jsx("button",{onClick:n,className:"p-1 hover:bg-[#E9E9E7] rounded text-[#787774] hover:text-[#37352F] transition-colors",children:m.jsx(dc,{size:20})})]}),m.jsxs("form",{onSubmit:q,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Full Name *"}),m.jsx("input",{autoFocus:!0,required:!0,placeholder:"e.g. Usain Bolt",value:i,onChange:k=>a(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F] transition-colors"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Gender"}),m.jsxs("select",{value:u,onChange:k=>d(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:"Male",children:"Male"}),m.jsx("option",{value:"Female",children:"Female"}),m.jsx("option",{value:"Other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Date of Birth"}),m.jsx("input",{type:"date",value:f,onChange:k=>p(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Primary Event"}),m.jsx("input",{placeholder:"e.g. 100m",value:y,onChange:k=>v(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"100m PB (seconds)"}),m.jsx("input",{type:"number",step:"0.01",placeholder:"e.g. 10.55",value:E,onChange:k=>A(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Email (Optional)"}),m.jsx("input",{type:"email",placeholder:"athlete@example.com",value:s,onChange:k=>l(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),m.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{type:"submit",disabled:S||!i,className:"bg-[#37352F] text-white px-6 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center gap-2",children:[m.jsx(S2,{size:16}),S?"Saving...":"Save Changes"]})]})]})]})})},U2e="modulepreload",B2e=function(t){return"/"+t},Jj={},yA=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(d=>{if(d=B2e(d),d in Jj)return;Jj[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":U2e,f||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((v,E)=>{y.addEventListener("load",v),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function br(t){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}var fc=Uint8Array,Xo=Uint16Array,l4=Int32Array,c4=new fc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u4=new fc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zj=new fc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YH=function(t,e){for(var n=new Xo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new l4(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},WH=YH(c4,2),V2e=WH.b,PT=WH.r;V2e[28]=258,PT[258]=28;var z2e=YH(u4,0),eL=z2e.r,OT=new Xo(32768);for(var Kr=0;Kr<32768;++Kr){var sf=(Kr&43690)>>1|(Kr&21845)<<1;sf=(sf&52428)>>2|(sf&13107)<<2,sf=(sf&61680)>>4|(sf&3855)<<4,OT[Kr]=((sf&65280)>>8|(sf&255)<<8)>>1}var by=(function(t,e,n){for(var r=t.length,i=0,a=new Xo(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Xo(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new Xo(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],f=e-t[i],p=s[t[i]-1]++<<f,y=p|(1<<f)-1;p<=y;++p)l[OT[p]>>u]=d}else for(l=new Xo(r),i=0;i<r;++i)t[i]&&(l[i]=OT[s[t[i]-1]++]>>15-t[i]);return l}),up=new fc(288);for(var Kr=0;Kr<144;++Kr)up[Kr]=8;for(var Kr=144;Kr<256;++Kr)up[Kr]=9;for(var Kr=256;Kr<280;++Kr)up[Kr]=7;for(var Kr=280;Kr<288;++Kr)up[Kr]=8;var gx=new fc(32);for(var Kr=0;Kr<32;++Kr)gx[Kr]=5;var q2e=by(up,9,0),H2e=by(gx,5,0),KH=function(t){return(t+7)/8|0},$2e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new fc(t.subarray(e,n))},qu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Hv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},bA=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:QH,l:0};if(i==1){var s=new fc(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function($,K){return $.f-K.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],d=0,f=1,p=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};f!=i-1;)l=n[n[d].f<n[p].f?d++:p++],u=n[d!=f&&n[d].f<n[p].f?d++:p++],n[f++]={s:-1,f:l.f+u.f,l,r:u};for(var y=a[0].s,r=1;r<i;++r)a[r].s>y&&(y=a[r].s);var v=new Xo(y+1),E=RT(n[f-1],v,0);if(E>e){var r=0,A=0,S=E-e,I=1<<S;for(a.sort(function(K,L){return v[L.s]-v[K.s]||K.f-L.f});r<i;++r){var q=a[r].s;if(v[q]>e)A+=I-(1<<E-v[q]),v[q]=e;else break}for(A>>=S;A>0;){var k=a[r].s;v[k]<e?A-=1<<e-v[k]++-1:++r}for(;r>=0&&A;--r){var B=a[r].s;v[B]==e&&(--v[B],++A)}E=e}return{t:new fc(v),l:E}},RT=function(t,e,n){return t.s==-1?Math.max(RT(t.l,e,n+1),RT(t.r,e,n+1)):e[t.s]=n},tL=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Xo(++e),r=0,i=t[0],a=1,s=function(u){n[r++]=u},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},$v=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},XH=function(t,e,n){var r=n.length,i=KH(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},nL=function(t,e,n,r,i,a,s,l,u,d,f){qu(e,f++,n),++i[256];for(var p=bA(i,15),y=p.t,v=p.l,E=bA(a,15),A=E.t,S=E.l,I=tL(y),q=I.c,k=I.n,B=tL(A),$=B.c,K=B.n,L=new Xo(19),j=0;j<q.length;++j)++L[q[j]&31];for(var j=0;j<$.length;++j)++L[$[j]&31];for(var D=bA(L,7),G=D.t,P=D.l,F=19;F>4&&!G[Zj[F-1]];--F);var V=d+5<<3,ee=$v(i,up)+$v(a,gx)+s,ge=$v(i,y)+$v(a,A)+s+14+3*F+$v(L,G)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&V<=ee&&V<=ge)return XH(e,f,t.subarray(u,u+d));var se,fe,me,xe;if(qu(e,f,1+(ge<ee)),f+=2,ge<ee){se=by(y,v,0),fe=y,me=by(A,S,0),xe=A;var Ue=by(G,P,0);qu(e,f,k-257),qu(e,f+5,K-1),qu(e,f+10,F-4),f+=14;for(var j=0;j<F;++j)qu(e,f+3*j,G[Zj[j]]);f+=3*F;for(var ne=[q,$],M=0;M<2;++M)for(var X=ne[M],j=0;j<X.length;++j){var Z=X[j]&31;qu(e,f,Ue[Z]),f+=G[Z],Z>15&&(qu(e,f,X[j]>>5&127),f+=X[j]>>12)}}else se=q2e,fe=up,me=H2e,xe=gx;for(var j=0;j<l;++j){var de=r[j];if(de>255){var Z=de>>18&31;Hv(e,f,se[Z+257]),f+=fe[Z+257],Z>7&&(qu(e,f,de>>23&31),f+=c4[Z]);var pe=de&31;Hv(e,f,me[pe]),f+=xe[pe],pe>3&&(Hv(e,f,de>>5&8191),f+=u4[pe])}else Hv(e,f,se[de]),f+=fe[de]}return Hv(e,f,se[256]),f+fe[256]},G2e=new l4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),QH=new fc(0),Y2e=function(t,e,n,r,i,a){var s=a.z||t.length,l=new fc(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),d=a.l,f=(a.r||0)&7;if(e){f&&(u[0]=a.r>>3);for(var p=G2e[e-1],y=p>>13,v=p&8191,E=(1<<n)-1,A=a.p||new Xo(32768),S=a.h||new Xo(E+1),I=Math.ceil(n/3),q=2*I,k=function(it){return(t[it]^t[it+1]<<I^t[it+2]<<q)&E},B=new l4(25e3),$=new Xo(288),K=new Xo(32),L=0,j=0,D=a.i||0,G=0,P=a.w||0,F=0;D+2<s;++D){var V=k(D),ee=D&32767,ge=S[V];if(A[ee]=ge,S[V]=ee,P<=D){var se=s-D;if((L>7e3||G>24576)&&(se>423||!d)){f=nL(t,u,0,B,$,K,j,G,F,D-F,f),G=L=j=0,F=D;for(var fe=0;fe<286;++fe)$[fe]=0;for(var fe=0;fe<30;++fe)K[fe]=0}var me=2,xe=0,Ue=v,ne=ee-ge&32767;if(se>2&&V==k(D-ne))for(var M=Math.min(y,se)-1,X=Math.min(32767,D),Z=Math.min(258,se);ne<=X&&--Ue&&ee!=ge;){if(t[D+me]==t[D+me-ne]){for(var de=0;de<Z&&t[D+de]==t[D+de-ne];++de);if(de>me){if(me=de,xe=ne,de>M)break;for(var pe=Math.min(ne,de-2),ye=0,fe=0;fe<pe;++fe){var Pe=D-ne+fe&32767,he=A[Pe],Ce=Pe-he&32767;Ce>ye&&(ye=Ce,ge=Pe)}}}ee=ge,ge=A[ee],ne+=ee-ge&32767}if(xe){B[G++]=268435456|PT[me]<<18|eL[xe];var Ve=PT[me]&31,Se=eL[xe]&31;j+=c4[Ve]+u4[Se],++$[257+Ve],++K[Se],P=D+me,++L}else B[G++]=t[D],++$[t[D]]}}for(D=Math.max(D,P);D<s;++D)B[G++]=t[D],++$[t[D]];f=nL(t,u,d,B,$,K,j,G,F,D-F,f),d||(a.r=f&7|u[f/8|0]<<3,f-=7,a.h=S,a.p=A,a.i=D,a.w=P)}else{for(var D=a.w||0;D<s+d;D+=65535){var rt=D+65535;rt>=s&&(u[f/8|0]=d,rt=s),f=XH(u,f+1,t.subarray(D,rt))}a.i=s}return $2e(l,0,r+KH(f)+i)},JH=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},W2e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new fc(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return Y2e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},ZH=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},K2e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=JH();i.p(e.dictionary),ZH(t,2,i.d())}};function DT(t,e){e||(e={});var n=JH();n.p(t);var r=W2e(t,e,e.dictionary?6:2,4);return K2e(r,e),ZH(r,r.length-4,n.d()),r}var X2e=typeof TextDecoder<"u"&&new TextDecoder,Q2e=0;try{X2e.decode(QH,{stream:!0}),Q2e=1}catch{}function J2e(t){if(Array.isArray(t))return t}function Z2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function rL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function exe(t,e){if(t){if(typeof t=="string")return rL(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rL(t,e):void 0}}function txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iL(t,e){return J2e(t)||Z2e(t,e)||exe(t,e)||txe()}function aL(t,e="utf8"){return new TextDecoder(e).decode(t)}const nxe=new TextEncoder;function rxe(t){return nxe.encode(t)}const ixe=1024*8,axe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),xA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d4{constructor(e=ixe,n={}){lr(this,"buffer");lr(this,"byteLength");lr(this,"byteOffset");lr(this,"length");lr(this,"offset");lr(this,"lastWrittenByte");lr(this,"littleEndian");lr(this,"_data");lr(this,"_mark");lr(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof d4)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=xA[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===axe&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const u=new xA[n](l.buffer);return this.offset+=r,u.reverse(),u}const s=new xA[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return aL(this.readBytes(e))}decodeText(e=1,n="utf8"){return aL(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(rxe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hg(t){let e=t.length;for(;--e>=0;)t[e]=0}const sxe=3,oxe=258,e$=29,lxe=256,cxe=lxe+1+e$,t$=30,uxe=512,dxe=new Array((cxe+2)*2);Hg(dxe);const fxe=new Array(t$*2);Hg(fxe);const hxe=new Array(uxe);Hg(hxe);const pxe=new Array(oxe-sxe+1);Hg(pxe);const mxe=new Array(e$);Hg(mxe);const gxe=new Array(t$);Hg(gxe);const vxe=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var kT=vxe;const yxe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},bxe=new Uint32Array(yxe()),xxe=(t,e,n,r)=>{const i=bxe,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Fc=xxe,jT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},n$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _xe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var wxe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_xe(n,r)&&(t[r]=n[r])}}return t},Exe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},r$={assign:wxe,flattenChunks:Exe};let i$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i$=!1}const l0=new Uint8Array(256);for(let t=0;t<256;t++)l0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;l0[254]=l0[254]=1;var Axe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,l=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const Sxe=(t,e)=>{if(e<65534&&t.subarray&&i$)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Txe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let l=l0[s];if(l>4){a[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|t[r++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Sxe(a,i)},Nxe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+l0[t[n]]>e?n:e},LT={string2buf:Axe,buf2string:Txe,utf8border:Nxe};function Ixe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Cxe=Ixe;const bb=16209,Pxe=16191;var Oxe=function(e,n){let r,i,a,s,l,u,d,f,p,y,v,E,A,S,I,q,k,B,$,K,L,j,D,G;const P=e.state;r=e.next_in,D=e.input,i=r+(e.avail_in-5),a=e.next_out,G=e.output,s=a-(n-e.avail_out),l=a+(e.avail_out-257),u=P.dmax,d=P.wsize,f=P.whave,p=P.wnext,y=P.window,v=P.hold,E=P.bits,A=P.lencode,S=P.distcode,I=(1<<P.lenbits)-1,q=(1<<P.distbits)-1;e:do{E<15&&(v+=D[r++]<<E,E+=8,v+=D[r++]<<E,E+=8),k=A[v&I];t:for(;;){if(B=k>>>24,v>>>=B,E-=B,B=k>>>16&255,B===0)G[a++]=k&65535;else if(B&16){$=k&65535,B&=15,B&&(E<B&&(v+=D[r++]<<E,E+=8),$+=v&(1<<B)-1,v>>>=B,E-=B),E<15&&(v+=D[r++]<<E,E+=8,v+=D[r++]<<E,E+=8),k=S[v&q];n:for(;;){if(B=k>>>24,v>>>=B,E-=B,B=k>>>16&255,B&16){if(K=k&65535,B&=15,E<B&&(v+=D[r++]<<E,E+=8,E<B&&(v+=D[r++]<<E,E+=8)),K+=v&(1<<B)-1,K>u){e.msg="invalid distance too far back",P.mode=bb;break e}if(v>>>=B,E-=B,B=a-s,K>B){if(B=K-B,B>f&&P.sane){e.msg="invalid distance too far back",P.mode=bb;break e}if(L=0,j=y,p===0){if(L+=d-B,B<$){$-=B;do G[a++]=y[L++];while(--B);L=a-K,j=G}}else if(p<B){if(L+=d+p-B,B-=p,B<$){$-=B;do G[a++]=y[L++];while(--B);if(L=0,p<$){B=p,$-=B;do G[a++]=y[L++];while(--B);L=a-K,j=G}}}else if(L+=p-B,B<$){$-=B;do G[a++]=y[L++];while(--B);L=a-K,j=G}for(;$>2;)G[a++]=j[L++],G[a++]=j[L++],G[a++]=j[L++],$-=3;$&&(G[a++]=j[L++],$>1&&(G[a++]=j[L++]))}else{L=a-K;do G[a++]=G[L++],G[a++]=G[L++],G[a++]=G[L++],$-=3;while($>2);$&&(G[a++]=G[L++],$>1&&(G[a++]=G[L++]))}}else if((B&64)===0){k=S[(k&65535)+(v&(1<<B)-1)];continue n}else{e.msg="invalid distance code",P.mode=bb;break e}break}}else if((B&64)===0){k=A[(k&65535)+(v&(1<<B)-1)];continue t}else if(B&32){P.mode=Pxe;break e}else{e.msg="invalid literal/length code",P.mode=bb;break e}break}}while(r<i&&a<l);$=E>>3,r-=$,E-=$<<3,v&=(1<<E)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<l?257+(l-a):257-(a-l),P.hold=v,P.bits=E};const pm=15,sL=852,oL=592,lL=0,_A=1,cL=2,Rxe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Dxe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kxe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jxe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Lxe=(t,e,n,r,i,a,s,l)=>{const u=l.bits;let d=0,f=0,p=0,y=0,v=0,E=0,A=0,S=0,I=0,q=0,k,B,$,K,L,j=null,D;const G=new Uint16Array(pm+1),P=new Uint16Array(pm+1);let F=null,V,ee,ge;for(d=0;d<=pm;d++)G[d]=0;for(f=0;f<r;f++)G[e[n+f]]++;for(v=u,y=pm;y>=1&&G[y]===0;y--);if(v>y&&(v=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<y&&G[p]===0;p++);for(v<p&&(v=p),S=1,d=1;d<=pm;d++)if(S<<=1,S-=G[d],S<0)return-1;if(S>0&&(t===lL||y!==1))return-1;for(P[1]=0,d=1;d<pm;d++)P[d+1]=P[d]+G[d];for(f=0;f<r;f++)e[n+f]!==0&&(s[P[e[n+f]]++]=f);if(t===lL?(j=F=s,D=20):t===_A?(j=Rxe,F=Dxe,D=257):(j=kxe,F=jxe,D=0),q=0,f=0,d=p,L=a,E=v,A=0,$=-1,I=1<<v,K=I-1,t===_A&&I>sL||t===cL&&I>oL)return 1;for(;;){V=d-A,s[f]+1<D?(ee=0,ge=s[f]):s[f]>=D?(ee=F[s[f]-D],ge=j[s[f]-D]):(ee=96,ge=0),k=1<<d-A,B=1<<E,p=B;do B-=k,i[L+(q>>A)+B]=V<<24|ee<<16|ge|0;while(B!==0);for(k=1<<d-1;q&k;)k>>=1;if(k!==0?(q&=k-1,q+=k):q=0,f++,--G[d]===0){if(d===y)break;d=e[n+s[f]]}if(d>v&&(q&K)!==$){for(A===0&&(A=v),L+=p,E=d-A,S=1<<E;E+A<y&&(S-=G[E+A],!(S<=0));)E++,S<<=1;if(I+=1<<E,t===_A&&I>sL||t===cL&&I>oL)return 1;$=q&K,i[$]=v<<24|E<<16|L-a|0}}return q!==0&&(i[L+q]=d-A<<24|64<<16|0),l.bits=v,0};var xy=Lxe;const Mxe=0,a$=1,s$=2,{Z_FINISH:uL,Z_BLOCK:Fxe,Z_TREES:xb,Z_OK:dp,Z_STREAM_END:Uxe,Z_NEED_DICT:Bxe,Z_STREAM_ERROR:kl,Z_DATA_ERROR:o$,Z_MEM_ERROR:l$,Z_BUF_ERROR:Vxe,Z_DEFLATED:dL}=n$,J_=16180,fL=16181,hL=16182,pL=16183,mL=16184,gL=16185,vL=16186,yL=16187,bL=16188,xL=16189,vx=16190,Hu=16191,wA=16192,_L=16193,EA=16194,wL=16195,EL=16196,AL=16197,SL=16198,_b=16199,wb=16200,TL=16201,NL=16202,IL=16203,CL=16204,PL=16205,AA=16206,OL=16207,RL=16208,ai=16209,c$=16210,u$=16211,zxe=852,qxe=592,Hxe=15,$xe=Hxe,DL=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Gxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _p=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<J_||e.mode>u$?1:0},d$=t=>{if(_p(t))return kl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=J_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zxe),e.distcode=e.distdyn=new Int32Array(qxe),e.sane=1,e.back=-1,dp},f$=t=>{if(_p(t))return kl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,d$(t)},h$=(t,e)=>{let n;if(_p(t))return kl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?kl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,f$(t))},p$=(t,e)=>{if(!t)return kl;const n=new Gxe;t.state=n,n.strm=t,n.window=null,n.mode=J_;const r=h$(t,e);return r!==dp&&(t.state=null),r},Yxe=t=>p$(t,$xe);let kL=!0,SA,TA;const Wxe=t=>{if(kL){SA=new Int32Array(512),TA=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xy(a$,t.lens,0,288,SA,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xy(s$,t.lens,0,32,TA,0,t.work,{bits:5}),kL=!1}t.lencode=SA,t.lenbits=9,t.distcode=TA,t.distbits=5},m$=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Kxe=(t,e)=>{let n,r,i,a,s,l,u,d,f,p,y,v,E,A,S=0,I,q,k,B,$,K,L,j;const D=new Uint8Array(4);let G,P;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_p(t)||!t.output||!t.input&&t.avail_in!==0)return kl;n=t.state,n.mode===Hu&&(n.mode=wA),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,d=n.hold,f=n.bits,p=l,y=u,j=dp;e:for(;;)switch(n.mode){case J_:if(n.wrap===0){n.mode=wA;break}for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=d&255,D[1]=d>>>8&255,n.check=Fc(n.check,D,2,0),d=0,f=0,n.mode=fL;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",n.mode=ai;break}if((d&15)!==dL){t.msg="unknown compression method",n.mode=ai;break}if(d>>>=4,f-=4,L=(d&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){t.msg="invalid window size",n.mode=ai;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=d&512?xL:Hu,d=0,f=0;break;case fL:for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(n.flags=d,(n.flags&255)!==dL){t.msg="unknown compression method",n.mode=ai;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ai;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,n.check=Fc(n.check,D,2,0)),d=0,f=0,n.mode=hL;case hL:for(;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,n.check=Fc(n.check,D,4,0)),d=0,f=0,n.mode=pL;case pL:for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,n.check=Fc(n.check,D,2,0)),d=0,f=0,n.mode=mL;case mL:if(n.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,n.check=Fc(n.check,D,2,0)),d=0,f=0}else n.head&&(n.head.extra=null);n.mode=gL;case gL:if(n.flags&1024&&(v=n.length,v>l&&(v=l),v&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+v),L)),n.flags&512&&n.wrap&4&&(n.check=Fc(n.check,r,v,a)),l-=v,a+=v,n.length-=v),n.length))break e;n.length=0,n.mode=vL;case vL:if(n.flags&2048){if(l===0)break e;v=0;do L=r[a+v++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&v<l);if(n.flags&512&&n.wrap&4&&(n.check=Fc(n.check,r,v,a)),l-=v,a+=v,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=yL;case yL:if(n.flags&4096){if(l===0)break e;v=0;do L=r[a+v++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&v<l);if(n.flags&512&&n.wrap&4&&(n.check=Fc(n.check,r,v,a)),l-=v,a+=v,L)break e}else n.head&&(n.head.comment=null);n.mode=bL;case bL:if(n.flags&512){for(;f<16;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(n.wrap&4&&d!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ai;break}d=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Hu;break;case xL:for(;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}t.adler=n.check=DL(d),d=0,f=0,n.mode=vx;case vx:if(n.havedict===0)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=d,n.bits=f,Bxe;t.adler=n.check=1,n.mode=Hu;case Hu:if(e===Fxe||e===xb)break e;case wA:if(n.last){d>>>=f&7,f-=f&7,n.mode=AA;break}for(;f<3;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}switch(n.last=d&1,d>>>=1,f-=1,d&3){case 0:n.mode=_L;break;case 1:if(Wxe(n),n.mode=_b,e===xb){d>>>=2,f-=2;break e}break;case 2:n.mode=EL;break;case 3:t.msg="invalid block type",n.mode=ai}d>>>=2,f-=2;break;case _L:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ai;break}if(n.length=d&65535,d=0,f=0,n.mode=EA,e===xb)break e;case EA:n.mode=wL;case wL:if(v=n.length,v){if(v>l&&(v=l),v>u&&(v=u),v===0)break e;i.set(r.subarray(a,a+v),s),l-=v,a+=v,u-=v,s+=v,n.length-=v;break}n.mode=Hu;break;case EL:for(;f<14;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(n.nlen=(d&31)+257,d>>>=5,f-=5,n.ndist=(d&31)+1,d>>>=5,f-=5,n.ncode=(d&15)+4,d>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ai;break}n.have=0,n.mode=AL;case AL:for(;n.have<n.ncode;){for(;f<3;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}n.lens[F[n.have++]]=d&7,d>>>=3,f-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},j=xy(Mxe,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,j){t.msg="invalid code lengths set",n.mode=ai;break}n.have=0,n.mode=SL;case SL:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[d&(1<<n.lenbits)-1],I=S>>>24,q=S>>>16&255,k=S&65535,!(I<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(k<16)d>>>=I,f-=I,n.lens[n.have++]=k;else{if(k===16){for(P=I+2;f<P;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(d>>>=I,f-=I,n.have===0){t.msg="invalid bit length repeat",n.mode=ai;break}L=n.lens[n.have-1],v=3+(d&3),d>>>=2,f-=2}else if(k===17){for(P=I+3;f<P;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=I,f-=I,L=0,v=3+(d&7),d>>>=3,f-=3}else{for(P=I+7;f<P;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=I,f-=I,L=0,v=11+(d&127),d>>>=7,f-=7}if(n.have+v>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ai;break}for(;v--;)n.lens[n.have++]=L}}if(n.mode===ai)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ai;break}if(n.lenbits=9,G={bits:n.lenbits},j=xy(a$,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,j){t.msg="invalid literal/lengths set",n.mode=ai;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},j=xy(s$,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,j){t.msg="invalid distances set",n.mode=ai;break}if(n.mode=_b,e===xb)break e;case _b:n.mode=wb;case wb:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=d,n.bits=f,Oxe(t,y),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,d=n.hold,f=n.bits,n.mode===Hu&&(n.back=-1);break}for(n.back=0;S=n.lencode[d&(1<<n.lenbits)-1],I=S>>>24,q=S>>>16&255,k=S&65535,!(I<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(q&&(q&240)===0){for(B=I,$=q,K=k;S=n.lencode[K+((d&(1<<B+$)-1)>>B)],I=S>>>24,q=S>>>16&255,k=S&65535,!(B+I<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=B,f-=B,n.back+=B}if(d>>>=I,f-=I,n.back+=I,n.length=k,q===0){n.mode=PL;break}if(q&32){n.back=-1,n.mode=Hu;break}if(q&64){t.msg="invalid literal/length code",n.mode=ai;break}n.extra=q&15,n.mode=TL;case TL:if(n.extra){for(P=n.extra;f<P;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=NL;case NL:for(;S=n.distcode[d&(1<<n.distbits)-1],I=S>>>24,q=S>>>16&255,k=S&65535,!(I<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if((q&240)===0){for(B=I,$=q,K=k;S=n.distcode[K+((d&(1<<B+$)-1)>>B)],I=S>>>24,q=S>>>16&255,k=S&65535,!(B+I<=f);){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}d>>>=B,f-=B,n.back+=B}if(d>>>=I,f-=I,n.back+=I,q&64){t.msg="invalid distance code",n.mode=ai;break}n.offset=k,n.extra=q&15,n.mode=IL;case IL:if(n.extra){for(P=n.extra;f<P;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ai;break}n.mode=CL;case CL:if(u===0)break e;if(v=y-u,n.offset>v){if(v=n.offset-v,v>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ai;break}v>n.wnext?(v-=n.wnext,E=n.wsize-v):E=n.wnext-v,v>n.length&&(v=n.length),A=n.window}else A=i,E=s-n.offset,v=n.length;v>u&&(v=u),u-=v,n.length-=v;do i[s++]=A[E++];while(--v);n.length===0&&(n.mode=wb);break;case PL:if(u===0)break e;i[s++]=n.length,u--,n.mode=wb;break;case AA:if(n.wrap){for(;f<32;){if(l===0)break e;l--,d|=r[a++]<<f,f+=8}if(y-=u,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Fc(n.check,i,y,s-y):kT(n.check,i,y,s-y)),y=u,n.wrap&4&&(n.flags?d:DL(d))!==n.check){t.msg="incorrect data check",n.mode=ai;break}d=0,f=0}n.mode=OL;case OL:if(n.wrap&&n.flags){for(;f<32;){if(l===0)break e;l--,d+=r[a++]<<f,f+=8}if(n.wrap&4&&d!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ai;break}d=0,f=0}n.mode=RL;case RL:j=Uxe;break e;case ai:j=o$;break e;case c$:return l$;case u$:default:return kl}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=d,n.bits=f,(n.wsize||y!==t.avail_out&&n.mode<ai&&(n.mode<AA||e!==uL))&&m$(t,t.output,t.next_out,y-t.avail_out),p-=t.avail_in,y-=t.avail_out,t.total_in+=p,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Fc(n.check,i,y,t.next_out-y):kT(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Hu?128:0)+(n.mode===_b||n.mode===EA?256:0),(p===0&&y===0||e===uL)&&j===dp&&(j=Vxe),j},Xxe=t=>{if(_p(t))return kl;let e=t.state;return e.window&&(e.window=null),t.state=null,dp},Qxe=(t,e)=>{if(_p(t))return kl;const n=t.state;return(n.wrap&2)===0?kl:(n.head=e,e.done=!1,dp)},Jxe=(t,e)=>{const n=e.length;let r,i,a;return _p(t)||(r=t.state,r.wrap!==0&&r.mode!==vx)?kl:r.mode===vx&&(i=1,i=kT(i,e,n,0),i!==r.check)?o$:(a=m$(t,e,n,n),a?(r.mode=c$,l$):(r.havedict=1,dp))};var Zxe=f$,e_e=h$,t_e=d$,n_e=Yxe,r_e=p$,i_e=Kxe,a_e=Xxe,s_e=Qxe,o_e=Jxe,l_e="pako inflate (from Nodeca project)",Gu={inflateReset:Zxe,inflateReset2:e_e,inflateResetKeep:t_e,inflateInit:n_e,inflateInit2:r_e,inflate:i_e,inflateEnd:a_e,inflateGetHeader:s_e,inflateSetDictionary:o_e,inflateInfo:l_e};function c_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var u_e=c_e;const g$=Object.prototype.toString,{Z_NO_FLUSH:d_e,Z_FINISH:f_e,Z_OK:c0,Z_STREAM_END:NA,Z_NEED_DICT:IA,Z_STREAM_ERROR:h_e,Z_DATA_ERROR:jL,Z_MEM_ERROR:p_e}=n$;function n1(t){this.options=r$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cxe,this.strm.avail_out=0;let n=Gu.inflateInit2(this.strm,e.windowBits);if(n!==c0)throw new Error(jT[n]);if(this.header=new u_e,Gu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=LT.string2buf(e.dictionary):g$.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Gu.inflateSetDictionary(this.strm,e.dictionary),n!==c0)))throw new Error(jT[n])}n1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?f_e:d_e,g$.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Gu.inflate(n,s),a===IA&&i&&(a=Gu.inflateSetDictionary(n,i),a===c0?a=Gu.inflate(n,s):a===jL&&(a=IA));n.avail_in>0&&a===NA&&n.state.wrap>0&&t[n.next_in]!==0;)Gu.inflateReset(n),a=Gu.inflate(n,s);switch(a){case h_e:case jL:case IA:case p_e:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===NA))if(this.options.to==="string"){let u=LT.utf8border(n.output,n.next_out),d=n.next_out-u,f=LT.buf2string(n.output,u);n.next_out=d,n.avail_out=r-d,d&&n.output.set(n.output.subarray(u,u+d),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===c0&&l===0)){if(a===NA)return a=Gu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};n1.prototype.onData=function(t){this.chunks.push(t)};n1.prototype.onEnd=function(t){t===c0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function m_e(t,e){const n=new n1(e);if(n.push(t),n.err)throw n.msg||jT[n.err];return n.result}var g_e=n1,v_e=m_e,y_e={Inflate:g_e,inflate:v_e};const{Inflate:b_e,inflate:x_e}=y_e;var LL=b_e,__e=x_e;const v$=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;v$[t]=e}const ML=4294967295;function w_e(t,e,n){let r=t;for(let i=0;i<n;i++)r=v$[(r^e[i])&255]^r>>>8;return r}function E_e(t,e){return(w_e(ML,t,e)^ML)>>>0}function FL(t,e,n){const r=t.readUint32(),i=E_e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function y$(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function b$(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function x$(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function _$(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function w$(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+A_e(e[a-i],n[a],n[a-i])&255}}function A_e(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function S_e(t,e,n,r,i,a){switch(t){case 0:y$(e,n,i);break;case 1:b$(e,n,i,a);break;case 2:x$(e,n,r,i);break;case 3:_$(e,n,r,i,a);break;case 4:w$(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const T_e=new Uint16Array([255]),N_e=new Uint8Array(T_e.buffer),I_e=N_e[0]===255;function C_e(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,u=new Uint8Array(r*n*l);let d=0;for(let f=0;f<7;f++){const p=s[f],y=Math.ceil((n-p.x)/p.xStep),v=Math.ceil((r-p.y)/p.yStep);if(y<=0||v<=0)continue;const E=y*l,A=new Uint8Array(E);for(let S=0;S<v;S++){const I=e[d++],q=e.subarray(d,d+E);d+=E;const k=new Uint8Array(E);S_e(I,q,k,A,E,l),A.set(k);for(let B=0;B<y;B++){const $=p.x+B*p.xStep,K=p.y+S*p.yStep;if(!($>=n||K>=r))for(let L=0;L<l;L++)u[(K*n+$)*l+L]=k[B*l+L]}}}if(a===16){const f=new Uint16Array(u.buffer);if(I_e)for(let p=0;p<f.length;p++)f[p]=P_e(f[p]);return f}else return u}function P_e(t){return(t&255)<<8|t>>8&255}const O_e=new Uint16Array([255]),R_e=new Uint8Array(O_e.buffer),D_e=R_e[0]===255,k_e=new Uint8Array(0);function UL(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*n),u=new Uint8Array(r*l);let d=k_e,f=0,p,y;for(let v=0;v<r;v++){switch(p=e.subarray(f+1,f+1+l),y=u.subarray(v*l,(v+1)*l),e[f]){case 0:y$(p,y,l);break;case 1:b$(p,y,l,s);break;case 2:x$(p,y,d,l);break;case 3:_$(p,y,d,l,s);break;case 4:w$(p,y,d,l,s);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=y,f+=l+1}if(a===16){const v=new Uint16Array(u.buffer);if(D_e)for(let E=0;E<v.length;E++)v[E]=j_e(v[E]);return v}else return u}function j_e(t){return(t&255)<<8|t>>8&255}const Yb=Uint8Array.of(137,80,78,71,13,10,26,10);function BL(t){if(!L_e(t.readBytes(Yb.length)))throw new Error("wrong PNG signature")}function L_e(t){if(t.length<Yb.length)return!1;for(let e=0;e<Yb.length;e++)if(t[e]!==Yb[e])return!1;return!0}const M_e="tEXt",F_e=0,E$=new TextDecoder("latin1");function U_e(t){if(V_e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const B_e=/^[\u0000-\u00FF]*$/;function V_e(t){if(!B_e.test(t))throw new Error("invalid latin1 text")}function z_e(t,e,n){const r=A$(e);t[r]=q_e(e,n-r.length-1)}function A$(t){for(t.mark();t.readByte()!==F_e;);const e=t.offset;t.reset();const n=E$.decode(t.readBytes(e-t.offset-1));return t.skip(1),U_e(n),n}function q_e(t,e){return E$.decode(t.readBytes(e))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},CA={UNKNOWN:-1,DEFLATE:0},VL={UNKNOWN:-1,ADAPTIVE:0},PA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Eb={NONE:0,BACKGROUND:1,PREVIOUS:2},OA={SOURCE:0,OVER:1};class H_e extends d4{constructor(n,r={}){super(n);lr(this,"_checkCrc");lr(this,"_inflator");lr(this,"_png");lr(this,"_apng");lr(this,"_end");lr(this,"_hasPalette");lr(this,"_palette");lr(this,"_hasTransparency");lr(this,"_transparency");lr(this,"_compressionMethod");lr(this,"_filterMethod");lr(this,"_interlaceMethod");lr(this,"_colorType");lr(this,"_isAnimated");lr(this,"_numberOfFrames");lr(this,"_numberOfPlays");lr(this,"_frames");lr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new LL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CA.UNKNOWN,this._filterMethod=VL.UNKNOWN,this._interlaceMethod=PA.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(BL(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(BL(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case M_e:z_e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?FL(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?FL(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=$_e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Vo.GREYSCALE:i=1;break;case Vo.TRUECOLOUR:i=3;break;case Vo.INDEXED_COLOUR:i=1;break;case Vo.GREYSCALE_ALPHA:i=2;break;case Vo.TRUECOLOUR_ALPHA:i=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==CA.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=A$(this),i=this.readUint8();if(i!==CA.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:__e(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=UL({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Eb.NONE:break;case Eb.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const l=(a*n.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)i.data[l+u]=0}break;case Eb.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,l)=>{const u=((s+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,d=(s*r.width+l)*this._png.channels;return{index:u,frameIndex:d}};switch(r.blendOp){case OA.SOURCE:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:u,frameIndex:d}=a(s,l);for(let f=0;f<this._png.channels;f++)n.data[u+f]=r.data[d+f]}break;case OA.OVER:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:u,frameIndex:d}=a(s,l);for(let f=0;f<this._png.channels;f++){const p=r.data[d+this._png.channels-1]/i,y=f%(this._png.channels-1)===0?1:r.data[d+f],v=Math.floor(p*y+(1-p)*n.data[u+f]);n.data[u+f]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==VL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===PA.NO_INTERLACE)this._png.data=UL({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===PA.ADAM7)this._png.data=C_e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Eb.NONE,blendOp:OA.SOURCE,data:n}),this._inflator=new LL,this._writingDataChunks=!1}}function $_e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var zL;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(zL||(zL={}));function G_e(t,e){return new H_e(t,e).decode()}var pn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function RA(){pn.console&&typeof pn.console.log=="function"&&pn.console.log.apply(pn.console,arguments)}var jr={log:RA,warn:function(t){pn.console&&(typeof pn.console.warn=="function"?pn.console.warn.apply(pn.console,arguments):RA.call(null,arguments))},error:function(t){pn.console&&(typeof pn.console.error=="function"?pn.console.error.apply(pn.console,arguments):RA(t))}};function DA(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){xh(r.response,e,n)},r.onerror=function(){jr.error("could not download file")},r.send()}function qL(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ab(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var xh=pn.saveAs||((typeof window>"u"?"undefined":br(window))!=="object"||window!==pn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=pn.URL||pn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?qL(i.href)?DA(t,e,n):Ab(i,i.target="_blank"):Ab(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ab(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(qL(t))DA(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ab(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:br(a)!=="object"&&(jr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return DA(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(pn.HTMLElement)||pn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":br(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(t)}else{var u=pn.URL||pn.webkitURL,d=u.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}var Wb=pn.atob.bind(pn),HL=pn.btoa.bind(pn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kA(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=As(n,r,i,a,e[0],7,-680876936),a=As(a,n,r,i,e[1],12,-389564586),i=As(i,a,n,r,e[2],17,606105819),r=As(r,i,a,n,e[3],22,-1044525330),n=As(n,r,i,a,e[4],7,-176418897),a=As(a,n,r,i,e[5],12,1200080426),i=As(i,a,n,r,e[6],17,-1473231341),r=As(r,i,a,n,e[7],22,-45705983),n=As(n,r,i,a,e[8],7,1770035416),a=As(a,n,r,i,e[9],12,-1958414417),i=As(i,a,n,r,e[10],17,-42063),r=As(r,i,a,n,e[11],22,-1990404162),n=As(n,r,i,a,e[12],7,1804603682),a=As(a,n,r,i,e[13],12,-40341101),i=As(i,a,n,r,e[14],17,-1502002290),n=Ss(n,r=As(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ss(a,n,r,i,e[6],9,-1069501632),i=Ss(i,a,n,r,e[11],14,643717713),r=Ss(r,i,a,n,e[0],20,-373897302),n=Ss(n,r,i,a,e[5],5,-701558691),a=Ss(a,n,r,i,e[10],9,38016083),i=Ss(i,a,n,r,e[15],14,-660478335),r=Ss(r,i,a,n,e[4],20,-405537848),n=Ss(n,r,i,a,e[9],5,568446438),a=Ss(a,n,r,i,e[14],9,-1019803690),i=Ss(i,a,n,r,e[3],14,-187363961),r=Ss(r,i,a,n,e[8],20,1163531501),n=Ss(n,r,i,a,e[13],5,-1444681467),a=Ss(a,n,r,i,e[2],9,-51403784),i=Ss(i,a,n,r,e[7],14,1735328473),n=Ts(n,r=Ss(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ts(a,n,r,i,e[8],11,-2022574463),i=Ts(i,a,n,r,e[11],16,1839030562),r=Ts(r,i,a,n,e[14],23,-35309556),n=Ts(n,r,i,a,e[1],4,-1530992060),a=Ts(a,n,r,i,e[4],11,1272893353),i=Ts(i,a,n,r,e[7],16,-155497632),r=Ts(r,i,a,n,e[10],23,-1094730640),n=Ts(n,r,i,a,e[13],4,681279174),a=Ts(a,n,r,i,e[0],11,-358537222),i=Ts(i,a,n,r,e[3],16,-722521979),r=Ts(r,i,a,n,e[6],23,76029189),n=Ts(n,r,i,a,e[9],4,-640364487),a=Ts(a,n,r,i,e[12],11,-421815835),i=Ts(i,a,n,r,e[15],16,530742520),n=Ns(n,r=Ts(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ns(a,n,r,i,e[7],10,1126891415),i=Ns(i,a,n,r,e[14],15,-1416354905),r=Ns(r,i,a,n,e[5],21,-57434055),n=Ns(n,r,i,a,e[12],6,1700485571),a=Ns(a,n,r,i,e[3],10,-1894986606),i=Ns(i,a,n,r,e[10],15,-1051523),r=Ns(r,i,a,n,e[1],21,-2054922799),n=Ns(n,r,i,a,e[8],6,1873313359),a=Ns(a,n,r,i,e[15],10,-30611744),i=Ns(i,a,n,r,e[6],15,-1560198380),r=Ns(r,i,a,n,e[13],21,1309151649),n=Ns(n,r,i,a,e[4],6,-145523070),a=Ns(a,n,r,i,e[11],10,-1120210379),i=Ns(i,a,n,r,e[2],15,718787259),r=Ns(r,i,a,n,e[9],21,-343485551),t[0]=mf(n,t[0]),t[1]=mf(r,t[1]),t[2]=mf(i,t[2]),t[3]=mf(a,t[3])}function Z_(t,e,n,r,i,a){return e=mf(mf(e,t),mf(r,a)),mf(e<<i|e>>>32-i,n)}function As(t,e,n,r,i,a,s){return Z_(e&n|~e&r,t,e,i,a,s)}function Ss(t,e,n,r,i,a,s){return Z_(e&r|n&~r,t,e,i,a,s)}function Ts(t,e,n,r,i,a,s){return Z_(e^n^r,t,e,i,a,s)}function Ns(t,e,n,r,i,a,s){return Z_(n^(e|~r),t,e,i,a,s)}function T$(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)kA(r,Y_e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kA(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,kA(r,i),r}function Y_e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var $L="0123456789abcdef".split("");function W_e(t){for(var e="",n=0;n<4;n++)e+=$L[t>>8*n+4&15]+$L[t>>8*n&15];return e}function K_e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function MT(t){return T$(t).map(K_e).join("")}var X_e=(function(t){for(var e=0;e<t.length;e++)t[e]=W_e(t[e]);return t.join("")})(T$("hello"))!="5d41402abc4b2a76b9719d911017c592";function mf(t,e){if(X_e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function FT(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var f=l[u];d=(d+f+s.charCodeAt(u))%256,l[u]=l[d],l[d]=f}n=t,r=l}else l=r;var p=e.length,y=0,v=0,E="";for(u=0;u<p;u++)v=(v+(f=l[y=(y+1)%256]))%256,l[y]=l[v],l[v]=f,s=l[(l[y]+l[v])%256],E+=String.fromCharCode(e.charCodeAt(u)^s);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GL={print:4,modify:8,copy:16,"annot-forms":32};function Em(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(GL.perm!==void 0)throw new Error("Invalid permission: "+l);i+=GL[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=MT(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=FT(this.encryptionKey,this.padding)}function Am(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function YL(t){if(br(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(l){pn.console&&jr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yx(t){if(!(this instanceof yx))return new yx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function N$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Th(t,e,n,r,i){if(!(this instanceof Th))return new Th(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,N$.call(this,r,i)}function Cm(t,e,n,r,i){if(!(this instanceof Cm))return new Cm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,N$.call(this,r,i)}function Ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,d="S",f=null;br(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),d=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=YL;var E="1.3",A=v.__private__.getPdfVersion=function(){return E};v.__private__.setPdfVersion=function(N){E=N};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return S};var I=v.__private__.getPageFormat=function(N){return S[N]};i=i||"a4";var q="compat",k="advanced",B=q;function $(){this.saveGraphicsState(),oe(new qt(Et,0,0,-Et,0,Fs()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),d="n",B=k}function K(){this.restoreGraphicsState(),d="S",B=q}var L=v.__private__.combineFontStyleAndFontWeight=function(N,Y){if(N=="bold"&&Y=="normal"||N=="bold"&&Y==400||N=="normal"&&Y=="italic"||N=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(N=Y==400||Y==="normal"?N==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||N!=="normal"?(Y==700?"bold":Y)+""+N:"bold"),N};v.advancedAPI=function(N){var Y=B===q;return Y&&$.call(this),typeof N!="function"||(N(this),Y&&K.call(this)),this},v.compatAPI=function(N){var Y=B===k;return Y&&K.call(this),typeof N!="function"||(N(this),Y&&$.call(this)),this},v.isAdvancedAPI=function(){return B===k};var j,D=function(N){if(B!==k)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=v.roundToPrecision=v.__private__.roundToPrecision=function(N,Y){var ce=e||Y;if(isNaN(N)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ce).replace(/0+$/,"")};j=v.hpf=v.__private__.hpf=typeof u=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,u)}:u==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var P=v.f2=v.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},F=v.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},V=v.scale=v.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return B===q?N*Et:B===k?N:void 0},ee=function(N){return V((function(Y){return B===q?Fs()-Y:B===k?Y:void 0})(N))};v.__private__.setPrecision=v.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var ge,se="00000000000000000000000000000000",fe=v.__private__.getFileId=function(){return se},me=v.__private__.setFileId=function(N){return se=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Or=new Em(f.userPermissions,f.userPassword,f.ownerPassword,se)),se};v.setFileId=function(N){return me(N),this},v.getFileId=function(){return fe()};var xe=v.__private__.convertDateToPDFDate=function(N){var Y=N.getTimezoneOffset(),ce=Y<0?"+":"-",be=Math.floor(Math.abs(Y/60)),Ae=Math.abs(Y%60),Ye=[ce,Z(be),"'",Z(Ae),"'"].join("");return["D:",N.getFullYear(),Z(N.getMonth()+1),Z(N.getDate()),Z(N.getHours()),Z(N.getMinutes()),Z(N.getSeconds()),Ye].join("")},Ue=v.__private__.convertPDFDateToDate=function(N){var Y=parseInt(N.substr(2,4),10),ce=parseInt(N.substr(6,2),10)-1,be=parseInt(N.substr(8,2),10),Ae=parseInt(N.substr(10,2),10),Ye=parseInt(N.substr(12,2),10),et=parseInt(N.substr(14,2),10);return new Date(Y,ce,be,Ae,Ye,et,0)},ne=v.__private__.setCreationDate=function(N){var Y;if(N===void 0&&(N=new Date),N instanceof Date)Y=xe(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=N}return ge=Y},M=v.__private__.getCreationDate=function(N){var Y=ge;return N==="jsDate"&&(Y=Ue(ge)),Y};v.setCreationDate=function(N){return ne(N),this},v.getCreationDate=function(N){return M(N)};var X,Z=v.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},de=v.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},pe=0,ye=[],Pe=[],he=0,Ce=[],Ve=[],Se=!1,rt=Pe;v.__private__.setCustomOutputDestination=function(N){Se=!0,rt=N};var it=function(N){Se||(rt=N)};v.__private__.resetCustomOutputDestination=function(){Se=!1,rt=Pe};var oe=v.__private__.out=function(N){return N=N.toString(),he+=N.length+1,rt.push(N),rt},Xe=v.__private__.write=function(N){return oe(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Nt=v.__private__.getArrayBuffer=function(N){for(var Y=N.length,ce=new ArrayBuffer(Y),be=new Uint8Array(ce);Y--;)be[Y]=N.charCodeAt(Y);return ce},yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return yt};var qe=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(N){return qe=B===k?N/Et:N,this};var ht,vt=v.__private__.getFontSize=v.getFontSize=function(){return B===q?qe:qe*Et},Bt=t.R2L||!1;v.__private__.setR2L=v.setR2L=function(N){return Bt=N,this},v.__private__.getR2L=v.getR2L=function(){return Bt};var Rt,cn=v.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))ht=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');ht=N}else ht=parseInt(N,10)};v.__private__.getZoomMode=function(){return ht};var dn,Jt=v.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Rt=N};v.__private__.getPageMode=function(){return Rt};var gn=v.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');dn=N};v.__private__.getLayoutMode=function(){return dn},v.__private__.setDisplayMode=v.setDisplayMode=function(N,Y,ce){return cn(N),gn(Y),Jt(ce),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(N){if(Object.keys(st).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[N]},v.__private__.getDocumentProperties=function(){return st},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(N){for(var Y in st)st.hasOwnProperty(Y)&&N[Y]&&(st[Y]=N[Y]);return this},v.__private__.setDocumentProperty=function(N,Y){if(Object.keys(st).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[N]=Y};var dt,Et,Fe,wn,Vt,It={},Mt={},nn=[],xt={},un={},_t={},zt={},Tn=null,ft=0,gt=[],Kt=new YL(v),Gn=t.hotfixes||[],Mr={},oa={},di=[],qt=function N(Y,ce,be,Ae,Ye,et){if(!(this instanceof N))return new N(Y,ce,be,Ae,Ye,et);isNaN(Y)&&(Y=1),isNaN(ce)&&(ce=0),isNaN(be)&&(be=0),isNaN(Ae)&&(Ae=1),isNaN(Ye)&&(Ye=0),isNaN(et)&&(et=0),this._matrix=[Y,ce,be,Ae,Ye,et]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(N)},qt.prototype.multiply=function(N){var Y=N.sx*this.sx+N.shy*this.shx,ce=N.sx*this.shy+N.shy*this.sy,be=N.shx*this.sx+N.sy*this.shx,Ae=N.shx*this.shy+N.sy*this.sy,Ye=N.tx*this.sx+N.ty*this.shx+this.tx,et=N.tx*this.shy+N.ty*this.sy+this.ty;return new qt(Y,ce,be,Ae,Ye,et)},qt.prototype.decompose=function(){var N=this.sx,Y=this.shy,ce=this.shx,be=this.sy,Ae=this.tx,Ye=this.ty,et=Math.sqrt(N*N+Y*Y),Tt=(N/=et)*ce+(Y/=et)*be;ce-=N*Tt,be-=Y*Tt;var Dt=Math.sqrt(ce*ce+be*be);return Tt/=Dt,N*(be/=Dt)<Y*(ce/=Dt)&&(N=-N,Y=-Y,Tt=-Tt,et=-et),{scale:new qt(et,0,0,Dt,0,0),translate:new qt(1,0,0,1,Ae,Ye),rotate:new qt(N,Y,-Y,N,0,0),skew:new qt(1,0,Tt,1,0,0)}},qt.prototype.toString=function(N){return this.join(" ")},qt.prototype.inversed=function(){var N=this.sx,Y=this.shy,ce=this.shx,be=this.sy,Ae=this.tx,Ye=this.ty,et=1/(N*be-Y*ce),Tt=be*et,Dt=-Y*et,Zt=-ce*et,Wt=N*et;return new qt(Tt,Dt,Zt,Wt,-Tt*Ae-Zt*Ye,-Dt*Ae-Wt*Ye)},qt.prototype.applyToPoint=function(N){var Y=N.x*this.sx+N.y*this.shx+this.tx,ce=N.x*this.shy+N.y*this.sy+this.ty;return new Xi(Y,ce)},qt.prototype.applyToRectangle=function(N){var Y=this.applyToPoint(N),ce=this.applyToPoint(new Xi(N.x+N.w,N.y+N.h));return new eo(Y.x,Y.y,ce.x-Y.x,ce.y-Y.y)},qt.prototype.clone=function(){var N=this.sx,Y=this.shy,ce=this.shx,be=this.sy,Ae=this.tx,Ye=this.ty;return new qt(N,Y,ce,be,Ae,Ye)},v.Matrix=qt;var js=v.matrixMult=function(N,Y){return Y.multiply(N)},Ri=new qt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Ri;var Di=function(N,Y){if(!un[N]){var ce=(Y instanceof Th?"Sh":"P")+(Object.keys(xt).length+1).toString(10);Y.id=ce,un[N]=ce,xt[ce]=Y,Kt.publish("addPattern",Y)}};v.ShadingPattern=Th,v.TilingPattern=Cm,v.addShadingPattern=function(N,Y){return D("addShadingPattern()"),Di(N,Y),this},v.beginTilingPattern=function(N){D("beginTilingPattern()"),to(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},v.endTilingPattern=function(N,Y){D("endTilingPattern()"),Y.stream=Ve[X].join(`
`),Di(N,Y),Kt.publish("endTilingPattern",Y),di.pop().restore()};var ki,Xn=v.__private__.newObject=function(){var N=cr();return Xr(N,!0),N},cr=v.__private__.newObjectDeferred=function(){return pe++,ye[pe]=function(){return he},pe},Xr=function(N,Y){return Y=typeof Y=="boolean"&&Y,ye[N]=he,Y&&oe(N+" 0 obj"),N},ji=v.__private__.newAdditionalObject=function(){var N={objId:cr(),content:""};return Ce.push(N),N},fi=cr(),Vn=cr(),ir=v.__private__.decodeColorString=function(N){var Y=N.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ce=parseFloat(Y[0]);Y=[ce,ce,ce,"r"]}for(var be="#",Ae=0;Ae<3;Ae++)be+=("0"+Math.floor(255*parseFloat(Y[Ae])).toString(16)).slice(-2);return be},Qr=v.__private__.encodeColorString=function(N){var Y;typeof N=="string"&&(N={ch1:N});var ce=N.ch1,be=N.ch2,Ae=N.ch3,Ye=N.ch4,et=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var Tt=new S$(ce);if(Tt.ok)ce=Tt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Dt=parseInt(ce.substr(1),16);ce=Dt>>16&255,be=Dt>>8&255,Ae=255&Dt}if(be===void 0||Ye===void 0&&ce===be&&be===Ae)Y=typeof ce=="string"?ce+" "+et[0]:N.precision===2?P(ce/255)+" "+et[0]:F(ce/255)+" "+et[0];else if(Ye===void 0||br(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",et[1]].join(" ");Y=typeof ce=="string"?[ce,be,Ae,et[1]].join(" "):N.precision===2?[P(ce/255),P(be/255),P(Ae/255),et[1]].join(" "):[F(ce/255),F(be/255),F(Ae/255),et[1]].join(" ")}else Y=typeof ce=="string"?[ce,be,Ae,Ye,et[2]].join(" "):N.precision===2?[P(ce),P(be),P(Ae),P(Ye),et[2]].join(" "):[F(ce),F(be),F(Ae),F(Ye),et[2]].join(" ");return Y},Wi=v.__private__.getFilters=function(){return s},Ca=v.__private__.putStream=function(N){var Y=(N=N||{}).data||"",ce=N.filters||Wi(),be=N.alreadyAppliedFilters||[],Ae=N.addLength1||!1,Ye=Y.length,et=N.objectId,Tt=function(R){return R};if(f!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Tt=Or.encryptor(et,0));var Dt={};ce===!0&&(ce=["FlateEncode"]);var Zt=N.additionalKeyValues||[],Wt=(Dt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(Y,ce):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(Dt.data.length!==0&&(Zt.push({key:"Length",value:Dt.data.length}),Ae===!0&&Zt.push({key:"Length1",value:Ye})),Wt.length!=0)if(Wt.split("/").length-1==1)Zt.push({key:"Filter",value:Wt});else{Zt.push({key:"Filter",value:"["+Wt+"]"});for(var In=0;In<Zt.length;In+=1)if(Zt[In].key==="DecodeParms"){for(var Er=[],dr=0;dr<Dt.reverseChain.split("/").length-1;dr+=1)Er.push("null");Er.push(Zt[In].value),Zt[In].value="["+Er.join(" ")+"]"}}oe("<<");for(var x=0;x<Zt.length;x++)oe("/"+Zt[x].key+" "+Zt[x].value);oe(">>"),Dt.data.length!==0&&(oe("stream"),oe(Tt(Dt.data)),oe("endstream"))},Js=v.__private__.putPage=function(N){var Y=N.number,ce=N.data,be=N.objId,Ae=N.contentsObjId;Xr(be,!0),oe("<</Type /Page"),oe("/Parent "+N.rootDictionaryObjId+" 0 R"),oe("/Resources "+N.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(j(N.mediaBox.bottomLeftX))+" "+parseFloat(j(N.mediaBox.bottomLeftY))+" "+j(N.mediaBox.topRightX)+" "+j(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&oe("/CropBox ["+j(N.cropBox.bottomLeftX)+" "+j(N.cropBox.bottomLeftY)+" "+j(N.cropBox.topRightX)+" "+j(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&oe("/BleedBox ["+j(N.bleedBox.bottomLeftX)+" "+j(N.bleedBox.bottomLeftY)+" "+j(N.bleedBox.topRightX)+" "+j(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&oe("/TrimBox ["+j(N.trimBox.bottomLeftX)+" "+j(N.trimBox.bottomLeftY)+" "+j(N.trimBox.topRightX)+" "+j(N.trimBox.topRightY)+"]"),N.artBox!==null&&oe("/ArtBox ["+j(N.artBox.bottomLeftX)+" "+j(N.artBox.bottomLeftY)+" "+j(N.artBox.topRightX)+" "+j(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&oe("/UserUnit "+N.userUnit),Kt.publish("putPage",{objId:be,pageContext:gt[Y],pageNumber:Y,page:ce}),oe("/Contents "+Ae+" 0 R"),oe(">>"),oe("endobj");var Ye=ce.join(`
`);return B===k&&(Ye+=`
Q`),Xr(Ae,!0),Ca({data:Ye,filters:Wi(),objectId:Ae}),oe("endobj"),be},$a=v.__private__.putPages=function(){var N,Y,ce=[];for(N=1;N<=ft;N++)gt[N].objId=cr(),gt[N].contentsObjId=cr();for(N=1;N<=ft;N++)ce.push(Js({number:N,data:Ve[N],objId:gt[N].objId,contentsObjId:gt[N].contentsObjId,mediaBox:gt[N].mediaBox,cropBox:gt[N].cropBox,bleedBox:gt[N].bleedBox,trimBox:gt[N].trimBox,artBox:gt[N].artBox,userUnit:gt[N].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:Vn}));Xr(fi,!0),oe("<</Type /Pages");var be="/Kids [";for(Y=0;Y<ft;Y++)be+=ce[Y]+" 0 R ";oe(be+"]"),oe("/Count "+ft),oe(">>"),oe("endobj"),Kt.publish("postPutPages")},Li=function(N){Kt.publish("putFont",{font:N,out:oe,newObject:Xn,putStream:Ca}),N.isAlreadyPutted!==!0&&(N.objectNumber=Xn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Am(N.postScriptName)),oe("/Subtype /Type1"),typeof N.encoding=="string"&&oe("/Encoding /"+N.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ms=function(N){N.objectNumber=Xn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[j(N.x),j(N.y),j(N.x+N.width),j(N.y+N.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ce=N.pages[1].join(`
`);Ca({data:ce,additionalKeyValues:Y,objectId:N.objectNumber}),oe("endobj")},nt=function(N,Y){Y||(Y=21);var ce=Xn(),be=(function(et,Tt){var Dt,Zt=[],Wt=1/(Tt-1);for(Dt=0;Dt<1;Dt+=Wt)Zt.push(Dt);if(Zt.push(1),et[0].offset!=0){var In={offset:0,color:et[0].color};et.unshift(In)}if(et[et.length-1].offset!=1){var Er={offset:1,color:et[et.length-1].color};et.push(Er)}for(var dr="",x=0,R=0;R<Zt.length;R++){for(Dt=Zt[R];Dt>et[x+1].offset;)x++;var H=et[x].offset,ie=(Dt-H)/(et[x+1].offset-H),Ne=et[x].color,Le=et[x+1].color;dr+=de(Math.round((1-ie)*Ne[0]+ie*Le[0]).toString(16))+de(Math.round((1-ie)*Ne[1]+ie*Le[1]).toString(16))+de(Math.round((1-ie)*Ne[2]+ie*Le[2]).toString(16))}return dr.trim()})(N.colors,Y),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+Y+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ca({data:be,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),oe("endobj"),N.objectNumber=Xn(),oe("<< /ShadingType "+N.type),oe("/ColorSpace /DeviceRGB");var Ye="/Coords ["+j(parseFloat(N.coords[0]))+" "+j(parseFloat(N.coords[1]))+" ";N.type===2?Ye+=j(parseFloat(N.coords[2]))+" "+j(parseFloat(N.coords[3])):Ye+=j(parseFloat(N.coords[2]))+" "+j(parseFloat(N.coords[3]))+" "+j(parseFloat(N.coords[4]))+" "+j(parseFloat(N.coords[5])),oe(Ye+="]"),N.matrix&&oe("/Matrix ["+N.matrix.toString()+"]"),oe("/Function "+ce+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},rn=function(N,Y){var ce=cr(),be=Xn();Y.push({resourcesOid:ce,objectOid:be}),N.objectNumber=be;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+N.boundingBox.map(j).join(" ")+"]"}),Ae.push({key:"XStep",value:j(N.xStep)}),Ae.push({key:"YStep",value:j(N.yStep)}),Ae.push({key:"Resources",value:ce+" 0 R"}),N.matrix&&Ae.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Ca({data:N.stream,additionalKeyValues:Ae,objectId:N.objectNumber}),oe("endobj")},hr=function(N){for(var Y in N.objectNumber=Xn(),oe("<<"),N)switch(Y){case"opacity":oe("/ca "+P(N[Y]));break;case"stroke-opacity":oe("/CA "+P(N[Y]))}oe(">>"),oe("endobj")},Qn=function(N){Xr(N.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in oe("/Font <<"),It)It.hasOwnProperty(Y)&&(p===!1||p===!0&&y.hasOwnProperty(Y))&&oe("/"+Y+" "+It[Y].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(xt).length>0){for(var Y in oe("/Shading <<"),xt)xt.hasOwnProperty(Y)&&xt[Y]instanceof Th&&xt[Y].objectNumber>=0&&oe("/"+Y+" "+xt[Y].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),oe(">>")}})(),(function(Y){if(Object.keys(xt).length>0){for(var ce in oe("/Pattern <<"),xt)xt.hasOwnProperty(ce)&&xt[ce]instanceof v.TilingPattern&&xt[ce].objectNumber>=0&&xt[ce].objectNumber<Y&&oe("/"+ce+" "+xt[ce].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),oe(">>")}})(N.objectOid),(function(){if(Object.keys(_t).length>0){var Y;for(Y in oe("/ExtGState <<"),_t)_t.hasOwnProperty(Y)&&_t[Y].objectNumber>=0&&oe("/"+Y+" "+_t[Y].objectNumber+" 0 R");Kt.publish("putGStateDict"),oe(">>")}})(),(function(){for(var Y in oe("/XObject <<"),Mr)Mr.hasOwnProperty(Y)&&Mr[Y].objectNumber>=0&&oe("/"+Y+" "+Mr[Y].objectNumber+" 0 R");Kt.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},ur=function(N){Mt[N.fontName]=Mt[N.fontName]||{},Mt[N.fontName][N.fontStyle]=N.id},gs=function(N,Y,ce,be,Ae){var Ye={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:N,fontName:Y,fontStyle:ce,encoding:be,isStandardFont:Ae||!1,metadata:{}};return Kt.publish("addFont",{font:Ye,instance:this}),It[Ye.id]=Ye,ur(Ye),Ye.id},Jr=v.__private__.pdfEscape=v.pdfEscape=function(N,Y){return(function(ce,be){var Ae,Ye,et,Tt,Dt,Zt,Wt,In,Er;if(et=(be=be||{}).sourceEncoding||"Unicode",Dt=be.outputEncoding,(be.autoencode||Dt)&&It[dt].metadata&&It[dt].metadata[et]&&It[dt].metadata[et].encoding&&(Tt=It[dt].metadata[et].encoding,!Dt&&It[dt].encoding&&(Dt=It[dt].encoding),!Dt&&Tt.codePages&&(Dt=Tt.codePages[0]),typeof Dt=="string"&&(Dt=Tt[Dt]),Dt)){for(Wt=!1,Zt=[],Ae=0,Ye=ce.length;Ae<Ye;Ae++)(In=Dt[ce.charCodeAt(Ae)])?Zt.push(String.fromCharCode(In)):Zt.push(ce[Ae]),Zt[Ae].charCodeAt(0)>>8&&(Wt=!0);ce=Zt.join("")}for(Ae=ce.length;Wt===void 0&&Ae!==0;)ce.charCodeAt(Ae-1)>>8&&(Wt=!0),Ae--;if(!Wt)return ce;for(Zt=be.noBOM?[]:[254,255],Ae=0,Ye=ce.length;Ae<Ye;Ae++){if((Er=(In=ce.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(Er),Zt.push(In-(Er<<8))}return String.fromCharCode.apply(void 0,Zt)})(N,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yn=v.__private__.beginPage=function(N){Ve[++ft]=[],gt[ft]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},vc(ft),it(Ve[X])},la=function(N,Y){var ce,be,Ae;switch(n=Y||n,typeof N=="string"&&(ce=I(N.toLowerCase()),Array.isArray(ce)&&(be=ce[0],Ae=ce[1])),Array.isArray(N)&&(be=N[0]*Et,Ae=N[1]*Et),isNaN(be)&&(be=i[0],Ae=i[1]),(be>14400||Ae>14400)&&(jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ae=Math.min(14400,Ae)),i=[be,Ae],n.substr(0,1)){case"l":Ae>be&&(i=[Ae,be]);break;case"p":be>Ae&&(i=[Ae,be])}Yn(i),Xt(Oa),oe(Ya),Ka!==0&&oe(Ka+" J"),pi!==0&&oe(pi+" j"),Kt.publish("addPage",{pageNumber:ft})},vs=function(N){N>0&&N<=ft&&(Ve.splice(N,1),gt.splice(N,1),ft--,X>ft&&(X=ft),this.setPage(X))},vc=function(N){N>0&&N<=ft&&(X=N)},yc=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ve.length-1},vu=function(N,Y,ce){var be,Ae=void 0;return ce=ce||{},N=N!==void 0?N:It[dt].fontName,Y=Y!==void 0?Y:It[dt].fontStyle,be=N.toLowerCase(),Mt[be]!==void 0&&Mt[be][Y]!==void 0?Ae=Mt[be][Y]:Mt[N]!==void 0&&Mt[N][Y]!==void 0?Ae=Mt[N][Y]:ce.disableWarning===!1&&jr.warn("Unable to look up font label for font '"+N+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ae||ce.noFallback||(Ae=Mt.times[Y])==null&&(Ae=Mt.times.normal),Ae},Ga=v.__private__.putInfo=function(){var N=Xn(),Y=function(be){return be};for(var ce in f!==null&&(Y=Or.encryptor(N,0)),oe("<<"),oe("/Producer ("+Jr(Y("jsPDF "+Ht.version))+")"),st)st.hasOwnProperty(ce)&&st[ce]&&oe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Jr(Y(st[ce]))+")");oe("/CreationDate ("+Jr(Y(ge))+")"),oe(">>"),oe("endobj")},Ki=v.__private__.putCatalog=function(N){var Y=(N=N||{}).rootDictionaryObjId||fi;switch(Xn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+Y+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+ht;ce.substr(ce.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+P(ht)+"]")}switch(dn||(dn="continuous"),dn){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Rt&&oe("/PageMode /"+Rt),Kt.publish("putCatalog"),oe(">>"),oe("endobj")},Zr=v.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(pe+1)),oe("/Root "+pe+" 0 R"),oe("/Info "+(pe-1)+" 0 R"),f!==null&&oe("/Encrypt "+Or.oid+" 0 R"),oe("/ID [ <"+se+"> <"+se+"> ]"),oe(">>")},Nn=v.__private__.putHeader=function(){oe("%PDF-"+E),oe("%")},Co=v.__private__.putXRef=function(){var N="0000000000";oe("xref"),oe("0 "+(pe+1)),oe("0000000000 65535 f ");for(var Y=1;Y<=pe;Y++)typeof ye[Y]=="function"?oe((N+ye[Y]()).slice(-10)+" 00000 n "):ye[Y]!==void 0?oe((N+ye[Y]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ys=v.__private__.buildDocument=function(){var N;pe=0,he=0,Pe=[],ye=[],Ce=[],fi=cr(),Vn=cr(),it(Pe),Kt.publish("buildDocument"),Nn(),$a(),(function(){Kt.publish("putAdditionalObjects");for(var ce=0;ce<Ce.length;ce++){var be=Ce[ce];Xr(be.objId,!0),oe(be.content),oe("endobj")}Kt.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var ce in It)It.hasOwnProperty(ce)&&(p===!1||p===!0&&y.hasOwnProperty(ce))&&Li(It[ce])})(),(function(){var ce;for(ce in _t)_t.hasOwnProperty(ce)&&hr(_t[ce])})(),(function(){for(var ce in Mr)Mr.hasOwnProperty(ce)&&ms(Mr[ce])})(),(function(ce){var be;for(be in xt)xt.hasOwnProperty(be)&&(xt[be]instanceof Th?nt(xt[be]):xt[be]instanceof Cm&&rn(xt[be],ce))})(N),Kt.publish("putResources"),N.forEach(Qn),Qn({resourcesOid:Vn,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),f!==null&&(Or.oid=Xn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Or.v),oe("/R "+Or.r),oe("/U <"+Or.toHexString(Or.U)+">"),oe("/O <"+Or.toHexString(Or.O)+">"),oe("/P "+Or.P),oe(">>"),oe("endobj")),Ga(),Ki();var Y=he;return Co(),Zr(),oe("startxref"),oe(""+Y),oe("%%EOF"),it(Ve[X]),Pe.join(`
`)},jn=v.__private__.getBlob=function(N){return new Blob([Nt(N)],{type:"application/pdf"})},rl=v.output=v.__private__.output=(ki=function(N,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",N){case void 0:return ys();case"save":v.save(Y.filename);break;case"arraybuffer":return Nt(ys());case"blob":return jn(ys());case"bloburi":case"bloburl":if(pn.URL!==void 0&&typeof pn.URL.createObjectURL=="function")return pn.URL&&pn.URL.createObjectURL(jn(ys()))||void 0;jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",be=ys();try{ce=HL(be)}catch{ce=HL(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ae=Y.pdfObjectUrl,Ye="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Tt=pn.open();return Tt!==null&&Tt.document.write(et),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Zt=pn.open();if(Zt!==null){Zt.document.write(Dt);var Wt=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=Y.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Er=pn.open();if(Er!==null&&(Er.document.write(In),Er.document.title=Y.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return pn.document.location.href=this.output("datauristring",Y);default:return null}},ki.foo=function(){try{return ki.apply(this,arguments)}catch(ce){var N=ce.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var Y="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ce.message;if(!pn.console)throw new Error(Y);pn.console.error(Y,ce),pn.alert&&alert(Y)}},ki.foo.bar=ki,ki.foo),hi=function(N){return Array.isArray(Gn)===!0&&Gn.indexOf(N)>-1};switch(r){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=hi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Et=r}var Or=null;ne(),me();var ei=v.__private__.getPageInfo=v.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[N].objId,pageNumber:N,pageContext:gt[N]}},Ll=v.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in gt)if(gt[Y].objId===N)break;return ei(Y)},Sd=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:gt[X].objId,pageNumber:X,pageContext:gt[X]}};v.addPage=function(){return la.apply(this,arguments),this},v.setPage=function(){return vc.apply(this,arguments),it.call(this,Ve[X]),this},v.insertPage=function(N){return this.addPage(),this.movePage(X,N),this},v.movePage=function(N,Y){var ce,be;if(N>Y){ce=Ve[N],be=gt[N];for(var Ae=N;Ae>Y;Ae--)Ve[Ae]=Ve[Ae-1],gt[Ae]=gt[Ae-1];Ve[Y]=ce,gt[Y]=be,this.setPage(Y)}else if(N<Y){ce=Ve[N],be=gt[N];for(var Ye=N;Ye<Y;Ye++)Ve[Ye]=Ve[Ye+1],gt[Ye]=gt[Ye+1];Ve[Y]=ce,gt[Y]=be,this.setPage(Y)}return this},v.deletePage=function(){return vs.apply(this,arguments),this},v.__private__.text=v.text=function(N,Y,ce,be,Ae){var Ye,et,Tt,Dt,Zt,Wt,In,Er,dr,x=(be=be||{}).scope||this;if(typeof N=="number"&&typeof Y=="number"&&(typeof ce=="string"||Array.isArray(ce))){var R=ce;ce=Y,Y=N,N=R}if(arguments[3]instanceof qt==0?(Tt=arguments[4],Dt=arguments[5],br(In=arguments[3])==="object"&&In!==null||(typeof Tt=="string"&&(Dt=Tt,Tt=null),typeof In=="string"&&(Dt=In,In=null),typeof In=="number"&&(Tt=In,In=null),be={flags:In,angle:Tt,align:Dt})):(D("The transform parameter of text() with a Matrix value"),dr=Ae),isNaN(Y)||isNaN(ce)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return x;var H,ie="",Ne=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Ro,Le=x.internal.scaleFactor;function ut(Wn){return Wn=Wn.split("	").join(Array(be.TabLen||9).join(" ")),Jr(Wn,In)}function fn(Wn){for(var Un,Sr=Wn.concat(),gi=[],ml=Sr.length;ml--;)typeof(Un=Sr.shift())=="string"?gi.push(Un):Array.isArray(Wn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?gi.push(Un[0]):gi.push([Un[0],Un[1],Un[2]]);return gi}function Ar(Wn,Un){var Sr;if(typeof Wn=="string")Sr=Un(Wn)[0];else if(Array.isArray(Wn)){for(var gi,ml,Lo=Wn.concat(),Su=[],Jf=Lo.length;Jf--;)typeof(gi=Lo.shift())=="string"?Su.push(Un(gi)[0]):Array.isArray(gi)&&typeof gi[0]=="string"&&(ml=Un(gi[0],gi[1],gi[2]),Su.push([ml[0],ml[1],ml[2]]));Sr=Su}return Sr}var An=!1,Zn=!0;if(typeof N=="string")An=!0;else if(Array.isArray(N)){var Qi=N.concat();et=[];for(var ua,pr=Qi.length;pr--;)(typeof(ua=Qi.shift())!="string"||Array.isArray(ua)&&typeof ua[0]!="string")&&(Zn=!1);An=Zn}if(An===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var da=qe/x.internal.scaleFactor,Us=da*(Ne-1);switch(be.baseline){case"bottom":ce-=Us;break;case"top":ce+=da-Us;break;case"hanging":ce+=da-2*Us;break;case"middle":ce+=da/2-Us}if((Wt=be.maxWidth||0)>0&&(typeof N=="string"?N=x.splitTextToSize(N,Wt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Wn,Un){return Wn.concat(x.splitTextToSize(Un,Wt))},[]))),Ye={text:N,x:Y,y:ce,options:be,mutex:{pdfEscape:Jr,activeFontKey:dt,fonts:It,activeFontSize:qe}},Kt.publish("preProcessText",Ye),N=Ye.text,Tt=(be=Ye.options).angle,dr instanceof qt==0&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,be.rotationDirection===0&&(Tt=-Tt),B===k&&(Tt=-Tt);var ll=Math.cos(Tt),cl=Math.sin(Tt);dr=new qt(ll,cl,-cl,ll,0,0)}else Tt&&Tt instanceof qt&&(dr=Tt);B!==k||dr||(dr=Ri),(Zt=be.charSpace||Wa)!==void 0&&(ie+=j(V(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=be.horizontalScale)!==void 0&&(ie+=j(100*Er)+` Tz
`),be.lang;var Qa=-1,Vl=be.renderingMode!==void 0?be.renderingMode:be.stroke,Td=x.internal.getCurrentPageInfo().pageContext;switch(Vl){case 0:case!1:case"fill":Qa=0;break;case 1:case!0:case"stroke":Qa=1;break;case 2:case"fillThenStroke":Qa=2;break;case 3:case"invisible":Qa=3;break;case 4:case"fillAndAddForClipping":Qa=4;break;case 5:case"strokeAndAddPathForClipping":Qa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qa=6;break;case 7:case"addToPathForClipping":Qa=7}var Xf=Td.usedRenderingMode!==void 0?Td.usedRenderingMode:-1;Qa!==-1?ie+=Qa+` Tr
`:Xf!==-1&&(ie+=`0 Tr
`),Qa!==-1&&(Td.usedRenderingMode=Qa),Dt=be.align||"left";var Bs,ko=qe*Ne,zl=x.internal.pageSize.getWidth(),Qf=It[dt];Zt=be.charSpace||Wa,Wt=be.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},be.flags);var jo=[],Ac=function(Wn){return x.getStringUnitWidth(Wn,{font:Qf,charSpace:Zt,fontSize:qe,doKerning:!1})*qe/Le};if(Object.prototype.toString.call(N)==="[object Array]"){var xs;et=fn(N),Dt!=="left"&&(Bs=et.map(Ac));var Ja,ul=0;if(Dt==="right"){Y-=Bs[0],N=[],pr=et.length;for(var dl=0;dl<pr;dl++)dl===0?(Ja=Fi(Y),xs=_i(ce)):(Ja=V(ul-Bs[dl]),xs=-ko),N.push([et[dl],Ja,xs]),ul=Bs[dl]}else if(Dt==="center"){Y-=Bs[0]/2,N=[],pr=et.length;for(var ql=0;ql<pr;ql++)ql===0?(Ja=Fi(Y),xs=_i(ce)):(Ja=V((ul-Bs[ql])/2),xs=-ko),N.push([et[ql],Ja,xs]),ul=Bs[ql]}else if(Dt==="left"){N=[],pr=et.length;for(var Nd=0;Nd<pr;Nd++)N.push(et[Nd])}else if(Dt==="justify"&&Qf.encoding==="Identity-H"){N=[],pr=et.length,Wt=Wt!==0?Wt:zl;for(var Id=0,mi=0;mi<pr;mi++)if(xs=mi===0?_i(ce):-ko,Ja=mi===0?Fi(Y):Id,mi<pr-1){var Ep=V((Wt-Bs[mi])/(et[mi].split(" ").length-1)),fl=et[mi].split(" ");N.push([fl[0]+" ",Ja,xs]),Id=0;for(var hl=1;hl<fl.length;hl++){var fa=(Ac(fl[hl-1]+" "+fl[hl])-Ac(fl[hl]))*Le+Ep;hl==fl.length-1?N.push([fl[hl],fa,0]):N.push([fl[hl]+" ",fa,0]),Id-=fa}}else N.push([et[mi],Ja,xs]);N.push(["",Id,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],pr=et.length,Wt=Wt!==0?Wt:zl,mi=0;mi<pr;mi++){xs=mi===0?_i(ce):-ko,Ja=mi===0?Fi(Y):0;var Hl=et[mi].split(" ").length-1,Cd=Hl>0?(Wt-Bs[mi])/Hl:0;mi<pr-1?jo.push(j(V(Cd))):jo.push(0),N.push([et[mi],Ja,xs])}}}(typeof be.R2L=="boolean"?be.R2L:Bt)===!0&&(N=Ar(N,function(Wn,Un,Sr){return[Wn.split("").reverse().join(""),Un,Sr]})),Ye={text:N,x:Y,y:ce,options:be,mutex:{pdfEscape:Jr,activeFontKey:dt,fonts:It,activeFontSize:qe}},Kt.publish("postProcessText",Ye),N=Ye.text,H=Ye.mutex.isHex||!1;var Pd=It[dt].encoding;Pd!=="WinAnsiEncoding"&&Pd!=="StandardEncoding"||(N=Ar(N,function(Wn,Un,Sr){return[ut(Wn),Un,Sr]})),et=fn(N),N=[];for(var $l,Gl,pl,Au=Array.isArray(et[0])?1:0,Vs="",Yl=function(Wn,Un,Sr){var gi="";return Sr instanceof qt?(Sr=typeof be.angle=="number"?js(Sr,new qt(1,0,0,1,Wn,Un)):js(new qt(1,0,0,1,Wn,Un),Sr),B===k&&(Sr=js(new qt(1,0,0,-1,0,0),Sr)),gi=Sr.join(" ")+` Tm
`):gi=j(Wn)+" "+j(Un)+` Td
`,gi},Ra=0;Ra<et.length;Ra++){switch(Vs="",Au){case 1:pl=(H?"<":"(")+et[Ra][0]+(H?">":")"),$l=parseFloat(et[Ra][1]),Gl=parseFloat(et[Ra][2]);break;case 0:pl=(H?"<":"(")+et[Ra]+(H?">":")"),$l=Fi(Y),Gl=_i(ce)}jo!==void 0&&jo[Ra]!==void 0&&(Vs=jo[Ra]+` Tw
`),Ra===0?N.push(Vs+Yl($l,Gl,dr)+pl):Au===0?N.push(Vs+pl):Au===1&&N.push(Vs+Yl($l,Gl,dr)+pl)}N=Au===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var io=`BT
/`;return io+=dt+" "+qe+` Tf
`,io+=j(qe*Ne)+` TL
`,io+=Ms+`
`,io+=ie,io+=N,oe(io+="ET"),y[dt]=!0,x};var yu=v.__private__.clip=v.clip=function(N){return oe(N==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return yu("evenodd")},v.__private__.discardPath=v.discardPath=function(){return oe("n"),this};var ca=v.__private__.isValidStyle=function(N){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(Y=!0),Y};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(N){return ca(N)&&(d=N),this};var bu=v.__private__.getStyle=v.getStyle=function(N){var Y=d;switch(N){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=N}return Y},Po=v.close=function(){return oe("h"),this};v.stroke=function(){return oe("S"),this},v.fill=function(N){return Mi("f",N),this},v.fillEvenOdd=function(N){return Mi("f*",N),this},v.fillStroke=function(N){return Mi("B",N),this},v.fillStrokeEvenOdd=function(N){return Mi("B*",N),this};var Mi=function(N,Y){br(Y)==="object"?_u(Y,N):oe(N)},il=function(N){N===null||B===k&&N===void 0||(N=bu(N),oe(N))};function xu(N,Y,ce,be,Ae){var Ye=new Cm(Y||this.boundingBox,ce||this.xStep,be||this.yStep,this.gState,Ae||this.matrix);Ye.stream=this.stream;var et=N+"$$"+this.cloneIndex+++"$$";return Di(et,Ye),Ye}var _u=function(N,Y){var ce=un[N.key],be=xt[ce];if(be instanceof Th)oe("q"),oe(bc(Y)),be.gState&&v.setGState(be.gState),oe(N.matrix.toString()+" cm"),oe("/"+ce+" sh"),oe("Q");else if(be instanceof Cm){var Ae=new qt(1,0,0,-1,0,Fs());N.matrix&&(Ae=Ae.multiply(N.matrix||Ri),ce=xu.call(be,N.key,N.boundingBox,N.xStep,N.yStep,Ae).id),oe("q"),oe("/Pattern cs"),oe("/"+ce+" scn"),be.gState&&v.setGState(be.gState),oe(Y),oe("Q")}},bc=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xc=v.moveTo=function(N,Y){return oe(j(V(N))+" "+j(ee(Y))+" m"),this},Oo=v.lineTo=function(N,Y){return oe(j(V(N))+" "+j(ee(Y))+" l"),this},Pa=v.curveTo=function(N,Y,ce,be,Ae,Ye){return oe([j(V(N)),j(ee(Y)),j(V(ce)),j(ee(be)),j(V(Ae)),j(ee(Ye)),"c"].join(" ")),this};v.__private__.line=v.line=function(N,Y,ce,be,Ae){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||!ca(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return B===q?this.lines([[ce-N,be-Y]],N,Y,[1,1],Ae||"S"):this.lines([[ce-N,be-Y]],N,Y,[1,1]).stroke()},v.__private__.lines=v.lines=function(N,Y,ce,be,Ae,Ye){var et,Tt,Dt,Zt,Wt,In,Er,dr,x,R,H,ie;if(typeof N=="number"&&(ie=ce,ce=Y,Y=N,N=ie),be=be||[1,1],Ye=Ye||!1,isNaN(Y)||isNaN(ce)||!Array.isArray(N)||!Array.isArray(be)||!ca(Ae)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xc(Y,ce),et=be[0],Tt=be[1],Zt=N.length,R=Y,H=ce,Dt=0;Dt<Zt;Dt++)(Wt=N[Dt]).length===2?(R=Wt[0]*et+R,H=Wt[1]*Tt+H,Oo(R,H)):(In=Wt[0]*et+R,Er=Wt[1]*Tt+H,dr=Wt[2]*et+R,x=Wt[3]*Tt+H,R=Wt[4]*et+R,H=Wt[5]*Tt+H,Pa(In,Er,dr,x,R,H));return Ye&&Po(),il(Ae),this},v.path=function(N){for(var Y=0;Y<N.length;Y++){var ce=N[Y],be=ce.c;switch(ce.op){case"m":xc(be[0],be[1]);break;case"l":Oo(be[0],be[1]);break;case"c":Pa.apply(this,be);break;case"h":Po()}}return this},v.__private__.rect=v.rect=function(N,Y,ce,be,Ae){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||!ca(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return B===q&&(be=-be),oe([j(V(N)),j(ee(Y)),j(V(ce)),j(V(be)),"re"].join(" ")),il(Ae),this},v.__private__.triangle=v.triangle=function(N,Y,ce,be,Ae,Ye,et){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||isNaN(Ae)||isNaN(Ye)||!ca(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-N,be-Y],[Ae-ce,Ye-be],[N-Ae,Y-Ye]],N,Y,[1,1],et,!0),this},v.__private__.roundedRect=v.roundedRect=function(N,Y,ce,be,Ae,Ye,et){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||isNaN(Ae)||isNaN(Ye)||!ca(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ce),Ye=Math.min(Ye,.5*be),this.lines([[ce-2*Ae,0],[Ae*Tt,0,Ae,Ye-Ye*Tt,Ae,Ye],[0,be-2*Ye],[0,Ye*Tt,-Ae*Tt,Ye,-Ae,Ye],[2*Ae-ce,0],[-Ae*Tt,0,-Ae,-Ye*Tt,-Ae,-Ye],[0,2*Ye-be],[0,-Ye*Tt,Ae*Tt,-Ye,Ae,-Ye]],N+Ae,Y,[1,1],et,!0),this},v.__private__.ellipse=v.ellipse=function(N,Y,ce,be,Ae){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||!ca(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*ce,et=4/3*(Math.SQRT2-1)*be;return xc(N+ce,Y),Pa(N+ce,Y-et,N+Ye,Y-be,N,Y-be),Pa(N-Ye,Y-be,N-ce,Y-et,N-ce,Y),Pa(N-ce,Y+et,N-Ye,Y+be,N,Y+be),Pa(N+Ye,Y+be,N+ce,Y+et,N+ce,Y),il(Ae),this},v.__private__.circle=v.circle=function(N,Y,ce,be){if(isNaN(N)||isNaN(Y)||isNaN(ce)||!ca(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,Y,ce,ce,be)},v.setFont=function(N,Y,ce){return ce&&(Y=L(Y,ce)),dt=vu(N,Y,{disableWarning:!1}),this};var Ls=v.__private__.getFont=v.getFont=function(){return It[vu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var N,Y,ce={};for(N in Mt)if(Mt.hasOwnProperty(N))for(Y in ce[N]=[],Mt[N])Mt[N].hasOwnProperty(Y)&&ce[N].push(Y);return ce},v.addFont=function(N,Y,ce,be,Ae){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(ce=L(ce,be)),gs.call(this,N,Y,ce,Ae=Ae||"Identity-H")};var Ro,Oa=t.lineWidth||.200025,al=v.__private__.getLineWidth=v.getLineWidth=function(){return Oa},Xt=v.__private__.setLineWidth=v.setLineWidth=function(N){return Oa=N,oe(j(V(N))+" w"),this};v.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(N,Y){if(N=N||[],Y=Y||0,isNaN(Y)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ce){return j(V(ce))}).join(" "),Y=j(V(Y)),oe("["+N+"] "+Y+" d"),this};var Ml=v.__private__.getLineHeight=v.getLineHeight=function(){return qe*Ro};v.__private__.getLineHeight=v.getLineHeight=function(){return qe*Ro};var _c=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Ro=N),this},sl=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Ro};_c(t.lineHeight);var Fi=v.__private__.getHorizontalCoordinate=function(N){return V(N)},_i=v.__private__.getVerticalCoordinate=function(N){return B===k?N:gt[X].mediaBox.topRightY-gt[X].mediaBox.bottomLeftY-V(N)},Fl=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(N){return j(Fi(N))},Jn=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(N){return j(_i(N))},Ya=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return ir(Ya)},v.__private__.setStrokeColor=v.setDrawColor=function(N,Y,ce,be){return Ya=Qr({ch1:N,ch2:Y,ch3:ce,ch4:be,pdfColorType:"draw",precision:2}),oe(Ya),this};var Ul=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return ir(Ul)},v.__private__.setFillColor=v.setFillColor=function(N,Y,ce,be){return Ul=Qr({ch1:N,ch2:Y,ch3:ce,ch4:be,pdfColorType:"fill",precision:2}),oe(Ul),this};var Ms=t.textColor||"0 g",wu=v.__private__.getTextColor=v.getTextColor=function(){return ir(Ms)};v.__private__.setTextColor=v.setTextColor=function(N,Y,ce,be){return Ms=Qr({ch1:N,ch2:Y,ch3:ce,ch4:be,pdfColorType:"text",precision:3}),this};var Wa=t.charSpace,Do=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Wa||0)};v.__private__.setCharSpace=v.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wa=N,this};var Ka=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(N){var Y=v.CapJoinStyles[N];if(Y===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ka=Y,oe(Y+" J"),this};var pi=0;v.__private__.setLineJoin=v.setLineJoin=function(N){var Y=v.CapJoinStyles[N];if(Y===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pi=Y,oe(Y+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(j(V(N))+" M"),this},v.GState=yx,v.setGState=function(N){(N=typeof N=="string"?_t[zt[N]]:Zs(null,N)).equals(Tn)||(oe("/"+N.id+" gs"),Tn=N)};var Zs=function(N,Y){if(!N||!zt[N]){var ce=!1;for(var be in _t)if(_t.hasOwnProperty(be)&&_t[be].equals(Y)){ce=!0;break}if(ce)Y=_t[be];else{var Ae="GS"+(Object.keys(_t).length+1).toString(10);_t[Ae]=Y,Y.id=Ae}return N&&(zt[N]=Y.id),Kt.publish("addGState",Y),Y}};v.addGState=function(N,Y){return Zs(N,Y),this},v.saveGraphicsState=function(){return oe("q"),nn.push({key:dt,size:qe,color:Ms}),this},v.restoreGraphicsState=function(){oe("Q");var N=nn.pop();return dt=N.key,qe=N.size,Ms=N.color,Tn=null,this},v.setCurrentTransformationMatrix=function(N){return oe(N.toString()+" cm"),this},v.comment=function(N){return oe("#"+N),this};var Xi=function(N,Y){var ce=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Ye){isNaN(Ye)||(ce=parseFloat(Ye))}});var be=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Ye){isNaN(Ye)||(be=parseFloat(Ye))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ye){Ae=Ye.toString()}}),this},eo=function(N,Y,ce,be){Xi.call(this,N,Y),this.type="rect";var Ae=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(et){isNaN(et)||(Ae=parseFloat(et))}});var Ye=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(et){isNaN(et)||(Ye=parseFloat(et))}}),this},ol=function(){this.page=ft,this.currentPage=X,this.pages=Ve.slice(0),this.pagesContext=gt.slice(0),this.x=Fe,this.y=wn,this.matrix=Vt,this.width=bs(X),this.height=wc(X),this.outputDestination=rt,this.id="",this.objectNumber=-1};ol.prototype.restore=function(){ft=this.page,X=this.currentPage,gt=this.pagesContext,Ve=this.pages,Fe=this.x,wn=this.y,Vt=this.matrix,Bl(X,this.width),Xa(X,this.height),rt=this.outputDestination};var to=function(N,Y,ce,be,Ae){di.push(new ol),ft=X=0,Ve=[],Fe=N,wn=Y,Vt=Ae,Yn([ce,be])};for(var no in v.beginFormObject=function(N,Y,ce,be,Ae){return to(N,Y,ce,be,Ae),this},v.endFormObject=function(N){return(function(Y){if(oa[Y])di.pop().restore();else{var ce=new ol,be="Xo"+(Object.keys(Mr).length+1).toString(10);ce.id=be,oa[Y]=be,Mr[be]=ce,Kt.publish("addFormObject",ce),di.pop().restore()}})(N),this},v.doFormObject=function(N,Y){var ce=Mr[oa[N]];return oe("q"),oe(Y.toString()+" cm"),oe("/"+ce.id+" Do"),oe("Q"),this},v.getFormObject=function(N){var Y=Mr[oa[N]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},v.save=function(N,Y){return N=N||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(xh(jn(ys()),N),typeof xh.unload=="function"&&pn.setTimeout&&setTimeout(xh.unload,911),this):new Promise(function(ce,be){try{var Ae=xh(jn(ys()),N);typeof xh.unload=="function"&&pn.setTimeout&&setTimeout(xh.unload,911),ce(Ae)}catch(Ye){be(Ye.message)}})},Ht.API)Ht.API.hasOwnProperty(no)&&(no==="events"&&Ht.API.events.length?(function(N,Y){var ce,be,Ae;for(Ae=Y.length-1;Ae!==-1;Ae--)ce=Y[Ae][0],be=Y[Ae][1],N.subscribe.apply(N,[ce].concat(typeof be=="function"?[be]:be))})(Kt,Ht.API.events):v[no]=Ht.API[no]);function bs(N){return gt[N].mediaBox.topRightX-gt[N].mediaBox.bottomLeftX}function Bl(N,Y){gt[N].mediaBox.topRightX=Y+gt[N].mediaBox.bottomLeftX}function wc(N){return gt[N].mediaBox.topRightY-gt[N].mediaBox.bottomLeftY}function Xa(N,Y){gt[N].mediaBox.topRightY=Y+gt[N].mediaBox.bottomLeftY}var ro=v.getPageWidth=function(N){return bs(N=N||X)/Et},Eu=v.setPageWidth=function(N,Y){Bl(N,Y*Et)},Fs=v.getPageHeight=function(N){return wc(N=N||X)/Et},Ec=v.setPageHeight=function(N,Y){Xa(N,Y*Et)};return v.internal={pdfEscape:Jr,getStyle:bu,getFont:Ls,getFontSize:vt,getCharSpace:Do,getTextColor:wu,getLineHeight:Ml,getLineHeightFactor:sl,getLineWidth:al,write:Xe,getHorizontalCoordinate:Fi,getVerticalCoordinate:_i,getCoordinateString:Fl,getVerticalCoordinateString:Jn,collections:{},newObject:Xn,newAdditionalObject:ji,newObjectDeferred:cr,newObjectDeferredBegin:Xr,getFilters:Wi,putStream:Ca,events:Kt,scaleFactor:Et,pageSize:{getWidth:function(){return ro(X)},setWidth:function(N){Eu(X,N)},getHeight:function(){return Fs(X)},setHeight:function(N){Ec(X,N)}},encryptionOptions:f,encryption:Or,getEncryptor:function(N){return f!==null?Or.encryptor(N,0):function(Y){return Y}},output:rl,getNumberOfPages:yc,get pages(){return Ve},out:oe,f2:P,f3:F,getPageInfo:ei,getPageInfoByObjId:Ll,getCurrentPageInfo:Sd,getPDFVersion:A,Point:Xi,Rectangle:eo,Matrix:qt,hasHotfix:hi},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return ro(X)},set:function(N){Eu(X,N)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Fs(X)},set:function(N){Ec(X,N)},enumerable:!0,configurable:!0}),(function(N){for(var Y=0,ce=yt.length;Y<ce;Y++){var be=gs.call(this,N[Y][0],N[Y][1],N[Y][2],yt[Y][3],!0);p===!1&&(y[be]=!0);var Ae=N[Y][0].split("-");ur({id:be,fontName:Ae[0],fontStyle:Ae[1]||""})}Kt.publish("addFonts",{fonts:It,dictionary:Mt})}).call(v,yt),dt="F1",la(i,n),Kt.publish("initialized"),v}Em.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Em.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Em.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Em.prototype.processOwnerPassword=function(t,e){return FT(MT(e).substr(0,5),t)},Em.prototype.encryptor=function(t,e){var n=MT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return FT(n,r)}},yx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||br(t)!==br(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ht.API={events:[]},Ht.version="3.0.4";var Ii=Ht.API,f4=1,wp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(t){return t.toFixed(2)},of=function(t){return t.toFixed(5)};Ii.__acroform__={};var Io=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},WL=function(t){return t*f4},Uc=function(t){var e=new C$,n=jt.internal.getHeight(t)||0,r=jt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(bn(r)),Number(bn(n))],e},Q_e=Ii.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},J_e=Ii.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Z_e=Ii.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},zi=Ii.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Z_e(t,e-1)},qi=Ii.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Q_e(t,e-1)},Hi=Ii.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J_e(t,e-1)},ewe=Ii.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=n(i+s)||0,u.upperRight_Y=r(a)||0,[Number(bn(u.lowerLeft_X)),Number(bn(u.lowerLeft_Y)),Number(bn(u.upperRight_X)),Number(bn(u.upperRight_Y))]},twe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=UT(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+bn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Uc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},UT=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=n,s=jt.internal.getHeight(t)||0;s=s<0?-s:s;var l=jt.internal.getWidth(t)||0;l=l<0?-l:l;var u=function(P,F,V){if(P+1<i.length){var ee=F+" "+i[P+1][0];return Sb(ee,t,V).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var d,f,p=Sb("3",t,a).height,y=t.multiline?s-a:(s-p)/2,v=y+=2,E=0,A=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Sb(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var I="",q=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var B=!1;if(i[k].length!==1&&S!==i[k].length-1){if((p+2)*(q+2)+2>s)continue e;I+=i[k][S],B=!0,A=k,k--}else{I=(I+=i[k][S]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var $=parseInt(k),K=u($,I,a),L=k>=i.length-1;if(K&&!L){I+=" ",S=0;continue}if(K||L){if(L)A=$;else if(t.multiline&&(p+2)*(q+2)+2>s)continue e}else{if(!t.multiline||(p+2)*(q+2)+2>s)continue e;A=$}}for(var j="",D=E;D<=A;D++){var G=i[D];if(t.multiline){if(D===A){j+=G[S]+" ",S=(S+1)%G.length;continue}if(D===E){j+=G[G.length-1]+" ";continue}}j+=G[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,f=Sb(j,t,a).width,t.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}e+=bn(d)+" "+bn(v)+` Td
`,e+="("+wp(j)+`) Tj
`,e+=-bn(d)+` 0 Td
`,v=-(a+2),f=0,E=B?A:A+1,q++,I=""}break}return r.text=e,r.fontSize=a,r},Sb=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},nwe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rwe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},iwe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(mc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(nwe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");f4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new P$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&rwe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],d=l.Rect;if(l.Rect&&(l.Rect=ewe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=jt.createDefaultAppearanceStream(l),br(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=twe(l);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var v=l.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var s in v)if(v.hasOwnProperty(s)){var E=v[s];typeof E=="function"&&(E=E.call(i,l)),p+="/"+s+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=v)=="function"&&(E=E.call(i,l)),p+="/"+s+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&(function(A,S){for(var I in A)if(A.hasOwnProperty(I)){var q=I,k=A[I];S.internal.newObjectDeferredBegin(k.objId,!0),br(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete A[q]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},I$=Ii.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),br(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+wp(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jA=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+wp(r(t))+")"},eu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eu.prototype.toString=function(){return this.objId+" 0 R"},eu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},eu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:I$(i,this.objId,this.scope)}):i instanceof eu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var C$=function(){eu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Io(C$,eu);var P$=function(){eu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wp(n(t))+")"}},set:function(n){t=n}})};Io(P$,eu);var mc=function t(){eu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zi(e,3)},set:function(I){I?this.F=qi(e,3):this.F=Hi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof bx)return;a="FieldObject"+t.FieldNum++}var I=function(q){return q};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+wp(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(I){s=I}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/f4:d},set:function(I){d=I}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(I){f=I}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof bx||this instanceof zh))return jA(p,this.objId,this.scope)},set:function(I){I=I.toString(),p=I}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Va==0?jA(y,this.objId,this.scope):y},set:function(I){I=I.toString(),y=this instanceof Va==0?I.substr(0,1)==="("?mm(I.substr(1,I.length-2)):mm(I):I}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Va==1?mm(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof Va==1?"/"+I:I}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Va==0?jA(v,this.objId,this.scope):v},set:function(I){I=I.toString(),v=this instanceof Va==0?I.substr(0,1)==="("?mm(I.substr(1,I.length-2)):mm(I):I}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Va==1?mm(v.substr(1,v.length-1)):v},set:function(I){I=I.toString(),v=this instanceof Va==1?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(I){I=!!I,A=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,1)},set:function(I){I?this.Ff=qi(this.Ff,1):this.Ff=Hi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,2)},set:function(I){I?this.Ff=qi(this.Ff,2):this.Ff=Hi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,3)},set:function(I){I?this.Ff=qi(this.Ff,3):this.Ff=Hi(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');S=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(S){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Io(mc,eu);var Um=function(){mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return I$(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var u,d=[];u=s.exec(a);)d.push(u[l]);return d})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,18)},set:function(n){n?this.Ff=qi(this.Ff,18):this.Ff=Hi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=qi(this.Ff,19):this.Ff=Hi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,20)},set:function(n){n?(this.Ff=qi(this.Ff,20),e.sort()):this.Ff=Hi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,22)},set:function(n){n?this.Ff=qi(this.Ff,22):this.Ff=Hi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(n){n?this.Ff=qi(this.Ff,23):this.Ff=Hi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,27)},set:function(n){n?this.Ff=qi(this.Ff,27):this.Ff=Hi(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(Um,mc);var Bm=function(){Um.call(this),this.fontName="helvetica",this.combo=!1};Io(Bm,Um);var Vm=function(){Bm.call(this),this.combo=!0};Io(Vm,Bm);var Kb=function(){Vm.call(this),this.edit=!0};Io(Kb,Vm);var Va=function(){mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,15)},set:function(n){n?this.Ff=qi(this.Ff,15):this.Ff=Hi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,16)},set:function(n){n?this.Ff=qi(this.Ff,16):this.Ff=Hi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,17)},set:function(n){n?this.Ff=qi(this.Ff,17):this.Ff=Hi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(n){n?this.Ff=qi(this.Ff,26):this.Ff=Hi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+wp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){br(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Io(Va,mc);var Xb=function(){Va.call(this),this.pushButton=!0};Io(Xb,Va);var zm=function(){Va.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Io(zm,Va);var bx=function(){var t,e;mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+wp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){br(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(bx,mc),zm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zm.prototype.createOption=function(t){var e=new bx;return e.Parent=this,e.optionName=t,this.Kids.push(e),awe.call(this.scope,e),e};var Qb=function(){Va.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};Io(Qb,Va);var zh=function(){mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,13)},set:function(e){e?this.Ff=qi(this.Ff,13):this.Ff=Hi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,21)},set:function(e){e?this.Ff=qi(this.Ff,21):this.Ff=Hi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(e){e?this.Ff=qi(this.Ff,23):this.Ff=Hi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,24)},set:function(e){e?this.Ff=qi(this.Ff,24):this.Ff=Hi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,25)},set:function(e){e?this.Ff=qi(this.Ff,25):this.Ff=Hi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(e){e?this.Ff=qi(this.Ff,26):this.Ff=Hi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(zh,mc);var Jb=function(){zh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,14)},set:function(t){t?this.Ff=qi(this.Ff,14):this.Ff=Hi(this.Ff,14)}}),this.password=!0};Io(Jb,zh);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=UT(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+bn(jt.internal.getWidth(t))+" "+bn(jt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+bn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Uc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=jt.internal.getHeight(t),s=jt.internal.getWidth(t),l=UT(t,t.caption);return i.push("1 g"),i.push("0 0 "+bn(s)+" "+bn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bn(s-1)+" "+bn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+bn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(jt.internal.getWidth(t))+" "+bn(jt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=jt.RadioButton.Circle.YesNormal,e.D[t]=jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=jt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+of(jt.internal.getWidth(t)/2)+" "+of(jt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*jt.internal.Bezier_C).toFixed(5)),s=Number((r*jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+of(jt.internal.getWidth(t)/2)+" "+of(jt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+of(jt.internal.getWidth(t)/2)+" "+of(jt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=jt.internal.getWidth(t)<=jt.internal.getHeight(t)?jt.internal.getWidth(t)/4:jt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+of(jt.internal.getWidth(t)/2)+" "+of(jt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=jt.RadioButton.Cross.YesNormal,e.D[t]=jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=jt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+bn(jt.internal.getWidth(t)-2)+" "+bn(jt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(r.x1.x)+" "+bn(r.x1.y)+" m"),n.push(bn(r.x2.x)+" "+bn(r.x2.y)+" l"),n.push(bn(r.x4.x)+" "+bn(r.x4.y)+" m"),n.push(bn(r.x3.x)+" "+bn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=jt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+bn(jt.internal.getWidth(t))+" "+bn(jt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+bn(jt.internal.getWidth(t)-2)+" "+bn(jt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),r.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),r.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),r.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(jt.internal.getWidth(t))+" "+bn(jt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};jt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=jt.internal.getWidth(t),n=jt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},jt.internal.getWidth=function(t){var e=0;return br(t)==="object"&&(e=WL(t.Rect[2])),e},jt.internal.getHeight=function(t){var e=0;return br(t)==="object"&&(e=WL(t.Rect[3])),e};var awe=Ii.addField=function(t){if(iwe(this,t),!(t instanceof mc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ii.AcroFormChoiceField=Um,Ii.AcroFormListBox=Bm,Ii.AcroFormComboBox=Vm,Ii.AcroFormEditBox=Kb,Ii.AcroFormButton=Va,Ii.AcroFormPushButton=Xb,Ii.AcroFormRadioButton=zm,Ii.AcroFormCheckBox=Qb,Ii.AcroFormTextField=zh,Ii.AcroFormPasswordField=Jb,Ii.AcroFormAppearance=jt,Ii.AcroForm={ChoiceField:Um,ListBox:Bm,ComboBox:Vm,EditBox:Kb,Button:Va,PushButton:Xb,RadioButton:zm,CheckBox:Qb,TextField:zh,PasswordField:Jb,Appearance:jt},Ht.AcroForm={ChoiceField:Um,ListBox:Bm,ComboBox:Vm,EditBox:Kb,Button:Va,PushButton:Xb,RadioButton:zm,CheckBox:Qb,TextField:zh,PasswordField:Jb,Appearance:jt};Ht.AcroForm;function O$(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,F){var V,ee,ge,se,fe,me=n;if((F=F||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(K(P))for(fe in r)for(ge=r[fe],V=0;V<ge.length;V+=1){for(se=!0,ee=0;ee<ge[V].length;ee+=1)if(ge[V][ee]!==void 0&&ge[V][ee]!==P[ee]){se=!1;break}if(se===!0){me=fe;break}}else for(fe in r)for(ge=r[fe],V=0;V<ge.length;V+=1){for(se=!0,ee=0;ee<ge[V].length;ee+=1)if(ge[V][ee]!==void 0&&ge[V][ee]!==P.charCodeAt(ee)){se=!1;break}if(se===!0){me=fe;break}}return me===n&&F!==n&&(me=F),me},a=function P(F){for(var V=this.internal.write,ee=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:F.width}),se.push({key:"Height",value:F.height}),F.colorSpace===I.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===I.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var fe="",me=0,xe=F.transparency.length;me<xe;me++)fe+=F.transparency[me]+" "+F.transparency[me]+" ";se.push({key:"Mask",value:"["+fe+"]"})}F.sMask!==void 0&&se.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ue=F.filter!==void 0?["/"+F.filter]:void 0;if(ee({data:F.data,additionalKeyValues:se,alreadyAppliedFilters:Ue,objectId:F.objectId}),V("endobj"),"sMask"in F&&F.sMask!==void 0){var ne,M=(ne=F.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:F.bitsPerComponent,X={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:F.sMask};"filter"in F&&(X.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(F.width),X.filter=F.filter),P.call(this,X)}if(F.colorSpace===I.INDEXED){var Z=this.internal.newObject();ee({data:j(new Uint8Array(F.palette)),objectId:Z}),V("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var F in P)a.call(this,P[F])},l=function(){var P,F=this.internal.collections[e+"images"],V=this.internal.write;for(var ee in F)V("/I"+(P=F[ee]).index,P.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var P=this.internal.collections[e+"images"];return u.call(this),P},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(P){return typeof t["process"+P.toUpperCase()]=="function"},y=function(P){return br(P)==="object"&&P.nodeType===1},v=function(P,F){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return Wb(unescape(V).split("base64,").pop());var ee=t.loadFile(V,!0);if(ee!==void 0)return ee}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ge;switch(F){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return Wb(P.toDataURL(ge,1).split("base64,").pop())}},E=function(P){var F=this.internal.collections[e+"images"];if(F){for(var V in F)if(P===F[V].alias)return F[V]}},A=function(P,F,V){return P||F||(P=-96,F=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),F<0&&(F=-1*V.height*72/F/this.internal.scaleFactor),P===0&&(P=F*V.width/V.height),F===0&&(F=P*V.height/V.width),[P,F]},S=function(P,F,V,ee,ge,se){var fe=A.call(this,V,ee,ge),me=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Ue=d.call(this);if(V=fe[0],ee=fe[1],Ue[ge.index]=ge,se){se*=Math.PI/180;var ne=Math.cos(se),M=Math.sin(se),X=function(de){return de.toFixed(4)},Z=[X(ne),X(M),X(-1*M),X(ne),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,me(P),xe(F+ee),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([me(V),"0","0",me(ee),"0","0","cm"].join(" "))):this.internal.write([me(V),"0","0",me(ee),me(P),xe(F+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},I=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(P){var F,V,ee=0;if(typeof P=="string")for(V=P.length,F=0;F<V;F++)ee=(ee<<5)-ee+P.charCodeAt(F),ee|=0;else if(K(P))for(V=P.byteLength/2,F=0;F<V;F++)ee=(ee<<5)-ee+P[F],ee|=0;return ee},B=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var F=!0;return P.length===0&&(F=!1),P.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(F=!1),F},$=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var F=P.indexOf(",");return F<0?null:P.substring(0,F).trim().endsWith("base64")?P.substring(F+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(P){for(var F=P.length,V=new Uint8Array(F),ee=0;ee<F;ee++)V[ee]=P.charCodeAt(ee);return V},j=t.__addimage__.arrayBufferToBinaryString=function(P){for(var F="",V=K(P)?P:new Uint8Array(P),ee=0;ee<V.length;ee+=8192)F+=String.fromCharCode.apply(null,V.subarray(ee,ee+8192));return F};t.addImage=function(){var P,F,V,ee,ge,se,fe,me,xe;if(typeof arguments[1]=="number"?(F=n,V=arguments[1],ee=arguments[2],ge=arguments[3],se=arguments[4],fe=arguments[5],me=arguments[6],xe=arguments[7]):(F=arguments[1],V=arguments[2],ee=arguments[3],ge=arguments[4],se=arguments[5],fe=arguments[6],me=arguments[7],xe=arguments[8]),br(P=arguments[0])==="object"&&!y(P)&&"imageData"in P){var Ue=P;P=Ue.imageData,F=Ue.format||F||n,V=Ue.x||V||0,ee=Ue.y||ee||0,ge=Ue.w||Ue.width||ge,se=Ue.h||Ue.height||se,fe=Ue.alias||fe,me=Ue.compression||me,xe=Ue.rotation||Ue.angle||xe}var ne=this.internal.getFilters();if(me===void 0&&ne.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(V)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=D.call(this,P,F,fe,me);return S.call(this,V,ee,ge,se,M,xe),this};var D=function(P,F,V,ee){var ge,se,fe;if(typeof P=="string"&&i(P)===n){P=unescape(P);var me=G(P,!1);(me!==""||(me=t.loadFile(P,!0))!==void 0)&&(P=me)}if(y(P)&&(P=v(P,F)),F=i(P,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((fe=V)==null||fe.length===0)&&(V=(function(xe){return typeof xe=="string"||K(xe)?k(xe):K(xe.data)?k(xe.data):null})(P)),(ge=E.call(this,V))||(P instanceof Uint8Array||F==="RGBA"||(se=P,P=L(P)),ge=this["process"+F.toUpperCase()](P,f.call(this),V,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:q.NONE})(ee),se)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},G=t.__addimage__.convertBase64ToBinaryString=function(P,F){F=typeof F!="boolean"||F;var V,ee="";if(typeof P=="string"){var ge;V=(ge=$(P))!==null&&ge!==void 0?ge:P;try{ee=Wb(V)}catch(se){if(F)throw B(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(P){var F,V,ee="";if(y(P)&&(P=v(P)),typeof P=="string"&&i(P)===n&&((ee=G(P,!1))===""&&(ee=t.loadFile(P)||""),P=ee),V=i(P),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(P instanceof Uint8Array||(P=L(P)),!(F=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=V,F}})(Ht.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((r=d[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){r=d[y];var v=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(A.objId),q=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+v(I(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+v(I(q))+") >>",A.content=a;var k=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(A.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(E(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var K=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(n),y:d(r),w:u(n+i),h:d(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,l,u=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(n,l).length;s=Math.ceil(d*f)}else l=u,s=d;return this.text(n,r,i,a),i+=.2*d,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-d,l,s,a),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Ht.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(A){return s(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(A){var S=0,I=n,q="",k=0;for(S=0;S<A.length;S+=1)I[A.charCodeAt(S)]!==void 0?(k++,typeof(I=I[A.charCodeAt(S)])=="number"&&(q+=String.fromCharCode(I),I=n,k=0),S===A.length-1&&(I=n,q+=A.charAt(S-(k-1)),S-=k-1,k=0)):(I=n,q+=A.charAt(S-k),S-=k,k=0);return q};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(A,S,I){return s(A)?a(A)===!1?-1:!d(A)||!s(S)&&!s(I)||!s(I)&&l(S)||l(A)&&!s(S)||l(A)&&u(S)||l(A)&&l(S)?0:f(A)&&s(S)&&!l(S)&&s(I)&&d(I)?3:l(A)||!s(I)?1:2:-1},v=function(A){var S=0,I=0,q=0,k="",B="",$="",K=(A=A||"").split("\\s+"),L=[];for(S=0;S<K.length;S+=1){for(L.push(""),I=0;I<K[S].length;I+=1)k=K[S][I],B=K[S][I-1],$=K[S][I+1],s(k)?(q=y(k,B,$),L[S]+=q!==-1?String.fromCharCode(e[k.charCodeAt(0)][q]):k):L[S]+=k;L[S]=p(L[S])}return L.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var A,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(S)){var q=0;for(I=[],q=0;q<S.length;q+=1)Array.isArray(S[q])?I.push([v(S[q][0]),S[q][1],S[q][2]]):I.push([v(S[q])]);A=I}else A=v(S);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",E])})(Ht.API),Ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ht.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(A){E=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,v=0,E=0,A=0,S=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var I=d.maxWidth;I>0?typeof u=="string"?u=this.splitTextToSize(u,I):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(k,B){return k.concat(S.splitTextToSize(B,I))},[])):u=Array.isArray(u)?u:[u];for(var q=0;q<u.length;q++)v<(A=this.getStringUnitWidth(u[q],{font:p})*f)&&(v=A);return v!==0&&(E=u.length),{w:v/=y,h:Math.max((E*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,v&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};t.table=function(u,d,f,p,y){if(r.call(this),!f)throw new Error("No data for PDF table.");var v,E,A,S,I=[],q=[],k=[],B={},$={},K=[],L=[],j=(y=y||{}).autoSize||!1,D=y.printHeaders!==!1,G=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,P=y.margins||Object.assign({width:this.getPageWidth()},e),F=typeof y.padding=="number"?y.padding:3,V=y.headerBackgroundColor||"#c8c8c8",ee=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=ee,this.setFontSize(G),p==null)q=I=Object.keys(f[0]),k=I.map(function(){return"left"});else if(Array.isArray(p)&&br(p[0])==="object")for(I=p.map(function(Ue){return Ue.name}),q=p.map(function(Ue){return Ue.prompt||Ue.name||""}),k=p.map(function(Ue){return Ue.align||"left"}),v=0;v<p.length;v+=1)$[p[v].name]=.7499990551181103*p[v].width;else Array.isArray(p)&&typeof p[0]=="string"&&(q=I=p,k=I.map(function(){return"left"}));if(j||Array.isArray(p)&&typeof p[0]=="string")for(v=0;v<I.length;v+=1){for(B[S=I[v]]=f.map(function(Ue){return Ue[S]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(q[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[S],this.setFont(void 0,"normal"),A=0;A<E.length;A+=1)K.push(this.getTextDimensions(E[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[S]=Math.max.apply(null,K)+F+F,K=[]}if(D){var ge={};for(v=0;v<I.length;v+=1)ge[I[v]]={},ge[I[v]].text=q[v],ge[I[v]].align=k[v];var se=l.call(this,ge,$);L=I.map(function(Ue){return new a(u,d,$[Ue],se,ge[Ue].text,void 0,ge[Ue].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var fe=p.reduce(function(Ue,ne){return Ue[ne.name]=ne.align,Ue},{});for(v=0;v<f.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:f[v]},this);var me=l.call(this,f[v],$);for(A=0;A<I.length;A+=1){var xe=f[v][I[A]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:A,data:xe},this),s.call(this,new a(u,d,$[I[A]],me,xe,v+2,fe[I[A]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(v){var E=u[v];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,d[v]-f-f)},this).map(function(v){return this.getLineHeightFactor()*v.length*p/y+f+f},this).reduce(function(v,E){return Math.max(v,E)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){f=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(Ht.API);var R$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},D$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],BT=O$(D$),k$=[100,200,300,400,500,600,700,800,900],swe=O$(k$);function LA(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return R$[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof BT[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function KL(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var owe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},XL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QL(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function JL(t){return t.trimLeft()}function lwe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function cwe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Tb,ZL,eM,gm,Nb,tM,nM,rM,MA=["times"];function iM(t,e,n,r,i){var a=4,s=sM;switch(i){case Ht.API.image_compression.FAST:a=1,s=aM;break;case Ht.API.image_compression.MEDIUM:a=6,s=oM;break;case Ht.API.image_compression.SLOW:a=9,s=lM}t=(function(u,d,f,p){for(var y,v=u.length/d,E=new Uint8Array(u.length+v),A=[uwe,aM,sM,oM,lM],S=0;S<v;S+=1){var I=S*d,q=u.subarray(I,I+d);if(p)E.set(p(q,f,y),I+S);else{for(var k=A.length,B=[],$=0;$<k;$+=1)B[$]=A[$](q,f,y);var K=fwe(B.concat());E.set(B[K],I+S)}y=q}return E})(t,e,Math.ceil(n*r/8),s);var l=DT(t,{level:a});return Ht.API.__addimage__.arrayBufferToBinaryString(l)}function uwe(t){var e=Array.apply([],t);return e.unshift(0),e}function aM(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function sM(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function oM(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,l=n&&n[a]||0;i[a+1]=t[a]+256-(s+l>>>1)&255}return i}function lM(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=dwe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function dwe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function fwe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function FA(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return j$(t,i)>>a&s}function cM(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),l=(1<<r)-1,u=(e&l)<<s;(function(d,f,p){if(f+1<d.byteLength)d.setUint16(f,p,!1);else{var y=p>>8&255;d.setUint8(f,y)}})(t,a,j$(t,a)&~(l<<s)&65535|u)}function j$(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function hwe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var l=null,u=null;a&&(l=e,u=s,e+=3*s);var d=!0,f=[],p=0,y=null,v=0,E=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];p=t[e++]|t[e++]<<8,y=t[e++],1&A||(y=null),v=A>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,q=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,B=t[e++],$=B>>6&1,K=1<<1+(7&B),L=l,j=u,D=!1;B>>7&&(D=!0,L=e,j=K,e+=3*K);var G=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}f.push({x:S,y:I,width:q,height:k,has_local_palette:D,palette_offset:L,palette_size:j,data_offset:G,data_length:e-G,transparent_index:y,interlaced:!!$,delay:p,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return E},this.frameInfo=function(F){if(F<0||F>=f.length)throw new Error("Frame index out of range.");return f[F]},this.decodeAndBlitFrameBGRA=function(F,V){var ee=this.frameInfo(F),ge=ee.width*ee.height,se=new Uint8Array(ge);uM(t,ee.data_offset,se,ge);var fe=ee.palette_offset,me=ee.transparent_index;me===null&&(me=256);var xe=ee.width,Ue=n-xe,ne=xe,M=4*(ee.y*n+ee.x),X=4*((ee.y+ee.height)*n+ee.x),Z=M,de=4*Ue;ee.interlaced===!0&&(de+=4*n*7);for(var pe=8,ye=0,Pe=se.length;ye<Pe;++ye){var he=se[ye];if(ne===0&&(ne=xe,(Z+=de)>=X&&(de=4*Ue+4*n*(pe-1),Z=M+(xe+Ue)*(pe<<1),pe>>=1)),he===me)Z+=4;else{var Ce=t[fe+3*he],Ve=t[fe+3*he+1],Se=t[fe+3*he+2];V[Z++]=Se,V[Z++]=Ve,V[Z++]=Ce,V[Z++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(F,V){var ee=this.frameInfo(F),ge=ee.width*ee.height,se=new Uint8Array(ge);uM(t,ee.data_offset,se,ge);var fe=ee.palette_offset,me=ee.transparent_index;me===null&&(me=256);var xe=ee.width,Ue=n-xe,ne=xe,M=4*(ee.y*n+ee.x),X=4*((ee.y+ee.height)*n+ee.x),Z=M,de=4*Ue;ee.interlaced===!0&&(de+=4*n*7);for(var pe=8,ye=0,Pe=se.length;ye<Pe;++ye){var he=se[ye];if(ne===0&&(ne=xe,(Z+=de)>=X&&(de=4*Ue+4*n*(pe-1),Z=M+(xe+Ue)*(pe<<1),pe>>=1)),he===me)Z+=4;else{var Ce=t[fe+3*he],Ve=t[fe+3*he+1],Se=t[fe+3*he+2];V[Z++]=Ce,V[Z++]=Ve,V[Z++]=Se,V[Z++]=255}--ne}}}function uM(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,u=i+1,d=(1<<u)-1,f=0,p=0,y=0,v=t[e++],E=new Int32Array(4096),A=null;;){for(;f<16&&v!==0;)p|=t[e++]<<f,f+=8,v===1?v=t[e++]:--v;if(f<u)break;var S=p&d;if(p>>=u,f-=u,S!==a){if(S===s)break;for(var I=S<l?S:A,q=0,k=I;k>a;)k=E[k]>>8,++q;var B=k;if(y+q+(I!==S?1:0)>r)return void jr.log("Warning, gif stream longer than expected.");n[y++]=B;var $=y+=q;for(I!==S&&(n[y++]=B),k=I;q--;)k=E[k],n[--$]=255&k,k>>=8;A!==null&&l<4096&&(E[l++]=A<<8|B,l>=d+1&&u<12&&(++u,d=d<<1|1)),A=S}else l=s+1,d=(1<<(u=i+1))-1,A=null}return y!==r&&jr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function UA(t){var e,n,r,i,a,s=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),y=new Array(65535),v=new Array(64),E=new Array(64),A=[],S=0,I=7,q=new Array(64),k=new Array(64),B=new Array(64),$=new Array(256),K=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(M,X){for(var Z=0,de=0,pe=new Array,ye=1;ye<=16;ye++){for(var Pe=1;Pe<=M[ye];Pe++)pe[X[de]]=[],pe[X[de]][0]=Z,pe[X[de]][1]=ye,de++,Z++;Z*=2}return pe}function fe(M){for(var X=M[0],Z=M[1]-1;Z>=0;)X&1<<Z&&(S|=1<<I),Z--,--I<0&&(S==255?(me(255),me(0)):me(S),I=7,S=0)}function me(M){A.push(M)}function xe(M){me(M>>8&255),me(255&M)}function Ue(M,X,Z,de,pe){for(var ye,Pe=pe[0],he=pe[240],Ce=(function(qe,ht){var vt,Bt,Rt,cn,dn,Jt,gn,st,dt,Et,Fe=0;for(dt=0;dt<8;++dt){vt=qe[Fe],Bt=qe[Fe+1],Rt=qe[Fe+2],cn=qe[Fe+3],dn=qe[Fe+4],Jt=qe[Fe+5],gn=qe[Fe+6];var wn=vt+(st=qe[Fe+7]),Vt=vt-st,It=Bt+gn,Mt=Bt-gn,nn=Rt+Jt,xt=Rt-Jt,un=cn+dn,_t=cn-dn,zt=wn+un,Tn=wn-un,ft=It+nn,gt=It-nn;qe[Fe]=zt+ft,qe[Fe+4]=zt-ft;var Kt=.707106781*(gt+Tn);qe[Fe+2]=Tn+Kt,qe[Fe+6]=Tn-Kt;var Gn=.382683433*((zt=_t+xt)-(gt=Mt+Vt)),Mr=.5411961*zt+Gn,oa=1.306562965*gt+Gn,di=.707106781*(ft=xt+Mt),qt=Vt+di,js=Vt-di;qe[Fe+5]=js+Mr,qe[Fe+3]=js-Mr,qe[Fe+1]=qt+oa,qe[Fe+7]=qt-oa,Fe+=8}for(Fe=0,dt=0;dt<8;++dt){vt=qe[Fe],Bt=qe[Fe+8],Rt=qe[Fe+16],cn=qe[Fe+24],dn=qe[Fe+32],Jt=qe[Fe+40],gn=qe[Fe+48];var Ri=vt+(st=qe[Fe+56]),Di=vt-st,ki=Bt+gn,Xn=Bt-gn,cr=Rt+Jt,Xr=Rt-Jt,ji=cn+dn,fi=cn-dn,Vn=Ri+ji,ir=Ri-ji,Qr=ki+cr,Wi=ki-cr;qe[Fe]=Vn+Qr,qe[Fe+32]=Vn-Qr;var Ca=.707106781*(Wi+ir);qe[Fe+16]=ir+Ca,qe[Fe+48]=ir-Ca;var Js=.382683433*((Vn=fi+Xr)-(Wi=Xn+Di)),$a=.5411961*Vn+Js,Li=1.306562965*Wi+Js,ms=.707106781*(Qr=Xr+Xn),nt=Di+ms,rn=Di-ms;qe[Fe+40]=rn+$a,qe[Fe+24]=rn-$a,qe[Fe+8]=nt+Li,qe[Fe+56]=nt-Li,Fe++}for(dt=0;dt<64;++dt)Et=qe[dt]*ht[dt],v[dt]=Et>0?Et+.5|0:Et-.5|0;return v})(M,X),Ve=0;Ve<64;++Ve)E[L[Ve]]=Ce[Ve];var Se=E[0]-Z;Z=E[0],Se==0?fe(de[0]):(fe(de[y[ye=32767+Se]]),fe(p[ye]));for(var rt=63;rt>0&&E[rt]==0;)rt--;if(rt==0)return fe(Pe),Z;for(var it,oe=1;oe<=rt;){for(var Xe=oe;E[oe]==0&&oe<=rt;)++oe;var Nt=oe-Xe;if(Nt>=16){it=Nt>>4;for(var yt=1;yt<=it;++yt)fe(he);Nt&=15}ye=32767+E[oe],fe(pe[(Nt<<4)+y[ye]]),fe(p[ye]),oe++}return rt!=63&&fe(Pe),Z}function ne(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(X){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var pe=s((Z[de]*X+50)/100);pe=Math.min(Math.max(pe,1),255),l[L[de]]=pe}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var he=s((ye[Pe]*X+50)/100);he=Math.min(Math.max(he,1),255),u[L[Pe]]=he}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Se=0;Se<8;Se++)for(var rt=0;rt<8;rt++)d[Ve]=1/(l[L[Ve]]*Ce[Se]*Ce[rt]*8),f[Ve]=1/(u[L[Ve]]*Ce[Se]*Ce[rt]*8),Ve++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,X){X&&ne(X),A=new Array,S=0,I=7,xe(65496),xe(65504),xe(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),xe(1),xe(1),me(0),me(0),(function(){xe(65499),xe(132),me(0);for(var Bt=0;Bt<64;Bt++)me(l[Bt]);me(1);for(var Rt=0;Rt<64;Rt++)me(u[Rt])})(),(function(Bt,Rt){xe(65472),xe(17),me(8),xe(Rt),xe(Bt),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)})(M.width,M.height),(function(){xe(65476),xe(418),me(0);for(var Bt=0;Bt<16;Bt++)me(j[Bt+1]);for(var Rt=0;Rt<=11;Rt++)me(D[Rt]);me(16);for(var cn=0;cn<16;cn++)me(G[cn+1]);for(var dn=0;dn<=161;dn++)me(P[dn]);me(1);for(var Jt=0;Jt<16;Jt++)me(F[Jt+1]);for(var gn=0;gn<=11;gn++)me(V[gn]);me(17);for(var st=0;st<16;st++)me(ee[st+1]);for(var dt=0;dt<=161;dt++)me(ge[dt])})(),xe(65498),xe(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var Z=0,de=0,pe=0;S=0,I=7,this.encode.displayName="_encode_";for(var ye,Pe,he,Ce,Ve,Se,rt,it,oe,Xe=M.data,Nt=M.width,yt=M.height,qe=4*Nt,ht=0;ht<yt;){for(ye=0;ye<qe;){for(Ve=qe*ht+ye,rt=-1,it=0,oe=0;oe<64;oe++)Se=Ve+(it=oe>>3)*qe+(rt=4*(7&oe)),ht+it>=yt&&(Se-=qe*(ht+1+it-yt)),ye+rt>=qe&&(Se-=ye+rt-qe+4),Pe=Xe[Se++],he=Xe[Se++],Ce=Xe[Se++],q[oe]=(K[Pe]+K[he+256|0]+K[Ce+512|0]>>16)-128,k[oe]=(K[Pe+768|0]+K[he+1024|0]+K[Ce+1280|0]>>16)-128,B[oe]=(K[Pe+1280|0]+K[he+1536|0]+K[Ce+1792|0]>>16)-128;Z=Ue(q,d,Z,e,r),de=Ue(k,f,de,n,i),pe=Ue(B,f,pe,n,i),ye+=32}ht+=8}if(I>=0){var vt=[];vt[1]=I+1,vt[0]=(1<<I+1)-1,fe(vt)}return xe(65497),new Uint8Array(A)},t=t||50,(function(){for(var M=String.fromCharCode,X=0;X<256;X++)$[X]=M(X)})(),e=se(j,D),n=se(F,V),r=se(G,P),i=se(ee,ge),(function(){for(var M=1,X=2,Z=1;Z<=15;Z++){for(var de=M;de<X;de++)y[32767+de]=Z,p[32767+de]=[],p[32767+de][1]=Z,p[32767+de][0]=de;for(var pe=-(X-1);pe<=-M;pe++)y[32767+pe]=Z,p[32767+pe]=[],p[32767+pe][1]=Z,p[32767+pe][0]=X-1+pe;M<<=1,X<<=1}})(),(function(){for(var M=0;M<256;M++)K[M]=19595*M,K[M+256|0]=38470*M,K[M+512|0]=7471*M+32768,K[M+768|0]=-11059*M,K[M+1024|0]=-21709*M,K[M+1280|0]=32768*M+8421375,K[M+1536|0]=-27439*M,K[M+1792|0]=-5329*M})(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dM(t){function e(D){if(!D)throw Error("assert :P")}function n(D,G,P){for(var F=0;4>F;F++)if(D[G+F]!=P.charCodeAt(F))return!0;return!1}function r(D,G,P,F,V){for(var ee=0;ee<V;ee++)D[G+ee]=P[F+ee]}function i(D,G,P,F){for(var V=0;V<F;V++)D[G+V]=P}function a(D){return new Int32Array(D)}function s(D,G){for(var P=[],F=0;F<D;F++)P.push(new G);return P}function l(D,G){var P=[];return(function F(V,ee,ge){for(var se=ge[ee],fe=0;fe<se&&(V.push(ge.length>ee+1?[]:new G),!(ge.length<ee+1));fe++)F(V[fe],ee+1,ge)})(P,0,D),P}var u=function(){var D=this;function G(b,w){for(var C=1<<w-1>>>0;b&C;)C>>>=1;return C?(b&C-1)+C:b}function P(b,w,C,U,W){e(!(U%C));do b[w+(U-=C)]=W;while(0<U)}function F(b,w,C,U,W){if(e(2328>=W),512>=W)var Q=a(512);else if((Q=a(W))==null)return 0;return(function(J,re,ae,ue,_e,De){var le,Ee,Ie=re,Ge=1<<ae,Oe=a(16),$e=a(16);for(e(_e!=0),e(ue!=null),e(J!=null),e(0<ae),Ee=0;Ee<_e;++Ee){if(15<ue[Ee])return 0;++Oe[ue[Ee]]}if(Oe[0]==_e)return 0;for($e[1]=0,le=1;15>le;++le){if(Oe[le]>1<<le)return 0;$e[le+1]=$e[le]+Oe[le]}for(Ee=0;Ee<_e;++Ee)le=ue[Ee],0<ue[Ee]&&(De[$e[le]++]=Ee);if($e[15]==1)return(ue=new V).g=0,ue.value=De[0],P(J,Ie,1,Ge,ue),Ge;var Ke,ot=-1,Ze=Ge-1,kt=0,At=1,hn=1,Ct=1<<ae;for(Ee=0,le=1,_e=2;le<=ae;++le,_e<<=1){if(At+=hn<<=1,0>(hn-=Oe[le]))return 0;for(;0<Oe[le];--Oe[le])(ue=new V).g=le,ue.value=De[Ee++],P(J,Ie+kt,_e,Ct,ue),kt=G(kt,le)}for(le=ae+1,_e=2;15>=le;++le,_e<<=1){if(At+=hn<<=1,0>(hn-=Oe[le]))return 0;for(;0<Oe[le];--Oe[le]){if(ue=new V,(kt&Ze)!=ot){for(Ie+=Ct,Ke=1<<(ot=le)-ae;15>ot&&!(0>=(Ke-=Oe[ot]));)++ot,Ke<<=1;Ge+=Ct=1<<(Ke=ot-ae),J[re+(ot=kt&Ze)].g=Ke+ae,J[re+ot].value=Ie-re-ot}ue.g=le-ae,ue.value=De[Ee++],P(J,Ie+(kt>>ae),_e,Ct,ue),kt=G(kt,le)}}return At!=2*$e[15]-1?0:Ge})(b,w,C,U,W,Q)}function V(){this.value=this.g=0}function ee(){this.value=this.g=0}function ge(){this.G=s(5,V),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ac,ee)}function se(b,w,C,U){e(b!=null),e(w!=null),e(2147483648>U),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=w,b.pa=C,b.Jd=w,b.Yc=C+U,b.Zc=4<=U?C+U-4+1:C,Pe(b)}function fe(b,w){for(var C=0;0<w--;)C|=Ce(b,128)<<w;return C}function me(b,w){var C=fe(b,w);return he(b)?-C:C}function xe(b,w,C,U){var W,Q=0;for(e(b!=null),e(w!=null),e(4294967288>U),b.Sb=U,b.Ra=0,b.u=0,b.h=0,4<U&&(U=4),W=0;W<U;++W)Q+=w[C+W]<<8*W;b.Ra=Q,b.bb=U,b.oa=w,b.pa=C}function Ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<ul-8>>>0,++b.bb,b.u-=8;de(b)&&(b.h=1,b.u=0)}function ne(b,w){if(e(0<=w),!b.h&&w<=Ja){var C=Z(b)&xs[w];return b.u+=w,Ue(b),C}return b.h=1,b.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(b){return b.Ra>>>(b.u&ul-1)>>>0}function de(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>ul}function pe(b,w){b.u=w,b.h=de(b)}function ye(b){b.u>=dl&&(e(b.u>=dl),Ue(b))}function Pe(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function he(b){return fe(b,1)}function Ce(b,w){var C=b.Ca;0>b.b&&Pe(b);var U=b.b,W=C*w>>>8,Q=(b.I>>>U>W)+0;for(Q?(C-=W,b.I-=W+1<<U>>>0):C=W+1,U=C,W=0;256<=U;)W+=8,U>>=8;return U=7^W+ql[U],b.b-=U,b.Ca=(C<<U)-1,Q}function Ve(b,w,C){b[w+0]=C>>24&255,b[w+1]=C>>16&255,b[w+2]=C>>8&255,b[w+3]=255&C}function Se(b,w){return b[w+0]|b[w+1]<<8}function rt(b,w){return Se(b,w)|b[w+2]<<16}function it(b,w){return Se(b,w)|Se(b,w+2)<<16}function oe(b,w){var C=1<<w;return e(b!=null),e(0<w),b.X=a(C),b.X==null?0:(b.Mb=32-w,b.Xa=w,1)}function Xe(b,w){e(b!=null),e(w!=null),e(b.Xa==w.Xa),r(w.X,0,b.X,0,1<<w.Xa)}function Nt(){this.X=[],this.Xa=this.Mb=0}function yt(b,w,C,U){e(C!=null),e(U!=null);var W=C[0],Q=U[0];return W==0&&(W=(b*Q+w/2)/w),Q==0&&(Q=(w*W+b/2)/b),0>=W||0>=Q?0:(C[0]=W,U[0]=Q,1)}function qe(b,w){return b+(1<<w)-1>>>w}function ht(b,w){return((4278255360&b)+(4278255360&w)>>>0&4278255360)+((16711935&b)+(16711935&w)>>>0&16711935)>>>0}function vt(b,w){D[w]=function(C,U,W,Q,J,re,ae){var ue;for(ue=0;ue<J;++ue){var _e=D[b](re[ae+ue-1],W,Q+ue);re[ae+ue]=ht(C[U+ue],_e)}}}function Bt(){this.ud=this.hd=this.jd=0}function Rt(b,w){return((4278124286&(b^w))>>>1)+(b&w)>>>0}function cn(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function dn(b,w){return cn(b+(b-w+.5>>1))}function Jt(b,w,C){return Math.abs(w-C)-Math.abs(b-C)}function gn(b,w,C,U,W,Q,J){for(U=Q[J-1],C=0;C<W;++C)Q[J+C]=U=ht(b[w+C],U)}function st(b,w,C,U,W){var Q;for(Q=0;Q<C;++Q){var J=b[w+Q],re=J>>8&255,ae=16711935&(ae=(ae=16711935&J)+((re<<16)+re));U[W+Q]=(4278255360&J)+ae>>>0}}function dt(b,w){w.jd=255&b,w.hd=b>>8&255,w.ud=b>>16&255}function Et(b,w,C,U,W,Q){var J;for(J=0;J<U;++J){var re=w[C+J],ae=re>>>8,ue=re,_e=255&(_e=(_e=re>>>16)+((b.jd<<24>>24)*(ae<<24>>24)>>>5));ue=255&(ue=(ue+=(b.hd<<24>>24)*(ae<<24>>24)>>>5)+((b.ud<<24>>24)*(_e<<24>>24)>>>5)),W[Q+J]=(4278255360&re)+(_e<<16)+ue}}function Fe(b,w,C,U,W){D[w]=function(Q,J,re,ae,ue,_e,De,le,Ee){for(ae=De;ae<le;++ae)for(De=0;De<Ee;++De)ue[_e++]=W(re[U(Q[J++])])},D[b]=function(Q,J,re,ae,ue,_e,De){var le=8>>Q.b,Ee=Q.Ea,Ie=Q.K[0],Ge=Q.w;if(8>le)for(Q=(1<<Q.b)-1,Ge=(1<<le)-1;J<re;++J){var Oe,$e=0;for(Oe=0;Oe<Ee;++Oe)Oe&Q||($e=U(ae[ue++])),_e[De++]=W(Ie[$e&Ge]),$e>>=le}else D["VP8LMapColor"+C](ae,ue,Ie,Ge,_e,De,J,re,Ee)}}function wn(b,w,C,U,W){for(C=w+C;w<C;){var Q=b[w++];U[W++]=Q>>16&255,U[W++]=Q>>8&255,U[W++]=255&Q}}function Vt(b,w,C,U,W){for(C=w+C;w<C;){var Q=b[w++];U[W++]=Q>>16&255,U[W++]=Q>>8&255,U[W++]=255&Q,U[W++]=Q>>24&255}}function It(b,w,C,U,W){for(C=w+C;w<C;){var Q=(J=b[w++])>>16&240|J>>12&15,J=240&J|J>>28&15;U[W++]=Q,U[W++]=J}}function Mt(b,w,C,U,W){for(C=w+C;w<C;){var Q=(J=b[w++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;U[W++]=Q,U[W++]=J}}function nn(b,w,C,U,W){for(C=w+C;w<C;){var Q=b[w++];U[W++]=255&Q,U[W++]=Q>>8&255,U[W++]=Q>>16&255}}function xt(b,w,C,U,W,Q){if(Q==0)for(C=w+C;w<C;)Ve(U,((Q=b[w++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),W+=32;else r(U,W,b,w,C)}function un(b,w){D[w][0]=D[b+"0"],D[w][1]=D[b+"1"],D[w][2]=D[b+"2"],D[w][3]=D[b+"3"],D[w][4]=D[b+"4"],D[w][5]=D[b+"5"],D[w][6]=D[b+"6"],D[w][7]=D[b+"7"],D[w][8]=D[b+"8"],D[w][9]=D[b+"9"],D[w][10]=D[b+"10"],D[w][11]=D[b+"11"],D[w][12]=D[b+"12"],D[w][13]=D[b+"13"],D[w][14]=D[b+"0"],D[w][15]=D[b+"0"]}function _t(b){return b==ih||b==Ip||b==Rd||b==Cp}function zt(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new Tn,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gn(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Mr(b,w){var C=b.T,U=w.ba.f.RGBA,W=U.eb,Q=U.fb+b.ka*U.A,J=ma[w.ba.S],re=b.y,ae=b.O,ue=b.f,_e=b.N,De=b.ea,le=b.W,Ee=w.cc,Ie=w.dc,Ge=w.Mc,Oe=w.Nc,$e=b.ka,Ke=b.ka+b.T,ot=b.U,Ze=ot+1>>1;for($e==0?J(re,ae,null,null,ue,_e,De,le,ue,_e,De,le,W,Q,null,null,ot):(J(w.ec,w.fc,re,ae,Ee,Ie,Ge,Oe,ue,_e,De,le,W,Q-U.A,W,Q,ot),++C);$e+2<Ke;$e+=2)Ee=ue,Ie=_e,Ge=De,Oe=le,_e+=b.Rc,le+=b.Rc,Q+=2*U.A,J(re,(ae+=2*b.fa)-b.fa,re,ae,Ee,Ie,Ge,Oe,ue,_e,De,le,W,Q-U.A,W,Q,ot);return ae+=b.fa,b.j+Ke<b.o?(r(w.ec,w.fc,re,ae,ot),r(w.cc,w.dc,ue,_e,Ze),r(w.Mc,w.Nc,De,le,Ze),C--):1&Ke||J(re,ae,null,null,ue,_e,De,le,ue,_e,De,le,W,Q+U.A,null,null,ot),C}function oa(b,w,C){var U=b.F,W=[b.J];if(U!=null){var Q=b.U,J=w.ba.S,re=J==rh||J==Rd;w=w.ba.f.RGBA;var ae=[0],ue=b.ka;ae[0]=b.T,b.Kb&&(ue==0?--ae[0]:(--ue,W[0]-=b.width),b.j+b.ka+b.T==b.o&&(ae[0]=b.o-b.j-ue));var _e=w.eb;ue=w.fb+ue*w.A,b=Zf(U,W[0],b.width,Q,ae,_e,ue+(re?0:3),w.A),e(C==ae),b&&_t(J)&&Tu(_e,ue,re,Q,ae,w.A)}return 0}function di(b){var w=b.ma,C=w.ba.S,U=11>C,W=C==ka||C==so||C==rh||C==Od||C==12||_t(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!zl(w.Oa,b,W?11:12))return 0;if(W&&_t(C)&&fn(),b.da)alert("todo:use_scaling");else{if(U){if(w.Ib=Gn,b.Kb){if(C=b.U+1>>1,w.memory=a(b.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+b.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=Mr,fn()}}else alert("todo:EmitYUV");W&&(w.Jb=oa,U&&Le())}if(U&&!Oc){for(b=0;256>b;++b)ga[b]=89858*(b-128)+jd>>ho,tw[b]=-22014*(b-128)+jd,l1[b]=-45773*(b-128),kp[b]=113618*(b-128)+jd>>ho;for(b=Pu;b<Pc;++b)w=76283*(b-16)+jd>>ho,nw[b-Pu]=Ga(w,255),rw[b-Pu]=Ga(w+8>>4,15);Oc=1}return 1}function qt(b){var w=b.ma,C=b.U,U=b.T;return e(!(1&b.ka)),0>=C||0>=U?0:(C=w.Ib(b,w),w.Jb!=null&&w.Jb(b,w,C),w.Dc+=C,1)}function js(b){b.ma.memory=null}function Ri(b,w,C,U){return ne(b,8)!=47?0:(w[0]=ne(b,14)+1,C[0]=ne(b,14)+1,U[0]=ne(b,1),ne(b,3)!=0?0:!b.h)}function Di(b,w){if(4>b)return b+1;var C=b-2>>1;return(2+(1&b)<<C)+ne(w,C)+1}function ki(b,w){return 120<w?w-120:1<=(C=((C=lo[w-1])>>4)*b+(8-(15&C)))?C:1;var C}function Xn(b,w,C){var U=Z(C),W=b[w+=255&U].g-8;return 0<W&&(pe(C,C.u+8),U=Z(C),w+=b[w].value,w+=U&(1<<W)-1),pe(C,C.u+b[w].g),b[w].value}function cr(b,w,C){return C.g+=b.g,C.value+=b.value<<w>>>0,e(8>=C.g),b.g}function Xr(b,w,C){var U=b.xc;return e((w=U==0?0:b.vc[b.md*(C>>U)+(w>>U)])<b.Wb),b.Ya[w]}function ji(b,w,C,U){var W=b.ab,Q=b.c*w,J=b.C;w=J+w;var re=C,ae=U;for(U=b.Ta,C=b.Ua;0<W--;){var ue=b.gc[W],_e=J,De=w,le=re,Ee=ae,Ie=(ae=U,re=C,ue.Ea);switch(e(_e<De),e(De<=ue.nc),ue.hc){case 2:mi(le,Ee,(De-_e)*Ie,ae,re);break;case 0:var Ge=_e,Oe=De,$e=ae,Ke=re,ot=(Ct=ue).Ea;Ge==0&&(Nd(le,Ee,null,null,1,$e,Ke),gn(le,Ee+1,0,0,ot-1,$e,Ke+1),Ee+=ot,Ke+=ot,++Ge);for(var Ze=1<<Ct.b,kt=Ze-1,At=qe(ot,Ct.b),hn=Ct.K,Ct=Ct.w+(Ge>>Ct.b)*At;Ge<Oe;){var Cn=hn,Dr=Ct,vn=1;for(Id(le,Ee,$e,Ke-ot,1,$e,Ke);vn<ot;){var St=(vn&~kt)+Ze;St>ot&&(St=ot),(0,Hl[Cn[Dr++]>>8&15])(le,Ee+ +vn,$e,Ke+vn-ot,St-vn,$e,Ke+vn),vn=St}Ee+=ot,Ke+=ot,++Ge&kt||(Ct+=At)}De!=ue.nc&&r(ae,re-Ie,ae,re+(De-_e-1)*Ie,Ie);break;case 1:for(Ie=le,Oe=Ee,ot=(le=ue.Ea)-(Ke=le&~($e=(Ee=1<<ue.b)-1)),Ge=qe(le,ue.b),Ze=ue.K,ue=ue.w+(_e>>ue.b)*Ge;_e<De;){for(kt=Ze,At=ue,hn=new Bt,Ct=Oe+Ke,Cn=Oe+le;Oe<Ct;)dt(kt[At++],hn),Cd(hn,Ie,Oe,Ee,ae,re),Oe+=Ee,re+=Ee;Oe<Cn&&(dt(kt[At++],hn),Cd(hn,Ie,Oe,ot,ae,re),Oe+=ot,re+=ot),++_e&$e||(ue+=Ge)}break;case 3:if(le==ae&&Ee==re&&0<ue.b){for(Oe=ae,le=Ie=re+(De-_e)*Ie-(Ke=(De-_e)*qe(ue.Ea,ue.b)),Ee=ae,$e=re,Ge=[],Ke=(ot=Ke)-1;0<=Ke;--Ke)Ge[Ke]=Ee[$e+Ke];for(Ke=ot-1;0<=Ke;--Ke)Oe[le+Ke]=Ge[Ke];Ep(ue,_e,De,ae,Ie,ae,re)}else Ep(ue,_e,De,le,Ee,ae,re)}re=U,ae=C}ae!=C&&r(U,C,re,ae,Q)}function fi(b,w){var C=b.V,U=b.Ba+b.c*b.C,W=w-b.C;if(e(w<=b.l.o),e(16>=W),0<W){var Q=b.l,J=b.Ta,re=b.Ua,ae=Q.width;if(ji(b,W,C,U),W=re=[re],e((C=b.C)<(U=w)),e(Q.v<Q.va),U>Q.o&&(U=Q.o),C<Q.j){var ue=Q.j-C;C=Q.j,W[0]+=ue*ae}if(C>=U?C=0:(W[0]+=4*Q.v,Q.ka=C-Q.j,Q.U=Q.va-Q.v,Q.T=U-C,C=1),C){if(re=re[0],11>(C=b.ca).S){var _e=C.f.RGBA,De=(U=C.S,W=Q.U,Q=Q.T,ue=_e.eb,_e.A),le=Q;for(_e=_e.fb+b.Ma*_e.A;0<le--;){var Ee=J,Ie=re,Ge=W,Oe=ue,$e=_e;switch(U){case Tp:Pd(Ee,Ie,Ge,Oe,$e);break;case ka:$l(Ee,Ie,Ge,Oe,$e);break;case ih:$l(Ee,Ie,Ge,Oe,$e),Tu(Oe,$e,0,Ge,1,0);break;case Np:Au(Ee,Ie,Ge,Oe,$e);break;case so:xt(Ee,Ie,Ge,Oe,$e,1);break;case Ip:xt(Ee,Ie,Ge,Oe,$e,1),Tu(Oe,$e,0,Ge,1,0);break;case rh:xt(Ee,Ie,Ge,Oe,$e,0);break;case Rd:xt(Ee,Ie,Ge,Oe,$e,0),Tu(Oe,$e,1,Ge,1,0);break;case Od:Gl(Ee,Ie,Ge,Oe,$e);break;case Cp:Gl(Ee,Ie,Ge,Oe,$e),ao(Oe,$e,Ge,1,0);break;case Sc:pl(Ee,Ie,Ge,Oe,$e);break;default:e(0)}re+=ae,_e+=De}b.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=C.height)}}b.C=w,e(b.C<=b.i)}function Vn(b){var w;if(0<b.ua)return 0;for(w=0;w<b.Wb;++w){var C=b.Ya[w].G,U=b.Ya[w].H;if(0<C[1][U[1]+0].g||0<C[2][U[2]+0].g||0<C[3][U[3]+0].g)return 0}return 1}function ir(b,w,C,U,W,Q){if(b.Z!=0){var J=b.qd,re=b.rd;for(e(Kl[b.Z]!=null);w<C;++w)Kl[b.Z](J,re,U,W,U,W,Q),J=U,re=W,W+=Q;b.qd=J,b.rd=re}}function Qr(b,w){var C=b.l.ma,U=C.Z==0||C.Z==1?b.l.j:b.C;if(U=b.C<U?U:b.C,e(w<=b.l.o),w>U){var W=b.l.width,Q=C.ca,J=C.tb+W*U,re=b.V,ae=b.Ba+b.c*U,ue=b.gc;e(b.ab==1),e(ue[0].hc==3),hl(ue[0],U,w,re,ae,Q,J),ir(C,U,w,Q,J,W)}b.C=b.Ma=w}function Wi(b,w,C,U,W,Q,J){var re=b.$/U,ae=b.$%U,ue=b.m,_e=b.s,De=C+b.$,le=De;W=C+U*W;var Ee=C+U*Q,Ie=280+_e.ua,Ge=b.Pb?re:16777216,Oe=0<_e.ua?_e.Wa:null,$e=_e.wc,Ke=De<Ee?Xr(_e,ae,re):null;e(b.C<Q),e(Ee<=W);var ot=!1;e:for(;;){for(;ot||De<Ee;){var Ze=0;if(re>=Ge){var kt=De-C;e((Ge=b).Pb),Ge.wd=Ge.m,Ge.xd=kt,0<Ge.s.ua&&Xe(Ge.s.Wa,Ge.s.vb),Ge=re+Tc}if(ae&$e||(Ke=Xr(_e,ae,re)),e(Ke!=null),Ke.Qb&&(w[De]=Ke.qb,ot=!0),!ot)if(ye(ue),Ke.jc){Ze=ue,kt=w;var At=De,hn=Ke.pd[Z(Ze)&Ac-1];e(Ke.jc),256>hn.g?(pe(Ze,Ze.u+hn.g),kt[At]=hn.value,Ze=0):(pe(Ze,Ze.u+hn.g-256),e(256<=hn.value),Ze=hn.value),Ze==0&&(ot=!0)}else Ze=Xn(Ke.G[0],Ke.H[0],ue);if(ue.h)break;if(ot||256>Ze){if(!ot)if(Ke.nd)w[De]=(Ke.qb|Ze<<8)>>>0;else{if(ye(ue),ot=Xn(Ke.G[1],Ke.H[1],ue),ye(ue),kt=Xn(Ke.G[2],Ke.H[2],ue),At=Xn(Ke.G[3],Ke.H[3],ue),ue.h)break;w[De]=(At<<24|ot<<16|Ze<<8|kt)>>>0}if(ot=!1,++De,++ae>=U&&(ae=0,++re,J!=null&&re<=Q&&!(re%16)&&J(b,re),Oe!=null))for(;le<De;)Ze=w[le++],Oe.X[(506832829*Ze&4294967295)>>>Oe.Mb]=Ze}else if(280>Ze){if(Ze=Di(Ze-256,ue),kt=Xn(Ke.G[4],Ke.H[4],ue),ye(ue),kt=ki(U,kt=Di(kt,ue)),ue.h)break;if(De-C<kt||W-De<Ze)break e;for(At=0;At<Ze;++At)w[De+At]=w[De+At-kt];for(De+=Ze,ae+=Ze;ae>=U;)ae-=U,++re,J!=null&&re<=Q&&!(re%16)&&J(b,re);if(e(De<=W),ae&$e&&(Ke=Xr(_e,ae,re)),Oe!=null)for(;le<De;)Ze=w[le++],Oe.X[(506832829*Ze&4294967295)>>>Oe.Mb]=Ze}else{if(!(Ze<Ie))break e;for(ot=Ze-280,e(Oe!=null);le<De;)Ze=w[le++],Oe.X[(506832829*Ze&4294967295)>>>Oe.Mb]=Ze;Ze=De,e(!(ot>>>(kt=Oe).Xa)),w[Ze]=kt.X[ot],ot=!0}ot||e(ue.h==de(ue))}if(b.Pb&&ue.h&&De<W)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Xe(b.s.vb,b.s.Wa);else{if(ue.h)break e;J!=null&&J(b,re>Q?Q:re),b.a=0,b.$=De-C}return 1}return b.a=3,0}function Ca(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var w=b.Wa;w!=null&&(w.X=null),b.vb=null,e(b!=null)}function Js(){var b=new Zt;return b==null?null:(b.a=0,b.xb=Kg,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),mi=st,Cd=Et,Pd=wn,$l=Vt,Gl=It,pl=Mt,Au=nn,D.VP8LMapColor32b=fl,D.VP8LMapColor8b=fa,b)}function $a(b,w,C,U,W){var Q=1,J=[b],re=[w],ae=U.m,ue=U.s,_e=null,De=0;e:for(;;){if(C)for(;Q&&ne(ae,1);){var le=J,Ee=re,Ie=U,Ge=1,Oe=Ie.m,$e=Ie.gc[Ie.ab],Ke=ne(Oe,2);if(Ie.Oc&1<<Ke)Q=0;else{switch(Ie.Oc|=1<<Ke,$e.hc=Ke,$e.Ea=le[0],$e.nc=Ee[0],$e.K=[null],++Ie.ab,e(4>=Ie.ab),Ke){case 0:case 1:$e.b=ne(Oe,3)+2,Ge=$a(qe($e.Ea,$e.b),qe($e.nc,$e.b),0,Ie,$e.K),$e.K=$e.K[0];break;case 3:var ot,Ze=ne(Oe,8)+1,kt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(le[0]=qe($e.Ea,kt),$e.b=kt,ot=Ge=$a(Ze,1,0,Ie,$e.K)){var At,hn=Ze,Ct=$e,Cn=1<<(8>>Ct.b),Dr=a(Cn);if(Dr==null)ot=0;else{var vn=Ct.K[0],St=Ct.w;for(Dr[0]=Ct.K[0][0],At=1;At<1*hn;++At)Dr[At]=ht(vn[St+At],Dr[At-1]);for(;At<4*Cn;++At)Dr[At]=0;Ct.K[0]=null,Ct.K[0]=Dr,ot=1}}Ge=ot;break;case 2:break;default:e(0)}Q=Ge}}if(J=J[0],re=re[0],Q&&ne(ae,1)&&!(Q=1<=(De=ne(ae,4))&&11>=De)){U.a=3;break e}var pt;if(pt=Q)t:{var qr,an,xn,ar=U,Ui=J,va=re,Tr=De,wi=C,ja=ar.m,Ei=ar.s,Sn=[null],zn=1,Hr=0,Kn=co[Tr];n:for(;;){if(wi&&ne(ja,1)){var Bi=ne(ja,3)+2,$r=qe(Ui,Bi),qn=qe(va,Bi),yi=$r*qn;if(!$a($r,qn,0,ar,Sn))break n;for(Sn=Sn[0],Ei.xc=Bi,qr=0;qr<yi;++qr){var sr=Sn[qr]>>8&65535;Sn[qr]=sr,sr>=zn&&(zn=sr+1)}}if(ja.h)break n;for(an=0;5>an;++an){var Ai=Iu[an];!an&&0<Tr&&(Ai+=1<<Tr),Hr<Ai&&(Hr=Ai)}var Si=s(zn*Kn,V),mr=zn,Bn=s(mr,ge);if(Bn==null)var La=null;else e(65536>=mr),La=Bn;var ni=a(Hr);if(La==null||ni==null||Si==null){ar.a=1;break n}var Qt=Si;for(qr=xn=0;qr<zn;++qr){var en=La[qr],Hn=en.G,_s=en.H,po=0,es=1,Ti=0;for(an=0;5>an;++an){Ai=Iu[an],Hn[an]=Qt,_s[an]=xn,!an&&0<Tr&&(Ai+=1<<Tr);i:{var Rc,Dc=Ai,Lp=ar,Nr=ni,Qg=Qt,Jg=xn,Mp=0,Xl=Lp.m,iw=ne(Xl,1);if(i(Nr,0,0,Dc),iw){var Zg=ne(Xl,1)+1,ev=ne(Xl,1),Fp=ne(Xl,ev==0?1:8);Nr[Fp]=1,Zg==2&&(Nr[Fp=ne(Xl,8)]=1);var Ji=1}else{var ri=a(19),lh=ne(Xl,4)+4;if(19<lh){Lp.a=3;var kc=0;break i}for(Rc=0;Rc<lh;++Rc)ri[ah[Rc]]=ne(Xl,3);var Md=void 0,Ou=void 0,vl=Lp,Up=ri,Fd=Dc,Bp=Nr,Vp=0,Ql=vl.m,tv=8,nv=s(128,V);r:for(;F(nv,0,7,Up,19);){if(ne(Ql,1)){var c1=2+2*ne(Ql,3);if((Md=2+ne(Ql,c1))>Fd)break r}else Md=Fd;for(Ou=0;Ou<Fd&&Md--;){ye(Ql);var rv=nv[0+(127&Z(Ql))];pe(Ql,Ql.u+rv.g);var jc=rv.value;if(16>jc)Bp[Ou++]=jc,jc!=0&&(tv=jc);else{var u1=jc==16,d1=jc-16,f1=Dd[d1],iv=ne(Ql,oo[d1])+f1;if(Ou+iv>Fd)break r;for(var h1=u1?tv:0;0<iv--;)Bp[Ou++]=h1}}Vp=1;break r}Vp||(vl.a=3),Ji=Vp}(Ji=Ji&&!Xl.h)&&(Mp=F(Qg,Jg,8,Nr,Dc)),Ji&&Mp!=0?kc=Mp:(Lp.a=3,kc=0)}if(kc==0)break n;if(es&&Pp[an]==1&&(es=Qt[xn].g==0),po+=Qt[xn].g,xn+=kc,3>=an){var Ru,zp=ni[0];for(Ru=1;Ru<Ai;++Ru)ni[Ru]>zp&&(zp=ni[Ru]);Ti+=zp}}if(en.nd=es,en.Qb=0,es&&(en.qb=(Hn[3][_s[3]+0].value<<24|Hn[1][_s[1]+0].value<<16|Hn[2][_s[2]+0].value)>>>0,po==0&&256>Hn[0][_s[0]+0].value&&(en.Qb=1,en.qb+=Hn[0][_s[0]+0].value<<8)),en.jc=!en.Qb&&6>Ti,en.jc){var ch,yl=en;for(ch=0;ch<Ac;++ch){var Jl=ch,Zl=yl.pd[Jl],qp=yl.G[0][yl.H[0]+Jl];256<=qp.value?(Zl.g=qp.g+256,Zl.value=qp.value):(Zl.g=0,Zl.value=0,Jl>>=cr(qp,8,Zl),Jl>>=cr(yl.G[1][yl.H[1]+Jl],16,Zl),Jl>>=cr(yl.G[2][yl.H[2]+Jl],0,Zl),cr(yl.G[3][yl.H[3]+Jl],24,Zl))}}}Ei.vc=Sn,Ei.Wb=zn,Ei.Ya=La,Ei.yc=Si,pt=1;break t}pt=0}if(!(Q=pt)){U.a=3;break e}if(0<De){if(ue.ua=1<<De,!oe(ue.Wa,De)){U.a=1,Q=0;break e}}else ue.ua=0;var Hp=U,Du=J,p1=re,Ud=Hp.s,Bd=Ud.xc;if(Hp.c=Du,Hp.i=p1,Ud.md=qe(Du,Bd),Ud.wc=Bd==0?-1:(1<<Bd)-1,C){U.xb=Nc;break e}if((_e=a(J*re))==null){U.a=1,Q=0;break e}Q=(Q=Wi(U,_e,0,J,re,re,null))&&!ae.h;break e}return Q?(W!=null?W[0]=_e:(e(_e==null),e(C)),U.$=0,C||Ca(ue)):Ca(ue),Q}function Li(b,w){var C=b.c*b.i,U=C+w+16*w;return e(b.c<=w),b.V=a(U),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+C+w,1)}function ms(b,w){var C=b.C,U=w-C,W=b.V,Q=b.Ba+b.c*C;for(e(w<=b.l.o);0<U;){var J=16<U?16:U,re=b.l.ma,ae=b.l.width,ue=ae*J,_e=re.ca,De=re.tb+ae*C,le=b.Ta,Ee=b.Ua;ji(b,J,W,Q),zs(le,Ee,_e,De,ue),ir(re,C,C+J,_e,De,ae),U-=J,W+=J*b.c,C+=J}e(C==w),b.C=b.Ma=w}function nt(){this.ub=this.yd=this.td=this.Rb=0}function rn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function hr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Qn(){this.Yb=(function(){var b=[];return(function w(C,U,W){for(var Q=W[U],J=0;J<Q&&(C.push(W.length>U+1?[]:0),!(W.length<U+1));J++)w(C[J],U+1,W)})(b,0,[3,11]),b})()}function ur(){this.jb=a(3),this.Wc=l([4,8],Qn),this.Xc=l([4,17],Qn)}function gs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Jr(){this.ld=this.La=this.dd=this.tc=0}function Yn(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jr),this.Y=0,this.ya=Array(new vs),this.aa=0,this.l=new Ki}function yc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function vu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new nt,this.Kc=new rn,this.ed=new gs,this.Qa=new hr,this.Ic=this.$c=this.Aa=0,this.D=new vc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,la),this.Pa=new ur,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yc),this.Hd=0,this.rb=Array(new Yn),this.sb=0,this.wa=Array(new Jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vs),this.L=this.aa=0,this.gd=l([4,2],Jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ga(b,w){return 0>b?0:b>w?w:b}function Ki(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zr(){var b=new vu;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,qs||(qs=jn)),b}function Nn(b,w,C){return b.a==0&&(b.a=w,b.sc=C,b.cb=0),0}function Co(b,w,C){return 3<=C&&b[w+0]==157&&b[w+1]==1&&b[w+2]==42}function ys(b,w){if(b==null)return 0;if(b.a=0,b.sc="OK",w==null)return Nn(b,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,U=w.w,W=w.ha;if(4>W)return Nn(b,7,"Truncated header.");var Q=C[U+0]|C[U+1]<<8|C[U+2]<<16,J=b.Od;if(J.Rb=!(1&Q),J.td=Q>>1&7,J.yd=Q>>4&1,J.ub=Q>>5,3<J.td)return Nn(b,3,"Incorrect keyframe parameters.");if(!J.yd)return Nn(b,4,"Frame not displayable.");U+=3,W-=3;var re=b.Kc;if(J.Rb){if(7>W)return Nn(b,7,"cannot parse picture header");if(!Co(C,U,W))return Nn(b,3,"Bad code word");re.c=16383&(C[U+4]<<8|C[U+3]),re.Td=C[U+4]>>6,re.i=16383&(C[U+6]<<8|C[U+5]),re.Ud=C[U+6]>>6,U+=7,W-=7,b.za=re.c+15>>4,b.Ub=re.i+15>>4,w.width=re.c,w.height=re.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((Q=b.Pa).jb,0,255,Q.jb.length),e((Q=b.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(J.ub>W)return Nn(b,7,"bad partition length");se(Q=b.m,C,U,J.ub),U+=J.ub,W-=J.ub,J.Rb&&(re.Ld=he(Q),re.Kd=he(Q)),re=b.Qa;var ae,ue=b.Pa;if(e(Q!=null),e(re!=null),re.Cb=he(Q),re.Cb){if(re.Bb=he(Q),he(Q)){for(re.Fb=he(Q),ae=0;4>ae;++ae)re.Zb[ae]=he(Q)?me(Q,7):0;for(ae=0;4>ae;++ae)re.Lb[ae]=he(Q)?me(Q,6):0}if(re.Bb)for(ae=0;3>ae;++ae)ue.jb[ae]=he(Q)?fe(Q,8):255}else re.Bb=0;if(Q.Ka)return Nn(b,3,"cannot parse segment header");if((re=b.ed).zd=he(Q),re.Tb=fe(Q,6),re.wb=fe(Q,3),re.Pc=he(Q),re.Pc&&he(Q)){for(ue=0;4>ue;++ue)he(Q)&&(re.vd[ue]=me(Q,6));for(ue=0;4>ue;++ue)he(Q)&&(re.od[ue]=me(Q,6))}if(b.L=re.Tb==0?0:re.zd?1:2,Q.Ka)return Nn(b,3,"cannot parse filter header");var _e=W;if(W=ae=U,U=ae+_e,re=_e,b.Xb=(1<<fe(b.m,2))-1,_e<3*(ue=b.Xb))C=7;else{for(ae+=3*ue,re-=3*ue,_e=0;_e<ue;++_e){var De=C[W+0]|C[W+1]<<8|C[W+2]<<16;De>re&&(De=re),se(b.Jc[+_e],C,ae,De),ae+=De,re-=De,W+=3}se(b.Jc[+ue],C,ae,re),C=ae<U?0:5}if(C!=0)return Nn(b,C,"cannot parse partitions");for(C=fe(ae=b.m,7),W=he(ae)?me(ae,4):0,U=he(ae)?me(ae,4):0,re=he(ae)?me(ae,4):0,ue=he(ae)?me(ae,4):0,ae=he(ae)?me(ae,4):0,_e=b.Qa,De=0;4>De;++De){if(_e.Cb){var le=_e.Zb[De];_e.Fb||(le+=C)}else{if(0<De){b.pb[De]=b.pb[0];continue}le=C}var Ee=b.pb[De];Ee.Sc[0]=uo[Ga(le+W,127)],Ee.Sc[1]=fo[Ga(le+0,127)],Ee.Eb[0]=2*uo[Ga(le+U,127)],Ee.Eb[1]=101581*fo[Ga(le+re,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=uo[Ga(le+ue,117)],Ee.Qc[1]=fo[Ga(le+ae,127)],Ee.lc=le+ae}if(!J.Rb)return Nn(b,4,"Not a key frame.");for(he(Q),J=b.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(U=0;3>U;++U)for(re=0;11>re;++re)ue=Ce(Q,Rr[C][W][U][re])?fe(Q,8):o1[C][W][U][re],J.Wc[C][W].Yb[U][re]=ue;for(W=0;17>W;++W)J.Xc[C][W]=J.Wc[C][Pn[W]]}return b.kc=he(Q),b.kc&&(b.Bd=fe(Q,8)),b.cb=1}function jn(b,w,C,U,W,Q,J){var re=w[W].Yb[C];for(C=0;16>W;++W){if(!Ce(b,re[C+0]))return W;for(;!Ce(b,re[C+1]);)if(re=w[++W].Yb[0],C=0,W==16)return 16;var ae=w[W+1].Yb;if(Ce(b,re[C+2])){var ue=b,_e=0;if(Ce(ue,(le=re)[(De=C)+3]))if(Ce(ue,le[De+6])){for(re=0,De=2*(_e=Ce(ue,le[De+8]))+(le=Ce(ue,le[De+9+_e])),_e=0,le=s1[De];le[re];++re)_e+=_e+Ce(ue,le[re]);_e+=3+(8<<De)}else Ce(ue,le[De+7])?(_e=7+2*Ce(ue,165),_e+=Ce(ue,145)):_e=5+Ce(ue,159);else _e=Ce(ue,le[De+4])?3+Ce(ue,le[De+5]):2;re=ae[2]}else _e=1,re=ae[1];ae=J+Wg[W],0>(ue=b).b&&Pe(ue);var De,le=ue.b,Ee=(De=ue.Ca>>1)-(ue.I>>le)>>31;--ue.b,ue.Ca+=Ee,ue.Ca|=1,ue.I-=(De+1&Ee)<<le,Q[ae]=((_e^Ee)-Ee)*U[(0<W)+0]}return 16}function rl(b){var w=b.rb[b.sb-1];w.la=0,w.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function hi(b,w,C,U,W){W=b[w+C+32*U]+(W>>3),b[w+C+32*U]=-256&W?0>W?0:255:W}function Or(b,w,C,U,W,Q){hi(b,w,0,C,U+W),hi(b,w,1,C,U+Q),hi(b,w,2,C,U-Q),hi(b,w,3,C,U-W)}function ei(b){return(20091*b>>16)+b}function Ll(b,w,C,U){var W,Q=0,J=a(16);for(W=0;4>W;++W){var re=b[w+0]+b[w+8],ae=b[w+0]-b[w+8],ue=(35468*b[w+4]>>16)-ei(b[w+12]),_e=ei(b[w+4])+(35468*b[w+12]>>16);J[Q+0]=re+_e,J[Q+1]=ae+ue,J[Q+2]=ae-ue,J[Q+3]=re-_e,Q+=4,w++}for(W=Q=0;4>W;++W)re=(b=J[Q+0]+4)+J[Q+8],ae=b-J[Q+8],ue=(35468*J[Q+4]>>16)-ei(J[Q+12]),hi(C,U,0,0,re+(_e=ei(J[Q+4])+(35468*J[Q+12]>>16))),hi(C,U,1,0,ae+ue),hi(C,U,2,0,ae-ue),hi(C,U,3,0,re-_e),Q++,U+=32}function Sd(b,w,C,U){var W=b[w+0]+4,Q=35468*b[w+4]>>16,J=ei(b[w+4]),re=35468*b[w+1]>>16;Or(C,U,0,W+J,b=ei(b[w+1]),re),Or(C,U,1,W+Q,b,re),Or(C,U,2,W-Q,b,re),Or(C,U,3,W-J,b,re)}function yu(b,w,C,U,W){Ll(b,w,C,U),W&&Ll(b,w+16,C,U+4)}function ca(b,w,C,U){Yl(b,w+0,C,U,1),Yl(b,w+32,C,U+128,1)}function bu(b,w,C,U){var W;for(b=b[w+0]+4,W=0;4>W;++W)for(w=0;4>w;++w)hi(C,U,w,W,b)}function Po(b,w,C,U){b[w+0]&&Wn(b,w+0,C,U),b[w+16]&&Wn(b,w+16,C,U+4),b[w+32]&&Wn(b,w+32,C,U+128),b[w+48]&&Wn(b,w+48,C,U+128+4)}function Mi(b,w,C,U){var W,Q=a(16);for(W=0;4>W;++W){var J=b[w+0+W]+b[w+12+W],re=b[w+4+W]+b[w+8+W],ae=b[w+4+W]-b[w+8+W],ue=b[w+0+W]-b[w+12+W];Q[0+W]=J+re,Q[8+W]=J-re,Q[4+W]=ue+ae,Q[12+W]=ue-ae}for(W=0;4>W;++W)J=(b=Q[0+4*W]+3)+Q[3+4*W],re=Q[1+4*W]+Q[2+4*W],ae=Q[1+4*W]-Q[2+4*W],ue=b-Q[3+4*W],C[U+0]=J+re>>3,C[U+16]=ue+ae>>3,C[U+32]=J-re>>3,C[U+48]=ue-ae>>3,U+=64}function il(b,w,C){var U,W=w-32,Q=Da,J=255-b[W-1];for(U=0;U<C;++U){var re,ae=Q,ue=J+b[w-1];for(re=0;re<C;++re)b[w+re]=ae[ue+b[W+re]];w+=32}}function xu(b,w){il(b,w,4)}function _u(b,w){il(b,w,8)}function bc(b,w){il(b,w,16)}function xc(b,w){var C;for(C=0;16>C;++C)r(b,w+32*C,b,w-32,16)}function Oo(b,w){var C;for(C=16;0<C;--C)i(b,w,b[w-1],16),w+=32}function Pa(b,w,C){var U;for(U=0;16>U;++U)i(w,C+32*U,b,16)}function Ls(b,w){var C,U=16;for(C=0;16>C;++C)U+=b[w-1+32*C]+b[w+C-32];Pa(U>>5,b,w)}function Ro(b,w){var C,U=8;for(C=0;16>C;++C)U+=b[w-1+32*C];Pa(U>>4,b,w)}function Oa(b,w){var C,U=8;for(C=0;16>C;++C)U+=b[w+C-32];Pa(U>>4,b,w)}function al(b,w){Pa(128,b,w)}function Xt(b,w,C){return b+2*w+C+2>>2}function Ml(b,w){var C,U=w-32;for(U=new Uint8Array([Xt(b[U-1],b[U+0],b[U+1]),Xt(b[U+0],b[U+1],b[U+2]),Xt(b[U+1],b[U+2],b[U+3]),Xt(b[U+2],b[U+3],b[U+4])]),C=0;4>C;++C)r(b,w+32*C,U,0,U.length)}function _c(b,w){var C=b[w-1],U=b[w-1+32],W=b[w-1+64],Q=b[w-1+96];Ve(b,w+0,16843009*Xt(b[w-1-32],C,U)),Ve(b,w+32,16843009*Xt(C,U,W)),Ve(b,w+64,16843009*Xt(U,W,Q)),Ve(b,w+96,16843009*Xt(W,Q,Q))}function sl(b,w){var C,U=4;for(C=0;4>C;++C)U+=b[w+C-32]+b[w-1+32*C];for(U>>=3,C=0;4>C;++C)i(b,w+32*C,U,4)}function Fi(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1-32],J=b[w+0-32],re=b[w+1-32],ae=b[w+2-32],ue=b[w+3-32];b[w+0+96]=Xt(U,W,b[w-1+96]),b[w+1+96]=b[w+0+64]=Xt(C,U,W),b[w+2+96]=b[w+1+64]=b[w+0+32]=Xt(Q,C,U),b[w+3+96]=b[w+2+64]=b[w+1+32]=b[w+0+0]=Xt(J,Q,C),b[w+3+64]=b[w+2+32]=b[w+1+0]=Xt(re,J,Q),b[w+3+32]=b[w+2+0]=Xt(ae,re,J),b[w+3+0]=Xt(ue,ae,re)}function _i(b,w){var C=b[w+1-32],U=b[w+2-32],W=b[w+3-32],Q=b[w+4-32],J=b[w+5-32],re=b[w+6-32],ae=b[w+7-32];b[w+0+0]=Xt(b[w+0-32],C,U),b[w+1+0]=b[w+0+32]=Xt(C,U,W),b[w+2+0]=b[w+1+32]=b[w+0+64]=Xt(U,W,Q),b[w+3+0]=b[w+2+32]=b[w+1+64]=b[w+0+96]=Xt(W,Q,J),b[w+3+32]=b[w+2+64]=b[w+1+96]=Xt(Q,J,re),b[w+3+64]=b[w+2+96]=Xt(J,re,ae),b[w+3+96]=Xt(re,ae,ae)}function Fl(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1-32],J=b[w+0-32],re=b[w+1-32],ae=b[w+2-32],ue=b[w+3-32];b[w+0+0]=b[w+1+64]=Q+J+1>>1,b[w+1+0]=b[w+2+64]=J+re+1>>1,b[w+2+0]=b[w+3+64]=re+ae+1>>1,b[w+3+0]=ae+ue+1>>1,b[w+0+96]=Xt(W,U,C),b[w+0+64]=Xt(U,C,Q),b[w+0+32]=b[w+1+96]=Xt(C,Q,J),b[w+1+32]=b[w+2+96]=Xt(Q,J,re),b[w+2+32]=b[w+3+96]=Xt(J,re,ae),b[w+3+32]=Xt(re,ae,ue)}function Jn(b,w){var C=b[w+0-32],U=b[w+1-32],W=b[w+2-32],Q=b[w+3-32],J=b[w+4-32],re=b[w+5-32],ae=b[w+6-32],ue=b[w+7-32];b[w+0+0]=C+U+1>>1,b[w+1+0]=b[w+0+64]=U+W+1>>1,b[w+2+0]=b[w+1+64]=W+Q+1>>1,b[w+3+0]=b[w+2+64]=Q+J+1>>1,b[w+0+32]=Xt(C,U,W),b[w+1+32]=b[w+0+96]=Xt(U,W,Q),b[w+2+32]=b[w+1+96]=Xt(W,Q,J),b[w+3+32]=b[w+2+96]=Xt(Q,J,re),b[w+3+64]=Xt(J,re,ae),b[w+3+96]=Xt(re,ae,ue)}function Ya(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1+96];b[w+0+0]=C+U+1>>1,b[w+2+0]=b[w+0+32]=U+W+1>>1,b[w+2+32]=b[w+0+64]=W+Q+1>>1,b[w+1+0]=Xt(C,U,W),b[w+3+0]=b[w+1+32]=Xt(U,W,Q),b[w+3+32]=b[w+1+64]=Xt(W,Q,Q),b[w+3+64]=b[w+2+64]=b[w+0+96]=b[w+1+96]=b[w+2+96]=b[w+3+96]=Q}function Ul(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1+96],J=b[w-1-32],re=b[w+0-32],ae=b[w+1-32],ue=b[w+2-32];b[w+0+0]=b[w+2+32]=C+J+1>>1,b[w+0+32]=b[w+2+64]=U+C+1>>1,b[w+0+64]=b[w+2+96]=W+U+1>>1,b[w+0+96]=Q+W+1>>1,b[w+3+0]=Xt(re,ae,ue),b[w+2+0]=Xt(J,re,ae),b[w+1+0]=b[w+3+32]=Xt(C,J,re),b[w+1+32]=b[w+3+64]=Xt(U,C,J),b[w+1+64]=b[w+3+96]=Xt(W,U,C),b[w+1+96]=Xt(Q,W,U)}function Ms(b,w){var C;for(C=0;8>C;++C)r(b,w+32*C,b,w-32,8)}function wu(b,w){var C;for(C=0;8>C;++C)i(b,w,b[w-1],8),w+=32}function Wa(b,w,C){var U;for(U=0;8>U;++U)i(w,C+32*U,b,8)}function Do(b,w){var C,U=8;for(C=0;8>C;++C)U+=b[w+C-32]+b[w-1+32*C];Wa(U>>4,b,w)}function Ka(b,w){var C,U=4;for(C=0;8>C;++C)U+=b[w+C-32];Wa(U>>3,b,w)}function pi(b,w){var C,U=4;for(C=0;8>C;++C)U+=b[w-1+32*C];Wa(U>>3,b,w)}function Zs(b,w){Wa(128,b,w)}function Xi(b,w,C){var U=b[w-C],W=b[w+0],Q=3*(W-U)+Wl[1020+b[w-2*C]-b[w+C]],J=nh[112+(Q+4>>3)];b[w-C]=Da[255+U+nh[112+(Q+3>>3)]],b[w+0]=Da[255+W-J]}function eo(b,w,C,U){var W=b[w+0],Q=b[w+C];return ha[255+b[w-2*C]-b[w-C]]>U||ha[255+Q-W]>U}function ol(b,w,C,U){return 4*ha[255+b[w-C]-b[w+0]]+ha[255+b[w-2*C]-b[w+C]]<=U}function to(b,w,C,U,W){var Q=b[w-3*C],J=b[w-2*C],re=b[w-C],ae=b[w+0],ue=b[w+C],_e=b[w+2*C],De=b[w+3*C];return 4*ha[255+re-ae]+ha[255+J-ue]>U?0:ha[255+b[w-4*C]-Q]<=W&&ha[255+Q-J]<=W&&ha[255+J-re]<=W&&ha[255+De-_e]<=W&&ha[255+_e-ue]<=W&&ha[255+ue-ae]<=W}function no(b,w,C,U){var W=2*U+1;for(U=0;16>U;++U)ol(b,w+U,C,W)&&Xi(b,w+U,C)}function bs(b,w,C,U){var W=2*U+1;for(U=0;16>U;++U)ol(b,w+U*C,1,W)&&Xi(b,w+U*C,1)}function Bl(b,w,C,U){var W;for(W=3;0<W;--W)no(b,w+=4*C,C,U)}function wc(b,w,C,U){var W;for(W=3;0<W;--W)bs(b,w+=4,C,U)}function Xa(b,w,C,U,W,Q,J,re){for(Q=2*Q+1;0<W--;){if(to(b,w,C,Q,J))if(eo(b,w,C,re))Xi(b,w,C);else{var ae=b,ue=w,_e=C,De=ae[ue-2*_e],le=ae[ue-_e],Ee=ae[ue+0],Ie=ae[ue+_e],Ge=ae[ue+2*_e],Oe=27*(Ke=Wl[1020+3*(Ee-le)+Wl[1020+De-Ie]])+63>>7,$e=18*Ke+63>>7,Ke=9*Ke+63>>7;ae[ue-3*_e]=Da[255+ae[ue-3*_e]+Ke],ae[ue-2*_e]=Da[255+De+$e],ae[ue-_e]=Da[255+le+Oe],ae[ue+0]=Da[255+Ee-Oe],ae[ue+_e]=Da[255+Ie-$e],ae[ue+2*_e]=Da[255+Ge-Ke]}w+=U}}function ro(b,w,C,U,W,Q,J,re){for(Q=2*Q+1;0<W--;){if(to(b,w,C,Q,J))if(eo(b,w,C,re))Xi(b,w,C);else{var ae=b,ue=w,_e=C,De=ae[ue-_e],le=ae[ue+0],Ee=ae[ue+_e],Ie=nh[112+(4+(Ge=3*(le-De))>>3)],Ge=nh[112+(Ge+3>>3)],Oe=Ie+1>>1;ae[ue-2*_e]=Da[255+ae[ue-2*_e]+Oe],ae[ue-_e]=Da[255+De+Ge],ae[ue+0]=Da[255+le-Ie],ae[ue+_e]=Da[255+Ee-Oe]}w+=U}}function Eu(b,w,C,U,W,Q){Xa(b,w,C,1,16,U,W,Q)}function Fs(b,w,C,U,W,Q){Xa(b,w,1,C,16,U,W,Q)}function Ec(b,w,C,U,W,Q){var J;for(J=3;0<J;--J)ro(b,w+=4*C,C,1,16,U,W,Q)}function N(b,w,C,U,W,Q){var J;for(J=3;0<J;--J)ro(b,w+=4,1,C,16,U,W,Q)}function Y(b,w,C,U,W,Q,J,re){Xa(b,w,W,1,8,Q,J,re),Xa(C,U,W,1,8,Q,J,re)}function ce(b,w,C,U,W,Q,J,re){Xa(b,w,1,W,8,Q,J,re),Xa(C,U,1,W,8,Q,J,re)}function be(b,w,C,U,W,Q,J,re){ro(b,w+4*W,W,1,8,Q,J,re),ro(C,U+4*W,W,1,8,Q,J,re)}function Ae(b,w,C,U,W,Q,J,re){ro(b,w+4,1,W,8,Q,J,re),ro(C,U+4,1,W,8,Q,J,re)}function Ye(){this.ba=new ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new Nt,this.vb=new Nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new V}function Zt(){this.xb=this.a=0,this.l=new Ki,this.ca=new ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=s(4,Tt),this.Oc=0}function Wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ki,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(b,w,C,U,W,Q,J){for(b=b==null?0:b[w+0],w=0;w<J;++w)W[Q+w]=b+C[U+w]&255,b=W[Q+w]}function Er(b,w,C,U,W,Q,J){var re;if(b==null)In(null,null,C,U,W,Q,J);else for(re=0;re<J;++re)W[Q+re]=b[w+re]+C[U+re]&255}function dr(b,w,C,U,W,Q,J){if(b==null)In(null,null,C,U,W,Q,J);else{var re,ae=b[w+0],ue=ae,_e=ae;for(re=0;re<J;++re)ue=_e+(ae=b[w+re])-ue,_e=C[U+re]+(-256&ue?0>ue?0:255:ue)&255,ue=ae,W[Q+re]=_e}}function x(b,w,C,U){var W=w.width,Q=w.o;if(e(b!=null&&w!=null),0>C||0>=U||C+U>Q)return null;if(!b.Cc){if(b.ga==null){var J;if(b.ga=new Wt,(J=b.ga==null)||(J=w.width*w.o,e(b.Gb.length==0),b.Gb=a(J),b.Uc=0,b.Gb==null?J=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,J=1),J=!J),!J){J=b.ga;var re=b.Fa,ae=b.P,ue=b.qc,_e=b.mb,De=b.nb,le=ae+1,Ee=ue-1,Ie=J.l;if(e(re!=null&&_e!=null&&w!=null),Kl[0]=null,Kl[1]=In,Kl[2]=Er,Kl[3]=dr,J.ca=_e,J.tb=De,J.c=w.width,J.i=w.height,e(0<J.c&&0<J.i),1>=ue)w=0;else if(J.$a=3&re[ae+0],J.Z=re[ae+0]>>2&3,J.Lc=re[ae+0]>>4&3,ae=re[ae+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ae)w=0;else if(Ie.put=qt,Ie.ac=di,Ie.bc=js,Ie.ma=J,Ie.width=w.width,Ie.height=w.height,Ie.Da=w.Da,Ie.v=w.v,Ie.va=w.va,Ie.j=w.j,Ie.o=w.o,J.$a)e:{e(J.$a==1),w=Js();t:for(;;){if(w==null){w=0;break e}if(e(J!=null),J.mc=w,w.c=J.c,w.i=J.i,w.l=J.l,w.l.ma=J,w.l.width=J.c,w.l.height=J.i,w.a=0,xe(w.m,re,le,Ee),!$a(J.c,J.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Vn(w.s)?(J.ic=1,re=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(re),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(J.ic=0,w=Li(w,J.c)),!w))break t;w=1;break e}J.mc=null,w=0}else w=Ee>=J.c*J.i;J=!w}if(J)return null;b.ga.Lc!=1?b.Ga=0:U=Q-C}e(b.ga!=null),e(C+U<=Q);e:{if(w=(re=b.ga).c,Q=re.l.o,re.$a==0){if(le=b.rc,Ee=b.Vc,Ie=b.Fa,ae=b.P+1+C*w,ue=b.mb,_e=b.nb+C*w,e(ae<=b.P+b.qc),re.Z!=0)for(e(Kl[re.Z]!=null),J=0;J<U;++J)Kl[re.Z](le,Ee,Ie,ae,ue,_e,w),le=ue,Ee=_e,_e+=w,ae+=w;else for(J=0;J<U;++J)r(ue,_e,Ie,ae,w),le=ue,Ee=_e,_e+=w,ae+=w;b.rc=le,b.Vc=Ee}else{if(e(re.mc!=null),w=C+U,e((J=re.mc)!=null),e(w<=J.i),J.C>=w)w=1;else if(re.ic||Le(),re.ic){re=J.V,le=J.Ba,Ee=J.c;var Ge=J.i,Oe=(Ie=1,ae=J.$/Ee,ue=J.$%Ee,_e=J.m,De=J.s,J.$),$e=Ee*Ge,Ke=Ee*w,ot=De.wc,Ze=Oe<Ke?Xr(De,ue,ae):null;e(Oe<=$e),e(w<=Ge),e(Vn(De));t:for(;;){for(;!_e.h&&Oe<Ke;){if(ue&ot||(Ze=Xr(De,ue,ae)),e(Ze!=null),ye(_e),256>(Ge=Xn(Ze.G[0],Ze.H[0],_e)))re[le+Oe]=Ge,++Oe,++ue>=Ee&&(ue=0,++ae<=w&&!(ae%16)&&Qr(J,ae));else{if(!(280>Ge)){Ie=0;break t}Ge=Di(Ge-256,_e);var kt,At=Xn(Ze.G[4],Ze.H[4],_e);if(ye(_e),!(Oe>=(At=ki(Ee,At=Di(At,_e)))&&$e-Oe>=Ge)){Ie=0;break t}for(kt=0;kt<Ge;++kt)re[le+Oe+kt]=re[le+Oe+kt-At];for(Oe+=Ge,ue+=Ge;ue>=Ee;)ue-=Ee,++ae<=w&&!(ae%16)&&Qr(J,ae);Oe<Ke&&ue&ot&&(Ze=Xr(De,ue,ae))}e(_e.h==de(_e))}Qr(J,ae>w?w:ae);break t}!Ie||_e.h&&Oe<$e?(Ie=0,J.a=_e.h?5:3):J.$=Oe,w=Ie}else w=Wi(J,J.V,J.Ba,J.c,J.i,w,ms);if(!w){U=0;break e}}C+U>=Q&&(b.Cc=1),U=1}if(!U)return null;if(b.Cc&&((U=b.ga)!=null&&(U.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+C*W}function R(b,w,C,U,W,Q){for(;0<W--;){var J,re=b,ae=w+(C?1:0),ue=b,_e=w+(C?0:3);for(J=0;J<U;++J){var De=ue[_e+4*J];De!=255&&(De*=32897,re[ae+4*J+0]=re[ae+4*J+0]*De>>23,re[ae+4*J+1]=re[ae+4*J+1]*De>>23,re[ae+4*J+2]=re[ae+4*J+2]*De>>23)}w+=Q}}function H(b,w,C,U,W){for(;0<U--;){var Q;for(Q=0;Q<C;++Q){var J=b[w+2*Q+0],re=15&(ue=b[w+2*Q+1]),ae=4369*re,ue=(240&ue|ue>>4)*ae>>16;b[w+2*Q+0]=(240&J|J>>4)*ae>>16&240|(15&J|J<<4)*ae>>16>>4&15,b[w+2*Q+1]=240&ue|re}w+=W}}function ie(b,w,C,U,W,Q,J,re){var ae,ue,_e=255;for(ue=0;ue<W;++ue){for(ae=0;ae<U;++ae){var De=b[w+ae];Q[J+4*ae]=De,_e&=De}w+=C,J+=re}return _e!=255}function Ne(b,w,C,U,W){var Q;for(Q=0;Q<W;++Q)C[U+Q]=b[w+Q]>>8}function Le(){Tu=R,ao=H,Zf=ie,zs=Ne}function ut(b,w,C){D[b]=function(U,W,Q,J,re,ae,ue,_e,De,le,Ee,Ie,Ge,Oe,$e,Ke,ot){var Ze,kt=ot-1>>1,At=re[ae+0]|ue[_e+0]<<16,hn=De[le+0]|Ee[Ie+0]<<16;e(U!=null);var Ct=3*At+hn+131074>>2;for(w(U[W+0],255&Ct,Ct>>16,Ge,Oe),Q!=null&&(Ct=3*hn+At+131074>>2,w(Q[J+0],255&Ct,Ct>>16,$e,Ke)),Ze=1;Ze<=kt;++Ze){var Cn=re[ae+Ze]|ue[_e+Ze]<<16,Dr=De[le+Ze]|Ee[Ie+Ze]<<16,vn=At+Cn+hn+Dr+524296,St=vn+2*(Cn+hn)>>3;Ct=St+At>>1,At=(vn=vn+2*(At+Dr)>>3)+Cn>>1,w(U[W+2*Ze-1],255&Ct,Ct>>16,Ge,Oe+(2*Ze-1)*C),w(U[W+2*Ze-0],255&At,At>>16,Ge,Oe+(2*Ze-0)*C),Q!=null&&(Ct=vn+hn>>1,At=St+Dr>>1,w(Q[J+2*Ze-1],255&Ct,Ct>>16,$e,Ke+(2*Ze-1)*C),w(Q[J+2*Ze+0],255&At,At>>16,$e,Ke+(2*Ze+0)*C)),At=Cn,hn=Dr}1&ot||(Ct=3*At+hn+131074>>2,w(U[W+ot-1],255&Ct,Ct>>16,Ge,Oe+(ot-1)*C),Q!=null&&(Ct=3*hn+At+131074>>2,w(Q[J+ot-1],255&Ct,Ct>>16,$e,Ke+(ot-1)*C)))}}function fn(){ma[Tp]=Cu,ma[ka]=kd,ma[Np]=Xg,ma[so]=Rp,ma[rh]=Ic,ma[Od]=gl,ma[Sc]=Cc,ma[ih]=kd,ma[Ip]=Rp,ma[Rd]=Ic,ma[Cp]=gl}function Ar(b){return b&-16384?0>b?0:255:b>>Dp}function An(b,w){return Ar((19077*b>>8)+(26149*w>>8)-14234)}function Zn(b,w,C){return Ar((19077*b>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function Qi(b,w){return Ar((19077*b>>8)+(33050*w>>8)-17685)}function ua(b,w,C,U,W){U[W+0]=An(b,C),U[W+1]=Zn(b,w,C),U[W+2]=Qi(b,w)}function pr(b,w,C,U,W){U[W+0]=Qi(b,w),U[W+1]=Zn(b,w,C),U[W+2]=An(b,C)}function da(b,w,C,U,W){var Q=Zn(b,w,C);w=Q<<3&224|Qi(b,w)>>3,U[W+0]=248&An(b,C)|Q>>5,U[W+1]=w}function Us(b,w,C,U,W){var Q=240&Qi(b,w)|15;U[W+0]=240&An(b,C)|Zn(b,w,C)>>4,U[W+1]=Q}function ll(b,w,C,U,W){U[W+0]=255,ua(b,w,C,U,W+1)}function cl(b,w,C,U,W){pr(b,w,C,U,W),U[W+3]=255}function Qa(b,w,C,U,W){ua(b,w,C,U,W),U[W+3]=255}function Vl(b,w,C){D[b]=function(U,W,Q,J,re,ae,ue,_e,De){for(var le=_e+(-2&De)*C;_e!=le;)w(U[W+0],Q[J+0],re[ae+0],ue,_e),w(U[W+1],Q[J+0],re[ae+0],ue,_e+C),W+=2,++J,++ae,_e+=2*C;1&De&&w(U[W+0],Q[J+0],re[ae+0],ue,_e)}}function Td(b,w,C){return C==0?b==0?w==0?6:5:w==0?4:0:C}function Xf(b,w,C,U,W){switch(b>>>30){case 3:Yl(w,C,U,W,0);break;case 2:Ra(w,C,U,W);break;case 1:Wn(w,C,U,W)}}function Bs(b,w){var C,U,W=w.M,Q=w.Nb,J=b.oc,re=b.pc+40,ae=b.oc,ue=b.pc+584,_e=b.oc,De=b.pc+600;for(C=0;16>C;++C)J[re+32*C-1]=129;for(C=0;8>C;++C)ae[ue+32*C-1]=129,_e[De+32*C-1]=129;for(0<W?J[re-1-32]=ae[ue-1-32]=_e[De-1-32]=129:(i(J,re-32-1,127,21),i(ae,ue-32-1,127,9),i(_e,De-32-1,127,9)),U=0;U<b.za;++U){var le=w.ya[w.aa+U];if(0<U){for(C=-1;16>C;++C)r(J,re+32*C-4,J,re+32*C+12,4);for(C=-1;8>C;++C)r(ae,ue+32*C-4,ae,ue+32*C+4,4),r(_e,De+32*C-4,_e,De+32*C+4,4)}var Ee=b.Gd,Ie=b.Hd+U,Ge=le.ad,Oe=le.Hc;if(0<W&&(r(J,re-32,Ee[Ie].y,0,16),r(ae,ue-32,Ee[Ie].f,0,8),r(_e,De-32,Ee[Ie].ea,0,8)),le.Za){var $e=J,Ke=re-32+16;for(0<W&&(U>=b.za-1?i($e,Ke,Ee[Ie].y[15],4):r($e,Ke,Ee[Ie+1].y,0,4)),C=0;4>C;C++)$e[Ke+128+C]=$e[Ke+256+C]=$e[Ke+384+C]=$e[Ke+0+C];for(C=0;16>C;++C,Oe<<=2)$e=J,Ke=re+vi[C],ti[le.Ob[C]]($e,Ke),Xf(Oe,Ge,16*+C,$e,Ke)}else if($e=Td(U,W,le.Ob[0]),Za[$e](J,re),Oe!=0)for(C=0;16>C;++C,Oe<<=2)Xf(Oe,Ge,16*+C,J,re+vi[C]);for(C=le.Gc,$e=Td(U,W,le.Dd),Mo[$e](ae,ue),Mo[$e](_e,De),Oe=Ge,$e=ae,Ke=ue,255&(le=0|C)&&(170&le?io(Oe,256,$e,Ke):Un(Oe,256,$e,Ke)),le=_e,Oe=De,255&(C>>=8)&&(170&C?io(Ge,320,le,Oe):Un(Ge,320,le,Oe)),W<b.Ub-1&&(r(Ee[Ie].y,0,J,re+480,16),r(Ee[Ie].f,0,ae,ue+224,8),r(Ee[Ie].ea,0,_e,De+224,8)),C=8*Q*b.B,Ee=b.sa,Ie=b.ta+16*U+16*Q*b.R,Ge=b.qa,le=b.ra+8*U+C,Oe=b.Ha,$e=b.Ia+8*U+C,C=0;16>C;++C)r(Ee,Ie+C*b.R,J,re+32*C,16);for(C=0;8>C;++C)r(Ge,le+C*b.B,ae,ue+32*C,8),r(Oe,$e+C*b.B,_e,De+32*C,8)}}function ko(b,w,C,U,W,Q,J,re,ae){var ue=[0],_e=[0],De=0,le=ae!=null?ae.kd:0,Ee=ae??new et;if(b==null||12>C)return 7;Ee.data=b,Ee.w=w,Ee.ha=C,w=[w],C=[C],Ee.gb=[Ee.gb];e:{var Ie=w,Ge=C,Oe=Ee.gb;if(e(b!=null),e(Ge!=null),e(Oe!=null),Oe[0]=0,12<=Ge[0]&&!n(b,Ie[0],"RIFF")){if(n(b,Ie[0]+8,"WEBP")){Oe=3;break e}var $e=it(b,Ie[0]+4);if(12>$e||4294967286<$e){Oe=3;break e}if(le&&$e>Ge[0]-8){Oe=7;break e}Oe[0]=$e,Ie[0]+=12,Ge[0]-=12}Oe=0}if(Oe!=0)return Oe;for($e=0<Ee.gb[0],C=C[0];;){e:{var Ke=b;Ge=w,Oe=C;var ot=ue,Ze=_e,kt=Ie=[0];if((Ct=De=[De])[0]=0,8>Oe[0])Oe=7;else{if(!n(Ke,Ge[0],"VP8X")){if(it(Ke,Ge[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var At=it(Ke,Ge[0]+8),hn=1+rt(Ke,Ge[0]+12);if(2147483648<=hn*(Ke=1+rt(Ke,Ge[0]+15))){Oe=3;break e}kt!=null&&(kt[0]=At),ot!=null&&(ot[0]=hn),Ze!=null&&(Ze[0]=Ke),Ge[0]+=18,Oe[0]-=18,Ct[0]=1}Oe=0}}if(De=De[0],Ie=Ie[0],Oe!=0)return Oe;if(Ge=!!(2&Ie),!$e&&De)return 3;if(Q!=null&&(Q[0]=!!(16&Ie)),J!=null&&(J[0]=Ge),re!=null&&(re[0]=0),J=ue[0],Ie=_e[0],De&&Ge&&ae==null){Oe=0;break}if(4>C){Oe=7;break}if($e&&De||!$e&&!De&&!n(b,w[0],"ALPH")){C=[C],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{At=b,Oe=w,$e=C;var Ct=Ee.gb;ot=Ee.na,Ze=Ee.P,kt=Ee.Sa,hn=22,e(At!=null),e($e!=null),Ke=Oe[0];var Cn=$e[0];for(e(ot!=null),e(kt!=null),ot[0]=null,Ze[0]=null,kt[0]=0;;){if(Oe[0]=Ke,$e[0]=Cn,8>Cn){Oe=7;break e}var Dr=it(At,Ke+4);if(4294967286<Dr){Oe=3;break e}var vn=8+Dr+1&-2;if(hn+=vn,0<Ct&&hn>Ct){Oe=3;break e}if(!n(At,Ke,"VP8 ")||!n(At,Ke,"VP8L")){Oe=0;break e}if(Cn[0]<vn){Oe=7;break e}n(At,Ke,"ALPH")||(ot[0]=At,Ze[0]=Ke+8,kt[0]=Dr),Ke+=vn,Cn-=vn}}if(C=C[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],Oe!=0)break}C=[C],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(Ct=b,Oe=w,$e=C,ot=Ee.gb[0],Ze=Ee.Ja,kt=Ee.xa,At=Oe[0],Ke=!n(Ct,At,"VP8 "),hn=!n(Ct,At,"VP8L"),e(Ct!=null),e($e!=null),e(Ze!=null),e(kt!=null),8>$e[0])Oe=7;else{if(Ke||hn){if(Ct=it(Ct,At+4),12<=ot&&Ct>ot-12){Oe=3;break e}if(le&&Ct>$e[0]-8){Oe=7;break e}Ze[0]=Ct,Oe[0]+=8,$e[0]-=8,kt[0]=hn}else kt[0]=5<=$e[0]&&Ct[At+0]==47&&!(Ct[At+4]>>5),Ze[0]=$e[0];Oe=0}if(C=C[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],w=w[0],Oe!=0)break;if(4294967286<Ee.Ja)return 3;if(re==null||Ge||(re[0]=Ee.xa?2:1),J=[J],Ie=[Ie],Ee.xa){if(5>C){Oe=7;break}re=J,le=Ie,Ge=Q,b==null||5>C?b=0:5<=C&&b[w+0]==47&&!(b[w+4]>>5)?($e=[0],Ct=[0],ot=[0],xe(Ze=new X,b,w,C),Ri(Ze,$e,Ct,ot)?(re!=null&&(re[0]=$e[0]),le!=null&&(le[0]=Ct[0]),Ge!=null&&(Ge[0]=ot[0]),b=1):b=0):b=0}else{if(10>C){Oe=7;break}re=Ie,b==null||10>C||!Co(b,w+3,C-3)?b=0:(le=b[w+0]|b[w+1]<<8|b[w+2]<<16,Ge=16383&(b[w+7]<<8|b[w+6]),b=16383&(b[w+9]<<8|b[w+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=Ee.Ja||!Ge||!b?b=0:(J&&(J[0]=Ge),re&&(re[0]=b),b=1))}if(!b||(J=J[0],Ie=Ie[0],De&&(ue[0]!=J||_e[0]!=Ie)))return 3;ae!=null&&(ae[0]=Ee,ae.offset=w-ae.w,e(4294967286>w-ae.w),e(ae.offset==ae.ha-C));break}return Oe==0||Oe==7&&De&&ae==null?(Q!=null&&(Q[0]|=Ee.na!=null&&0<Ee.na.length),U!=null&&(U[0]=J),W!=null&&(W[0]=Ie),0):Oe}function zl(b,w,C){var U=w.width,W=w.height,Q=0,J=0,re=U,ae=W;if(w.Da=b!=null&&0<b.Da,w.Da&&(re=b.cd,ae=b.bd,Q=b.v,J=b.j,11>C||(Q&=-2,J&=-2),0>Q||0>J||0>=re||0>=ae||Q+re>U||J+ae>W))return 0;if(w.v=Q,w.j=J,w.va=Q+re,w.o=J+ae,w.U=re,w.T=ae,w.da=b!=null&&0<b.da,w.da){if(!yt(re,ae,C=[b.ib],Q=[b.hb]))return 0;w.ib=C[0],w.hb=Q[0]}return w.ob=b!=null&&b.ob,w.Kb=b==null||!b.Sd,w.da&&(w.ob=w.ib<3*U/4&&w.hb<3*W/4,w.Kb=0),1}function Qf(b){if(b==null)return 2;if(11>b.S){var w=b.f.RGBA;w.fb+=(b.height-1)*w.A,w.A=-w.A}else w=b.f.kb,b=b.height,w.O+=(b-1)*w.fa,w.fa=-w.fa,w.N+=(b-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(b-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(b-1)*w.lb,w.lb=-w.lb);return 0}function jo(b,w,C,U){if(U==null||0>=b||0>=w)return 2;if(C!=null){if(C.Da){var W=C.cd,Q=C.bd,J=-2&C.v,re=-2&C.j;if(0>J||0>re||0>=W||0>=Q||J+W>b||re+Q>w)return 2;b=W,w=Q}if(C.da){if(!yt(b,w,W=[C.ib],Q=[C.hb]))return 2;b=W[0],w=Q[0]}}U.width=b,U.height=w;e:{var ae=U.width,ue=U.height;if(b=U.S,0>=ae||0>=ue||!(b>=Tp&&13>b))b=2;else{if(0>=U.Rd&&U.sd==null){J=Q=W=w=0;var _e=(re=ae*jp[b])*ue;if(11>b||(Q=(ue+1)/2*(w=(ae+1)/2),b==12&&(J=(W=ae)*ue)),(ue=a(_e+2*Q+J))==null){b=1;break e}U.sd=ue,11>b?((ae=U.f.RGBA).eb=ue,ae.fb=0,ae.A=re,ae.size=_e):((ae=U.f.kb).y=ue,ae.O=0,ae.fa=re,ae.Fd=_e,ae.f=ue,ae.N=0+_e,ae.Ab=w,ae.Cd=Q,ae.ea=ue,ae.W=0+_e+Q,ae.Db=w,ae.Ed=Q,b==12&&(ae.F=ue,ae.J=0+_e+2*Q),ae.Tc=J,ae.lb=W)}if(w=1,W=U.S,Q=U.width,J=U.height,W>=Tp&&13>W)if(11>W)b=U.f.RGBA,w&=(re=Math.abs(b.A))*(J-1)+Q<=b.size,w&=re>=Q*jp[W],w&=b.eb!=null;else{b=U.f.kb,re=(Q+1)/2,_e=(J+1)/2,ae=Math.abs(b.fa),ue=Math.abs(b.Ab);var De=Math.abs(b.Db),le=Math.abs(b.lb),Ee=le*(J-1)+Q;w&=ae*(J-1)+Q<=b.Fd,w&=ue*(_e-1)+re<=b.Cd,w=(w&=De*(_e-1)+re<=b.Ed)&ae>=Q&ue>=re&De>=re,w&=b.y!=null,w&=b.f!=null,w&=b.ea!=null,W==12&&(w&=le>=Q,w&=Ee<=b.Tc,w&=b.F!=null)}else w=0;b=w?0:2}}return b!=0||C!=null&&C.fd&&(b=Qf(U)),b}var Ac=64,xs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ja=24,ul=32,dl=8,ql=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,w,C){return w[C+0]},D.Predictor3=function(b,w,C){return w[C+1]},D.Predictor4=function(b,w,C){return w[C-1]},D.Predictor5=function(b,w,C){return Rt(Rt(b,w[C+1]),w[C+0])},D.Predictor6=function(b,w,C){return Rt(b,w[C-1])},D.Predictor7=function(b,w,C){return Rt(b,w[C+0])},D.Predictor8=function(b,w,C){return Rt(w[C-1],w[C+0])},D.Predictor9=function(b,w,C){return Rt(w[C+0],w[C+1])},D.Predictor10=function(b,w,C){return Rt(Rt(b,w[C-1]),Rt(w[C+0],w[C+1]))},D.Predictor11=function(b,w,C){var U=w[C+0];return 0>=Jt(U>>24&255,b>>24&255,(w=w[C-1])>>24&255)+Jt(U>>16&255,b>>16&255,w>>16&255)+Jt(U>>8&255,b>>8&255,w>>8&255)+Jt(255&U,255&b,255&w)?U:b},D.Predictor12=function(b,w,C){var U=w[C+0];return(cn((b>>24&255)+(U>>24&255)-((w=w[C-1])>>24&255))<<24|cn((b>>16&255)+(U>>16&255)-(w>>16&255))<<16|cn((b>>8&255)+(U>>8&255)-(w>>8&255))<<8|cn((255&b)+(255&U)-(255&w)))>>>0},D.Predictor13=function(b,w,C){var U=w[C-1];return(dn((b=Rt(b,w[C+0]))>>24&255,U>>24&255)<<24|dn(b>>16&255,U>>16&255)<<16|dn(b>>8&255,U>>8&255)<<8|dn(255&b,255&U))>>>0};var Nd=D.PredictorAdd0;D.PredictorAdd1=gn,vt("Predictor2","PredictorAdd2"),vt("Predictor3","PredictorAdd3"),vt("Predictor4","PredictorAdd4"),vt("Predictor5","PredictorAdd5"),vt("Predictor6","PredictorAdd6"),vt("Predictor7","PredictorAdd7"),vt("Predictor8","PredictorAdd8"),vt("Predictor9","PredictorAdd9"),vt("Predictor10","PredictorAdd10"),vt("Predictor11","PredictorAdd11"),vt("Predictor12","PredictorAdd12"),vt("Predictor13","PredictorAdd13");var Id=D.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var mi,Ep=D.ColorIndexInverseTransform,fl=D.MapARGB,hl=D.VP8LColorIndexInverseTransformAlpha,fa=D.MapAlpha,Hl=D.VP8LPredictorsAdd=[];Hl.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Cd,Pd,$l,Gl,pl,Au,Vs,Yl,Ra,io,Wn,Un,Sr,gi,ml,Lo,Su,Jf,$g,r1,i1,a1,Gg,Yg,Tu,ao,Zf,zs,Nu=a(511),Ap=a(2041),eh=a(225),th=a(767),Sp=0,Wl=Ap,nh=eh,Da=th,ha=Nu,Tp=0,ka=1,Np=2,so=3,rh=4,Od=5,Sc=6,ih=7,Ip=8,Rd=9,Cp=10,oo=[2,3,7],Dd=[3,3,11],Iu=[280,256,256,256,40],Pp=[0,1,1,1,0],ah=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],co=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tc=8,uo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qs=null,s1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Op=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],o1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Za=[],ti=[],Mo=[],Nc=1,Kg=2,Kl=[],ma=[];ut("UpsampleRgbLinePair",ua,3),ut("UpsampleBgrLinePair",pr,3),ut("UpsampleRgbaLinePair",Qa,4),ut("UpsampleBgraLinePair",cl,4),ut("UpsampleArgbLinePair",ll,4),ut("UpsampleRgba4444LinePair",Us,2),ut("UpsampleRgb565LinePair",da,2);var Cu=D.UpsampleRgbLinePair,Xg=D.UpsampleBgrLinePair,kd=D.UpsampleRgbaLinePair,Rp=D.UpsampleBgraLinePair,Ic=D.UpsampleArgbLinePair,gl=D.UpsampleRgba4444LinePair,Cc=D.UpsampleRgb565LinePair,ho=16,jd=1<<ho-1,Pu=-227,Pc=482,Dp=6,Oc=0,ga=a(256),kp=a(256),l1=a(256),tw=a(256),nw=a(Pc-Pu),rw=a(Pc-Pu);Vl("YuvToRgbRow",ua,3),Vl("YuvToBgrRow",pr,3),Vl("YuvToRgbaRow",Qa,4),Vl("YuvToBgraRow",cl,4),Vl("YuvToArgbRow",ll,4),Vl("YuvToRgba4444Row",Us,2),Vl("YuvToRgb565Row",da,2);var vi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ld=[0,2,8],sh=[8,7,6,4,4,2,2,2,1,1,1,1],oh=1;this.WebPDecodeRGBA=function(b,w,C,U,W){var Q=ka,J=new Ye,re=new ft;J.ba=re,re.S=Q,re.width=[re.width],re.height=[re.height];var ae=re.width,ue=re.height,_e=new gt;if(_e==null||b==null)var De=2;else e(_e!=null),De=ko(b,w,C,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(De!=0?ae=0:(ae!=null&&(ae[0]=_e.width[0]),ue!=null&&(ue[0]=_e.height[0]),ae=1),ae){re.width=re.width[0],re.height=re.height[0],U!=null&&(U[0]=re.width),W!=null&&(W[0]=re.height);e:{if(U=new Ki,(W=new et).data=b,W.w=w,W.ha=C,W.kd=1,w=[0],e(W!=null),((b=ko(W.data,W.w,W.ha,null,null,null,w,null,W))==0||b==7)&&w[0]&&(b=4),(w=b)==0){if(e(J!=null),U.data=W.data,U.w=W.w+W.offset,U.ha=W.ha-W.offset,U.put=qt,U.ac=di,U.bc=js,U.ma=J,W.xa){if((b=Js())==null){J=1;break e}if((function(le,Ee){var Ie=[0],Ge=[0],Oe=[0];t:for(;;){if(le==null)return 0;if(Ee==null)return le.a=2,0;if(le.l=Ee,le.a=0,xe(le.m,Ee.data,Ee.w,Ee.ha),!Ri(le.m,Ie,Ge,Oe)){le.a=3;break t}if(le.xb=Kg,Ee.width=Ie[0],Ee.height=Ge[0],!$a(Ie[0],Ge[0],1,le,null))break t;return 1}return e(le.a!=0),0})(b,U)){if(U=(w=jo(U.width,U.height,J.Oa,J.ba))==0){t:{U=b;n:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((C=U.l)!=null),e((W=C.ma)!=null),U.xb!=0){if(U.ca=W.ba,U.tb=W.tb,e(U.ca!=null),!zl(W.Oa,C,so)){U.a=2;break n}if(!Li(U,C.width)||C.da)break n;if((C.da||_t(U.ca.S))&&Le(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Le()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!oe(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!Wi(U,U.V,U.Ba,U.c,U.i,C.o,fi))break n;W.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(w=b.a)}else w=b.a}else{if((b=new Zr)==null){J=1;break e}if(b.Fa=W.na,b.P=W.P,b.qc=W.Sa,ys(b,U)){if((w=jo(U.width,U.height,J.Oa,J.ba))==0){if(b.Aa=0,C=J.Oa,e((W=b)!=null),C!=null){if(0<(ae=0>(ae=C.Md)?0:100<ae?255:255*ae/100)){for(ue=_e=0;4>ue;++ue)12>(De=W.pb[ue]).lc&&(De.ia=ae*sh[0>De.lc?0:De.lc]>>3),_e|=De.ia;_e&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(le,Ee){if(le==null)return 0;if(Ee==null)return Nn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!ys(le,Ee))return 0;if(e(le.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(le.L=0);var Ie=Ld[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=Ee.v-Ie>>4,le.zb=Ee.j-Ie>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=Ee.o+15+Ie>>4,le.Hb=Ee.va+15+Ie>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Ge=le.ed;for(Ie=0;4>Ie;++Ie){var Oe;if(le.Qa.Cb){var $e=le.Qa.Lb[Ie];le.Qa.Fb||($e+=Ge.Tb)}else $e=Ge.Tb;for(Oe=0;1>=Oe;++Oe){var Ke=le.gd[Ie][Oe],ot=$e;if(Ge.Pc&&(ot+=Ge.vd[0],Oe&&(ot+=Ge.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var Ze=ot;0<Ge.wb&&(Ze=4<Ge.wb?Ze>>2:Ze>>1)>9-Ge.wb&&(Ze=9-Ge.wb),1>Ze&&(Ze=1),Ke.dd=Ze,Ke.tc=2*ot+Ze,Ke.ld=40<=ot?2:15<=ot?1:0}else Ke.tc=0;Ke.La=Oe}}}Ie=0}else Nn(le,6,"Frame setup failed"),Ie=le.a;if(Ie=Ie==0){if(Ie){le.$c=0,0<le.Aa||(le.Ic=oh);t:{Ie=le.Ic,Ge=4*(Ze=le.za);var kt=32*Ze,At=Ze+1,hn=0<le.L?Ze*(0<le.Aa?2:1):0,Ct=(le.Aa==2?2:1)*Ze;if((Ke=Ge+832+(Oe=3*(16*Ie+Ld[le.L])/2*kt)+($e=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ke)Ie=0;else{if(Ke>le.Vb){if(le.Vb=0,le.Ec=a(Ke),le.Fc=0,le.Ec==null){Ie=Nn(le,1,"no memory during frame initialization.");break t}le.Vb=Ke}Ke=le.Ec,ot=le.Fc,le.Ac=Ke,le.Bc=ot,ot+=Ge,le.Gd=s(kt,yc),le.Hd=0,le.rb=s(At+1,Yn),le.sb=1,le.wa=hn?s(hn,Jr):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=Ze),e(!0),le.oc=Ke,le.pc=ot,ot+=832,le.ya=s(Ct,vs),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=Ze),le.R=16*Ze,le.B=8*Ze,Ze=(kt=Ld[le.L])*le.R,kt=kt/2*le.B,le.sa=Ke,le.ta=ot+Ze,le.qa=le.sa,le.ra=le.ta+16*Ie*le.R+kt,le.Ha=le.qa,le.Ia=le.ra+8*Ie*le.B+kt,le.$c=0,ot+=Oe,le.mb=$e?Ke:null,le.nb=$e?ot:null,e(ot+$e<=le.Fc+le.Vb),rl(le),i(le.Ac,le.Bc,0,Ge),Ie=1}}if(Ie){if(Ee.ka=0,Ee.y=le.sa,Ee.O=le.ta,Ee.f=le.qa,Ee.N=le.ra,Ee.ea=le.Ha,Ee.Vd=le.Ia,Ee.fa=le.R,Ee.Rc=le.B,Ee.F=null,Ee.J=0,!Sp){for(Ie=-255;255>=Ie;++Ie)Nu[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)Ap[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)eh[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)th[255+Ie]=0>Ie?0:255<Ie?255:Ie;Sp=1}Vs=Mi,Yl=yu,io=ca,Wn=bu,Un=Po,Ra=Sd,Sr=Eu,gi=Fs,ml=Y,Lo=ce,Su=Ec,Jf=N,$g=be,r1=Ae,i1=no,a1=bs,Gg=Bl,Yg=wc,ti[0]=sl,ti[1]=xu,ti[2]=Ml,ti[3]=_c,ti[4]=Fi,ti[5]=Fl,ti[6]=_i,ti[7]=Jn,ti[8]=Ul,ti[9]=Ya,Za[0]=Ls,Za[1]=bc,Za[2]=xc,Za[3]=Oo,Za[4]=Ro,Za[5]=Oa,Za[6]=al,Mo[0]=Do,Mo[1]=_u,Mo[2]=Ms,Mo[3]=wu,Mo[4]=pi,Mo[5]=Ka,Mo[6]=Zs,Ie=1}else Ie=0}Ie&&(Ie=(function(Cn,Dr){for(Cn.M=0;Cn.M<Cn.Va;++Cn.M){var vn,St=Cn.Jc[Cn.M&Cn.Xb],pt=Cn.m,qr=Cn;for(vn=0;vn<qr.za;++vn){var an=pt,xn=qr,ar=xn.Ac,Ui=xn.Bc+4*vn,va=xn.zc,Tr=xn.ya[xn.aa+vn];if(xn.Qa.Bb?Tr.$b=Ce(an,xn.Pa.jb[0])?2+Ce(an,xn.Pa.jb[2]):Ce(an,xn.Pa.jb[1]):Tr.$b=0,xn.kc&&(Tr.Ad=Ce(an,xn.Bd)),Tr.Za=!Ce(an,145)+0,Tr.Za){var wi=Tr.Ob,ja=0;for(xn=0;4>xn;++xn){var Ei,Sn=va[0+xn];for(Ei=0;4>Ei;++Ei){Sn=pa[ar[Ui+Ei]][Sn];for(var zn=Op[Ce(an,Sn[0])];0<zn;)zn=Op[2*zn+Ce(an,Sn[zn])];Sn=-zn,ar[Ui+Ei]=Sn}r(wi,ja,ar,Ui,4),ja+=4,va[0+xn]=Sn}}else Sn=Ce(an,156)?Ce(an,128)?1:3:Ce(an,163)?2:0,Tr.Ob[0]=Sn,i(ar,Ui,Sn,4),i(va,0,Sn,4);Tr.Dd=Ce(an,142)?Ce(an,114)?Ce(an,183)?1:3:2:0}if(qr.m.Ka)return Nn(Cn,7,"Premature end-of-partition0 encountered.");for(;Cn.ja<Cn.za;++Cn.ja){if(qr=St,an=(pt=Cn).rb[pt.sb-1],ar=pt.rb[pt.sb+pt.ja],vn=pt.ya[pt.aa+pt.ja],Ui=pt.kc?vn.Ad:0)an.la=ar.la=0,vn.Za||(an.Na=ar.Na=0),vn.Hc=0,vn.Gc=0,vn.ia=0;else{var Hr,Kn;if(an=ar,ar=qr,Ui=pt.Pa.Xc,va=pt.ya[pt.aa+pt.ja],Tr=pt.pb[va.$b],xn=va.ad,wi=0,ja=pt.rb[pt.sb-1],Sn=Ei=0,i(xn,wi,0,384),va.Za)var Bi=0,$r=Ui[3];else{zn=a(16);var qn=an.Na+ja.Na;if(qn=qs(ar,Ui[1],qn,Tr.Eb,0,zn,0),an.Na=ja.Na=(0<qn)+0,1<qn)Vs(zn,0,xn,wi);else{var yi=zn[0]+3>>3;for(zn=0;256>zn;zn+=16)xn[wi+zn]=yi}Bi=1,$r=Ui[0]}var sr=15&an.la,Ai=15&ja.la;for(zn=0;4>zn;++zn){var Si=1&Ai;for(yi=Kn=0;4>yi;++yi)sr=sr>>1|(Si=(qn=qs(ar,$r,qn=Si+(1&sr),Tr.Sc,Bi,xn,wi))>Bi)<<7,Kn=Kn<<2|(3<qn?3:1<qn?2:xn[wi+0]!=0),wi+=16;sr>>=4,Ai=Ai>>1|Si<<7,Ei=(Ei<<8|Kn)>>>0}for($r=sr,Bi=Ai>>4,Hr=0;4>Hr;Hr+=2){for(Kn=0,sr=an.la>>4+Hr,Ai=ja.la>>4+Hr,zn=0;2>zn;++zn){for(Si=1&Ai,yi=0;2>yi;++yi)qn=Si+(1&sr),sr=sr>>1|(Si=0<(qn=qs(ar,Ui[2],qn,Tr.Qc,0,xn,wi)))<<3,Kn=Kn<<2|(3<qn?3:1<qn?2:xn[wi+0]!=0),wi+=16;sr>>=2,Ai=Ai>>1|Si<<5}Sn|=Kn<<4*Hr,$r|=sr<<4<<Hr,Bi|=(240&Ai)<<Hr}an.la=$r,ja.la=Bi,va.Hc=Ei,va.Gc=Sn,va.ia=43690&Sn?0:Tr.ia,Ui=!(Ei|Sn)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[vn.$b][vn.Za],pt.wa[pt.Y+pt.ja].La|=!Ui),qr.Ka)return Nn(Cn,7,"Premature end-of-file encountered.")}if(rl(Cn),pt=Dr,qr=1,vn=(St=Cn).D,an=0<St.L&&St.M>=St.zb&&St.M<=St.Va,St.Aa==0)t:{if(vn.M=St.M,vn.uc=an,Bs(St,vn),qr=1,vn=(Kn=St.D).Nb,an=(Sn=Ld[St.L])*St.R,ar=Sn/2*St.B,zn=16*vn*St.R,yi=8*vn*St.B,Ui=St.sa,va=St.ta-an+zn,Tr=St.qa,xn=St.ra-ar+yi,wi=St.Ha,ja=St.Ia-ar+yi,Ai=(sr=Kn.M)==0,Ei=sr>=St.Va-1,St.Aa==2&&Bs(St,Kn),Kn.uc)for(Si=(qn=St).D.M,e(qn.D.uc),Kn=qn.yb;Kn<qn.Hb;++Kn){Bi=Kn,$r=Si;var mr=(Bn=(Ti=qn).D).Nb;Hr=Ti.R;var Bn=Bn.wa[Bn.Y+Bi],La=Ti.sa,ni=Ti.ta+16*mr*Hr+16*Bi,Qt=Bn.dd,en=Bn.tc;if(en!=0)if(e(3<=en),Ti.L==1)0<Bi&&a1(La,ni,Hr,en+4),Bn.La&&Yg(La,ni,Hr,en),0<$r&&i1(La,ni,Hr,en+4),Bn.La&&Gg(La,ni,Hr,en);else{var Hn=Ti.B,_s=Ti.qa,po=Ti.ra+8*mr*Hn+8*Bi,es=Ti.Ha,Ti=Ti.Ia+8*mr*Hn+8*Bi;mr=Bn.ld,0<Bi&&(gi(La,ni,Hr,en+4,Qt,mr),Lo(_s,po,es,Ti,Hn,en+4,Qt,mr)),Bn.La&&(Jf(La,ni,Hr,en,Qt,mr),r1(_s,po,es,Ti,Hn,en,Qt,mr)),0<$r&&(Sr(La,ni,Hr,en+4,Qt,mr),ml(_s,po,es,Ti,Hn,en+4,Qt,mr)),Bn.La&&(Su(La,ni,Hr,en,Qt,mr),$g(_s,po,es,Ti,Hn,en,Qt,mr))}}if(St.ia&&alert("todo:DitherRow"),pt.put!=null){if(Kn=16*sr,sr=16*(sr+1),Ai?(pt.y=St.sa,pt.O=St.ta+zn,pt.f=St.qa,pt.N=St.ra+yi,pt.ea=St.Ha,pt.W=St.Ia+yi):(Kn-=Sn,pt.y=Ui,pt.O=va,pt.f=Tr,pt.N=xn,pt.ea=wi,pt.W=ja),Ei||(sr-=Sn),sr>pt.o&&(sr=pt.o),pt.F=null,pt.J=null,St.Fa!=null&&0<St.Fa.length&&Kn<sr&&(pt.J=x(St,pt,Kn,sr-Kn),pt.F=St.mb,pt.F==null&&pt.F.length==0)){qr=Nn(St,3,"Could not decode alpha data.");break t}Kn<pt.j&&(Sn=pt.j-Kn,Kn=pt.j,e(!(1&Sn)),pt.O+=St.R*Sn,pt.N+=St.B*(Sn>>1),pt.W+=St.B*(Sn>>1),pt.F!=null&&(pt.J+=pt.width*Sn)),Kn<sr&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=Kn-pt.j,pt.U=pt.va-pt.v,pt.T=sr-Kn,qr=pt.put(pt))}vn+1!=St.Ic||Ei||(r(St.sa,St.ta-an,Ui,va+16*St.R,an),r(St.qa,St.ra-ar,Tr,xn+8*St.B,ar),r(St.Ha,St.Ia-ar,wi,ja+8*St.B,ar))}if(!qr)return Nn(Cn,6,"Output aborted.")}return 1})(le,Ee)),Ee.bc!=null&&Ee.bc(Ee),Ie&=1}return Ie?(le.cb=0,Ie):0})(b,U)||(w=b.a)}}else w=b.a}w==0&&J.Oa!=null&&J.Oa.fd&&(w=Qf(J.ba))}J=w}Q=J!=0?null:11>Q?re.f.RGBA.eb:re.f.kb.y}else Q=null;return Q};var jp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,G){for(var P="",F=0;F<4;F++)P+=String.fromCharCode(D[G++]);return P}function f(D,G){return D[G+0]|D[G+1]<<8}function p(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16)>>>0}function y(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16|D[G+3]<<24)>>>0}new u;var v=[0],E=[0],A=[],S=new u,I=t,q=(function(D,G){var P={},F=0,V=!1,ee=0,ge=0;if(P.frames=[],!(function(M,X){for(var Z=0;Z<4;Z++)if(M[X+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(D,G)){for(y(D,G+=4),G+=8;G<D.length;){var se=d(D,G),fe=y(D,G+=4);G+=4;var me=fe+(1&fe);switch(se){case"VP8 ":case"VP8L":P.frames[F]===void 0&&(P.frames[F]={}),(ne=P.frames[F]).src_off=V?ge:G-8,ne.src_size=ee+fe+8,F++,V&&(V=!1,ee=0,ge=0);break;case"VP8X":(ne=P.header={}).feature_flags=D[G];var xe=G+4;ne.canvas_width=1+p(D,xe),xe+=3,ne.canvas_height=1+p(D,xe),xe+=3;break;case"ALPH":V=!0,ee=me+8,ge=G-8;break;case"ANIM":(ne=P.header).bgcolor=y(D,G),xe=G+4,ne.loop_count=f(D,xe),xe+=2;break;case"ANMF":var Ue,ne;(ne=P.frames[F]={}).offset_x=2*p(D,G),G+=3,ne.offset_y=2*p(D,G),G+=3,ne.width=1+p(D,G),G+=3,ne.height=1+p(D,G),G+=3,ne.duration=p(D,G),G+=3,Ue=D[G++],ne.dispose=1&Ue,ne.blend=Ue>>1&1}se!="ANMF"&&(G+=me)}return P}})(I,0);q.response=I,q.rgbaoutput=!0,q.dataurl=!1;var k=q.header?q.header:null,B=q.frames?q.frames:null;if(k){k.loop_counter=k.loop_count,v=[k.canvas_height],E=[k.canvas_width];for(var $=0;$<B.length&&B[$].blend!=0;$++);}var K=B[0],L=S.WebPDecodeRGBA(I,K.src_off,K.src_size,E,v);K.rgba=L,K.imgwidth=E[0],K.imgheight=v[0];for(var j=0;j<E[0]*v[0]*4;j++)A[j]=L[j];return this.width=E,this.height=v,this.data=A,this}(function(t){var e,n,r,i,a,s,l,u,d,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(oe){Z=!!oe}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(oe){de=!!oe}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(oe){isNaN(oe)||(pe=oe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(oe){isNaN(oe)||(ye=oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(oe){var Xe;typeof oe=="number"?Xe=[oe,oe,oe,oe]:((Xe=new Array(4))[0]=oe[0],Xe[1]=oe.length>=2?oe[1]:Xe[0],Xe[2]=oe.length>=3?oe[2]:Xe[0],Xe[3]=oe.length>=4?oe[3]:Xe[1]),d.margin=Xe}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(oe){Pe=oe}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(oe){he=oe}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(oe){Ce=oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(oe){oe instanceof f&&(d=oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(oe){d.path=oe}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(oe){Ve=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var Xe;Xe=y(oe),this.ctx.fillStyle=Xe.style,this.ctx.isFillTransparent=Xe.a===0,this.ctx.fillOpacity=Xe.a,this.pdf.setFillColor(Xe.r,Xe.g,Xe.b,{a:Xe.a}),this.pdf.setTextColor(Xe.r,Xe.g,Xe.b,{a:Xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var Xe=y(oe);this.ctx.strokeStyle=Xe.style,this.ctx.isStrokeTransparent=Xe.a===0,this.ctx.strokeOpacity=Xe.a,Xe.a===0?this.pdf.setDrawColor(255,255,255):(Xe.a,this.pdf.setDrawColor(Xe.r,Xe.g,Xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var Se=null,rt=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(oe){Se=null,rt=null,it=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var Xe;if(this.ctx.font=oe,(Xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var Nt=Xe[1];Xe[2];var yt=Xe[3],qe=Xe[4];Xe[5];var ht=Xe[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(vt==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Bt=(function(Fe){var wn,Vt,It=[],Mt=Fe.trim();if(Mt==="")return MA;if(Mt in XL)return[XL[Mt]];for(;Mt!=="";){switch(Vt=null,wn=(Mt=JL(Mt)).charAt(0)){case'"':case"'":Vt=lwe(Mt.substring(1),wn);break;default:Vt=cwe(Mt)}if(Vt===null||(It.push(Vt[0]),(Mt=JL(Vt[1]))!==""&&Mt.charAt(0)!==","))return MA;Mt=Mt.replace(/^,/,"")}return It})(ht);if(this.fontFaces){var Rt=(function(Fe,wn){var Vt=Fe.getFontList(),It=JSON.stringify(Vt);if(Se===null||rt!==It){var Mt=(function(nn){var xt=[];return Object.keys(nn).forEach(function(un){nn[un].forEach(function(_t){var zt=null;switch(_t){case"bold":zt={family:un,weight:"bold"};break;case"italic":zt={family:un,style:"italic"};break;case"bolditalic":zt={family:un,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:un}}zt!==null&&(zt.ref={name:un,style:_t},xt.push(zt))})}),xt})(Vt);Se=(function(nn){for(var xt={},un=0;un<nn.length;++un){var _t=LA(nn[un]),zt=_t.family,Tn=_t.stretch,ft=_t.style,gt=_t.weight;xt[zt]=xt[zt]||{},xt[zt][Tn]=xt[zt][Tn]||{},xt[zt][Tn][ft]=xt[zt][Tn][ft]||{},xt[zt][Tn][ft][gt]=_t}return xt})(Mt.concat(wn)),rt=It}return Se})(this.pdf,this.fontFaces),cn=Bt.map(function(Fe){return{family:Fe,stretch:"normal",weight:yt,style:Nt}}),dn=(function(Fe,wn,Vt){for(var It=(Vt=Vt||{}).defaultFontFamily||"times",Mt=Object.assign({},owe,Vt.genericFontFamilies||{}),nn=null,xt=null,un=0;un<wn.length;++un)if(Mt[(nn=LA(wn[un])).family]&&(nn.family=Mt[nn.family]),Fe.hasOwnProperty(nn.family)){xt=Fe[nn.family];break}if(!(xt=xt||Fe[It]))throw new Error("Could not find a font-family for the rule '"+QL(nn)+"' and default family '"+It+"'.");if(xt=(function(_t,zt){if(zt[_t])return zt[_t];var Tn=BT[_t],ft=Tn<=BT.normal?-1:1,gt=KL(zt,D$,Tn,ft);if(!gt)throw new Error("Could not find a matching font-stretch value for "+_t);return gt})(nn.stretch,xt),xt=(function(_t,zt){if(zt[_t])return zt[_t];for(var Tn=R$[_t],ft=0;ft<Tn.length;++ft)if(zt[Tn[ft]])return zt[Tn[ft]];throw new Error("Could not find a matching font-style for "+_t)})(nn.style,xt),!(xt=(function(_t,zt){if(zt[_t])return zt[_t];if(_t===400&&zt[500])return zt[500];if(_t===500&&zt[400])return zt[400];var Tn=swe[_t],ft=KL(zt,k$,Tn,_t<400?-1:1);if(!ft)throw new Error("Could not find a matching font-weight for value "+_t);return ft})(nn.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+QL(nn)+"'.");return xt})(Rt,cn);this.pdf.setFont(dn.ref.name,dn.ref.style)}else{var Jt="";(yt==="bold"||parseInt(yt,10)>=700||Nt==="bold")&&(Jt="bold"),Nt==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var gn="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Bt.length;dt++){if(this.pdf.internal.getFont(Bt[dt],Jt,{noFallback:!0,disableWarning:!0})!==void 0){gn=Bt[dt];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(Bt[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gn=Bt[dt],Jt="bold";else if(this.pdf.internal.getFont(Bt[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gn=Bt[dt],Jt="normal";break}}if(gn===""){for(var Et=0;Et<Bt.length;Et++)if(st[Bt[Et]]){gn=st[Bt[Et]];break}}gn=gn===""?"Times":gn,this.pdf.setFont(gn,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){B.call(this,"fill",!1)},p.prototype.stroke=function(){B.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(M,X));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(M,X)},p.prototype.closePath=function(){var M=new s(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&br(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new s(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},p.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(M,X));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,X,Z,de){if(isNaN(Z)||isNaN(de)||isNaN(M)||isNaN(X))throw jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new s(Z,de)),ye=this.ctx.transform.applyToPoint(new s(M,X));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},p.prototype.bezierCurveTo=function(M,X,Z,de,pe,ye){if(isNaN(pe)||isNaN(ye)||isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de))throw jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new s(pe,ye)),he=this.ctx.transform.applyToPoint(new s(M,X)),Ce=this.ctx.transform.applyToPoint(new s(Z,de));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ce.x,y2:Ce.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new s(Pe.x,Pe.y)},p.prototype.arc=function(M,X,Z,de,pe,ye){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de)||isNaN(pe))throw jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new s(M,X));M=Pe.x,X=Pe.y;var he=this.ctx.transform.applyToPoint(new s(0,Z)),Ce=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(he.x-Ce.x,2)+Math.pow(he.y-Ce.y,2))}Math.abs(pe-de)>=2*Math.PI&&(de=0,pe=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:Z,startAngle:de,endAngle:pe,counterclockwise:ye})},p.prototype.arcTo=function(M,X,Z,de,pe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,X,Z,de){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de))throw jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+Z,X),this.lineTo(M+Z,X+de),this.lineTo(M,X+de),this.lineTo(M,X),this.lineTo(M+Z,X),this.lineTo(M,X)},p.prototype.fillRect=function(M,X,Z,de){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de))throw jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,Z,de),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},p.prototype.strokeRect=function(M,X,Z,de){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de))throw jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(M,X,Z,de),this.stroke())},p.prototype.clearRect=function(M,X,Z,de){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de))throw jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,Z,de))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(M){var X,Z,de,pe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,Z=0,de=0,pe=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ye!==null)X=parseInt(ye[1]),Z=parseInt(ye[2]),de=parseInt(ye[3]),pe=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(ye[1]),Z=parseInt(ye[2]),de=parseInt(ye[3]),pe=parseFloat(ye[4]);else{if(pe=1,typeof M=="string"&&M.charAt(0)!=="#"){var Pe=new S$(M);M=Pe.ok?Pe.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,Z=M.substring(2,3),Z+=Z,de=M.substring(3,4),de+=de):(X=M.substring(1,3),Z=M.substring(3,5),de=M.substring(5,7)),X=parseInt(X,16),Z=parseInt(Z,16),de=parseInt(de,16)}}return{r:X,g:Z,b:de,a:pe,style:M}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,X,Z,de){if(isNaN(X)||isNaN(Z)||typeof M!="string")throw jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!v.call(this)){var pe=me(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;F.call(this,{text:M,x:X,y:Z,scale:ye,angle:pe,align:this.textAlign,maxWidth:de})}},p.prototype.strokeText=function(M,X,Z,de){if(isNaN(X)||isNaN(Z)||typeof M!="string")throw jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){de=isNaN(de)?void 0:de;var pe=me(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;F.call(this,{text:M,x:X,y:Z,scale:ye,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:de})}},p.prototype.measureText=function(M){if(typeof M!="string")throw jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Z=this.pdf.internal.scaleFactor,de=X.internal.getFontSize(),pe=X.getStringUnitWidth(M)*de/X.internal.scaleFactor;return new function(ye){var Pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:pe*=Math.round(96*Z/72*1e4)/1e4})},p.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.rotate=function(M){if(isNaN(M))throw jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.transform=function(M,X,Z,de,pe,ye){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(de)||isNaN(pe)||isNaN(ye))throw jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new u(M,X,Z,de,pe,ye);this.ctx.transform=this.ctx.transform.multiply(Pe)},p.prototype.setTransform=function(M,X,Z,de,pe,ye){M=isNaN(M)?1:M,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,de=isNaN(de)?1:de,pe=isNaN(pe)?0:pe,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(M,X,Z,de,pe,ye)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,X,Z,de,pe,ye,Pe,he,Ce){var Ve=this.pdf.getImageProperties(M),Se=1,rt=1,it=1,oe=1;de!==void 0&&he!==void 0&&(it=he/de,oe=Ce/pe,Se=Ve.width/de*he/de,rt=Ve.height/pe*Ce/pe),ye===void 0&&(ye=X,Pe=Z,X=0,Z=0),de!==void 0&&he===void 0&&(he=de,Ce=pe),de===void 0&&he===void 0&&(he=Ve.width,Ce=Ve.height);var Xe=this.ctx.transform.decompose(),Nt=me(Xe.rotate.shx),yt=new u,qe=(yt=(yt=(yt=yt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new l(ye-X*it,Pe-Z*oe,de*Se,pe*rt));if(this.autoPaging){for(var ht,vt=S.call(this,qe),Bt=[],Rt=0;Rt<vt.length;Rt+=1)Bt.indexOf(vt[Rt])===-1&&Bt.push(vt[Rt]);k(Bt);for(var cn=Bt[0],dn=Bt[Bt.length-1],Jt=cn;Jt<dn+1;Jt++){this.pdf.setPage(Jt);var gn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Jt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Jt===1?0:dt+(Jt-2)*Et;if(this.ctx.clip_path.length!==0){var wn=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(ht,this.posX+this.margin[3],-Fe+st+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=wn}var Vt=JSON.parse(JSON.stringify(qe));Vt=q([Vt],this.posX+this.margin[3],-Fe+st+this.ctx.prevPageLastElemOffset)[0];var It=(Jt>cn||Jt<dn)&&A.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gn,Et,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,Nt),It&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Nt)};var S=function(M,X,Z){var de=[];X=X||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":de.push(Math.floor((M.y+pe)/Z)+1);break;case"arc":de.push(Math.floor((M.y+pe-M.radius)/Z)+1),de.push(Math.floor((M.y+pe+M.radius)/Z)+1);break;case"qct":var ye=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);de.push(Math.floor((ye.y+pe)/Z)+1),de.push(Math.floor((ye.y+ye.h+pe)/Z)+1);break;case"bct":var Pe=Ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);de.push(Math.floor((Pe.y+pe)/Z)+1),de.push(Math.floor((Pe.y+Pe.h+pe)/Z)+1);break;case"rect":de.push(Math.floor((M.y+pe)/Z)+1),de.push(Math.floor((M.y+M.h+pe)/Z)+1)}for(var he=0;he<de.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<de[he];)I.call(this);return de},I=function(){var M=this.fillStyle,X=this.strokeStyle,Z=this.font,de=this.lineCap,pe=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=Z,this.lineCap=de,this.lineWidth=pe,this.lineJoin=ye},q=function(M,X,Z){for(var de=0;de<M.length;de++)switch(M[de].type){case"bct":M[de].x2+=X,M[de].y2+=Z;case"qct":M[de].x1+=X,M[de].y1+=Z;default:M[de].x+=X,M[de].y+=Z}return M},k=function(M){return M.sort(function(X,Z){return X-Z})},B=function(M,X){var Z=this.fillStyle,de=this.strokeStyle,pe=this.lineCap,ye=this.lineWidth,Pe=Math.abs(ye*this.ctx.transform.scaleX),he=this.lineJoin;if(this.autoPaging){for(var Ce,Ve,Se=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),it=[],oe=0;oe<rt.length;oe++)if(rt[oe].x!==void 0)for(var Xe=S.call(this,rt[oe]),Nt=0;Nt<Xe.length;Nt+=1)it.indexOf(Xe[Nt])===-1&&it.push(Xe[Nt]);for(var yt=0;yt<it.length;yt++)for(;this.pdf.internal.getNumberOfPages()<it[yt];)I.call(this);k(it);for(var qe=it[0],ht=it[it.length-1],vt=qe;vt<ht+1;vt++){this.pdf.setPage(vt),this.fillStyle=Z,this.strokeStyle=de,this.lineCap=pe,this.lineWidth=Pe,this.lineJoin=he;var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=vt===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=vt===1?0:cn+(vt-2)*dn;if(this.ctx.clip_path.length!==0){var gn=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Ce,this.posX+this.margin[3],-Jt+Rt+this.ctx.prevPageLastElemOffset),$.call(this,M,!0),this.path=gn}if(Ve=JSON.parse(JSON.stringify(Se)),this.path=q(Ve,this.posX+this.margin[3],-Jt+Rt+this.ctx.prevPageLastElemOffset),X===!1||vt===0){var st=(vt>qe||vt<ht)&&A.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,dn,null).clip().discardPath()),$.call(this,M,X),st&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Se}else this.lineWidth=Pe,$.call(this,M,X),this.lineWidth=ye},$=function(M,X){if((M!=="stroke"||X||!E.call(this))&&(M==="stroke"||X||!v.call(this))){for(var Z,de,pe=[],ye=this.path,Pe=0;Pe<ye.length;Pe++){var he=ye[Pe];switch(he.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:he,deltas:[],abs:[]});break;case"lt":var Ce=pe.length;if(ye[Pe-1]&&!isNaN(ye[Pe-1].x)&&(Z=[he.x-ye[Pe-1].x,he.y-ye[Pe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(pe[Ce-1].close!==!0&&pe[Ce-1].begin!==!0){pe[Ce-1].deltas.push(Z),pe[Ce-1].abs.push(he);break}}break;case"bct":Z=[he.x1-ye[Pe-1].x,he.y1-ye[Pe-1].y,he.x2-ye[Pe-1].x,he.y2-ye[Pe-1].y,he.x-ye[Pe-1].x,he.y-ye[Pe-1].y],pe[pe.length-1].deltas.push(Z);break;case"qct":var Ve=ye[Pe-1].x+2/3*(he.x1-ye[Pe-1].x),Se=ye[Pe-1].y+2/3*(he.y1-ye[Pe-1].y),rt=he.x+2/3*(he.x1-he.x),it=he.y+2/3*(he.y1-he.y),oe=he.x,Xe=he.y;Z=[Ve-ye[Pe-1].x,Se-ye[Pe-1].y,rt-ye[Pe-1].x,it-ye[Pe-1].y,oe-ye[Pe-1].x,Xe-ye[Pe-1].y],pe[pe.length-1].deltas.push(Z);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(he)}}de=X?null:M==="stroke"?"stroke":"fill";for(var Nt=!1,yt=0;yt<pe.length;yt++)if(pe[yt].arc)for(var qe=pe[yt].abs,ht=0;ht<qe.length;ht++){var vt=qe[ht];vt.type==="arc"?j.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,X,!Nt):V.call(this,vt.x,vt.y),Nt=!0}else if(pe[yt].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(pe[yt].begin!==!0){var Bt=pe[yt].start.x,Rt=pe[yt].start.y;ee.call(this,pe[yt].deltas,Bt,Rt),Nt=!0}de&&D.call(this,de),X&&G.call(this)}},K=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+X-Z;case"hanging":return M+X-2*Z;case"middle":return M+X/2-Z;default:return M}},L=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,Z){this.colorStops.push([X,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(M,X,Z,de,pe,ye,Pe,he,Ce){for(var Ve=se.call(this,Z,de,pe,ye),Se=0;Se<Ve.length;Se++){var rt=Ve[Se];Se===0&&(Ce?P.call(this,rt.x1+M,rt.y1+X):V.call(this,rt.x1+M,rt.y1+X)),ge.call(this,M,X,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}he?G.call(this):D.call(this,Pe)},D=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,X){this.pdf.internal.out(n(M)+" "+r(X)+" m")},F=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var Z,de,pe,ye=this.pdf.getTextDimensions(M.text),Pe=K.call(this,M.y),he=L.call(this,Pe)-ye.h,Ce=this.ctx.transform.applyToPoint(new s(M.x,Pe));if(this.autoPaging){var Ve=this.ctx.transform.decompose(),Se=new u;Se=(Se=(Se=Se.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var rt=this.ctx.transform.applyToRectangle(new l(M.x,Pe,ye.w,ye.h)),it=Se.applyToRectangle(new l(M.x,he,ye.w,ye.h)),oe=S.call(this,it),Xe=[],Nt=0;Nt<oe.length;Nt+=1)Xe.indexOf(oe[Nt])===-1&&Xe.push(oe[Nt]);k(Xe);for(var yt=Xe[0],qe=Xe[Xe.length-1],ht=yt;ht<qe+1;ht++){this.pdf.setPage(ht);var vt=ht===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],cn=Rt-this.margin[0],dn=this.pdf.internal.pageSize.width-this.margin[1],Jt=dn-this.margin[3],gn=ht===1?0:Bt+(ht-2)*cn;if(this.ctx.clip_path.length!==0){var st=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Z,this.posX+this.margin[3],-1*gn+vt),$.call(this,"fill",!0),this.path=st}var dt=q([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-gn+vt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale);var Et=this.autoPaging!=="text";if(Et||dt.y+dt.h<=Rt){if(Et||dt.y>=vt&&dt.x<=dn){var Fe=Et?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||dn-dt.x)[0],wn=q([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-gn+vt+this.ctx.prevPageLastElemOffset)[0],Vt=Et&&(ht>yt||ht<qe)&&A.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,cn,null).clip().discardPath()),this.pdf.text(Fe,wn.x,wn.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else dt.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-dt.y);M.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=pe)}}else M.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale),this.pdf.text(M.text,Ce.x+this.posX,Ce.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=pe)},V=function(M,X,Z,de){Z=Z||0,de=de||0,this.pdf.internal.out(n(M+Z)+" "+r(X+de)+" l")},ee=function(M,X,Z){return this.pdf.lines(M,X,Z,null,null)},ge=function(M,X,Z,de,pe,ye,Pe,he){this.pdf.internal.out([e(i(Z+M)),e(a(de+X)),e(i(pe+M)),e(a(ye+X)),e(i(Pe+M)),e(a(he+X)),"c"].join(" "))},se=function(M,X,Z,de){for(var pe=2*Math.PI,ye=Math.PI/2;X>Z;)X-=pe;var Pe=Math.abs(Z-X);Pe<pe&&de&&(Pe=pe-Pe);for(var he=[],Ce=de?-1:1,Ve=X;Pe>1e-5;){var Se=Ve+Ce*Math.min(Pe,ye);he.push(fe.call(this,M,Ve,Se)),Pe-=Math.abs(Se-Ve),Ve=Se}return he},fe=function(M,X,Z){var de=(Z-X)/2,pe=M*Math.cos(de),ye=M*Math.sin(de),Pe=pe,he=-ye,Ce=Pe*Pe+he*he,Ve=Ce+Pe*pe+he*ye,Se=4/3*(Math.sqrt(2*Ce*Ve)-Ve)/(Pe*ye-he*pe),rt=Pe-Se*he,it=he+Se*Pe,oe=rt,Xe=-it,Nt=de+X,yt=Math.cos(Nt),qe=Math.sin(Nt);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:rt*yt-it*qe,y2:rt*qe+it*yt,x3:oe*yt-Xe*qe,y3:oe*qe+Xe*yt,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},me=function(M){return 180*M/Math.PI},xe=function(M,X,Z,de,pe,ye){var Pe=M+.5*(Z-M),he=X+.5*(de-X),Ce=pe+.5*(Z-pe),Ve=ye+.5*(de-ye),Se=Math.min(M,pe,Pe,Ce),rt=Math.max(M,pe,Pe,Ce),it=Math.min(X,ye,he,Ve),oe=Math.max(X,ye,he,Ve);return new l(Se,it,rt-Se,oe-it)},Ue=function(M,X,Z,de,pe,ye,Pe,he){var Ce,Ve,Se,rt,it,oe,Xe,Nt,yt,qe,ht,vt,Bt,Rt,cn=Z-M,dn=de-X,Jt=pe-Z,gn=ye-de,st=Pe-pe,dt=he-ye;for(Ve=0;Ve<41;Ve++)yt=(Xe=(Se=M+(Ce=Ve/40)*cn)+Ce*((it=Z+Ce*Jt)-Se))+Ce*(it+Ce*(pe+Ce*st-it)-Xe),qe=(Nt=(rt=X+Ce*dn)+Ce*((oe=de+Ce*gn)-rt))+Ce*(oe+Ce*(ye+Ce*dt-oe)-Nt),Ve==0?(ht=yt,vt=qe,Bt=yt,Rt=qe):(ht=Math.min(ht,yt),vt=Math.min(vt,qe),Bt=Math.max(Bt,yt),Rt=Math.max(Rt,qe));return new l(Math.round(ht),Math.round(vt),Math.round(Bt-ht),Math.round(Rt-vt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,Z=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ht.API),(function(t){var e=function(s){var l,u,d,f,p,y,v,E,A,S;for(u=[],d=0,f=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;f>d;d+=4)(p=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(y=(p=((p=((p=((p=(p-(S=p%85))/85)-(A=p%85))/85)-(E=p%85))/85)-(v=p%85))/85)%85,u.push(y+33,v+33,E+33,A+33,S+33)):u.push(122);return(function(I,q){for(var k=q;k>0;k--)I.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},n=function(s){var l,u,d,f,p,y=String,v="length",E=255,A="charCodeAt",S="slice",I="replace";for(s[S](-2),s=s[S](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),d=[],f=0,p=(s+=l="uuuuu"[S](s[v]%5||5))[v];p>f;f+=5)u=52200625*(s[A](f)-33)+614125*(s[A](f+1)-33)+7225*(s[A](f+2)-33)+85*(s[A](f+3)-33)+(s[A](f+4)-33),d.push(E&u>>24,E&u>>16,E&u>>8,E&u);return(function(q,k){for(var B=k;B>0;B--)q.pop()})(d,l[v]),y.fromCharCode.apply(y,d)},r=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",d=0;d<s.length;d+=2)u+=String.fromCharCode("0x"+(s[d]+s[d+1]));return u},a=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return(l=DT(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,l){var u=0,d=s||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Ht.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(u,d,f){var p=new XMLHttpRequest,y=0,v=function(E){var A=E.length,S=[],I=String.fromCharCode;for(y=0;y<A;y+=1)S.push(I(255&E.charCodeAt(y)));return S.join("")};if(p.open("GET",u,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(v(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return v(p.responseText)})(i,a,s)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(Ht.API),(function(t){function e(){return(pn.html2canvas?Promise.resolve(pn.html2canvas):yA(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(pn.DOMPurify?Promise.resolve(pn.DOMPurify):yA(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=br(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var d=document.createElement(l);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},a=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},s=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(n).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var v=0;v<f.length;++v){var E=f[v],A=E.src.find(function(S){return S.format==="truetype"});A&&d.addFont(A.url,E.ref.name,E.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,d.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var d=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,d,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,d,f){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(f,p){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return d.updateProgress(null,f),y}).then(f,p).then(function(y){return d.updateProgress(1),y})})},s.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),y=d.call(p,l,u);return s.convert(y,f.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ht.getPageSize=function(l,u,d){if(br(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var p,y=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var E,A=0,S=0;if(v.hasOwnProperty(y))A=v[y][1]/p,S=v[y][0]/p;else try{A=d[1],S=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",S>A&&(E=S,S=A,A=E);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",A>S&&(E=S,S=A,A=E)}return{width:S,height:A,unit:u,k:p,orientation:l}},t.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(LA):null;var d=new s(u);return u.worker?d:d.from(l).doCallback()}})(Ht.API),Ht.API.addJS=function(t){return eM=t,this.internal.events.subscribe("postPutResources",function(){Tb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tb!==void 0&&ZL!==void 0&&this.internal.out("/Names <</JavaScript "+Tb+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var u=l[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var p=n.internal.newObject();f.push(p);var y=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<f.length;a++)n.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Ht.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,l){var u,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,u=(function(p){for(var y,v=256*p.charCodeAt(4)+p.charCodeAt(5),E=p.length,A={width:0,height:0,numcomponents:1},S=4;S<E;S+=2){if(S+=v,e.indexOf(p.charCodeAt(S+1))!==-1){y=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),A={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:y,numcomponents:p.charCodeAt(S+9)};break}v=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return A})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:n,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}})(Ht.API),Ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=G_e(t,{checkCrc:!0}),s=a.width,l=a.height,u=a.channels,d=a.palette,f=a.depth;i=d&&u===1?(function(j){for(var D=j.width,G=j.height,P=j.data,F=j.palette,V=j.depth,ee=!1,ge=[],se=[],fe=void 0,me=!1,xe=0,Ue=0;Ue<F.length;Ue++){var ne=iL(F[Ue],4),M=ne[0],X=ne[1],Z=ne[2],de=ne[3];ge.push(M,X,Z),de!=null&&(de===0?(xe++,se.length<1&&se.push(Ue)):de<255&&(me=!0))}if(me||xe>1){ee=!0,se=void 0;var pe=D*G;fe=new Uint8Array(pe);for(var ye=new DataView(P.buffer),Pe=0;Pe<pe;Pe++){var he=FA(ye,Pe,V),Ce=iL(F[he],4)[3];fe[Pe]=Ce}}else xe===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:P,alphaBytes:fe,needSMask:ee,palette:ge,mask:se}})(a):u===2||u===4?(function(j){for(var D=j.data,G=j.width,P=j.height,F=j.channels,V=j.depth,ee=F===2?"DeviceGray":"DeviceRGB",ge=F-1,se=G*P,fe=ge,me=se*fe,xe=1*se,Ue=Math.ceil(me*V/8),ne=Math.ceil(xe*V/8),M=new Uint8Array(Ue),X=new Uint8Array(ne),Z=new DataView(D.buffer),de=new DataView(M.buffer),pe=new DataView(X.buffer),ye=!1,Pe=0;Pe<se;Pe++){for(var he=Pe*F,Ce=0;Ce<fe;Ce++)cM(de,FA(Z,he+Ce,V),Pe*fe+Ce,V);var Ve=FA(Z,he+fe,V);Ve<(1<<V)-1&&(ye=!0),cM(pe,Ve,1*Pe,V)}return{colorSpace:ee,colorsPerPixel:ge,sMaskBitsPerComponent:ye?V:void 0,colorBytes:M,alphaBytes:X,needSMask:ye}})(a):(function(j){var D=j.data,G=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(P){for(var F=P.length,V=new Uint8Array(2*F),ee=new DataView(V.buffer,V.byteOffset,V.byteLength),ge=0;ge<F;ge++)ee.setUint16(2*ge,P[ge],!1);return V})(D):D,needSMask:!1}})(a);var p,y,v,E=i,A=E.colorSpace,S=E.colorsPerPixel,I=E.sMaskBitsPerComponent,q=E.colorBytes,k=E.alphaBytes,B=E.needSMask,$=E.palette,K=E.mask,L=null;return r!==Ht.API.image_compression.NONE&&typeof DT=="function"?(L=(function(j){var D;switch(j){case Ht.API.image_compression.FAST:D=11;break;case Ht.API.image_compression.MEDIUM:D=13;break;case Ht.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),p=this.decode.FLATE_DECODE,y="/Predictor ".concat(L," /Colors ").concat(S," /BitsPerComponent ").concat(f," /Columns ").concat(s),t=iM(q,Math.ceil(s*S*f/8),S,f,r),B&&(v=iM(k,Math.ceil(s*I/8),1,I,r))):(p=void 0,y=void 0,t=q,B&&(v=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:n,data:t,index:e,filter:p,decodeParameters:y,transparency:K,palette:$,sMask:v,predictor:L,width:s,height:l,bitsPerComponent:f,sMaskBitsPerComponent:I,colorSpace:A}}},(function(t){t.processGIF89A=function(e,n,r,i){var a=new hwe(e),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:s,height:l},f=new UA(100).encode(d,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A})(Ht.API),nc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){jr.log("bit decode error:"+n)}},nc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},nc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,u=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},nc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},nc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,d=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=d}this.pos+=t}},nc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&n)/n*255|0,d=(s>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},nc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},nc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},nc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new nc(e,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new UA(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)}})(Ht.API),dM.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new dM(e),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},d=new UA(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)}})(Ht.API),Ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var f=r[d],p=r[d+1],y=r[d+2],v=r[d+3];a[l++]=f,a[l++]=p,a[l++]=y,s[u++]=v}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gm=Ht.API,Nb=gm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=e.doKerning!==!1,y=0,v=t.length,E=0,A=l[0]||u,S=[];for(n=0;n<v;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(y=p&&br(d[r])==="object"&&!isNaN(parseInt(d[r][E],10))?d[r][E]/f:0,S.push((l[r]||A)/u+y)),E=r;return S},tM=gm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gm.processArabic&&(t=gm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Nb.apply(this,arguments).reduce(function(a,s){return a+s},0)},nM=function(t,e,n,r){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<n;)l+=e[a],a++;i.push(t.slice(0,a));var u=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(t.slice(u,a)),l=0,u=a),l+=e[a],a++;return u!==a&&i.push(t.slice(u,a)),i},rM=function(t,e,n){n||(n={});var r,i,a,s,l,u,d,f=[],p=[f],y=n.textIndent||0,v=0,E=0,A=t.split(" "),S=Nb.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var I=Array(u).join(" "),q=[];A.map(function(B){(B=B.split(/\s*\n/)).length>1?q=q.concat(B.map(function($,K){return(K&&$.length?`
`:"")+$})):q.push(B[0])}),A=q,u=tM.apply(this,[I,n])}for(a=0,s=A.length;a<s;a++){var k=0;if(r=A[a],u&&r[0]==`
`&&(r=r.substr(1),k=1),y+v+(E=(i=Nb.apply(this,[r,n])).reduce(function(B,$){return B+$},0))>e||k){if(E>e){for(l=nM.apply(this,[r,i,e-(y+v),e]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);E=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(B,$){return B+$},0)}else f=[r];p.push(f),y=E+u,v=S}else f.push(r),y+=v+E,v=S}return d=u?function(B,$){return($?I:"")+B.join(" ")}:function(B){return B.join(" ")},p.map(d)},gm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),y="Unicode";return p.metadata[y]?{widths:p.metadata[y].widths||{0:1},kerning:p.metadata[y].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(rM.apply(this,[r[l],s,a]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var v,E,A,S,I=["{"];for(var q in y){if(v=y[q],isNaN(parseInt(q,10))?E="'"+q+"'":(q=parseInt(q,10),E=(E=s(q).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof v=="number")v<0?(A=s(v).slice(3),S="-"):(A=s(v).slice(2),S=""),A=S+A.slice(0,-1)+i[A.slice(-1)];else{if(br(v)!=="object")throw new Error("Don't know what to do with value type "+br(v)+".");A=l(v)}I.push(E+A)}return I.push("}"),I.join("")},u=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,E,A,S,I={},q=1,k=I,B=[],$="",K="",L=y.length-1,j=1;j<L;j+=1)(S=y[j])=="'"?v?(A=v.join(""),v=void 0):v=[]:v?v.push(S):S=="{"?(B.push([k,A]),k={},A=void 0):S=="}"?((E=B.pop())[0][E[1]]=k,A=void 0,k=E[0]):S=="-"?q=-1:A===void 0?r.hasOwnProperty(S)?($+=r[S],A=parseInt($,16)*q,q=1,$=""):$+=S:r.hasOwnProperty(S)?(K+=r[S],k[A]=parseInt(K,16)*q,q=1,A=void 0,K=""):K+=S;return I},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var v=y.font,E=p.Unicode[v.postScriptName];E&&(v.metadata.Unicode={},v.metadata.Unicode.widths=E.widths,v.metadata.Unicode.kerning=E.kerning);var A=f.Unicode[v.postScriptName];A&&(v.metadata.Unicode.encoding=A,v.encoding=A.codePages[0])}])})(Ht.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Wb(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Ht),Ht.API.addSvgAsImage=function(t,e,n,r,i,a,s,l){if(isNaN(e)||isNaN(n))throw jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(pn.canvg?Promise.resolve(pn.canvg):yA(()=>import("./index.es-DRMqrWEd.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),e,n,r,i,s,l)})},Ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],d=0,f=0,p=0;function y(E,A){var S,I=!1;for(S=0;S<E.length;S+=1)E[S]===A&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var v=l.length;for(p=0;p<v;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(br(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&y(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")u.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(r=!1);r===!0&&u.push([a[d][0]-1,a[d][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,A=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?A.push("/"+E+" /"+n[E].value):A.push("/"+E+" "+n[E].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Ht.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,y=a.length;p<y;++p){if(l=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(p),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},r=function(a){var s,l,u,d,f,p,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,y=(l=Object.keys(a).sort(function(v,E){return v-E})).length;p<y;p++)s=l[p],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",E=0;E<y.length;E++)v+=String.fromCharCode(y[E]);var A=d();f({data:v,addLength1:!0,objectId:A}),u("endobj");var S=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var I=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Am(l.fontName)),u("/FontFile2 "+A+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var q=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Am(l.fontName)),u("/FontDescriptor "+I+" 0 R"),u("/W "+t.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+S+" 0 R"),u("/BaseFont /"+Am(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+q+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,d=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,y="",v=0;v<p.length;v++)y+=String.fromCharCode(p[v]);var E=d();f({data:y,addLength1:!0,objectId:E}),u("endobj");var A=d();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var S=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Am(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var I=0;I<l.metadata.hmtx.widths.length;I++)l.metadata.hmtx.widths[I]=parseInt(l.metadata.hmtx.widths[I]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Am(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,d=a.y,f=a.options||{},p=a.mutex||{},y=p.pdfEscape,v=p.activeFontKey,E=p.fonts,A=v,S="",I=0,q="",k=E[A].encoding;if(E[A].encoding!=="Identity-H")return{text:l,x:u,y:d,options:f,mutex:p};for(q=l,A=v,Array.isArray(l)&&(q=l[0]),I=0;I<q.length;I+=1)E[A].metadata.hasOwnProperty("cmap")&&(s=E[A].metadata.cmap.unicode.codeMap[q[I].charCodeAt(0)]),s||q[I].charCodeAt(0)<256&&E[A].metadata.hasOwnProperty("Unicode")?S+=q[I]:S+="";var B="";return parseInt(A.slice(1))<14||k==="WinAnsiEncoding"?B=y(S,A).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(B=n(S,E[A])),p.isHex=!0,{text:B,x:u,y:d,options:f,mutex:p}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},u,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},u,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])})(Ht),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Ht.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,l,u,d,f,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,k=0;this.__bidiEngine__={};var B=function(P){var F=P.charCodeAt(),V=F>>8,ee=A[V];return ee!==void 0?p[256*ee+(255&F)]:V===252||V===253?"AL":I.test(V)?"L":V===8?"R":"N"},$=function(P){for(var F,V=0;V<P.length;V++){if((F=B(P.charAt(V)))==="L")return!1;if(F==="R")return!0}return!1},K=function(P,F,V,ee){var ge,se,fe,me,xe=F[ee];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"N":case"AN":break;case"EN":q&&(xe="AN");break;case"AL":q=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":ee<1||ee+1>=F.length||(ge=V[ee-1])!=="EN"&&ge!=="AN"||(se=F[ee+1])!=="EN"&&se!=="AN"?xe="N":q&&(se="AN"),xe=se===ge?se:"N";break;case"ES":xe=(ge=ee>0?V[ee-1]:"B")==="EN"&&ee+1<F.length&&F[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&V[ee-1]==="EN"){xe="EN";break}if(q){xe="N";break}for(fe=ee+1,me=F.length;fe<me&&F[fe]==="ET";)fe++;xe=fe<me&&F[fe]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(me=F.length,fe=ee+1;fe<me&&F[fe]==="NSM";)fe++;if(fe<me){var Ue=P[ee],ne=Ue>=1425&&Ue<=2303||Ue===64286;if(ge=F[fe],ne&&(ge==="R"||ge==="AL")){xe="R";break}}}xe=ee<1||(ge=F[ee-1])==="B"?"N":V[ee-1];break;case"B":q=!1,i=!0,xe=k;break;case"S":a=!0,xe="N"}return xe},L=function(P,F,V){var ee=P.split("");return V&&j(ee,V,{hiLevel:k}),ee.reverse(),F&&F.reverse(),ee.join("")},j=function(P,F,V){var ee,ge,se,fe,me,xe=-1,Ue=P.length,ne=0,M=[],X=k?v:y,Z=[];for(q=!1,i=!1,a=!1,ge=0;ge<Ue;ge++)Z[ge]=B(P[ge]);for(se=0;se<Ue;se++){if(me=ne,M[se]=K(P,Z,M,se),ee=240&(ne=X[me][E[M[se]]]),ne&=15,F[se]=fe=X[ne][5],ee>0)if(ee===16){for(ge=xe;ge<se;ge++)F[ge]=1;xe=-1}else xe=-1;if(X[ne][6])xe===-1&&(xe=se);else if(xe>-1){for(ge=xe;ge<se;ge++)F[ge]=fe;xe=-1}Z[se]==="B"&&(F[se]=0),V.hiLevel|=fe}a&&(function(de,pe,ye){for(var Pe=0;Pe<ye;Pe++)if(de[Pe]==="S"){pe[Pe]=k;for(var he=Pe-1;he>=0&&de[he]==="WS";he--)pe[he]=k}})(Z,F,Ue)},D=function(P,F,V,ee,ge){if(!(ge.hiLevel<P)){if(P===1&&k===1&&!i)return F.reverse(),void(V&&V.reverse());for(var se,fe,me,xe,Ue=F.length,ne=0;ne<Ue;){if(ee[ne]>=P){for(me=ne+1;me<Ue&&ee[me]>=P;)me++;for(xe=ne,fe=me-1;xe<fe;xe++,fe--)se=F[xe],F[xe]=F[fe],F[fe]=se,V&&(se=V[xe],V[xe]=V[fe],V[fe]=se);ne=me}ne++}}},G=function(P,F,V){var ee=P.split(""),ge={hiLevel:k};return V||(V=[]),j(ee,V,ge),(function(se,fe,me){if(me.hiLevel!==0&&f)for(var xe,Ue=0;Ue<se.length;Ue++)fe[Ue]===1&&(xe=S.indexOf(se[Ue]))>=0&&(se[Ue]=S[xe+1])})(ee,V,ge),D(2,ee,F,V,ge),D(1,ee,F,V,ge),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(P,F,V){if((function(ge,se){if(se)for(var fe=0;fe<ge.length;fe++)se[fe]=fe;l===void 0&&(l=$(ge)),d===void 0&&(d=$(ge))})(P,F),s||!u||d)if(s&&u&&l^d)k=l?1:0,P=L(P,F,V);else if(!s&&u&&d)k=l?1:0,P=G(P,F,V),P=L(P,F);else if(!s||l||u||d){if(s&&!u&&l^d)P=L(P,F),l?(k=0,P=G(P,F,V)):(k=1,P=G(P,F,V),P=L(P,F));else if(s&&l&&!u&&d)k=1,P=G(P,F,V),P=L(P,F);else if(!s&&!u&&l^d){var ee=f;l?(k=1,P=G(P,F,V),k=0,f=!1,P=G(P,F,V),f=ee):(k=0,P=G(P,F,V),P=L(P,F),k=1,f=!1,P=G(P,F,V),f=ee,P=L(P,F))}}else k=0,P=G(P,F,V);else k=l?1:0,P=G(P,F,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,u=P.isOutputVisual,l=P.isInputRtl,d=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Ht),Ht.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Uf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Iwe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pwe(this.contents),this.head=new gwe(this),this.name=new _we(this),this.cmap=new L$(this),this.toUnicode={},this.hhea=new vwe(this),this.maxp=new wwe(this),this.hmtx=new Ewe(this),this.post=new bwe(this),this.os2=new ywe(this),this.loca=new Nwe(this),this.glyf=new Awe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,d;for(d=[],s=0,l=(u=this.bbox).length;s<l;s++)e=u[s],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var gc,Uf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,l,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),pwe=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,l,u,d,f,p,y,v,E,A;for(A in v=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(v)/u),s=Math.floor(p/u),f=16*v-p,(i=new Uf).writeInt(this.scalarType),i.writeShort(v),i.writeShort(p),i.writeShort(s),i.writeShort(f),a=16*v,d=i.pos+a,l=null,E=[],n)for(y=n[A],i.writeString(A),i.writeInt(t(y)),i.writeInt(d),i.writeInt(y.length),E=E.concat(y),A==="head"&&(l=d),d+=y.length;d%4;)E.push(0),d++;return i.write(E),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=M$.call(n);n.length%4;)n.push(0);for(a=new Uf(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),mwe={}.hasOwnProperty,gu=function(t,e){for(var n in e)mwe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};gc=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var gwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Uf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),fM=(function(){function t(e,n){var r,i,a,s,l,u,d,f,p,y,v,E,A,S,I,q,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(v=e.readUInt16(),y=v/2,e.pos+=6,a=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),e.pos+=2,A=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),d=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),f=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var B,$;for($=[],u=B=0;0<=i?B<i:B>i;u=0<=i?++B:--B)$.push(e.readUInt16());return $})(),u=I=0,k=a.length;I<k;u=++I)for(S=a[u],r=q=E=A[u];E<=S?q<=S:q>=S;r=E<=S?++q:--q)f[u]===0?s=r+d[u]:(s=l[f[u]/2+(r-E)-(y-u)]||0)!==0&&(s+=d[u]),this.codeMap[r]=65535&s}e.pos=p}return t.encode=function(e,n){var r,i,a,s,l,u,d,f,p,y,v,E,A,S,I,q,k,B,$,K,L,j,D,G,P,F,V,ee,ge,se,fe,me,xe,Ue,ne,M,X,Z,de,pe,ye,Pe,he,Ce,Ve,Se;switch(ee=new Uf,s=Object.keys(e).sort(function(rt,it){return rt-it}),n){case"macroman":for(A=0,S=(function(){var rt=[];for(E=0;E<256;++E)rt.push(0);return rt})(),q={0:0},a={},ge=0,xe=s.length;ge<xe;ge++)q[he=e[i=s[ge]]]==null&&(q[he]=++A),a[i]={old:e[i],new:q[e[i]]},S[i]=q[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(S),{charMap:a,subtable:ee.data,maxGlyphID:A+1};case"unicode":for(F=[],p=[],k=0,q={},r={},I=d=null,se=0,Ue=s.length;se<Ue;se++)q[$=e[i=s[se]]]==null&&(q[$]=++k),r[i]={old:$,new:q[$]},l=q[$]-i,I!=null&&l===d||(I&&p.push(I),F.push(i),d=l),I=i;for(I&&p.push(I),p.push(65535),F.push(65535),G=2*(D=F.length),j=2*Math.pow(Math.log(D)/Math.LN2,2),y=Math.log(j/2)/Math.LN2,L=2*D-j,u=[],K=[],v=[],E=fe=0,ne=F.length;fe<ne;E=++fe){if(P=F[E],f=p[E],P===65535){u.push(0),K.push(0);break}if(P-(V=r[P].new)>=32768)for(u.push(0),K.push(2*(v.length+D-E)),i=me=P;P<=f?me<=f:me>=f;i=P<=f?++me:--me)v.push(r[i].new);else u.push(V-P),K.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*D+2*v.length),ee.writeUInt16(0),ee.writeUInt16(G),ee.writeUInt16(j),ee.writeUInt16(y),ee.writeUInt16(L),ye=0,M=p.length;ye<M;ye++)i=p[ye],ee.writeUInt16(i);for(ee.writeUInt16(0),Pe=0,X=F.length;Pe<X;Pe++)i=F[Pe],ee.writeUInt16(i);for(Ce=0,Z=u.length;Ce<Z;Ce++)l=u[Ce],ee.writeUInt16(l);for(Ve=0,de=K.length;Ve<de;Ve++)B=K[Ve],ee.writeUInt16(B);for(Se=0,pe=v.length;Se<pe;Se++)A=v[Se],ee.writeUInt16(A);return{charMap:r,subtable:ee.data,maxGlyphID:k+1}}},t})(),L$=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new fM(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=fM.encode(e,n),(i=new Uf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),vwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),ywe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),bwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,l,u;for(u=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)u.push(e.readUInt32());return u}).call(this)}},t})(),xwe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_we=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,l,u,d,f,p,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},a=f=0,p=r.length;f<p;a=++f)i=r[a],e.pos=i.offset,d=e.readString(i.length),s=new xwe(d,i),u[y=i.nameID]==null&&(u[y]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),wwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Ewe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,l,u;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,p,y;for(y=[],d=0,f=(p=this.metrics).length;d<f;d++)a=p[d],y.push(a.advance);return y}).call(this),r=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),M$=[].slice,Awe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,l,u,d,f,p;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(l=new Uf(n.read(i))).readShort(),d=l.readShort(),p=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[e]=s===-1?new Twe(l,d,p,u,f):new Swe(l,s,d,p,u,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,l,u;for(s=[],a=[],l=0,u=n.length;l<u;l++)i=e[n[l]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t})(),Swe=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Twe=(function(){function t(e,n,r,i,a){var s,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Uf(M$.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Nwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var d=new Array(4*r.length),f=0;f<r.length;++f)d[4*f+3]=255&r[f],d[4*f+2]=(65280&r[f])>>8,d[4*f+1]=(16711680&r[f])>>16,d[4*f]=(4278190080&r[f])>>24;return d},t})(),Iwe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,l,u;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))r=u[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,l,u,d,f,p,y,v,E,A,S,I;for(i in r=L$.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),v={0:0},I=r.charMap)v[(u=I[i]).old]=u.new;for(E in y=r.maxGlyphID,s)E in v||(v[E]=y++);return f=(function(q){var k,B;for(k in B={},q)B[q[k]]=k;return B})(v),p=Object.keys(f).sort(function(q,k){return q-k}),A=(function(){var q,k,B;for(B=[],q=0,k=p.length;q<k;q++)l=p[q],B.push(f[l]);return B})(),a=this.font.glyf.encode(s,A,v),d=this.font.loca.encode(a.offsets,A),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t})();Ht.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,u,d;for(d=[],l=0,u=n.length;l<u;l++)r=n[l],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();function F$(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,l=i.internal.getFontSize()/s,u=i.getLineHeightFactor?i.getLineHeightFactor():a,d=l*u,f=/\r\n|\r|\n/g,p="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof t=="string"?t.split(f):t,y=p.length||1),n+=l*(2-a),r.valign==="middle"?n-=y/2*d:r.valign==="bottom"&&(n-=y*d),r.halign==="center"||r.halign==="right"){var v=l;if(r.halign==="center"&&(v*=.5),p&&y>=1){for(var E=0;E<p.length;E++)i.text(p[E],e-i.getStringUnitWidth(p[E])*v,n),n+=d;return i}e-=i.getStringUnitWidth(t)*v}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var hM={},qm=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:hM=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,u=s.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return hM||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),VT=function(t,e){return VT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},VT(t,e)};function U$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");VT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var B$=(function(t){U$(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e})(Array);function Cwe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Pwe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function xx(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function V$(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=z$(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function z$(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function ew(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function q$(t,e){var n=ew(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Owe(t,e,n,r,i){var a={},s=1.3333333333333333,l=BA(e,function(k){return i.getComputedStyle(k).backgroundColor});l!=null&&(a.fillColor=l);var u=BA(e,function(k){return i.getComputedStyle(k).color});u!=null&&(a.textColor=u);var d=Dwe(r,n);d&&(a.cellPadding=d);var f="borderTopColor",p=s*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var v=(parseFloat(y)||0)/p;v&&(a.lineWidth=v)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var E=BA(e,function(k){return i.getComputedStyle(k)[f]});E!=null&&(a.lineColor=E);var A=["left","right","center","justify"];A.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),A=["middle","bottom","top"],A.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var S=parseInt(r.fontSize||"");isNaN(S)||(a.fontSize=S/s);var I=Rwe(r);I&&(a.fontStyle=I);var q=(r.fontFamily||"").toLowerCase();return t.indexOf(q)!==-1&&(a.font=q),a}function Rwe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function BA(t,e){var n=H$(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function H$(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:H$(t.parentElement,e):n}function Dwe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(l){return parseInt(l||"0")/r}),s=ew(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function $$(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var u=Object.keys(t.getFontList()),d=t.scaleFactor(),f=[],p=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:y};for(var v=0;v<l.rows.length;v++){var E=l.rows[v],A=(s=(a=E==null?void 0:E.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),S=kwe(u,d,n,E,r,i);S&&(A==="thead"?f.push(S):A==="tfoot"?y.push(S):p.push(S))}return{head:f,body:p,foot:y}}function kwe(t,e,n,r,i,a){for(var s=new B$(r),l=0;l<r.cells.length;l++){var u=r.cells[l],d=n.getComputedStyle(u);if(i||d.display!=="none"){var f=void 0;a&&(f=Owe(t,u,e,d,n)),s.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:jwe(u)})}}var p=n.getComputedStyle(r);if(s.length>0&&(i||p.display!=="none"))return s}function jwe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Lwe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Zu(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])}return a}function G$(t,e){var n=new qm(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Lwe(i,r,e);var a=Zu({},i,r,e),s;typeof window<"u"&&(s=window);var l=Mwe(i,r,e),u=Fwe(i,r,e),d=Uwe(n,a),f=Vwe(n,a,s);return{id:e.tableId,content:f,hooks:u,styles:l,settings:d}}function Mwe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var d=t[u],f=e[u],p=n[u];r.columnStyles=Zu({},d,f,p)}else{var y=[t,e,n],v=y.map(function(E){return E[u]||{}});r[u]=Zu({},v[0],v[1],v[2])}},a=0,s=Object.keys(r);a<s.length;a++){var l=s[a];i(l)}return r}function Fwe(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var l=s[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Uwe(t,e){var n,r,i,a,s,l,u,d,f,p,y,v,E=ew(e.margin,40/t.scaleFactor()),A=(n=Bwe(t,e.startY))!==null&&n!==void 0?n:E.top,S;e.showFoot===!0?S="everyPage":e.showFoot===!1?S="never":S=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var I;e.showHead===!0?I="everyPage":e.showHead===!1?I="never":I=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var q=(a=e.useCss)!==null&&a!==void 0?a:!1,k=e.theme||(q?"plain":"striped"),B=!!e.horizontalPageBreak,$=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:q,theme:k,startY:A,margin:E,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:I,showFoot:S,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:B,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(v=e.horizontalPageBreakBehaviour)!==null&&v!==void 0?v:"afterAllRows"}}function Bwe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Vwe(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var l=$$(t,e.html,n,s,e.useCss)||{};r=l.head||r,i=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||zwe(r,i,a);return{columns:u,head:r,body:i,foot:a}}function zwe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,l;Array.isArray(r)?l=r[parseInt(a)]:l=r[a],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var u=0;u<s;u++){var d=void 0;Array.isArray(r)?d=i.length:d=a+(u>0?"_".concat(u):"");var f={dataKey:d};i.push(f)}}),i}var zT=(function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t})(),qwe=(function(t){U$(e,t);function e(n,r,i,a,s,l){var u=t.call(this,n,r,l)||this;return u.cell=i,u.row=a,u.column=s,u.section=a.section,u}return e})(zT),Hwe=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var l=0,u=n;l<u.length;l++){var d=u[l],f=new qwe(e,this,r,i,a,s),p=d(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new zT(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new zT(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t})(),Y$=(function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof B$&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var l=n.getLineHeight(s.styles.fontSize),u=s.padding("vertical"),d=u+l;return d>i?d:i},0)},t})(),W$=(function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=ew(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),$we=(function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t})();function Gwe(t,e){Ywe(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=qT(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=qT(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Kwe(e),Xwe(e,t),Wwe(e)}function Ywe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=q$(t,e);e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var u=l[s],d=a.cells[u.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(t,f,d,a,u,null);var p=d.padding("horizontal");d.contentWidth=xx(d.text,d.styles,t)+p;var y=xx(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=y+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var v=10/n;d.minWidth=d.styles.minCellWidth||v,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var u=l[s],d=a.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function qT(t,e,n){for(var r=e,i=t.reduce(function(v,E){return v+E.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],l=s.wrappedWidth/i,u=r*l,d=s.width+u,f=n(s),p=d<f?f:d;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(v){return e<0?v.width>n(v):!0});y.length&&(e=qT(y,e,n))}return e}function Wwe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,l=t.columns;s<l.length;s++){var u=l[s],d=e[u.index];if(n>1)n--,delete a.cells[u.index];else if(d)d.cell.height+=a.height,n=d.cell.colSpan,delete a.cells[u.index],d.left--,d.left<=1&&delete e[u.index];else{var f=a.cells[u.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var p=r.length-i,y=f.rowSpan>p?p:f.rowSpan;e[u.index]={cell:f,left:y,row:a}}}}}function Kwe(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,l=0;l<t.columns.length;l++){var u=t.columns[l];if(s-=1,s>1&&t.columns[l+1])a+=u.width,delete r.cells[u.index];else if(i){var d=i;delete r.cells[u.index],i=null,d.width=u.width+a}else{var d=r.cells[u.index];if(!d)continue;if(s=d.colSpan,a=0,d.colSpan>1){i=d,a+=u.width;continue}d.width=u.width+a}}}function Xwe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,l=t.columns;s<l.length;s++){var u=l[s],d=a.cells[u.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=pM(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=pM(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var p=d.styles.overflow(d.text,f);typeof p=="string"?d.text=[p]:d.text=p}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<y*d.rowSpan?n={height:y,count:d.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>a.height&&(a.height=y)}}n.count--}}function pM(t,e,n,r,i){return t.map(function(a){return Qwe(a,e,n,r,i)})}function Qwe(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=xx(t,n,r))return t;for(;e<xx(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function K$(t,e){var n=new qm(t),r=Jwe(e,n.scaleFactor()),i=new Hwe(e,r);return Gwe(n,i),n.applyStyles(n.userStyles),i}function Jwe(t,e){var n=t.content,r=e5e(n.columns);if(n.head.length===0){var i=mM(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=mM(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:VA("head",n.head,r,s,a,e),body:VA("body",n.body,r,s,a,e),foot:VA("foot",n.foot,r,s,a,e)}}function VA(t,e,n,r,i,a){var s={},l=e.map(function(u,d){for(var f=0,p={},y=0,v=0,E=0,A=n;E<A.length;E++){var S=A[E];if(s[S.index]==null||s[S.index].left===0)if(v===0){var I=void 0;Array.isArray(u)?I=u[S.index-y-f]:I=u[S.dataKey];var q={};typeof I=="object"&&!Array.isArray(I)&&(q=(I==null?void 0:I.styles)||{});var k=t5e(t,S,d,i,r,a,q),B=new W$(I,k,t);p[S.dataKey]=B,p[S.index]=B,v=B.colSpan-1,s[S.index]={left:B.rowSpan-1,times:v}}else v--,y++;else s[S.index].left--,v=s[S.index].times,f++}return new Y$(u,d,t,p)});return l}function mM(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Zwe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Zwe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function e5e(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new $we(i,e,n)})}function t5e(t,e,n,r,i,a,s){var l=Pwe(r),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var d=Zu({},l.table,l[t],i.styles,u),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?f:{},y=t==="body"&&n%2===0?Zu({},l.alternateRow,i.alternateRowStyles):{},v=Cwe(a),E=Zu({},v,d,y,p);return Zu(E,s)}function n5e(t,e,n){var r;n===void 0&&(n={});var i=q$(t,e),a=new Map,s=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var v=e.columns.find(function(E){return E.dataKey===y||E.index===y});v&&!a.has(v.index)&&(a.set(v.index,!0),s.push(v.index),l.push(e.columns[v.index]),i-=v.wrappedWidth)});for(var d=!0,f=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(a.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(d||i>=p)d=!1,s.push(f),l.push(e.columns[f]),i-=p;else break;f++}return{colIndexes:s,columns:l,lastIndex:f-1}}function r5e(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=n5e(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function X$(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+s;if(n.pageBreak==="avoid"){var u=e.body,d=u.reduce(function(y,v){return y+v.height},0);l+=d}var f=new qm(t);(n.pageBreak==="always"||n.startY!=null&&l>f.pageSize().height)&&(J$(f),a.y=i.top),e.callWillDrawPageHooks(f,a);var p=Zu({},a);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?i5e(f,e,p,a):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(y){return pd(f,e,y,a,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(y,v){var E=v===e.body.length-1;_x(f,e,y,E,p,a,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(y){return pd(f,e,y,a,e.columns)})),V$(f,e,p,a),e.callEndPageHooks(f,a),e.finalY=a.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function i5e(t,e,n,r){var i=r5e(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){t.applyStyles(t.userStyles),f>0?_y(t,e,n,r,d.columns,!0):gM(t,e,r,d.columns),a5e(t,e,n,r,d.columns),zA(t,e,r,d.columns)});else for(var s=-1,l=i[0],u=function(){var d=s;if(l){t.applyStyles(t.userStyles);var f=l.columns;s>=0?_y(t,e,n,r,f,!0):gM(t,e,r,f),d=vM(t,e,s+1,r,f),zA(t,e,r,f)}var p=d-s;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),_y(t,e,n,r,y.columns,!0),vM(t,e,s+1,r,y.columns,p),zA(t,e,r,y.columns)}),s=d};s<e.body.length-1;)u()}function gM(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return pd(t,e,a,n,r)})}function a5e(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var l=s===e.body.length-1;_x(t,e,a,l,n,r,i)})}function vM(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),l=-1;return e.body.slice(n,s).forEach(function(u,d){var f=n+d===e.body.length-1,p=Q$(t,e,f,r);u.canEntireRowFit(p,i)&&(pd(t,e,u,r,i),l=n+d)}),l}function zA(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return pd(t,e,a,n,r)})}function s5e(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function o5e(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,l=n.columns;s<l.length;s++){var u=l[s],d=t.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new W$(d.raw,d.styles,d.section);f=Zu(f,d),f.text=[];var p=s5e(d,e,r);d.text.length>p&&(f.text=d.text.splice(p,d.text.length));var y=r.scaleFactor(),v=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(y,v),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),f.contentHeight=f.getContentHeight(y,v),f.contentHeight>a&&(a=f.contentHeight),i[u.index]=f}}var E=new Y$(t.raw,-1,t.section,i,!0);E.height=a;for(var A=0,S=n.columns;A<S.length;A++){var u=S[A],f=E.cells[u.index];f&&(f.height=E.height);var d=t.cells[u.index];d&&(d.height=t.height)}return E}function l5e(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,l=i-s;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,t),d=u<n;if(u>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>l;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function _x(t,e,n,r,i,a,s){var l=Q$(t,e,r,a);if(n.canEntireRowFit(l,s))pd(t,e,n,a,s);else if(l5e(t,n,l,e)){var u=o5e(n,l,e,t);pd(t,e,n,a,s),_y(t,e,i,a,s),_x(t,e,u,r,i,a,s)}else _y(t,e,i,a,s),_x(t,e,n,r,i,a,s)}function pd(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],u=n.cells[l.index];if(!u){r.x+=l.width;continue}t.applyStyles(u.styles),u.x=r.x,u.y=r.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,u,n,l,r);if(d===!1){r.x+=l.width;continue}c5e(t,u,r);var f=u.getTextPos();F$(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,u,n,l,r),r.x+=l.width}r.y+=n.height}function c5e(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=z$(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),u5e(t,e,n,r.lineWidth))}function u5e(t,e,n,r){var i,a,s,l;r.top&&(i=n.x,a=n.y,s=n.x+e.width,l=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,a,s,l)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,l=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,a,s,l)),r.left&&(i=n.x,a=n.y,s=n.x,l=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.left,i,a,s,l)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,l=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.right,i,a,s,l));function u(d,f,p,y,v){t.getDocument().setLineWidth(d),t.getDocument().line(f,p,y,v,"S")}}function Q$(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function _y(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return pd(t,e,l,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;V$(t,e,n,r),J$(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return pd(t,e,l,r,i)}),t.applyStyles(t.userStyles))}function J$(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function d5e(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=G$(this,r),a=K$(this,i);return X$(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){F$(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return qm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){qm.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new qm(this),a=$$(i,e,window,n,!1),s=a.head,l=a.body,u=((r=s[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:u,rows:l,data:l}}}var qA;function u0(t,e){var n=G$(t,e),r=K$(t,n);X$(t,r)}try{if(typeof window<"u"&&window){var yM=window,bM=yM.jsPDF||((qA=yM.jspdf)===null||qA===void 0?void 0:qA.jsPDF);bM&&d5e(bM)}}catch(t){console.error("Could not apply autoTable plugin",t)}const d0=t=>!t.data||t.data.length===0?null:t.data[t.data.length-1].timestamp/1e3,wx=t=>!t.data||t.data.length===0?0:Math.max(...t.data.map(e=>e.speed)),Z$=t=>{const e=[];return[10,20,30,40,50,60].forEach(r=>{const i=t.findIndex(a=>a.distance>=r);if(i!==-1)if(i===0)e.push({distance:r,time:t[i].timestamp/1e3,speed:t[i].speed});else{const a=t[i-1],s=t[i],l=(r-a.distance)/(s.distance-a.distance),u=a.timestamp+l*(s.timestamp-a.timestamp),d=a.speed+l*(s.speed-a.speed);e.push({distance:r,time:u/1e3,speed:d})}}),e},eG=(t,e=800,n=500)=>{const r=document.createElement("canvas");r.width=e,r.height=n;const i=r.getContext("2d");i.fillStyle="#FFFFFF",i.fillRect(0,0,e,n);const a=Math.max(...t.map(E=>E.distance)),s=Math.max(...t.map(E=>E.speed)),l=Math.ceil(s*1.1),u=80,d=e-2*u,f=n-2*u;i.strokeStyle="#E9E9E7",i.lineWidth=2;for(let E=0;E<=10;E++){const A=u+f/10*E;i.beginPath(),i.moveTo(u,A),i.lineTo(e-u,A),i.stroke()}for(let E=0;E<=10;E++){const A=u+d/10*E;i.beginPath(),i.moveTo(A,u),i.lineTo(A,n-u),i.stroke()}i.strokeStyle="#37352F",i.lineWidth=3,i.beginPath(),i.moveTo(u,u),i.lineTo(u,n-u),i.lineTo(e-u,n-u),i.stroke(),i.strokeStyle="#3B82F6",i.lineWidth=4,i.lineCap="round",i.lineJoin="round",i.beginPath(),t.forEach((E,A)=>{const S=u+E.distance/a*d,I=n-u-E.speed/l*f;A===0?i.moveTo(S,I):i.lineTo(S,I)}),i.stroke(),i.fillStyle="rgba(59, 130, 246, 0.15)",i.beginPath(),i.moveTo(u,n-u),t.forEach(E=>{const A=u+E.distance/a*d,S=n-u-E.speed/l*f;i.lineTo(A,S)}),i.lineTo(u+d,n-u),i.closePath(),i.fill(),i.fillStyle="#1E40AF",t.forEach(E=>{const A=u+E.distance/a*d,S=n-u-E.speed/l*f;i.beginPath(),i.arc(A,S,3,0,Math.PI*2),i.fill()}),i.fillStyle="#37352F",i.font="bold 18px Arial",i.textAlign="center",i.fillText("Velocity Profile",e/2,30),i.font="bold 16px Arial",i.fillText("Distance (meters)",e/2,n-15),i.save(),i.translate(20,n/2),i.rotate(-Math.PI/2),i.fillText("Speed (m/s)",0,0),i.restore(),i.font="14px Arial",i.fillStyle="#37352F",i.textAlign="right",i.textBaseline="middle";for(let E=0;E<=10;E++){const A=l/10*(10-E),S=u+f/10*E;i.fillText(A.toFixed(1),u-15,S)}i.textAlign="center",i.textBaseline="top";for(let E=0;E<=10;E++){const A=a/10*E,S=u+d/10*E;i.fillText(A.toFixed(0),S,n-u+10)}const p=t.reduce((E,A)=>A.speed>E.speed?A:E,t[0]),y=u+p.distance/a*d,v=n-u-p.speed/l*f;return i.strokeStyle="#EF4444",i.lineWidth=2,i.setLineDash([5,5]),i.beginPath(),i.moveTo(y,v),i.lineTo(y,n-u),i.stroke(),i.setLineDash([]),i.fillStyle="#EF4444",i.font="bold 14px Arial",i.textAlign="center",i.fillText(`Max: ${p.speed.toFixed(2)} m/s`,y,v-15),r.toDataURL("image/png")},h4=(t,e)=>{t.setFillColor(55,53,47),t.rect(0,0,t.internal.pageSize.width,35,"F"),t.setTextColor(255,255,255),t.setFontSize(20),t.setFont("helvetica","bold"),t.text("LaserSpeed Pro",14,15),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(e,14,25),t.setFontSize(9),t.text(`Generated: ${new Date().toLocaleDateString()}`,t.internal.pageSize.width-14,15,{align:"right"}),t.setTextColor(0,0,0)},gf=(t,e)=>{const n=t.internal.pageSize.height;t.setFontSize(8),t.setTextColor(155,154,151),t.text(`Page ${e}  LaserSpeed Pro Report`,t.internal.pageSize.width/2,n-10,{align:"center"})},f5e=(t,e,n)=>{const r=new Ht;let i=45,a=1;h4(r,"Detailed Training Session Report"),r.setFontSize(16),r.setFont("helvetica","bold"),r.text(t.name,14,i),i+=8,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(120,119,116),r.text(`Date: ${new Date(t.date).toLocaleDateString()} ${new Date(t.date).toLocaleTimeString()}`,14,i),i+=5,r.text(`Total Runs: ${t.runs.length}`,14,i),i+=5,r.text(`Athletes: ${t.athleteIds.length}`,14,i),i+=10,r.setTextColor(0,0,0),t.runs.forEach((u,d)=>{var A;const f=e.find(S=>S.id===u.athleteId),p=d0(u),y=wx(u),v=((A=Ps[u.config.type])==null?void 0:A.label)||u.config.type,E=Z$(u.data);if(i>220&&(gf(r,a),r.addPage(),a++,i=20),r.setFillColor(247,247,245),r.rect(14,i-5,r.internal.pageSize.width-28,8,"F"),r.setFontSize(11),r.setFont("helvetica","bold"),r.text(`Run #${t.runs.length-d}: ${(f==null?void 0:f.name)||"Unknown"} - ${v}`,16,i),i+=10,r.setFontSize(9),r.setFont("helvetica","normal"),r.text(`Time: ${p?p.toFixed(3)+"s":"N/A"}`,16,i),r.text(`Max Speed: ${y.toFixed(2)} m/s`,70,i),r.text(`Date: ${new Date(u.date).toLocaleTimeString()}`,130,i),i+=5,u.notes&&(r.setTextColor(120,119,116),r.text(`Notes: ${u.notes}`,16,i),r.setTextColor(0,0,0),i+=5),i+=3,E.length>0){const S=E.map(I=>[`${I.distance}m`,`${I.time.toFixed(3)}s`,`${I.speed.toFixed(2)} m/s`]);u0(r,{startY:i,head:[["Distance","Time","Speed at Split"]],body:S,theme:"plain",headStyles:{fillColor:[233,233,231],textColor:[55,53,47],fontStyle:"bold",fontSize:8},bodyStyles:{fontSize:8,textColor:[55,53,47]},margin:{left:16,right:16},tableWidth:80}),i=r.lastAutoTable.finalY+5}if(u.data.length>0){i>180&&(gf(r,a),r.addPage(),a++,i=20);try{const S=eG(u.data);r.addImage(S,"PNG",10,i,190,120),i+=125}catch(S){console.error("Failed to generate graph:",S)}}i+=5}),i>200&&(gf(r,a),r.addPage(),a++,i=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Session Summary",14,i),i+=10;const s=new Map;if(t.runs.forEach(u=>{var v;const d=e.find(E=>E.id===u.athleteId),f=d0(u);if(!d||!f)return;const p=`${u.athleteId}_${u.config.type}`,y=s.get(p);(!y||f<y.time)&&s.set(p,{athlete:d.name,testType:((v=Ps[u.config.type])==null?void 0:v.label)||u.config.type,time:f})}),s.size>0){const u=Array.from(s.values()).map(d=>[d.athlete,d.testType,`${d.time.toFixed(3)}s`]);u0(r,{startY:i,head:[["Athlete","Test Type","Best Time"]],body:u,theme:"striped",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[240,253,244]},margin:{left:14,right:14}})}const l=r.internal.getNumberOfPages();for(let u=1;u<=l;u++)r.setPage(u),gf(r,u);r.save(`${t.name.replace(/\s/g,"_")}_Detailed_Report.pdf`)},h5e=(t,e,n)=>{const r=new Ht;let i=45,a=1;if(h4(r,"Comprehensive Athlete Report"),r.setFontSize(18),r.setFont("helvetica","bold"),r.text(t.name,14,i),i+=10,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(120,119,116),t.email&&(r.text(`Email: ${t.email}`,14,i),i+=5),t.gender&&(r.text(`Gender: ${t.gender}`,14,i),i+=5),t.primaryEvent&&(r.text(`Primary Event: ${t.primaryEvent}`,14,i),i+=5),t.dob){const d=new Date().getFullYear()-new Date(t.dob).getFullYear();r.text(`Age: ${d} years`,14,i),i+=5}i+=8,r.setTextColor(0,0,0);const s=e.flatMap(d=>d.runs.map(f=>({...f,sessionDate:d.date,sessionName:d.name}))).filter(d=>d.athleteId===t.id).sort((d,f)=>new Date(f.sessionDate).getTime()-new Date(d.sessionDate).getTime());r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Career Statistics",14,i),i+=8,r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Total Runs: ${s.length}`,14,i),i+=5,r.text(`Sessions: ${new Set(s.map(d=>d.sessionDate)).size}`,14,i),i+=5,r.text(`Test Types: ${new Set(s.map(d=>d.config.type)).size}`,14,i),i+=10,r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Personal Bests",14,i),i+=8;const l=new Map;if(s.forEach(d=>{var v;const f=d0(d),p=wx(d);if(!f)return;const y=l.get(d.config.type);(!y||f<y.time)&&l.set(d.config.type,{testType:((v=Ps[d.config.type])==null?void 0:v.label)||d.config.type,time:f,date:d.sessionDate,maxSpeed:p})}),l.size>0){const d=Array.from(l.values()).map(f=>[f.testType,`${f.time.toFixed(3)}s`,`${f.maxSpeed.toFixed(2)} m/s`,new Date(f.date).toLocaleDateString()]);u0(r,{startY:i,head:[["Test Type","Best Time","Max Speed","Date"]],body:d,theme:"striped",headStyles:{fillColor:[55,53,47],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[247,247,245]},margin:{left:14,right:14}}),i=r.lastAutoTable.finalY+10}s.length>0&&(i>200&&(gf(r,a),r.addPage(),a++,i=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Recent Runs (Detailed)",14,i),i+=10,s.slice(0,5).forEach((f,p)=>{var S;i>200&&(gf(r,a),r.addPage(),a++,i=20);const y=d0(f),v=wx(f),E=((S=Ps[f.config.type])==null?void 0:S.label)||f.config.type,A=Z$(f.data);if(r.setFillColor(247,247,245),r.rect(14,i-5,r.internal.pageSize.width-28,8,"F"),r.setFontSize(11),r.setFont("helvetica","bold"),r.text(`${E} - ${new Date(f.sessionDate).toLocaleDateString()}`,16,i),i+=10,r.setFontSize(9),r.setFont("helvetica","normal"),r.text(`Time: ${y?y.toFixed(3)+"s":"N/A"}  |  Max Speed: ${v.toFixed(2)} m/s`,16,i),i+=5,f.notes&&(r.setTextColor(120,119,116),r.text(`Notes: ${f.notes}`,16,i),r.setTextColor(0,0,0),i+=5),i+=3,A.length>0&&i<230){const I=A.map(q=>[`${q.distance}m`,`${q.time.toFixed(3)}s`,`${q.speed.toFixed(2)} m/s`]);u0(r,{startY:i,head:[["Distance","Time","Speed"]],body:I,theme:"plain",headStyles:{fillColor:[233,233,231],textColor:[55,53,47],fontStyle:"bold",fontSize:8},bodyStyles:{fontSize:8},margin:{left:16},tableWidth:70}),i=r.lastAutoTable.finalY+5}if(f.data.length>0&&i<160)try{const I=eG(f.data);r.addImage(I,"PNG",10,i,190,120),i+=125}catch(I){console.error("Failed to generate graph:",I)}i+=10}));const u=r.internal.getNumberOfPages();for(let d=1;d<=u;d++)r.setPage(d),gf(r,d);r.save(`${t.name.replace(/\s/g,"_")}_Comprehensive_Report.pdf`)},p5e=(t,e,n,r)=>{const i=new Ht;let a=45;h4(i,"Athletes Comparison Report"),i.setFontSize(14),i.setFont("helvetica","bold"),i.text(`${r} Comparison`,14,a),a+=8,i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(120,119,116),i.text(`Comparing ${t.length} Athletes`,14,a),a+=10,i.setTextColor(0,0,0);const s=t.map(l=>{const u=e.flatMap(E=>E.runs).filter(E=>E.athleteId===l.id&&E.config.type===n),d=u.map(E=>d0(E)).filter(E=>E!==null),f=u.map(E=>wx(E)),p=d.length>0?Math.min(...d):null,y=d.length>0?d.reduce((E,A)=>E+A,0)/d.length:null,v=f.length>0?Math.max(...f):0;return[l.name,l.gender||"-",u.length.toString(),p?`${p.toFixed(3)}s`:"N/A",y?`${y.toFixed(3)}s`:"N/A",`${v.toFixed(2)} m/s`]});s.sort((l,u)=>{const d=l[3]==="N/A"?1/0:parseFloat(l[3]),f=u[3]==="N/A"?1/0:parseFloat(u[3]);return d-f}),u0(i,{startY:a,head:[["Athlete","Gender","Runs","Best Time","Avg Time","Max Speed"]],body:s,theme:"striped",headStyles:{fillColor:[55,53,47],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[247,247,245]},margin:{left:14,right:14}}),gf(i,1),i.save(`${r.replace(/\s/g,"_")}_Comparison_Report.pdf`)},m5e=({athlete:t,allSessions:e,settings:n,onBack:r,onEdit:i,onDelete:a,onSelectRun:s})=>{const[l,u]=O.useState(!1),d=e.flatMap(k=>k.runs.filter(B=>B.athleteId===t.id).map(B=>({...B,sessionDate:k.date,sessionName:k.name}))).sort((k,B)=>new Date(B.sessionDate).getTime()-new Date(k.sessionDate).getTime()),f=d.length,p=new Set(d.map(k=>k.config.type)).size,y=d.length>0?Math.max(...d.flatMap(k=>k.data.map(B=>B.speed))):0,v=async()=>{await a(t.id),r()},E=k=>{const B=new Date(k);switch(n.dateFormat){case"MM.DD.YYYY":return B.toLocaleDateString("en-US");case"DD.MM.YYYY":return B.toLocaleDateString("en-GB");case"YYYY-MM-DD":return B.toISOString().split("T")[0];default:return B.toLocaleDateString()}},A=k=>{switch(n.speedUnit){case"kph":return(k*3.6).toFixed(2);case"mph":return(k*2.237).toFixed(2);default:return k.toFixed(2)}},S=()=>{switch(n.speedUnit){case"kph":return"km/h";case"mph":return"mph";default:return"m/s"}},I=k=>{switch(k){case ct.FREE_RUN:return"Free Run";case ct.ACCELERATION:return"Acceleration";case ct.FLY:return"Fly";case ct.POLE_VAULT:return"Pole Vault";case ct.LONG_JUMP:return"Long Jump";default:return k}},q=()=>{if(!t.dob)return null;const k=new Date,B=new Date(t.dob);let $=k.getFullYear()-B.getFullYear();const K=k.getMonth()-B.getMonth();return(K<0||K===0&&k.getDate()<B.getDate())&&$--,$};return m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-[#787774] hover:text-[#37352F] mb-4 transition-colors",children:[m.jsx(Gy,{size:20}),"Back to Athletes"]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-8 shadow-sm",children:[m.jsxs("div",{className:"flex items-start justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-20 h-20 rounded-full bg-[#F7F7F5] text-[#37352F] font-serif font-bold text-3xl flex items-center justify-center border-2 border-[#E9E9E7]",children:t.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:t.name}),m.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-[#787774]",children:[t.primaryEvent&&m.jsx("span",{className:"px-3 py-1 bg-[#F7F7F5] rounded-full font-medium",children:t.primaryEvent}),t.gender&&m.jsx("span",{children:t.gender}),q()&&m.jsxs("span",{children:[q()," years old"]})]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>h5e(t,e),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded font-medium hover:bg-blue-700 shadow-sm text-sm",children:[m.jsx(OI,{size:16})," Download Report"]}),m.jsx("button",{onClick:()=>i(t),className:"p-2 text-[#787774] hover:text-[#37352F] hover:bg-[#F7F7F5] rounded transition-colors",children:m.jsx(l_,{size:18})}),m.jsx("button",{onClick:()=>u(!0),className:"p-2 text-[#787774] hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:m.jsx(np,{size:18})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:[m.jsx(za,{size:14}),"Total Runs"]}),m.jsx("div",{className:"text-2xl font-bold text-[#37352F]",children:f})]}),m.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:[m.jsx(jg,{size:14}),"Test Types"]}),m.jsx("div",{className:"text-2xl font-bold text-[#37352F]",children:p})]}),m.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:[m.jsx(pg,{size:14}),"Max Speed"]}),m.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[y>0?A(y):"--",m.jsx("span",{className:"text-sm text-[#9B9A97] ml-1",children:S()})]})]}),t.pb100m&&m.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[m.jsx("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:"100m PB"}),m.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[t.pb100m.toFixed(2),m.jsx("span",{className:"text-sm text-[#9B9A97] ml-1",children:"s"})]})]})]}),t.email&&m.jsxs("div",{className:"mt-4 pt-4 border-t border-[#E9E9E7]",children:[m.jsx("span",{className:"text-xs text-[#9B9A97] uppercase font-bold",children:"Email: "}),m.jsx("span",{className:"text-sm text-[#787774]",children:t.email})]})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F] mb-4",children:"Test History"}),d.length===0?m.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg border border-dashed border-[#E9E9E7] p-12 text-center",children:[m.jsx(za,{className:"mx-auto mb-4 text-[#9B9A97]",size:48}),m.jsx("p",{className:"text-[#9B9A97]",children:"No test data recorded yet."})]}):m.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl overflow-hidden shadow-sm",children:m.jsx("div",{className:"divide-y divide-[#E9E9E7]",children:d.map(k=>{const B=Math.max(...k.data.map($=>$.speed));return m.jsx("div",{onClick:()=>s(k),className:"p-4 hover:bg-[#F7F7F5] cursor-pointer transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("span",{className:"px-2 py-1 bg-[#37352F] text-white text-xs font-medium rounded",children:I(k.config.type)}),m.jsx("span",{className:"text-sm font-medium text-[#37352F]",children:k.sessionName})]}),m.jsxs("div",{className:"flex items-center gap-4 text-xs text-[#9B9A97]",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(tp,{size:12}),E(k.sessionDate)]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(pg,{size:12}),"Max: ",A(B)," ",S()]})]})]}),m.jsx(Gy,{size:18,className:"text-[#E9E9E7] rotate-180"})]})},k.id)})})})]}),l&&m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7] p-6",children:[m.jsx("h3",{className:"text-xl font-serif font-bold text-[#37352F] mb-2",children:"Delete Athlete?"}),m.jsxs("p",{className:"text-sm text-[#787774] mb-6",children:["Are you sure you want to delete ",m.jsx("strong",{children:t.name}),"? This action cannot be undone. Test data will remain in sessions but won't be linked to this athlete."]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{onClick:v,className:"bg-red-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-red-700 transition-colors flex items-center gap-2",children:[m.jsx(np,{size:16}),"Delete"]})]})]})})]})},g5e=({onStartTest:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState([]),[a,s]=O.useState([]),[l,u]=O.useState([]),[d,f]=O.useState(!1),{user:p}=k0(),[y,v]=O.useState(!1),[E,A]=O.useState(new Set),[S,I]=O.useState({FORTY_YARD_DASH:"one-per-athlete",ACCELERATION_30M:"one-per-athlete",FLY_30M:"one-per-athlete",SIXTY_METER_RUN:"one-per-athlete"});O.useEffect(()=>{const ee=Kc.subscribeToLeaderboard("FORTY_YARD_DASH",n),ge=Kc.subscribeToLeaderboard("ACCELERATION_30M",i),se=Kc.subscribeToLeaderboard("FLY_30M",s),fe=Kc.subscribeToLeaderboard("SIXTY_METER_RUN",u);return()=>{ee(),ge(),se(),fe()}},[]);const q=O.useMemo(()=>p?[...e,...r,...a,...l].filter(ge=>ge.userId===p.uid):[],[p,e,r,a,l]),k=O.useMemo(()=>q.map(ee=>{let ge=[];switch(ee.testType){case"FORTY_YARD_DASH":ge=e;break;case"ACCELERATION_30M":ge=r;break;case"FLY_30M":ge=a;break;case"SIXTY_METER_RUN":ge=l;break}const se=ge.findIndex(fe=>fe.id===ee.id)+1;return{...ee,rank:se,totalEntries:ge.length}}),[q,e,r,a,l]),B=ee=>{const ge=new Set(E);ge.has(ee)?ge.delete(ee):ge.add(ee),A(ge)},$=async()=>{if(d||E.size===0)return;const ee=E.size;if(confirm(`Are you sure you want to remove ${ee} ${ee===1?"entry":"entries"} from the leaderboard?`)){f(!0);try{await Promise.all(Array.from(E).map(ge=>Kc.deleteEntry(ge))),A(new Set),v(!1)}catch(ge){alert("Failed to delete entries: "+ge.message)}finally{f(!1)}}},K=()=>{v(!1),A(new Set)},L=ee=>{const ge=new Map;return ee.forEach(se=>{const fe=ge.get(se.athleteId);(!fe||se.time<fe.time)&&ge.set(se.athleteId,se)}),Array.from(ge.values()).sort((se,fe)=>se.time-fe.time)},j=(ee,ge)=>{I(se=>({...se,[ee]:ge}))},D=ee=>{switch(ee){case"FORTY_YARD_DASH":return"40 Yard Dash";case"ACCELERATION_30M":return"30m Acceleration";case"FLY_30M":return"30m Flying";case"SIXTY_METER_RUN":return"60m Run";default:return ee}},G=ee=>{if(!ee)return null;const ge={Male:"bg-blue-100 text-blue-700",Female:"bg-pink-100 text-pink-700",Other:"bg-purple-100 text-purple-700"};return m.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${ge[ee]||"bg-gray-100 text-gray-700"}`,children:ee.charAt(0)})},P=ee=>ee===1?m.jsx(U5,{className:"text-yellow-500",size:16}):ee===2?m.jsx(U5,{className:"text-gray-400",size:16}):ee===3?m.jsx(U5,{className:"text-orange-600",size:16}):m.jsxs("span",{className:"text-[#9B9A97] font-bold text-xs",children:["#",ee]}),F=[{value:"FORTY_YARD_DASH",label:"40 Yard Dash",testType:"FORTY_YARD_DASH",entries:e},{value:"ACCELERATION_30M",label:"30m Accel",testType:"ACCELERATION",entries:r},{value:"FLY_30M",label:"30m Fly",testType:"FLY",entries:a},{value:"SIXTY_METER_RUN",label:"60m Run",testType:"SIXTY_METER_RUN",entries:l}],V=(ee,ge,se,fe)=>{const me=S[fe],xe=me==="one-per-athlete"?L(se):se,Ue=xe.slice(0,20);return m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm",children:[m.jsxs("div",{className:"bg-[#F7F7F5] border-b border-[#E9E9E7] px-3 py-2 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-serif font-bold text-[#37352F] text-base",children:ee}),m.jsxs("div",{className:"flex border border-[#E9E9E7] rounded overflow-hidden bg-white",children:[m.jsx("button",{onClick:()=>j(fe,"one-per-athlete"),className:`px-1.5 py-0.5 text-[9px] font-medium transition-colors ${me==="one-per-athlete"?"bg-[#37352F] text-white":"text-[#9B9A97] hover:bg-[#F7F7F5]"}`,title:"Best per Athlete",children:"Best"}),m.jsx("button",{onClick:()=>j(fe,"unlimited"),className:`px-1.5 py-0.5 text-[9px] font-medium transition-colors border-l border-[#E9E9E7] ${me==="unlimited"?"bg-[#37352F] text-white":"text-[#9B9A97] hover:bg-[#F7F7F5]"}`,title:"All Times",children:"All"})]})]}),t&&m.jsxs("button",{onClick:()=>t(ge),className:"flex items-center gap-1 px-2.5 py-1 border border-[#E9E9E7] text-[#37352F] rounded text-xs font-medium hover:bg-[#F7F7F5] transition-colors",children:[m.jsx(j0,{size:12})," Start"]})]}),Ue.length===0?m.jsxs("div",{className:"p-6 text-center",children:[m.jsx(Ko,{className:"mx-auto mb-2 text-[#9B9A97]",size:28}),m.jsx("p",{className:"text-xs text-[#9B9A97]",children:"No entries yet"})]}):m.jsx("div",{className:"divide-y divide-[#E9E9E7] max-h-96 overflow-y-auto",children:Ue.map((ne,M)=>{const X=M+1,Z=ne.userId===(p==null?void 0:p.uid);return m.jsxs("div",{className:`px-3 py-2 flex items-center justify-between ${Z?"bg-blue-50":"hover:bg-[#F7F7F5]"} transition-colors`,children:[m.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[m.jsx("div",{className:"flex-shrink-0 w-5",children:P(X)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"flex items-center gap-1.5",children:m.jsx("span",{className:"font-medium text-[#37352F] text-sm truncate",children:ne.athleteName})}),m.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-[#9B9A97]",children:[G(ne.athleteGender),m.jsx("span",{children:new Date(ne.date).toLocaleDateString()})]})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:"font-medium text-[#37352F] text-sm",children:[ne.time.toFixed(3),"s"]})})]},ne.id)})}),xe.length>20&&m.jsx("div",{className:"bg-[#F7F7F5] border-t border-[#E9E9E7] px-3 py-1.5 text-center",children:m.jsxs("span",{className:"text-[11px] text-[#9B9A97]",children:["+",xe.length-20," more entries"]})})]})};return m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx(Ko,{className:"text-[#37352F]",size:28}),m.jsx("h1",{className:"text-2xl font-serif font-bold text-[#37352F]",children:"Global Leaderboard"})]})}),m.jsxs("div",{className:"flex gap-5 mb-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(ee=>m.jsx("div",{children:V(ee.label,ee.testType,ee.entries,ee.value)},ee.value))}),m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:m.jsxs("p",{className:"text-xs text-blue-900",children:[m.jsx("strong",{children:"Note:"}),` Top 20 results shown per test. Only the top 100 fastest times are stored. To add your athlete's result, complete a test and use the "Post to Leaderboard" button in the analysis view.`]})})]}),m.jsx("div",{className:"w-72 flex-shrink-0",children:m.jsx("div",{className:"sticky top-4",children:m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm",children:[m.jsx("div",{className:"bg-[#F7F7F5] border-b border-[#E9E9E7] px-3 py-2",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-serif font-bold text-[#37352F] text-base",children:"My Leaderboard Entries"}),m.jsxs("p",{className:"text-[11px] text-[#9B9A97] mt-0.5",children:[k.length," total entries"]})]}),p&&k.length>0&&!y&&m.jsx("button",{onClick:()=>v(!0),className:"p-1.5 hover:bg-[#E9E9E7] rounded transition-colors text-[#787774] hover:text-[#37352F]",title:"Manage entries",children:m.jsx(Cie,{size:16})})]})}),y&&m.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-3 py-2 flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-red-900 font-medium",children:E.size>0?`${E.size} selected`:"Select entries to delete"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:K,className:"p-1 hover:bg-red-100 rounded transition-colors text-red-600",title:"Cancel",children:m.jsx(dc,{size:16})}),m.jsxs("button",{onClick:$,disabled:E.size===0||d,className:"px-2.5 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[m.jsx(np,{size:12}),"Delete"]})]})]}),p?k.length===0?m.jsxs("div",{className:"p-6 text-center",children:[m.jsx(Ko,{className:"mx-auto mb-2 text-[#9B9A97]",size:28}),m.jsx("p",{className:"text-xs text-[#9B9A97]",children:"No entries yet"}),m.jsx("p",{className:"text-[11px] text-[#787774] mt-1.5",children:"Complete a test and post it to the leaderboard!"})]}):m.jsx("div",{className:"divide-y divide-[#E9E9E7] max-h-[600px] overflow-y-auto",children:k.map(ee=>{const ge=ee.rank<=3,se=E.has(ee.id);return m.jsxs("div",{onClick:()=>y&&B(ee.id),className:`px-2.5 py-1.5 transition-colors ${y?"cursor-pointer":""} ${se?"bg-red-50":"hover:bg-[#F7F7F5]"}`,children:[m.jsx("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:m.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[y&&m.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center flex-shrink-0 ${se?"bg-red-600 border-red-600":"border-[#E9E9E7]"}`,children:se&&m.jsx(jf,{size:12,className:"text-white"})}),m.jsx("span",{className:"text-[#37352F] text-[11px]",children:D(ee.testType)}),ge&&P(ee.rank)]})}),m.jsx("p",{className:"text-[10px] text-[#9B9A97] mb-1",children:ee.athleteName}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsxs("span",{className:"text-[#37352F] text-xs",children:[ee.time.toFixed(3),"s"]}),G(ee.athleteGender),m.jsx("span",{className:"text-[9px] text-[#9B9A97]",children:new Date(ee.date).toLocaleDateString()})]}),m.jsx("div",{className:"text-right",children:m.jsxs("span",{className:`text-[10px] font-medium ${ge?"text-yellow-600":"text-[#9B9A97]"}`,children:["#",ee.rank,"/",ee.totalEntries]})})]})]},ee.id)})}):m.jsxs("div",{className:"p-6 text-center",children:[m.jsx(Ko,{className:"mx-auto mb-2 text-[#9B9A97]",size:28}),m.jsx("p",{className:"text-xs text-[#9B9A97]",children:"Sign in to view your entries"})]})]})})})]})]})},v5e=({sessions:t,athletes:e,settings:n,onSelectSession:r})=>{const[i,a]=O.useState("LIST"),[s,l]=O.useState(""),[u,d]=O.useState(""),[f,p]=O.useState(new Date),[y,v]=O.useState(new Set),E=O.useMemo(()=>t.filter($=>{const K=s.toLowerCase(),L=e.filter(D=>$.athleteIds.includes(D.id)).map(D=>D.name.toLowerCase());return!(!($.name.toLowerCase().includes(K)||L.some(D=>D.includes(K))||$.runs.some(D=>{var G;return((G=D.notes)==null?void 0:G.toLowerCase().includes(K))||D.config.type.toLowerCase().includes(K)}))||u&&!$.athleteIds.includes(u))}),[t,s,u,e]);O.useEffect(()=>{t.length>0&&v($=>$.size===0?new Set([t[0].id]):$)},[t]);const A=($,K)=>{$.stopPropagation(),v(L=>{const j=new Set(L);return j.has(K)?j.delete(K):j.add(K),j})},S=()=>{const $=E.map(K=>K.id);v(new Set($))},I=()=>{v(new Set)},q=($,K)=>K==="kph"?$*3.6:K==="mph"?$*2.23694:$,k=$=>{const K=$.getFullYear(),L=$.getMonth(),j=new Date(K,L+1,0).getDate(),D=new Date(K,L,1).getDay();return{days:j,firstDay:D,year:K,month:L}},B=()=>{const{days:$,firstDay:K,year:L,month:j}=k(f),D=E.filter(P=>{const F=new Date(P.date);return F.getMonth()===j&&F.getFullYear()===L}),G=[];for(let P=0;P<K;P++)G.push(m.jsx("div",{className:"h-32 bg-[#F7F7F5] border border-gray-100"},`empty-${P}`));for(let P=1;P<=$;P++){const F=`${L}-${String(j+1).padStart(2,"0")}-${String(P).padStart(2,"0")}`,V=D.filter(ee=>ee.date.startsWith(F)||new Date(ee.date).getDate()===P);G.push(m.jsxs("div",{className:"h-32 bg-white border border-gray-100 p-2 hover:bg-gray-50 transition-colors relative overflow-hidden group",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("span",{className:`text-xs font-bold ${V.length>0?"text-[#37352F]":"text-gray-300"}`,children:P}),V.length>0&&m.jsx("div",{className:"w-2 h-2 rounded-full bg-[#37352F]"})]}),m.jsx("div",{className:"mt-1 space-y-1 overflow-y-auto h-24 pb-4",children:V.map(ee=>m.jsx("div",{onClick:()=>r(ee),className:"text-[10px] bg-[#37352F] text-white p-1 rounded cursor-pointer hover:bg-black truncate shadow-sm",children:ee.name},ee.id))})]},P))}return m.jsxs("div",{className:"w-full",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("button",{onClick:()=>p(new Date(L,j-1,1)),className:"p-1 hover:bg-gray-100 rounded",children:m.jsx(uie,{size:20})}),m.jsx("span",{className:"font-serif font-bold text-lg",children:f.toLocaleString("default",{month:"long",year:"numeric"})}),m.jsx("button",{onClick:()=>p(new Date(L,j+1,1)),className:"p-1 hover:bg-gray-100 rounded",children:m.jsx(Lm,{size:20})})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200 border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>m.jsx("div",{className:"bg-[#F7F7F5] p-2 text-xs font-bold text-center text-gray-500 uppercase",children:P},P)),G]})]})};return m.jsxs("div",{children:[m.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"History"}),m.jsx("p",{className:"text-[#787774]",children:"Review past performances."})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto items-end",children:[m.jsxs("div",{className:"relative flex-1 sm:w-64",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(zU,{className:"h-4 w-4 text-gray-400"})}),m.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-[#E9E9E7] rounded-md text-sm outline-none focus:border-[#37352F]",placeholder:"Search sessions...",value:s,onChange:$=>l($.target.value)})]}),m.jsxs("div",{className:"flex gap-2",children:[i==="LIST"&&m.jsxs("div",{className:"flex bg-[#F7F7F5] p-1 rounded border border-[#E9E9E7]",children:[m.jsx("button",{onClick:S,className:"p-1.5 rounded text-gray-500 hover:bg-white hover:text-[#37352F] hover:shadow-sm transition-all",title:"Expand All",children:m.jsx(mie,{size:18})}),m.jsx("button",{onClick:I,className:"p-1.5 rounded text-gray-500 hover:bg-white hover:text-[#37352F] hover:shadow-sm transition-all",title:"Collapse All",children:m.jsx(vie,{size:18})})]}),m.jsxs("div",{className:"flex bg-[#F7F7F5] p-1 rounded border border-[#E9E9E7]",children:[m.jsx("button",{onClick:()=>a("LIST"),className:`p-1.5 rounded ${i==="LIST"?"bg-white shadow-sm text-[#37352F]":"text-gray-400 hover:text-[#37352F]"}`,children:m.jsx(VU,{size:18})}),m.jsx("button",{onClick:()=>a("CALENDAR"),className:`p-1.5 rounded ${i==="CALENDAR"?"bg-white shadow-sm text-[#37352F]":"text-gray-400 hover:text-[#37352F]"}`,children:m.jsx(tp,{size:18})})]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto pb-2",children:[m.jsx(Die,{size:14,className:"text-gray-400"}),m.jsx("span",{className:"text-xs font-bold uppercase text-gray-400 mr-2",children:"Filter By:"}),m.jsxs("select",{value:u,onChange:$=>d($.target.value),className:"text-sm border border-[#E9E9E7] rounded px-2 py-1 bg-white focus:border-[#37352F] outline-none",children:[m.jsx("option",{value:"",children:"All Athletes"}),e.map($=>m.jsx("option",{value:$.id,children:$.name},$.id))]})]}),i==="CALENDAR"?B():m.jsxs("div",{className:"space-y-6",children:[E.length===0&&m.jsx("div",{className:"text-center py-12 bg-[#F7F7F5] rounded-lg border border-dashed border-[#E9E9E7]",children:m.jsx("p",{className:"text-[#9B9A97]",children:"No sessions found matching your criteria."})}),E.map($=>{const K=e.filter(D=>$.athleteIds.includes(D.id)),L=K.map(D=>D.name).join(", "),j=y.has($.id);return m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl shadow-sm overflow-hidden hover:border-[#37352F] transition-colors group",children:[m.jsxs("div",{className:"p-4 bg-[#F7F7F5] border-b border-[#E9E9E7] flex flex-col md:flex-row md:items-center justify-between gap-4 cursor-pointer",onClick:()=>r($),children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("h3",{className:"text-lg font-serif font-bold text-[#37352F] group-hover:underline",children:$.name}),m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${$.status==="ACTIVE"?"bg-green-100 text-green-700 border-green-200":"bg-gray-200 text-gray-600 border-gray-300"}`,children:$.status})]}),m.jsxs("div",{className:"flex items-center gap-4 text-xs text-[#787774]",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(tp,{size:12})," ",new Date($.date).toLocaleDateString()]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(UU,{size:12})," ",new Date($.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(jg,{size:12})," ",K.length," Athletes"]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"hidden sm:flex items-center gap-2",children:m.jsx("span",{className:"text-sm font-medium text-[#37352F] max-w-[200px] truncate text-right",title:L,children:K.length>0?L:"No Athletes"})}),m.jsx("div",{className:"h-8 w-px bg-gray-300 mx-2 hidden sm:block"}),m.jsx("button",{onClick:D=>A(D,$.id),className:"p-2 rounded hover:bg-white text-[#37352F] transition-colors",children:j?m.jsx(hie,{size:20}):m.jsx(PI,{size:20})})]})]}),j&&m.jsxs("div",{className:"bg-white animate-in slide-in-from-top-2 duration-200",children:[$.runs.length===0?m.jsx("div",{className:"p-4 text-center text-xs text-[#9B9A97] italic",children:"No runs recorded."}):m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-white text-[#9B9A97] font-bold uppercase text-[10px] border-b border-[#E9E9E7]",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2 text-left font-normal",children:"Time"}),m.jsx("th",{className:"px-4 py-2 text-left font-normal",children:"Athlete"}),m.jsx("th",{className:"px-4 py-2 text-left font-normal",children:"Test"}),m.jsx("th",{className:"px-4 py-2 text-right font-normal",children:"Result / Speed"})]})}),m.jsx("tbody",{className:"divide-y divide-[#E9E9E7]",children:$.runs.map(D=>{const G=e.find(V=>V.id===D.athleteId),P=D.data.length>0?Math.max(...D.data.map(V=>V.speed)):0,F=q(P,n.speedUnit);return m.jsxs("tr",{className:"hover:bg-[#F7F7F5] cursor-pointer",onClick:()=>r($),children:[m.jsx("td",{className:"px-4 py-2 text-[#9B9A97] font-mono text-xs",children:new Date(D.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),m.jsx("td",{className:"px-4 py-2 font-medium text-[#37352F]",children:G==null?void 0:G.name}),m.jsx("td",{className:"px-4 py-2",children:m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-[#787774]",children:[D.config.type===ct.POLE_VAULT||D.config.type===ct.LONG_JUMP?m.jsx(L0,{size:10}):m.jsx(rp,{size:10}),D.config.type===ct.POLE_VAULT?"PV":D.config.type===ct.LONG_JUMP?"LJ":D.config.type.replace("_"," ")]})}),m.jsx("td",{className:"px-4 py-2 text-right font-mono text-[#37352F]",children:m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsxs("span",{className:"font-bold",children:[F.toFixed(1)," ",m.jsx("span",{className:"text-[10px] text-[#9B9A97] font-sans",children:iu.speed[n.speedUnit]})]}),D.jumpResult&&m.jsxs("span",{className:`text-[10px] ${D.jumpResult.successful===!1?"text-red-500":"text-[#9B9A97]"}`,children:[D.config.type===ct.POLE_VAULT?"Bar: ":"Dist: ",D.jumpResult.resultMetric,"m"]})]})})]},D.id)})})]}),m.jsxs("div",{className:"p-2 text-center border-t border-[#E9E9E7] bg-gray-50 cursor-pointer hover:bg-gray-100 text-xs text-[#787774] font-medium",onClick:()=>r($),children:["Open Full Session Details ",m.jsx(Lm,{size:12,className:"inline ml-1"})]})]})]},$.id)})]})]})},y5e=({session:t,athletes:e,settings:n,onBack:r,onResume:i,onDelete:a,onUpdateName:s,onSelectRun:l})=>{const[u,d]=O.useState(!1),[f,p]=O.useState(t.name),[y,v]=O.useState(!1),E=()=>{s(t.id,f),d(!1)},A=t.runs.length,S=e.filter(B=>t.athleteIds.includes(B.id));let I=0,q="";t.runs.forEach(B=>{const $=B.data.reduce((K,L)=>Math.max(K,L.speed),0);if($>I){I=$;const K=e.find(L=>L.id===B.athleteId);q=K?K.name:"Unknown"}});const k=I*(n.speedUnit==="kph"?3.6:n.speedUnit==="mph"?2.237:1);return m.jsxs("div",{className:"max-w-5xl mx-auto pb-12",children:[y&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",onClick:()=>v(!1),children:m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl border border-red-100 max-w-md w-full m-4 animate-in zoom-in-95",onClick:B=>B.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 text-red-600",children:[m.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-full flex items-center justify-center",children:m.jsx(mae,{size:20})}),m.jsx("h3",{className:"text-lg font-serif font-bold text-[#37352F]",children:"Delete Session?"})]}),m.jsxs("p",{className:"text-sm text-[#787774] mb-6 leading-relaxed",children:["Are you sure you want to delete ",m.jsxs("span",{className:"font-bold text-[#37352F]",children:['"',t.name,'"']}),"?",m.jsx("br",{}),"This will permanently remove all run data associated with this session. This action cannot be undone."]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2.5 rounded text-sm font-medium text-[#787774] hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),m.jsxs("button",{onClick:()=>a(t.id),className:"flex-1 px-4 py-2.5 rounded text-sm font-medium bg-red-600 text-white hover:bg-red-700 shadow-sm transition-colors flex items-center justify-center gap-2",children:[m.jsx(np,{size:16})," Delete Permanently"]})]})]})}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:r,className:"text-[#787774] hover:text-[#37352F] flex items-center gap-2 text-sm mb-4 transition-colors",children:[m.jsx(Gy,{size:16})," Back to History"]}),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 border-b border-[#E9E9E7] pb-6",children:[m.jsxs("div",{className:"flex-1",children:[u?m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("input",{value:f,onChange:B=>p(B.target.value),className:"text-3xl font-serif font-bold text-[#37352F] border-b-2 border-[#37352F] outline-none bg-transparent w-full",autoFocus:!0}),m.jsx("button",{onClick:E,className:"p-2 bg-[#37352F] text-white rounded",children:m.jsx(jf,{size:16})}),m.jsx("button",{onClick:()=>{d(!1),p(t.name)},className:"p-2 bg-gray-200 text-gray-600 rounded",children:m.jsx(dc,{size:16})})]}):m.jsxs("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2 flex items-center gap-3 group",children:[t.name,m.jsx("button",{onClick:()=>d(!0),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-[#37352F] transition-opacity",children:m.jsx(l_,{size:18})})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-[#787774]",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(tp,{size:14})," ",new Date(t.date).toLocaleDateString()]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(UU,{size:14})," ",new Date(t.date).toLocaleTimeString()]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(jg,{size:14})," ",S.length," Athletes"]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>f5e(t,e),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded font-medium hover:bg-blue-700 shadow-sm",children:[m.jsx(OI,{size:16})," Download Report"]}),m.jsxs("button",{onClick:()=>i(t.id),className:"flex items-center gap-2 bg-[#37352F] text-white px-4 py-2 rounded font-medium hover:bg-[#2F2F2F] shadow-sm",children:[m.jsx(j0,{size:16})," Resume"]}),m.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 bg-white text-red-600 border border-red-200 px-3 py-1.5 text-xs rounded font-medium hover:bg-red-50",children:[m.jsx(np,{size:14})," Delete"]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[m.jsxs("div",{className:"bg-[#F7F7F5] p-4 rounded-lg border border-[#E9E9E7]",children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Total Runs"}),m.jsx("div",{className:"text-3xl font-bold text-[#37352F]",children:A})]}),m.jsxs("div",{className:"bg-[#F7F7F5] p-4 rounded-lg border border-[#E9E9E7]",children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Top Speed"}),m.jsxs("div",{className:"text-3xl font-bold text-[#37352F]",children:[k.toFixed(2)," ",m.jsx("span",{className:"text-sm text-[#9B9A97] font-normal",children:iu.speed[n.speedUnit]})]}),m.jsxs("div",{className:"text-[10px] text-[#9B9A97] mt-1",children:["By ",q]})]}),m.jsxs("div",{className:"bg-[#F7F7F5] p-4 rounded-lg border border-[#E9E9E7]",children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Status"}),m.jsx("div",{className:"text-3xl font-bold text-[#37352F] capitalize",children:t.status.toLowerCase()})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold font-serif text-[#37352F] mb-4",children:"Runs Recorded"}),m.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-[#F7F7F5] border-b border-[#E9E9E7]",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium text-[#787774]",children:"Time"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium text-[#787774]",children:"Athlete"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium text-[#787774]",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-right font-medium text-[#787774]",children:"Result / Speed"}),m.jsx("th",{className:"px-4 py-3 text-right font-medium text-[#787774]",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y divide-[#E9E9E7]",children:[t.runs.map((B,$)=>{const K=e.find(D=>D.id===B.athleteId),j=(B.data.length>0?Math.max(...B.data.map(D=>D.speed)):0)*(n.speedUnit==="kph"?3.6:n.speedUnit==="mph"?2.237:1);return m.jsxs("tr",{className:"hover:bg-[#F7F7F5] transition-colors cursor-pointer",onClick:()=>l(B),children:[m.jsx("td",{className:"px-4 py-3 text-[#9B9A97] font-mono",children:new Date(B.date).toLocaleTimeString()}),m.jsx("td",{className:"px-4 py-3 font-medium text-[#37352F]",children:(K==null?void 0:K.name)||"Unknown"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-medium text-gray-600",children:B.config.type===ct.POLE_VAULT?"PV":B.config.type===ct.LONG_JUMP?"LJ":B.config.type})}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-[#37352F]",children:m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsxs("span",{className:"font-bold",children:[j.toFixed(2)," ",m.jsx("span",{className:"text-[10px] text-gray-400 font-sans",children:iu.speed[n.speedUnit]})]}),B.jumpResult&&m.jsxs("span",{className:`text-[10px] ${B.jumpResult.successful===!1?"text-red-500":"text-gray-400"}`,children:[B.config.type===ct.POLE_VAULT?"Bar: ":"Dist: ",B.jumpResult.resultMetric,"m"]})]})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("button",{className:"text-[#37352F] hover:underline text-xs font-medium",children:"Analyze"})})]},B.id)}),t.runs.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400 italic",children:"No runs recorded in this session yet."})})]})]})})]})]})},b5e=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(0),[i,a]=O.useState(0),[s,l]=O.useState("Ready to connect");O.useEffect(()=>(qc.setOnData(d=>{a(d),r(d/100)}),qc.setOnStatus(d=>{l(d)}),()=>{qc.setOnData(()=>{}),qc.setOnStatus(()=>{})}),[]);const u=async()=>{var d;if(t)await qc.disconnect(),e(!1),r(0),a(0);else try{await qc.connect(),e(!0)}catch(f){console.error(f),(d=f.message)!=null&&d.includes("Permissions policy")&&alert("Connection Blocked: Browser permission policy prevented access.")}};return m.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Sensor Diagnostics"}),m.jsx("p",{className:"text-[#787774]",children:"Verify laser connection and reading accuracy."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl shadow-sm overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] bg-[#F7F7F5] flex flex-col md:flex-row items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-red-400"}`}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-[#37352F]",children:t?"Sensor Connected":"Disconnected"}),m.jsx("div",{className:"text-xs text-[#9B9A97] font-mono",children:s})]})]}),m.jsx("button",{onClick:u,className:`px-6 py-2 rounded font-medium flex items-center gap-2 transition-colors shadow-sm ${t?"bg-white border border-red-200 text-red-600 hover:bg-red-50":"bg-[#37352F] text-white hover:bg-[#2F2F2F]"}`,children:t?m.jsxs(m.Fragment,{children:[m.jsx(kI,{size:16})," Disconnect"]}):m.jsxs(m.Fragment,{children:[m.jsx(HU,{size:16})," Connect Laser"]})})]}),m.jsx("div",{className:"p-12 flex flex-col items-center justify-center min-h-[300px]",children:t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"text-[10rem] leading-none font-bold font-mono text-[#37352F] tracking-tighter tabular-nums",children:n.toFixed(2)}),m.jsx("div",{className:"text-xl text-[#9B9A97] font-medium uppercase tracking-widest mb-8",children:"Meters"}),m.jsxs("div",{className:"flex gap-8",children:[m.jsxs("div",{className:"bg-[#F7F7F5] px-4 py-2 rounded border border-[#E9E9E7] text-center",children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase",children:"Raw Value"}),m.jsxs("div",{className:"font-mono font-bold text-[#37352F]",children:[i," cm"]})]}),m.jsxs("div",{className:"bg-[#F7F7F5] px-4 py-2 rounded border border-[#E9E9E7] text-center",children:[m.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase",children:"Signal Quality"}),m.jsxs("div",{className:"font-mono font-bold text-green-600 flex items-center gap-1",children:[m.jsx(FU,{size:14})," Good"]})]})]})]}):m.jsxs("div",{className:"text-center text-[#9B9A97]",children:[m.jsx("div",{className:"w-24 h-24 bg-[#F7F7F5] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#E9E9E7]",children:m.jsx(za,{size:48,className:"opacity-20"})}),m.jsx("p",{className:"text-lg font-medium mb-2",children:"No Sensor Detected"}),m.jsx("p",{className:"text-sm max-w-xs mx-auto",children:"Connect the USB Laser device to your computer to begin viewing live data."})]})}),m.jsxs("div",{className:"bg-[#F7F7F5] p-4 border-t border-[#E9E9E7] text-xs text-[#787774] flex gap-4 justify-center",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(L0,{size:12})," Range: 0 - 100m"]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Lf,{size:12})," Protocol: 460800 baud"]})]})]})]})},xM=(t,e)=>e==="kph"?t*3.6:e==="mph"?t*2.23694:t,_M=(t,e)=>e==="imperial"?t*1.09361:t,vm=["#37352F","#E16259","#2563EB","#16A34A","#D97706"],x5e=({runs:t,athletes:e,settings:n,onBack:r})=>{const i=O.useMemo(()=>{const u=[];let d=0;t.forEach(p=>{var v;const y=((v=p.data[p.data.length-1])==null?void 0:v.distance)||0;y>d&&(d=y)});const f=.2;t.every(p=>p.config.boardLocation);for(let p=0;p<=d;p+=f){const y={distance:p};t.forEach((v,E)=>{let A=null;const S=v.data.find(I=>I.distance>=p);S&&(A=S.speed),A!==null&&(y[`run_${v.id}`]=A)}),u.push(y)}return u},[t]),a=t.map(u=>{var y;const d=Math.max(...u.data.map(v=>v.speed)),f=Math.max(...u.data.map(v=>v.distance)),p=((y=u.data[u.data.length-1])==null?void 0:y.timestamp)/1e3||0;return{id:u.id,athleteId:u.athleteId,maxSpeed:d,maxDist:f,totalTime:p,jumpResult:u.jumpResult}}),s=iu.speed[n.speedUnit],l=iu.distance[n.distanceUnit];return m.jsxs("div",{className:"max-w-6xl mx-auto pb-12 h-full flex flex-col",children:[m.jsx("div",{className:"mb-6 flex items-center justify-between",children:m.jsxs("div",{children:[m.jsxs("button",{onClick:r,className:"text-[#787774] hover:text-[#37352F] flex items-center gap-2 text-sm mb-4 transition-colors",children:[m.jsx(Gy,{size:16})," Back"]}),m.jsxs("h1",{className:"text-3xl font-serif font-bold text-[#37352F] flex items-center gap-3",children:[m.jsx(jS,{size:28,className:"text-[#9B9A97]"}),"Compare Runs"]})]})}),m.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:t.map((u,d)=>{const f=e.find(p=>p.id===u.athleteId);return m.jsxs("div",{className:"flex items-center gap-3 bg-white border border-[#E9E9E7] px-4 py-2 rounded-full shadow-sm",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:vm[d%vm.length]}}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-bold text-[#37352F]",children:(f==null?void 0:f.name)||"Unknown"}),m.jsxs("div",{className:"text-[10px] text-[#9B9A97]",children:[new Date(u.date).toLocaleDateString(),"  ",u.config.type.replace("_"," ")]})]})]},u.id)})}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 h-96 shadow-sm mb-8",children:[m.jsx("h3",{className:"text-sm font-bold text-[#37352F] font-serif mb-6",children:"Velocity Overlay"}),m.jsx(S_,{width:"100%",height:"100%",children:m.jsxs($H,{data:i,children:[m.jsx(Z0,{strokeDasharray:"3 3",stroke:"#F7F7F5",vertical:!1}),m.jsx(e1,{dataKey:"distance",type:"number",unit:"m",domain:["auto","auto"],tickFormatter:u=>_M(u,n.distanceUnit).toFixed(0),label:{value:`Distance (${l})`,position:"insideBottom",offset:-5,fontSize:10,fill:"#9B9A97"},stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12}}),m.jsx(t1,{stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12},label:{value:`Speed (${s})`,angle:-90,position:"insideLeft",fontSize:10,fill:"#9B9A97"}}),m.jsx(K_,{contentStyle:{backgroundColor:"#fff",borderColor:"#E9E9E7",color:"#37352F"},formatter:u=>xM(u,n.speedUnit).toFixed(2),labelFormatter:u=>`${Number(u).toFixed(1)}m`}),t.map((u,d)=>m.jsx(r4,{type:"monotone",dataKey:`run_${u.id}`,stroke:vm[d%vm.length],strokeWidth:2,dot:!1,connectNulls:!0},u.id))]})})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl overflow-hidden shadow-sm",children:[m.jsx("div",{className:"px-6 py-4 border-b border-[#E9E9E7] bg-[#F7F7F5]",children:m.jsx("h3",{className:"font-serif font-bold text-[#37352F]",children:"Performance Metrics"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-[#E9E9E7]",children:[m.jsx("th",{className:"px-6 py-3 text-left font-medium text-[#9B9A97] bg-gray-50 w-32",children:"Metric"}),t.map((u,d)=>{const f=e.find(p=>p.id===u.athleteId);return m.jsxs("th",{className:"px-6 py-3 text-left font-bold text-[#37352F]",style:{color:vm[d%vm.length]},children:[f==null?void 0:f.name.split(" ")[0]," ",m.jsx("span",{className:"text-[10px] font-normal opacity-70",children:new Date(u.date).toLocaleDateString(void 0,{month:"numeric",day:"numeric"})})]},u.id)})]})}),m.jsxs("tbody",{className:"divide-y divide-[#E9E9E7]",children:[m.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[m.jsx(rp,{size:14})," Top Speed"]}),a.map(u=>m.jsxs("td",{className:"px-6 py-4 font-mono font-bold text-[#37352F]",children:[xM(u.maxSpeed,n.speedUnit).toFixed(2)," ",m.jsx("span",{className:"text-xs font-normal text-[#9B9A97]",children:s})]},u.id))]}),t.some(u=>u.jumpResult)&&m.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[m.jsx(L0,{size:14})," Result"]}),a.map(u=>m.jsx("td",{className:"px-6 py-4 font-mono font-bold text-[#37352F]",children:u.jumpResult?m.jsxs("span",{className:u.jumpResult.successful===!1?"text-red-500":"",children:[u.jumpResult.resultMetric.toFixed(2),"m ",u.jumpResult.successful===!1&&"(X)"]}):"-"},u.id))]}),m.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[m.jsx(DI,{size:14})," Duration"]}),a.map(u=>m.jsxs("td",{className:"px-6 py-4 font-mono text-[#37352F]",children:[u.totalTime.toFixed(2),"s"]},u.id))]}),m.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[m.jsx(za,{size:14})," Distance"]}),a.map(u=>m.jsxs("td",{className:"px-6 py-4 font-mono text-[#37352F]",children:[_M(u.maxDist,n.distanceUnit).toFixed(2)," ",m.jsx("span",{className:"text-xs font-normal text-[#9B9A97]",children:l})]},u.id))]})]})]})})]})]})},HA=t=>!t.data||t.data.length===0?null:t.data[t.data.length-1].timestamp/1e3,_5e=({athletes:t,sessions:e,settings:n})=>{const[r,i]=O.useState(""),[a,s]=O.useState(ct.FORTY_YARD_DASH),[l,u]=O.useState(90),d=O.useMemo(()=>{if(!r)return null;const p=new Date;p.setDate(p.getDate()-l);const y=e.flatMap(L=>L.runs.map(j=>({...j,sessionDate:L.date}))).filter(L=>{var D;const j=HA(L);return L.athleteId===r&&((D=L.config)==null?void 0:D.type)===a&&j!==null&&new Date(L.sessionDate)>=p}).sort((L,j)=>new Date(L.sessionDate).getTime()-new Date(j.sessionDate).getTime());if(y.length===0)return null;const v=y.map(L=>HA(L)),E=Math.min(...v),A=Math.max(...v),S=v.reduce((L,j)=>L+j,0)/v.length,I=v[0],q=v[v.length-1],k=(I-q)/I*100,B=v.reduce((L,j)=>L+Math.pow(j-S,2),0)/v.length,$=Math.sqrt(B),K=y.map((L,j)=>({date:new Date(L.sessionDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:HA(L),index:j+1}));return{runs:y,times:v,bestTime:E,worstTime:A,avgTime:S,improvement:k,stdDev:$,chartData:K,totalRuns:y.length}},[r,a,l,e]),f=t.find(p=>p.id===r);return m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(kS,{className:"text-[#37352F]",size:32}),m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F]",children:"Performance Analytics"})]}),m.jsx("p",{className:"text-[#787774]",children:"Track progress and trends over time."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 mb-6 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"font-medium text-[#37352F]",children:"Filters"}),r&&m.jsxs("button",{onClick:()=>{const p=t.filter(y=>y.id===r);p5e(p,e,a,Ps[a].label)},className:"flex items-center gap-2 bg-blue-600 text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-blue-700 shadow-sm",children:[m.jsx(OI,{size:14})," Export Report"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Athlete"}),m.jsxs("select",{value:r,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:"",children:"Select an athlete..."}),t.map(p=>m.jsx("option",{value:p.id,children:p.name},p.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Test Type"}),m.jsxs("select",{value:a,onChange:p=>s(p.target.value),className:"w-full px-3 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:ct.FORTY_YARD_DASH,children:Ps[ct.FORTY_YARD_DASH].label}),m.jsx("option",{value:ct.ACCELERATION,children:Ps[ct.ACCELERATION].label}),m.jsx("option",{value:ct.FLY,children:Ps[ct.FLY].label}),m.jsx("option",{value:ct.SIXTY_METER_RUN,children:Ps[ct.SIXTY_METER_RUN].label})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Time Period"}),m.jsxs("select",{value:l,onChange:p=>u(Number(p.target.value)),className:"w-full px-3 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",children:[m.jsx("option",{value:30,children:"Last 30 Days"}),m.jsx("option",{value:90,children:"Last 90 Days"}),m.jsx("option",{value:180,children:"Last 6 Months"}),m.jsx("option",{value:365,children:"Last Year"}),m.jsx("option",{value:9999,children:"All Time"})]})]})]})]}),r?d?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[m.jsx(hg,{size:14})," Best Time"]}),m.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[d.bestTime.toFixed(3),"s"]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[m.jsx(za,{size:14})," Average"]}),m.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[d.avgTime.toFixed(3),"s"]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[d.improvement>0?m.jsx(fae,{size:14}):m.jsx(pg,{size:14}),"Improvement"]}),m.jsxs("div",{className:`text-2xl font-bold ${d.improvement>0?"text-green-600":d.improvement<0?"text-red-600":"text-[#37352F]"}`,children:[d.improvement>0?"+":"",d.improvement.toFixed(1),"%"]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[m.jsx(kS,{size:14})," Total Runs"]}),m.jsx("div",{className:"text-2xl font-bold text-[#37352F]",children:d.totalRuns})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[m.jsx(hg,{size:14})," Consistency"]}),m.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:["",d.stdDev.toFixed(3),"s"]}),m.jsx("div",{className:"text-[10px] text-[#9B9A97] mt-1",children:"Std Deviation"})]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 shadow-sm",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"font-serif font-bold text-lg text-[#37352F] mb-1",children:"Performance Trend"}),m.jsxs("p",{className:"text-sm text-[#787774]",children:[f==null?void 0:f.name,"  ",Ps[a].label]})]}),m.jsx(S_,{width:"100%",height:400,children:m.jsxs($H,{data:d.chartData,margin:{top:5,right:30,left:20,bottom:5},children:[m.jsx(Z0,{strokeDasharray:"3 3",stroke:"#E9E9E7"}),m.jsx(e1,{dataKey:"date",stroke:"#9B9A97",style:{fontSize:"12px"}}),m.jsx(t1,{stroke:"#9B9A97",style:{fontSize:"12px"},domain:["dataMin - 0.05","dataMax + 0.05"],tickFormatter:p=>`${p.toFixed(2)}s`}),m.jsx(K_,{contentStyle:{backgroundColor:"#fff",border:"1px solid #E9E9E7",borderRadius:"8px",fontSize:"12px"},formatter:p=>[`${p.toFixed(3)}s`,"Time"]}),m.jsx(s0,{y:d.avgTime,stroke:"#9B9A97",strokeDasharray:"3 3",label:{value:"Average",position:"right",fill:"#9B9A97",fontSize:12}}),m.jsx(r4,{type:"monotone",dataKey:"time",stroke:"#37352F",strokeWidth:2,dot:{fill:"#37352F",r:4},activeDot:{r:6}})]})}),m.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-0.5 bg-[#37352F]"}),m.jsx("span",{className:"text-[#787774]",children:"Performance"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-0.5 bg-[#9B9A97] border-dashed border-t"}),m.jsx("span",{className:"text-[#787774]",children:"Average"})]})]})]}),m.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("p",{className:"text-sm text-blue-900",children:[m.jsx("strong",{children:"Insight:"})," ",d.improvement>2?`Great progress! ${f==null?void 0:f.name} has improved by ${d.improvement.toFixed(1)}% over the selected period.`:d.improvement>0?`${f==null?void 0:f.name} is showing steady improvement. Keep up the consistent training!`:d.improvement<-2?"Performance has declined. Consider reviewing training load and recovery.":"Performance is stable. Focus on consistency and technique refinement."]})})]}):m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-12 text-center",children:[m.jsx(tp,{className:"mx-auto mb-4 text-[#9B9A97]",size:48}),m.jsx("h3",{className:"text-lg font-medium text-[#37352F] mb-2",children:"No Data Available"}),m.jsxs("p",{className:"text-sm text-[#787774]",children:[f==null?void 0:f.name," has no recorded ",Ps[a].label," runs in the selected time period."]})]}):m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-12 text-center",children:[m.jsx(za,{className:"mx-auto mb-4 text-[#9B9A97]",size:48}),m.jsx("h3",{className:"text-lg font-medium text-[#37352F] mb-2",children:"Select an Athlete"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Choose an athlete from the dropdown above to view their performance analytics."})]})]})},w5e=({isOpen:t,personalBests:e,onClose:n})=>{const[r,i]=O.useState(new Set),[a,s]=O.useState(!1),[l,u]=O.useState([]),[d,f]=O.useState(!0);O.useEffect(()=>{if(!t||!Fr.currentUser){f(!1);return}(async()=>{f(!0);try{const S=await Kc.getUserEntries(Fr.currentUser.uid);u(S);const I=e.filter(q=>!S.some(k=>k.runId===q.runId));i(new Set(I.map(q=>q.runId)))}catch(S){console.error("Failed to fetch existing entries:",S)}finally{f(!1)}})()},[t,e]);const p=e.filter(A=>!l.some(S=>S.runId===A.runId)),y=e.filter(A=>l.some(S=>S.runId===A.runId));if(!t)return null;if(d)return m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-white rounded-xl p-8 shadow-2xl",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 border-2 border-[#37352F] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-[#37352F] font-medium",children:"Checking leaderboard..."})]})})});if(p.length===0&&y.length>0)return m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[m.jsx("div",{className:"p-6 border-b border-[#E9E9E7] bg-gradient-to-br from-yellow-50 to-orange-50",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg",children:m.jsx(Ko,{size:32,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-serif font-bold text-[#37352F]",children:"Already Posted!"}),m.jsx("p",{className:"text-sm text-[#787774] mt-1",children:"All personal bests have been submitted"})]})]})}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Lf,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm text-blue-900",children:[m.jsx("p",{className:"font-medium mb-1",children:"These runs are already on the leaderboard:"}),m.jsx("ul",{className:"list-disc list-inside space-y-1",children:y.map(A=>m.jsxs("li",{children:[A.athleteName," - ",A.testLabel]},A.runId))})]})]})}),m.jsx("button",{onClick:n,className:"w-full bg-[#37352F] text-white px-6 py-3 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors",children:"Close"})]})]})});if(p.length===0)return null;const v=A=>{const S=new Set(r);S.has(A)?S.delete(A):S.add(A),i(S)},E=async()=>{if(Fr.currentUser){s(!0);try{const A=p.filter(S=>r.has(S.runId));for(const S of A){const I={id:`${S.runId}_${Date.now()}`,testType:S.testType,athleteId:S.athleteId,athleteName:S.athleteName,athleteGender:S.athleteGender,userId:Fr.currentUser.uid,postedBy:"coach",time:S.newTime,date:S.run.date,sessionId:S.sessionId,runId:S.runId,createdAt:new Date().toISOString()};await Kc.postToLeaderboard(I)}n()}catch(A){console.error("Failed to submit to leaderboard:",A),alert("Failed to submit to leaderboard. Please try again.")}finally{s(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[m.jsx("div",{className:"p-6 border-b border-[#E9E9E7] bg-gradient-to-br from-yellow-50 to-orange-50",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg",children:m.jsx(Ko,{size:32,className:"text-white"})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-serif font-bold text-[#37352F]",children:["Personal Best",e.length>1?"s":""," Achieved!"]}),m.jsx("p",{className:"text-sm text-[#787774] mt-1",children:"Congratulations! Submit to leaderboard?"})]})]}),m.jsx("button",{onClick:n,className:"p-1 hover:bg-white/50 rounded text-[#787774] hover:text-[#37352F] transition-colors",children:m.jsx(dc,{size:20})})]})}),m.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[y.length>0&&m.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(Lf,{size:16,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-xs text-yellow-900",children:[m.jsxs("p",{className:"font-medium mb-1",children:[y.length," run",y.length>1?"s":""," already posted (hidden)"]}),m.jsx("p",{children:"Only new personal bests are shown below"})]})]})}),m.jsx("div",{className:"space-y-3",children:p.map(A=>{const S=r.has(A.runId),I=A.oldTime?(A.oldTime-A.newTime)/A.oldTime*100:null;return m.jsx("div",{onClick:()=>v(A.runId),className:`border-2 rounded-xl p-4 cursor-pointer transition-all ${S?"border-green-400 bg-green-50":"border-[#E9E9E7] bg-white hover:border-[#37352F]"}`,children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center flex-shrink-0 mt-1 transition-colors ${S?"bg-green-500 border-green-500":"border-[#E9E9E7]"}`,children:S&&m.jsx(jf,{size:16,className:"text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-[#37352F] text-lg",children:A.athleteName}),m.jsx("p",{className:"text-sm text-[#787774]",children:A.testLabel})]}),A.oldTime&&m.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold",children:[m.jsx(tie,{size:12}),I?`${I.toFixed(1)}%`:"New PB"]})]}),m.jsx("div",{className:"flex items-center gap-4",children:A.oldTime?m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-[#9B9A97] uppercase font-bold mb-1",children:"Previous"}),m.jsxs("div",{className:"text-lg font-mono text-[#787774]",children:[A.oldTime.toFixed(3),"s"]})]}),m.jsx(pg,{size:20,className:"text-green-600"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-[#9B9A97] uppercase font-bold mb-1",children:"New Best"}),m.jsxs("div",{className:"text-2xl font-mono font-bold text-green-600",children:[A.newTime.toFixed(3),"s"]})]})]}):m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-[#9B9A97] uppercase font-bold mb-1",children:"First Record"}),m.jsxs("div",{className:"text-2xl font-mono font-bold text-green-600",children:[A.newTime.toFixed(3),"s"]})]})})]})]})},A.runId)})})]}),m.jsxs("div",{className:"p-6 border-t border-[#E9E9E7] bg-[#F7F7F5]",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("p",{className:"text-sm text-[#787774]",children:[r.size," of ",p.length," selected for leaderboard"]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 rounded text-[#787774] text-sm font-medium hover:bg-[#E9E9E7] transition-colors",children:"Skip"}),m.jsxs("button",{onClick:E,disabled:a||r.size===0,className:"flex-[2] bg-[#37352F] text-white px-6 py-3 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[m.jsx(Ko,{size:16}),a?"Submitting...":`Submit to Leaderboard (${r.size})`]})]})]})]})})},E5e=()=>{const[t,e]=O.useState(new Set(["getting-started"])),n=i=>{const a=new Set(t);a.has(i)?a.delete(i):a.add(i),e(a)},r=({id:i,title:a,icon:s,children:l})=>{const u=t.has(i);return m.jsxs("div",{className:"border border-[#E9E9E7] rounded-xl overflow-hidden bg-white mb-4",children:[m.jsxs("button",{onClick:()=>n(i),className:"w-full flex items-center justify-between p-4 hover:bg-[#F7F7F5] transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center",children:m.jsx(s,{size:20,className:"text-[#37352F]"})}),m.jsx("h2",{className:"text-lg font-serif font-bold text-[#37352F]",children:a})]}),u?m.jsx(PI,{size:20,className:"text-[#9B9A97]"}):m.jsx(Lm,{size:20,className:"text-[#9B9A97]"})]}),u&&m.jsx("div",{className:"p-6 pt-0 border-t border-[#E9E9E7] bg-[#FAFAFA]",children:l})]})};return m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2 flex items-center gap-3",children:[m.jsx(qb,{size:32}),"User Guide"]}),m.jsx("p",{className:"text-[#787774]",children:"Complete guide to using VectorX for athletic performance measurement"})]}),m.jsx(r,{id:"getting-started",title:"Getting Started",icon:qb,children:m.jsxs("div",{className:"space-y-4 text-[#37352F]",children:[m.jsx("p",{className:"text-sm leading-relaxed",children:"VectorX is a professional laser-based measurement system for athletics. It provides precise speed, distance, and time measurements for training and competition."}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[m.jsx(KR,{size:16,className:"text-green-600"}),"What You'll Need"]}),m.jsxs("ul",{className:"text-sm space-y-1 ml-6 list-disc text-[#787774]",children:[m.jsx("li",{children:"VectorX laser sensor unit"}),m.jsx("li",{children:"Tripod or stable mounting surface"}),m.jsx("li",{children:"This app (installed on phone/tablet/computer)"}),m.jsx("li",{children:"Bluetooth-enabled device"}),m.jsx("li",{children:"Clear line of sight for measurement area"})]})]})]})}),m.jsx(r,{id:"how-it-works",title:"How the Laser Works",icon:rp,children:m.jsxs("div",{className:"space-y-4 text-[#37352F]",children:[m.jsx("p",{className:"text-sm leading-relaxed",children:"The VectorX laser uses advanced time-of-flight technology to track athlete movement with sub-centimeter accuracy."}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"1. Detection"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"The laser continuously emits infrared light pulses. When an athlete enters the beam path, the reflected light is detected."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"2. Distance Calculation"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"By measuring the time it takes for light to return, the sensor calculates distance with millimeter precision (speed of light  time / 2)."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"3. Speed & Velocity"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"The system takes measurements 100+ times per second, calculating instantaneous speed from distance changes over time."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"4. Data Processing"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Raw data is filtered and processed to provide smooth velocity curves, split times, and performance metrics."})]})]}),m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:m.jsxs("p",{className:"text-sm text-blue-900",children:[m.jsx("strong",{children:"Accuracy:"})," The system is accurate to 2cm for distance and 0.01s for timing at normal athletic speeds."]})})]})}),m.jsx(r,{id:"setup",title:"Laser Setup & Placement",icon:LS,children:m.jsxs("div",{className:"space-y-4 text-[#37352F]",children:[m.jsx("h3",{className:"font-bold",children:"Step-by-Step Setup:"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-white border-l-4 border-[#37352F] p-4 rounded",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Step 1: Position the Laser"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Mount the laser on a tripod at approximately 1-1.5m height. Position it at the finish line or starting point, depending on your test type."})]}),m.jsxs("div",{className:"bg-white border-l-4 border-[#37352F] p-4 rounded",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Step 2: Align the Beam"}),m.jsx("p",{className:"text-sm text-[#787774] mb-2",children:"Point the laser along the running lane. The beam should be parallel to the ground and perpendicular to the athlete's path."}),m.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 text-xs text-yellow-900",children:" Ensure no obstacles block the beam path for at least 60-100m"})]}),m.jsxs("div",{className:"bg-white border-l-4 border-[#37352F] p-4 rounded",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Step 3: Power On & Connect"}),m.jsxs("ul",{className:"text-sm text-[#787774] space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Turn on the laser sensor unit"}),m.jsx("li",{children:"Open the VectorX app"}),m.jsx("li",{children:"Go to Settings  Sensor Check"}),m.jsx("li",{children:"Enable Bluetooth and connect to your device"}),m.jsx("li",{children:'Wait for "Connected" status'})]})]}),m.jsxs("div",{className:"bg-white border-l-4 border-[#37352F] p-4 rounded",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Step 4: Calibration Check"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Use Sensor Check to verify readings. Place an object at a known distance and confirm accuracy. Typical room temperature readings should be stable within 1cm."})]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4 mt-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"Optimal Placement Tips:"}),m.jsxs("ul",{className:"text-sm text-[#787774] space-y-1 ml-4 list-disc",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"40-Yard Dash:"})," Place at start line, athlete runs away from laser"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Fly 30m:"})," Place at start of fly zone, athlete passes through beam"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"60m Run:"})," Place at start line for full-distance tracking"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Long Jump/Pole Vault:"})," Place perpendicular to runway at takeoff board"]})]})]})]})}),m.jsx(r,{id:"using-app",title:"Using the App",icon:za,children:m.jsxs("div",{className:"space-y-4 text-[#37352F]",children:[m.jsx("h3",{className:"font-bold",children:"Complete Workflow:"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"1. Create Athletes"}),m.jsx("p",{className:"text-sm text-[#787774] mb-2",children:"Go to Athletes  Add Athlete. Enter name, gender, date of birth, and primary event. You can add multiple athletes to your roster."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"2. Start a Session"}),m.jsx("p",{className:"text-sm text-[#787774] mb-2",children:'From Dashboard, tap "New Session"  Select test type  Choose athletes  Name your session  Start'}),m.jsx("div",{className:"text-xs text-[#9B9A97] bg-[#F7F7F5] p-2 rounded",children:"Available tests: Free Run, 40-Yard Dash, 30m Acceleration, 30m Fly, 60m Run, Long Jump, Pole Vault"})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"3. Record Runs"}),m.jsx("p",{className:"text-sm text-[#787774]",children:'Select athlete  Tap "Start Measurement"  Athlete performs run  Data automatically captured  Add notes if needed  Save'})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"4. Review Results"}),m.jsx("p",{className:"text-sm text-[#787774] mb-2",children:"Each run shows: final time, max speed, velocity graph, split times (10m, 20m, 30m, etc.), and full data breakdown"})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:"5. End Session & Export"}),m.jsx("p",{className:"text-sm text-[#787774]",children:'When done, tap "End Session"  Personal bests are automatically detected  Option to post to Leaderboard  Download PDF report'})]})]})]})}),m.jsx(r,{id:"metrics",title:"Understanding Metrics",icon:pg,children:m.jsx("div",{className:"space-y-4 text-[#37352F]",children:m.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Total Time"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"The complete duration from start to finish line. Measured in seconds with 0.001s precision."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Max Speed (Vmax)"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"The highest instantaneous velocity reached during the run, measured in m/s or km/h. Critical for sprinters."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Split Times"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Times at specific distances (10m, 20m, 30m, etc.). Used to analyze acceleration patterns and identify performance phases."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Velocity Graph"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Visual representation of speed over distance. Shows acceleration phase, max velocity plateau, and deceleration (if any)."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Average Speed"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Total distance divided by total time. Useful for endurance events and pacing analysis."})]})]})})}),m.jsx(r,{id:"troubleshooting",title:"Troubleshooting",icon:Lf,children:m.jsx("div",{className:"space-y-4 text-[#37352F]",children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm text-red-900 mb-2",children:" Laser won't connect"}),m.jsxs("ul",{className:"text-sm text-red-800 space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Ensure Bluetooth is enabled on your device"}),m.jsx("li",{children:"Check that laser unit is powered on (LED indicator)"}),m.jsx("li",{children:"Move closer to the sensor (within 10m)"}),m.jsx("li",{children:"Restart the app and try reconnecting"}),m.jsx("li",{children:"Check battery level of laser unit"})]})]}),m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm text-yellow-900 mb-2",children:" Inconsistent readings"}),m.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Check for obstacles in beam path"}),m.jsx("li",{children:"Verify laser is level and stable (use tripod)"}),m.jsx("li",{children:"Avoid direct sunlight interference"}),m.jsx("li",{children:"Clean laser lens with microfiber cloth"}),m.jsx("li",{children:"Recalibrate using Sensor Check"})]})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm text-blue-900 mb-2",children:" Run not recording"}),m.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Ensure athlete breaks the laser beam"}),m.jsx("li",{children:"Check that measurement has been started"}),m.jsx("li",{children:'Verify connection status (should show "Connected")'}),m.jsx("li",{children:"Athlete should move directly away from or toward laser"}),m.jsx("li",{children:"Check that auto-start threshold is appropriate"})]})]}),m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm text-green-900 mb-2",children:" Data looks wrong"}),m.jsxs("ul",{className:"text-sm text-green-800 space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Verify test type matches actual test performed"}),m.jsx("li",{children:"Check laser placement (should be at correct position)"}),m.jsx("li",{children:"Ensure athlete ran in correct direction"}),m.jsx("li",{children:"Delete and re-record if setup was incorrect"}),m.jsx("li",{children:"Use comparison mode to verify against previous runs"})]})]}),m.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm text-purple-900 mb-2",children:" Battery issues"}),m.jsxs("ul",{className:"text-sm text-purple-800 space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Laser unit: 8-12 hours per charge (rechargeable)"}),m.jsx("li",{children:"Low battery indicator appears at 15%"}),m.jsx("li",{children:"Charge using included USB-C cable"}),m.jsx("li",{children:"Store in cool, dry place when not in use"})]})]})]})})}),m.jsx(r,{id:"best-practices",title:"Best Practices",icon:KR,children:m.jsx("div",{className:"space-y-4 text-[#37352F]",children:m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:" Environment"}),m.jsxs("ul",{className:"text-sm text-[#787774] space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Use in clear weather conditions"}),m.jsx("li",{children:"Avoid extreme temperatures (below 0C or above 40C)"}),m.jsx("li",{children:"Minimize vibration and movement of laser mount"}),m.jsx("li",{children:"Ensure adequate lighting (but avoid direct sun on lens)"})]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:" Accuracy Tips"}),m.jsxs("ul",{className:"text-sm text-[#787774] space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Always use a tripod - handheld measurements are unreliable"}),m.jsx("li",{children:"Calibrate before each session using Sensor Check"}),m.jsx("li",{children:"Keep laser perpendicular to athlete's path"}),m.jsx("li",{children:"Run multiple trials for best results"}),m.jsx("li",{children:"Record environmental conditions in session notes"})]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:" Data Management"}),m.jsxs("ul",{className:"text-sm text-[#787774] space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:'Name sessions descriptively (e.g., "Monday Sprint Training - Track A")'}),m.jsx("li",{children:"Add notes about conditions, athlete feedback, observations"}),m.jsx("li",{children:"Export PDF reports after each session"}),m.jsx("li",{children:"Use Analytics to track long-term progress"}),m.jsx("li",{children:"Post personal bests to Leaderboard for motivation"})]})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-2",children:" Coaching Workflow"}),m.jsxs("ul",{className:"text-sm text-[#787774] space-y-1 ml-4 list-disc",children:[m.jsx("li",{children:"Set up laser before athletes arrive"}),m.jsx("li",{children:"Brief athletes on proper running form for tests"}),m.jsx("li",{children:"Record warmup runs to check equipment"}),m.jsx("li",{children:"Allow rest between maximal efforts (3-5 minutes)"}),m.jsx("li",{children:"Review results with athletes immediately after session"}),m.jsx("li",{children:"Share PDF reports via email or messaging"})]})]})]})})}),m.jsx(r,{id:"faq",title:"Frequently Asked Questions",icon:qb,children:m.jsxs("div",{className:"space-y-3 text-[#37352F]",children:[m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Can I use this indoors?"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Yes! VectorX works indoors and outdoors. For indoor use, ensure adequate distance (minimum 10m) and no reflective surfaces interfering with the beam."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"How many athletes can I track?"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Unlimited! Add as many athletes as needed to your roster. Sessions can include multiple athletes, tested one at a time."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Does it work offline?"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Yes. The app works fully offline. Data syncs automatically when you reconnect to the internet. Perfect for remote training facilities."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Can I export data?"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Yes. Every session and athlete profile can be exported as a professional PDF report with graphs, split times, and performance summaries."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"What's the maximum measurement distance?"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"The laser can accurately measure up to 100 meters. For longer distances, position the laser at an intermediate point."})]}),m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-4",children:[m.jsx("h4",{className:"font-bold text-sm mb-1",children:"Is the laser safe?"}),m.jsx("p",{className:"text-sm text-[#787774]",children:"Absolutely. VectorX uses Class 1 infrared laser technology, which is completely eye-safe and meets all international safety standards."})]})]})}),m.jsxs("div",{className:"bg-[#37352F] text-white rounded-xl p-6 mt-8",children:[m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need More Help?"}),m.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Can't find what you're looking for? Our support team is here to help."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{className:"bg-white text-[#37352F] px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors",children:"Contact Support"}),m.jsx("button",{className:"border border-white text-white px-4 py-2 rounded font-medium hover:bg-white/10 transition-colors",children:"Watch Video Tutorials"})]})]})]})},A5e=()=>{const{user:t,logout:e}=k0(),{athletes:n,sessions:r,settings:i,refreshSettings:a}=Ure(),[s,l]=O.useState(!1),[u,d]=O.useState(sn.DASHBOARD),[f,p]=O.useState(null),[y,v]=O.useState(null),[E,A]=O.useState(null),[S,I]=O.useState([]),[q,k]=O.useState(null),[B,$]=O.useState(!1),[K,L]=O.useState(!1),[j,D]=O.useState(!1),[G,P]=O.useState(null),[F,V]=O.useState(ct.FREE_RUN),[ee,ge]=O.useState(""),[se,fe]=O.useState("all"),[me,xe]=O.useState(null),[Ue,ne]=O.useState(!1),[M,X]=O.useState([]),[Z,de]=O.useState(!1),pe=(st,dt="success")=>{xe({message:st,type:dt}),setTimeout(()=>xe(null),3e3)},ye=st=>!st.data||st.data.length===0?null:st.data[st.data.length-1].timestamp/1e3,Pe=st=>{switch(st){case ct.FORTY_YARD_DASH:return"FORTY_YARD_DASH";case ct.ACCELERATION:return"ACCELERATION_30M";case ct.FLY:return"FLY_30M";case ct.SIXTY_METER_RUN:return"SIXTY_METER_RUN";default:return null}},he=st=>{switch(st){case"FORTY_YARD_DASH":return"40 Yard Dash";case"ACCELERATION_30M":return"30m Acceleration";case"FLY_30M":return"30m Fly";case"SIXTY_METER_RUN":return"60m Run"}},Ce=st=>{const dt=[],Et=r.filter(Fe=>Fe.id!==st.id).flatMap(Fe=>Fe.runs);for(const Fe of st.runs){const wn=Pe(Fe.config.type);if(!wn)continue;const Vt=ye(Fe);if(!Vt)continue;const It=n.find(un=>un.id===Fe.athleteId);if(!It)continue;const nn=Et.filter(un=>un.athleteId===Fe.athleteId&&Pe(un.config.type)===wn).map(un=>ye(un)).filter(un=>un!==null),xt=nn.length>0?Math.min(...nn):null;if(xt===null||Vt<xt){const un=xt?(xt-Vt)/xt*100:0;dt.push({athleteId:Fe.athleteId,athleteName:It.name,athleteGender:It.gender,testType:wn,testLabel:he(wn),newTime:Vt,oldTime:xt,improvement:un,sessionId:st.id,runId:Fe.id,run:Fe})}}return dt},Ve=st=>{V(st),$(!0)},Se=async(st,dt)=>{const Et={id:Date.now().toString(),date:new Date().toISOString(),name:st,athleteIds:dt,runs:[],status:"ACTIVE"};await xo.createSession(Et),p(Et.id),$(!1),d(sn.LIVE_RUN)},rt=st=>{p(st),v(null),d(sn.LIVE_RUN)},it=async st=>{if(!Ue){ne(!0);try{await xo.deleteSession(st),pe("Session deleted successfully","success"),y===st&&(v(null),d(sn.HISTORY)),f===st&&(p(null),d(sn.DASHBOARD))}catch(dt){console.error("Delete failed:",dt),pe("Failed to delete session: "+dt.message,"error")}finally{ne(!1)}}},oe=async(st,dt)=>{await xo.updateSession(st,{name:dt}),pe("Session renamed")},Xe=async st=>{f&&(await xo.updateSessionAthletes(f,st),pe("Athletes updated"))},Nt=async st=>{f&&await xo.addRunToSession(f,st)},yt=async st=>{if(f){const dt=r.find(Et=>Et.id===f);if(dt){const Et=dt.runs.map(Fe=>Fe.id===st.id?st:Fe);await xo.updateRunInSession(f,Et),pe("Run updated")}}},qe=async()=>{if(f){const st=f,dt=r.find(Et=>Et.id===st);if(await xo.finishSession(st),p(null),dt){const Et=Ce(dt);Et.length>0&&(X(Et),de(!0))}v(st),d(sn.SESSION_DETAIL)}},ht=async st=>{await xo.addAthlete(st),L(!1),pe("Athlete added")},vt=async st=>{await xo.updateAthlete(st),D(!1),P(null),pe("Athlete updated")},Bt=async st=>{if(!Ue){ne(!0);try{await xo.deleteAthlete(st),pe("Athlete deleted successfully","success"),k(null),d(sn.ATHLETES)}catch(dt){console.error("Delete failed:",dt),pe("Failed to delete athlete: "+dt.message,"error")}finally{ne(!1)}}},Rt=st=>{P(st),D(!0)},cn=async st=>{await xo.saveSettings(st),a(),pe("Settings saved")},dn=st=>{I(st),d(sn.COMPARISON)},Jt=r.find(st=>st.id===f),gn=()=>{if(B)return m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-white w-full max-w-4xl rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7] p-8 max-h-[90vh] overflow-y-auto",children:m.jsx(D2e,{allAthletes:n,onStartSession:Se,onAddAthlete:ht,onCancel:()=>$(!1),testType:F})})});switch(u){case sn.LIVE_RUN:return Jt?m.jsx(N2e,{activeSession:Jt,availableAthletes:n.filter(Fe=>Jt.athleteIds.includes(Fe.id)),allAthletes:n,settings:i,initialTestType:F,onSaveSession:Nt,onUpdateRun:yt,onEndSession:qe,onViewRun:Fe=>{A(Fe),d(sn.ANALYSIS)},onUpdateSessionAthletes:Xe,onCreateAthlete:ht}):m.jsx(j2e,{onSelectType:Ve});case sn.ANALYSIS:return m.jsx(R2e,{session:E,athlete:n.find(Fe=>Fe.id===(E==null?void 0:E.athleteId))||null,settings:i,allSessions:r,onBack:()=>{A(null),d(y?sn.SESSION_DETAIL:f?sn.LIVE_RUN:sn.HISTORY)},onCompare:dn});case sn.COMPARISON:return m.jsx(x5e,{runs:S,athletes:n,settings:i,onBack:()=>d(sn.ANALYSIS)});case sn.HISTORY:return m.jsx(v5e,{sessions:r,athletes:n,settings:i,onSelectSession:Fe=>{v(Fe.id),d(sn.SESSION_DETAIL)},onDeleteSession:it});case sn.SESSION_DETAIL:const st=r.find(Fe=>Fe.id===y);return st?m.jsx(y5e,{session:st,athletes:n,settings:i,onBack:()=>{v(null),d(sn.HISTORY)},onResume:rt,onDelete:it,onUpdateName:oe,onSelectRun:Fe=>{A(Fe),d(sn.ANALYSIS)}}):m.jsx("div",{className:"p-8",children:"Session not found."});case sn.ATHLETES:const dt=n.filter(Fe=>Fe.name.toLowerCase().includes(ee.toLowerCase())).filter(Fe=>se==="all"||Fe.gender===se);return m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Athletes"}),m.jsx("p",{className:"text-[#787774]",children:"Manage your roster."})]}),m.jsxs("button",{onClick:()=>L(!0),className:"bg-[#37352F] text-white px-4 py-2 rounded font-medium hover:bg-[#2F2F2F] transition-colors flex items-center gap-2 shadow-sm",children:[m.jsx(Yy,{size:18})," Add Athlete"]})]}),m.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[m.jsx("input",{type:"text",placeholder:"Search athletes...",className:"flex-1 md:max-w-xs px-4 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",value:ee,onChange:Fe=>ge(Fe.target.value)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>fe("all"),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${se==="all"?"bg-[#37352F] text-white":"border border-[#E9E9E7] text-[#787774] hover:bg-[#F7F7F5]"}`,children:"All"}),m.jsx("button",{onClick:()=>fe("Male"),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${se==="Male"?"bg-[#37352F] text-white":"border border-[#E9E9E7] text-[#787774] hover:bg-[#F7F7F5]"}`,children:"Male"}),m.jsx("button",{onClick:()=>fe("Female"),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${se==="Female"?"bg-[#37352F] text-white":"border border-[#E9E9E7] text-[#787774] hover:bg-[#F7F7F5]"}`,children:"Female"})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:dt.map(Fe=>m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 hover:shadow-md transition-all group cursor-pointer",onClick:()=>{k(Fe.id),d(sn.ATHLETE_DETAIL)},children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F7F7F5] text-[#37352F] font-serif font-bold text-xl flex items-center justify-center border border-[#E9E9E7]",children:Fe.name.charAt(0)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:wn=>{wn.stopPropagation(),Rt(Fe)},className:"text-[#9B9A97] hover:text-[#37352F] opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-[#F7F7F5] rounded",children:m.jsx(l_,{size:16})}),m.jsx("button",{onClick:wn=>{wn.stopPropagation(),k(Fe.id),d(sn.ATHLETE_DETAIL)},className:"text-[#9B9A97] hover:text-[#37352F] opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(Qre,{size:20})})]})]}),m.jsx("h3",{className:"font-bold text-lg text-[#37352F] mb-1",children:Fe.name}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs text-[#9B9A97] uppercase tracking-wider font-bold",children:Fe.primaryEvent||"Athlete"}),Fe.email&&m.jsx("p",{className:"text-sm text-[#787774]",children:Fe.email}),Fe.gender&&m.jsxs("p",{className:"text-sm text-[#787774]",children:[Fe.gender,", ",Fe.dob?new Date().getFullYear()-new Date(Fe.dob).getFullYear():""," yrs"]})]})]},Fe.id))}),dt.length===0&&m.jsx("div",{className:"text-center py-12 bg-[#F7F7F5] rounded-lg border border-dashed border-[#E9E9E7]",children:m.jsx("p",{className:"text-[#9B9A97]",children:"No athletes found."})})]});case sn.ATHLETE_DETAIL:const Et=n.find(Fe=>Fe.id===q);return Et?m.jsx(m5e,{athlete:Et,allSessions:r,settings:i,onBack:()=>{k(null),d(sn.ATHLETES)},onEdit:Rt,onDelete:Bt,onSelectRun:Fe=>{A(Fe),d(sn.ANALYSIS)}}):m.jsx("div",{className:"p-8",children:"Athlete not found."});case sn.LEADERBOARD:return m.jsx(g5e,{onStartTest:Ve});case sn.ANALYTICS:return m.jsx(_5e,{athletes:n,sessions:r,settings:i});case sn.SETTINGS:return m.jsx(L2e,{settings:i,onUpdateSettings:cn,onLogout:e,userEmail:t.email});case sn.SENSOR_CHECK:return m.jsx(b5e,{});case sn.GUIDE:return m.jsx(E5e,{});default:return m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Welcome back, Coach"}),m.jsx("p",{className:"text-[#787774]",children:"Here is your training overview."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-[#37352F] text-white rounded-xl p-6 shadow-lg flex flex-col justify-between min-h-[160px] relative overflow-hidden group cursor-pointer",onClick:()=>d(sn.LIVE_RUN),children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm font-medium mb-2",children:[m.jsx(j0,{size:16,fill:"currentColor"})," Quick Start"]}),m.jsx("h3",{className:"text-2xl font-bold mb-1",children:"New Session"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Start a measurement."})]}),m.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4 group-hover:scale-110 transition-transform",children:m.jsx(za,{size:120})})]}),m.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 shadow-sm flex flex-col justify-between min-h-[160px] hover:border-[#37352F] transition-colors cursor-pointer",onClick:()=>d(sn.HISTORY),children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-sm font-medium mb-2",children:[m.jsx(tp,{size:16})," Recent"]}),m.jsxs("h3",{className:"text-2xl font-bold text-[#37352F] mb-1",children:[r.length," Sessions"]}),m.jsx("p",{className:"text-[#787774] text-sm",children:"View training logs."})]})}),m.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 shadow-sm flex flex-col justify-between min-h-[160px] hover:border-[#37352F] transition-colors cursor-pointer",onClick:()=>d(sn.ATHLETES),children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-sm font-medium mb-2",children:[m.jsx(jg,{size:16})," Roster"]}),m.jsxs("h3",{className:"text-2xl font-bold text-[#37352F] mb-1",children:[n.length," Athletes"]}),m.jsx("p",{className:"text-[#787774] text-sm",children:"Manage profiles."})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h3",{className:"font-serif font-bold text-xl text-[#37352F]",children:"Personal Bests"})}),m.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl overflow-hidden shadow-sm",children:(()=>{var nn,xt,un,_t,zt,Tn;const Fe=r.flatMap(ft=>ft.runs),wn=Fe.filter(ft=>{var gt;return ft.testType===ct.FORTY_YARD_DASH&&((gt=ft.result)==null?void 0:gt.time)}).sort((ft,gt)=>{var Kt,Gn;return(((Kt=ft.result)==null?void 0:Kt.time)||1/0)-(((Gn=gt.result)==null?void 0:Gn.time)||1/0)})[0],Vt=Fe.filter(ft=>{var gt;return ft.testType===ct.ACCELERATION&&((gt=ft.result)==null?void 0:gt.time)}).sort((ft,gt)=>{var Kt,Gn;return(((Kt=ft.result)==null?void 0:Kt.time)||1/0)-(((Gn=gt.result)==null?void 0:Gn.time)||1/0)})[0],It=Fe.filter(ft=>{var gt;return ft.testType===ct.SIXTY_METER_RUN&&((gt=ft.result)==null?void 0:gt.time)}).sort((ft,gt)=>{var Kt,Gn;return(((Kt=ft.result)==null?void 0:Kt.time)||1/0)-(((Gn=gt.result)==null?void 0:Gn.time)||1/0)})[0],Mt=[wn&&{label:"40 Yard Dash",time:(nn=wn.result)==null?void 0:nn.time,athlete:(xt=n.find(ft=>ft.id===wn.athleteId))==null?void 0:xt.name},Vt&&{label:"30m Acceleration",time:(un=Vt.result)==null?void 0:un.time,athlete:(_t=n.find(ft=>ft.id===Vt.athleteId))==null?void 0:_t.name},It&&{label:"60m Run",time:(zt=It.result)==null?void 0:zt.time,athlete:(Tn=n.find(ft=>ft.id===It.athleteId))==null?void 0:Tn.name}].filter(Boolean);return Mt.length===0?m.jsx("div",{className:"p-8 text-center text-[#9B9A97] text-sm",children:"No personal bests yet. Start testing!"}):m.jsx("div",{className:"divide-y divide-[#E9E9E7]",children:Mt.map((ft,gt)=>{var Kt;return m.jsxs("div",{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F] text-sm",children:ft.label}),m.jsx("div",{className:"text-xs text-[#787774]",children:ft.athlete})]}),m.jsxs("div",{className:"text-lg font-medium text-[#37352F]",children:[(Kt=ft.time)==null?void 0:Kt.toFixed(3),"s"]})]},gt)})})})()})]}),m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h3",{className:"font-serif font-bold text-xl text-[#37352F]",children:"Quick Actions"})}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:()=>d(sn.LEADERBOARD),className:"w-full bg-white border border-[#E9E9E7] rounded-xl p-4 hover:border-[#37352F] transition-colors text-left flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center group-hover:bg-[#37352F] transition-colors",children:m.jsx(za,{size:20,className:"text-[#9B9A97] group-hover:text-white transition-colors"})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"View Leaderboard"}),m.jsx("div",{className:"text-xs text-[#787774]",children:"Compare with global athletes"})]})]}),m.jsx(Lm,{size:16,className:"text-[#E9E9E7] group-hover:text-[#37352F] transition-colors"})]}),m.jsxs("button",{onClick:()=>d(sn.HISTORY),className:"w-full bg-white border border-[#E9E9E7] rounded-xl p-4 hover:border-[#37352F] transition-colors text-left flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center group-hover:bg-[#37352F] transition-colors",children:m.jsx(tp,{size:20,className:"text-[#9B9A97] group-hover:text-white transition-colors"})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"Training History"}),m.jsxs("div",{className:"text-xs text-[#787774]",children:["View all ",r.length," sessions"]})]})]}),m.jsx(Lm,{size:16,className:"text-[#E9E9E7] group-hover:text-[#37352F] transition-colors"})]}),m.jsxs("button",{onClick:()=>L(!0),className:"w-full bg-white border border-[#E9E9E7] rounded-xl p-4 hover:border-[#37352F] transition-colors text-left flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center group-hover:bg-[#37352F] transition-colors",children:m.jsx(Yy,{size:20,className:"text-[#9B9A97] group-hover:text-white transition-colors"})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-[#37352F]",children:"Add New Athlete"}),m.jsx("div",{className:"text-xs text-[#787774]",children:"Create a new profile"})]})]}),m.jsx(Lm,{size:16,className:"text-[#E9E9E7] group-hover:text-[#37352F] transition-colors"})]})]})]})]})]})}};return m.jsxs("div",{className:"flex h-screen overflow-hidden bg-white",children:[me&&m.jsxs("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-[100] px-6 py-3 rounded-full shadow-lg text-sm font-medium animate-in slide-in-from-top-2 fade-in flex items-center gap-2 ${me.type==="error"?"bg-red-600 text-white":"bg-[#37352F] text-white"}`,children:[me.type==="error"?m.jsx(Lf,{size:16}):m.jsx(FU,{size:16,className:"text-green-400"}),me.message]}),Ue&&m.jsx("div",{className:"fixed inset-0 z-[100] bg-white/50 backdrop-blur-[1px] cursor-wait flex items-center justify-center",children:m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg flex items-center gap-3 border border-[#E9E9E7]",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-[#37352F] border-t-transparent rounded-full animate-spin"}),m.jsx("span",{className:"text-sm font-medium text-[#37352F]",children:"Processing..."})]})}),m.jsx(M2e,{isOpen:K,onClose:()=>L(!1),onSave:ht}),m.jsx(F2e,{isOpen:j,athlete:G,onClose:()=>{D(!1),P(null)},onSave:vt}),m.jsx(w5e,{isOpen:Z,personalBests:M,onClose:()=>{de(!1),X([])}}),m.jsx(Aae,{currentView:u,onChangeView:d,onLogout:e}),m.jsxs("main",{className:"flex-1 overflow-y-auto md:pl-60 h-full w-full",children:[m.jsx("div",{className:"md:hidden h-14 border-b border-[#E9E9E7] flex items-center justify-center bg-white sticky top-0 z-20",children:s?m.jsx(za,{size:20,className:"text-[#37352F]"}):m.jsx("img",{src:"favicon.png?v=8",className:"h-8 w-auto object-contain",alt:"Logo",onError:()=>l(!0)})}),m.jsx("div",{className:"p-4 pb-20 md:p-8 max-w-7xl mx-auto",children:gn()})]})]})},S5e=()=>{const{isOnline:t,isSyncing:e}=Vre();return t&&!e?null:m.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] animate-in slide-in-from-top-2",children:e?m.jsxs("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 text-sm font-medium",children:[m.jsx(Jie,{size:16,className:"animate-spin"}),m.jsx("span",{children:"Syncing data..."})]}):t?null:m.jsxs("div",{className:"bg-orange-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 text-sm font-medium",children:[m.jsx(kI,{size:16}),m.jsx("span",{children:"Offline Mode - Data will sync when connection returns"})]})})},T5e=()=>{const[t,e]=O.useState(null),[n,r]=O.useState(!1),[i,a]=O.useState(!1);O.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}const u=d=>{d.preventDefault(),e(d),r(!0)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",()=>{a(!0),r(!1),console.log("PWA was installed")}),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const s=async()=>{if(!t)return;t.prompt();const{outcome:u}=await t.userChoice;console.log(u==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),r(!1)},l=()=>{r(!1),sessionStorage.setItem("installPromptDismissed","true")};return i||!n||sessionStorage.getItem("installPromptDismissed")?null:m.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-md z-[200] animate-in slide-in-from-bottom-4",children:m.jsx("div",{className:"bg-[#37352F] text-white rounded-lg shadow-2xl p-4 border border-[#E9E9E7]",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:m.jsx(Nie,{size:20,className:"text-[#37352F]"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Install LaserSpeed Pro"}),m.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Install this app for quick access and offline use. Works like a native app!"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:s,className:"flex-1 bg-white text-[#37352F] px-4 py-2 rounded text-sm font-medium hover:bg-gray-100 transition-colors",children:"Install"}),m.jsx("button",{onClick:l,className:"px-4 py-2 rounded text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors",children:"Not now"})]})]}),m.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-white/10 rounded transition-colors",children:m.jsx(dc,{size:16})})]})})})},N5e=t=>{O.useEffect(()=>{if(t&&window.uj){const n=t.email.split("@")[0].split("."),r=n[0]?n[0].charAt(0).toUpperCase()+n[0].slice(1):void 0,i=n[1]?n[1].charAt(0).toUpperCase()+n[1].slice(1):void 0;window.uj.identify({id:t.uid,email:t.email,firstName:r,lastName:i})}},[t])},I5e=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(""),[i,a]=O.useState(""),[s,l]=O.useState(""),[u,d]=O.useState(""),[f,p]=O.useState(!1),y=async v=>{if(v.preventDefault(),d(""),t&&i!==s){d("Passwords do not match");return}try{t?await Fr.createUserWithEmailAndPassword(n,i):await Fr.signInWithEmailAndPassword(n,i)}catch(E){d(E.message)}};return m.jsx("div",{className:"flex h-screen bg-[#F7F7F5] font-sans text-[#37352F]",children:m.jsx("div",{className:"m-auto w-full max-w-md p-8",children:m.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl shadow-xl p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[f?m.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-2xl bg-[#37352F] text-white mb-3",children:m.jsx(za,{size:48,className:"text-white"})}):m.jsx("img",{src:"favicon.png?v=8",alt:"Logo",className:"w-48 h-auto mx-auto mb-3",onError:()=>p(!0)}),m.jsx("p",{className:"text-[#9B9A97] text-sm",children:"Professional athletics measurement"})]}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(Hie,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),m.jsx("input",{type:"email",required:!0,value:n,onChange:v=>r(v.target.value),placeholder:"coach@example.com",className:"w-full pl-10 pr-4 py-2.5 border border-[#E9E9E7] rounded-lg text-sm outline-none focus:border-[#37352F] transition-all bg-[#F7F7F5] focus:bg-white"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(QR,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),m.jsx("input",{type:"password",required:!0,value:i,onChange:v=>a(v.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-[#E9E9E7] rounded-lg text-sm outline-none focus:border-[#37352F] transition-all bg-[#F7F7F5] focus:bg-white"})]})]}),t&&m.jsxs("div",{className:"animate-in slide-in-from-top-2 fade-in",children:[m.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(QR,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),m.jsx("input",{type:"password",required:!0,value:s,onChange:v=>l(v.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-[#E9E9E7] rounded-lg text-sm outline-none focus:border-[#37352F] transition-all bg-[#F7F7F5] focus:bg-white"})]})]}),u&&m.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[m.jsx(Lf,{size:16}),u]}),m.jsxs("button",{type:"submit",className:"w-full bg-[#37352F] text-white font-medium py-2.5 rounded-lg hover:bg-black transition-colors shadow-sm mt-2 flex items-center justify-center gap-2",children:[t?m.jsx(qU,{size:18}):m.jsx(Bie,{size:18}),t?"Create Account":"Log In"]})]}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-[#E9E9E7] flex flex-col gap-3",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 border border-[#E9E9E7] rounded-lg text-sm font-medium text-[#37352F] hover:bg-[#F7F7F5] transition-colors",children:[m.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:m.jsx("path",{fill:"currentColor",d:"M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27c3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12.5S6.42 23 12.1 23c5.83 0 8.84-4.15 8.84-11.9z"})}),"Google"]}),m.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 border border-[#E9E9E7] rounded-lg text-sm font-medium text-[#37352F] hover:bg-[#F7F7F5] transition-colors",children:[m.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:m.jsx("path",{fill:"currentColor",d:"M17.05 20.28c-.98.95-2.05.8-3.08.35c-1.09-.46-2.09-.48-3.24 0c-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8c1.18-.24 2.31-.93 3.57-.84c1.51.12 2.65.64 3.4 1.63c-3.12 1.88-2.68 7.44.85 8.99c-.34 1.05-.81 2.09-1.49 3.11zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25c.29 2.58-2.34 4.5-3.74 4.25z"})}),"Apple"]})]}),m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:()=>{e(!t),d("")},className:"text-xs text-[#9B9A97] hover:text-[#37352F] hover:underline transition-colors",children:t?"Already have an account? Log in":"Don't have an account? Sign Up"})})]})]})})})},C5e=()=>{const{user:t,loading:e}=k0();return N5e(t),e?m.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:m.jsx(za,{className:"animate-spin text-[#37352F]"})}):t?m.jsxs(Bre,{children:[m.jsx(S5e,{}),m.jsx(T5e,{}),m.jsx(A5e,{})]}):m.jsx(I5e,{})},P5e=()=>m.jsx(zre,{children:m.jsx(Lre,{children:m.jsx(C5e,{})})}),tG=document.getElementById("root");if(!tG)throw new Error("Could not find root element to mount to");const O5e=wY.createRoot(tG);O5e.render(m.jsx(HT.StrictMode,{children:m.jsx(P5e,{})}));export{br as _,D5e as c,fu as g};
