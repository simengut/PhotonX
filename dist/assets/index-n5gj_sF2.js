var oY=Object.defineProperty;var lY=(t,e,n)=>e in t?oY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lr=(t,e,n)=>lY(t,typeof e!="symbol"?e+"":e,n);function cY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var I5e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f5={exports:{}},Av={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP;function uY(){if(TP)return Av;TP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Av.Fragment=e,Av.jsx=n,Av.jsxs=n,Av}var NP;function fY(){return NP||(NP=1,f5.exports=uY()),f5.exports}var v=fY(),h5={exports:{}},yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP;function hY(){if(IP)return yn;IP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function g(ne){return ne===null||typeof ne!="object"?null:(ne=y&&ne[y]||ne["@@iterator"],typeof ne=="function"?ne:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function I(ne,M,X){this.props=ne,this.context=M,this.refs=S,this.updater=X||E}I.prototype.isReactComponent={},I.prototype.setState=function(ne,M){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,M,"setState")},I.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function q(){}q.prototype=I.prototype;function k(ne,M,X){this.props=ne,this.context=M,this.refs=S,this.updater=X||E}var B=k.prototype=new q;B.constructor=k,A(B,I.prototype),B.isPureReactComponent=!0;var $=Array.isArray;function K(){}var j={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function D(ne,M,X){var Z=X.ref;return{$$typeof:t,type:ne,key:M,ref:Z!==void 0?Z:null,props:X}}function G(ne,M){return D(ne.type,M,ne.props)}function P(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function F(ne){var M={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(X){return M[X]})}var V=/\/+/g;function ee(ne,M){return typeof ne=="object"&&ne!==null&&ne.key!=null?F(""+ne.key):M.toString(36)}function ge(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(K,K):(ne.status="pending",ne.then(function(M){ne.status==="pending"&&(ne.status="fulfilled",ne.value=M)},function(M){ne.status==="pending"&&(ne.status="rejected",ne.reason=M)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function se(ne,M,X,Z,fe){var pe=typeof ne;(pe==="undefined"||pe==="boolean")&&(ne=null);var ye=!1;if(ne===null)ye=!0;else switch(pe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(ne.$$typeof){case t:case e:ye=!0;break;case h:return ye=ne._init,se(ye(ne._payload),M,X,Z,fe)}}if(ye)return fe=fe(ne),ye=Z===""?"."+ee(ne,0):Z,$(fe)?(X="",ye!=null&&(X=ye.replace(V,"$&/")+"/"),se(fe,M,X,"",function(Ce){return Ce})):fe!=null&&(P(fe)&&(fe=G(fe,X+(fe.key==null||ne&&ne.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+ye)),M.push(fe)),1;ye=0;var Pe=Z===""?".":Z+":";if($(ne))for(var de=0;de<ne.length;de++)Z=ne[de],pe=Pe+ee(Z,de),ye+=se(Z,M,X,pe,fe);else if(de=g(ne),typeof de=="function")for(ne=de.call(ne),de=0;!(Z=ne.next()).done;)Z=Z.value,pe=Pe+ee(Z,de++),ye+=se(Z,M,X,pe,fe);else if(pe==="object"){if(typeof ne.then=="function")return se(ge(ne),M,X,Z,fe);throw M=String(ne),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ye}function he(ne,M,X){if(ne==null)return ne;var Z=[],fe=0;return se(ne,Z,"","",function(pe){return M.call(X,pe,fe++)}),Z}function me(ne){if(ne._status===-1){var M=ne._result;M=M(),M.then(function(X){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=X)},function(X){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=X)}),ne._status===-1&&(ne._status=0,ne._result=M)}if(ne._status===1)return ne._result.default;throw ne._result}var _e=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Ue={map:he,forEach:function(ne,M,X){he(ne,function(){M.apply(this,arguments)},X)},count:function(ne){var M=0;return he(ne,function(){M++}),M},toArray:function(ne){return he(ne,function(M){return M})||[]},only:function(ne){if(!P(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return yn.Activity=p,yn.Children=Ue,yn.Component=I,yn.Fragment=n,yn.Profiler=i,yn.PureComponent=k,yn.StrictMode=r,yn.Suspense=u,yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,yn.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return j.H.useMemoCache(ne)}},yn.cache=function(ne){return function(){return ne.apply(null,arguments)}},yn.cacheSignal=function(){return null},yn.cloneElement=function(ne,M,X){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Z=A({},ne.props),fe=ne.key;if(M!=null)for(pe in M.key!==void 0&&(fe=""+M.key),M)!L.call(M,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&M.ref===void 0||(Z[pe]=M[pe]);var pe=arguments.length-2;if(pe===1)Z.children=X;else if(1<pe){for(var ye=Array(pe),Pe=0;Pe<pe;Pe++)ye[Pe]=arguments[Pe+2];Z.children=ye}return D(ne.type,fe,Z)},yn.createContext=function(ne){return ne={$$typeof:s,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:a,_context:ne},ne},yn.createElement=function(ne,M,X){var Z,fe={},pe=null;if(M!=null)for(Z in M.key!==void 0&&(pe=""+M.key),M)L.call(M,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(fe[Z]=M[Z]);var ye=arguments.length-2;if(ye===1)fe.children=X;else if(1<ye){for(var Pe=Array(ye),de=0;de<ye;de++)Pe[de]=arguments[de+2];fe.children=Pe}if(ne&&ne.defaultProps)for(Z in ye=ne.defaultProps,ye)fe[Z]===void 0&&(fe[Z]=ye[Z]);return D(ne,pe,fe)},yn.createRef=function(){return{current:null}},yn.forwardRef=function(ne){return{$$typeof:l,render:ne}},yn.isValidElement=P,yn.lazy=function(ne){return{$$typeof:h,_payload:{_status:-1,_result:ne},_init:me}},yn.memo=function(ne,M){return{$$typeof:f,type:ne,compare:M===void 0?null:M}},yn.startTransition=function(ne){var M=j.T,X={};j.T=X;try{var Z=ne(),fe=j.S;fe!==null&&fe(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(K,_e)}catch(pe){_e(pe)}finally{M!==null&&X.types!==null&&(M.types=X.types),j.T=M}},yn.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},yn.use=function(ne){return j.H.use(ne)},yn.useActionState=function(ne,M,X){return j.H.useActionState(ne,M,X)},yn.useCallback=function(ne,M){return j.H.useCallback(ne,M)},yn.useContext=function(ne){return j.H.useContext(ne)},yn.useDebugValue=function(){},yn.useDeferredValue=function(ne,M){return j.H.useDeferredValue(ne,M)},yn.useEffect=function(ne,M){return j.H.useEffect(ne,M)},yn.useEffectEvent=function(ne){return j.H.useEffectEvent(ne)},yn.useId=function(){return j.H.useId()},yn.useImperativeHandle=function(ne,M,X){return j.H.useImperativeHandle(ne,M,X)},yn.useInsertionEffect=function(ne,M){return j.H.useInsertionEffect(ne,M)},yn.useLayoutEffect=function(ne,M){return j.H.useLayoutEffect(ne,M)},yn.useMemo=function(ne,M){return j.H.useMemo(ne,M)},yn.useOptimistic=function(ne,M){return j.H.useOptimistic(ne,M)},yn.useReducer=function(ne,M,X){return j.H.useReducer(ne,M,X)},yn.useRef=function(ne){return j.H.useRef(ne)},yn.useState=function(ne){return j.H.useState(ne)},yn.useSyncExternalStore=function(ne,M,X){return j.H.useSyncExternalStore(ne,M,X)},yn.useTransition=function(){return j.H.useTransition()},yn.version="19.2.0",yn}var CP;function bg(){return CP||(CP=1,h5.exports=hY()),h5.exports}var O=bg();const zT=hu(O),dY=cY({__proto__:null,default:zT},[O]);var d5={exports:{}},Sv={},p5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP;function pY(){return PP||(PP=1,(function(t){function e(se,he){var me=se.length;se.push(he);e:for(;0<me;){var _e=me-1>>>1,Ue=se[_e];if(0<i(Ue,he))se[_e]=he,se[me]=Ue,me=_e;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var he=se[0],me=se.pop();if(me!==he){se[0]=me;e:for(var _e=0,Ue=se.length,ne=Ue>>>1;_e<ne;){var M=2*(_e+1)-1,X=se[M],Z=M+1,fe=se[Z];if(0>i(X,me))Z<Ue&&0>i(fe,X)?(se[_e]=fe,se[Z]=me,_e=Z):(se[_e]=X,se[M]=me,_e=M);else if(Z<Ue&&0>i(fe,me))se[_e]=fe,se[Z]=me,_e=Z;else break e}}return he}function i(se,he){var me=se.sortIndex-he.sortIndex;return me!==0?me:se.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],f=[],h=1,p=null,y=3,g=!1,E=!1,A=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(se){for(var he=n(f);he!==null;){if(he.callback===null)r(f);else if(he.startTime<=se)r(f),he.sortIndex=he.expirationTime,e(u,he);else break;he=n(f)}}function $(se){if(A=!1,B(se),!E)if(n(u)!==null)E=!0,K||(K=!0,F());else{var he=n(f);he!==null&&ge($,he.startTime-se)}}var K=!1,j=-1,L=5,D=-1;function G(){return S?!0:!(t.unstable_now()-D<L)}function P(){if(S=!1,K){var se=t.unstable_now();D=se;var he=!0;try{e:{E=!1,A&&(A=!1,q(j),j=-1),g=!0;var me=y;try{t:{for(B(se),p=n(u);p!==null&&!(p.expirationTime>se&&G());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,y=p.priorityLevel;var Ue=_e(p.expirationTime<=se);if(se=t.unstable_now(),typeof Ue=="function"){p.callback=Ue,B(se),he=!0;break t}p===n(u)&&r(u),B(se)}else r(u);p=n(u)}if(p!==null)he=!0;else{var ne=n(f);ne!==null&&ge($,ne.startTime-se),he=!1}}break e}finally{p=null,y=me,g=!1}he=void 0}}finally{he?F():K=!1}}}var F;if(typeof k=="function")F=function(){k(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ee=V.port2;V.port1.onmessage=P,F=function(){ee.postMessage(null)}}else F=function(){I(P,0)};function ge(se,he){j=I(function(){se(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(se){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var me=y;y=he;try{return se()}finally{y=me}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var me=y;y=se;try{return he()}finally{y=me}},t.unstable_scheduleCallback=function(se,he,me){var _e=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?_e+me:_e):me=_e,se){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=me+Ue,se={id:h++,callback:he,priorityLevel:se,startTime:me,expirationTime:Ue,sortIndex:-1},me>_e?(se.sortIndex=me,e(f,se),n(u)===null&&se===n(f)&&(A?(q(j),j=-1):A=!0,ge($,me-_e))):(se.sortIndex=Ue,e(u,se),E||g||(E=!0,K||(K=!0,F()))),se},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(se){var he=y;return function(){var me=y;y=he;try{return se.apply(this,arguments)}finally{y=me}}}})(m5)),m5}var OP;function mY(){return OP||(OP=1,p5.exports=pY()),p5.exports}var g5={exports:{}},ws={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function gY(){if(RP)return ws;RP=1;var t=bg();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ws.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ws.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},ws.flushSync=function(u){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=f,r.p=h,r.d.f()}},ws.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},ws.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ws.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:g}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ws.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},ws.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ws.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},ws.requestFormReset=function(u){r.d.r(u)},ws.unstable_batchedUpdates=function(u,f){return u(f)},ws.useFormState=function(u,f,h){return s.H.useFormState(u,f,h)},ws.useFormStatus=function(){return s.H.useHostTransitionStatus()},ws.version="19.2.0",ws}var DP;function bM(){if(DP)return g5.exports;DP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g5.exports=gY(),g5.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP;function vY(){if(kP)return Sv;kP=1;var t=mY(),e=bg(),n=bM();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var d=o,m=c;;){var x=d.return;if(x===null)break;var T=x.alternate;if(T===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===d)return u(x),o;if(T===m)return u(x),c;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=T;else{for(var z=!1,te=x.child;te;){if(te===d){z=!0,d=x,m=T;break}if(te===m){z=!0,m=x,d=T;break}te=te.sibling}if(!z){for(te=T.child;te;){if(te===d){z=!0,d=T,m=x;break}if(te===m){z=!0,m=T,d=x;break}te=te.sibling}if(!z)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:c}function h(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=h(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=P&&o[P]||o["@@iterator"],typeof o=="function"?o:null)}var V=Symbol.for("react.client.reference");function ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===V?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case K:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case k:return o.displayName||"Context";case q:return(o._context.displayName||"Context")+".Consumer";case B:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return c=o.displayName||null,c!==null?c:ee(o.type)||"Memo";case L:c=o._payload,o=o._init;try{return ee(o(c))}catch{}}return null}var ge=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},_e=[],Ue=-1;function ne(o){return{current:o}}function M(o){0>Ue||(o.current=_e[Ue],_e[Ue]=null,Ue--)}function X(o,c){Ue++,_e[Ue]=o.current,o.current=c}var Z=ne(null),fe=ne(null),pe=ne(null),ye=ne(null);function Pe(o,c){switch(X(pe,c),X(fe,o),X(Z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?KC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=KC(c),o=XC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}M(Z),X(Z,o)}function de(){M(Z),M(fe),M(pe)}function Ce(o){o.memoizedState!==null&&X(ye,o);var c=Z.current,d=XC(c,o.type);c!==d&&(X(fe,o),X(Z,d))}function Ve(o){fe.current===o&&(M(Z),M(fe)),ye.current===o&&(M(ye),_v._currentValue=me)}var Se,rt;function it(o){if(Se===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);Se=c&&c[1]||"",rt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+o+rt}var oe=!1;function Xe(o,c){if(!o||oe)return"";oe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(ze){var Me=ze}Reflect.construct(o,[],Je)}else{try{Je.call()}catch(ze){Me=ze}o.call(Je.prototype)}}else{try{throw Error()}catch(ze){Me=ze}(Je=o())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(ze){if(ze&&Me&&typeof ze.stack=="string")return[ze.stack,Me.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),z=T[0],te=T[1];if(z&&te){var ve=z.split(`
`),Le=te.split(`
`);for(x=m=0;m<ve.length&&!ve[m].includes("DetermineComponentFrameRoot");)m++;for(;x<Le.length&&!Le[x].includes("DetermineComponentFrameRoot");)x++;if(m===ve.length||x===Le.length)for(m=ve.length-1,x=Le.length-1;1<=m&&0<=x&&ve[m]!==Le[x];)x--;for(;1<=m&&0<=x;m--,x--)if(ve[m]!==Le[x]){if(m!==1||x!==1)do if(m--,x--,0>x||ve[m]!==Le[x]){var We=`
`+ve[m].replace(" at new "," at ");return o.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",o.displayName)),We}while(1<=m&&0<=x);break}}}finally{oe=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?it(d):""}function Nt(o,c){switch(o.tag){case 26:case 27:case 5:return it(o.type);case 16:return it("Lazy");case 13:return o.child!==c&&c!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Xe(o.type,!1);case 11:return Xe(o.type.render,!1);case 1:return Xe(o.type,!0);case 31:return it("Activity");default:return""}}function yt(o){try{var c="",d=null;do c+=Nt(o,d),d=o,o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var qe=Object.prototype.hasOwnProperty,dt=t.unstable_scheduleCallback,vt=t.unstable_cancelCallback,Ut=t.unstable_shouldYield,Rt=t.unstable_requestPaint,cn=t.unstable_now,fn=t.unstable_getCurrentPriorityLevel,Jt=t.unstable_ImmediatePriority,gn=t.unstable_UserBlockingPriority,st=t.unstable_NormalPriority,ft=t.unstable_LowPriority,Et=t.unstable_IdlePriority,Fe=t.log,wn=t.unstable_setDisableYieldValue,Bt=null,It=null;function Mt(o){if(typeof Fe=="function"&&wn(o),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Bt,o)}catch{}}var nn=Math.clz32?Math.clz32:xt,_t=Math.log,un=Math.LN2;function xt(o){return o>>>=0,o===0?32:31-(_t(o)/un|0)|0}var Vt=256,Tn=262144,ht=4194304;function gt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Kt(o,c,d){var m=o.pendingLanes;if(m===0)return 0;var x=0,T=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var te=m&134217727;return te!==0?(m=te&~T,m!==0?x=gt(m):(z&=te,z!==0?x=gt(z):d||(d=te&~o,d!==0&&(x=gt(d))))):(te=m&~T,te!==0?x=gt(te):z!==0?x=gt(z):d||(d=m&~o,d!==0&&(x=gt(d)))),x===0?0:c!==0&&c!==x&&(c&T)===0&&(T=x&-x,d=c&-c,T>=d||T===32&&(d&4194048)!==0)?c:x}function Gn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Mr(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(){var o=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),o}function fi(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function zt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ls(o,c,d,m,x,T){var z=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var te=o.entanglements,ve=o.expirationTimes,Le=o.hiddenUpdates;for(d=z&~d;0<d;){var We=31-nn(d),Je=1<<We;te[We]=0,ve[We]=-1;var Me=Le[We];if(Me!==null)for(Le[We]=null,We=0;We<Me.length;We++){var ze=Me[We];ze!==null&&(ze.lane&=-536870913)}d&=~Je}m!==0&&Ri(o,m,0),T!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=T&~(z&~c))}function Ri(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-nn(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|d&261930}function Di(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var m=31-nn(d),x=1<<m;x&c|o[m]&c&&(o[m]|=c),d&=~x}}function ki(o,c){var d=c&-c;return d=(d&42)!==0?1:Xn(d),(d&(o.suspendedLanes|c))!==0?0:d}function Xn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function cr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Xr(){var o=he.p;return o!==0?o:(o=window.event,o===void 0?32:bP(o.type))}function Li(o,c){var d=he.p;try{return he.p=o,c()}finally{he.p=d}}var hi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+hi,ir="__reactProps$"+hi,Qr="__reactContainer$"+hi,Wi="__reactEvents$"+hi,Ca="__reactListeners$"+hi,Js="__reactHandles$"+hi,Ha="__reactResources$"+hi,ji="__reactMarker$"+hi;function ms(o){delete o[Vn],delete o[ir],delete o[Wi],delete o[Ca],delete o[Js]}function nt(o){var c=o[Vn];if(c)return c;for(var d=o.parentNode;d;){if(c=d[Qr]||d[Vn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=rP(o);o!==null;){if(d=o[Vn])return d;o=rP(o)}return c}o=d,d=o.parentNode}return null}function rn(o){if(o=o[Vn]||o[Qr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function dr(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Qn(o){var c=o[Ha];return c||(c=o[Ha]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ur(o){o[ji]=!0}var gs=new Set,Jr={};function Yn(o,c){la(o,c),la(o+"Capture",c)}function la(o,c){for(Jr[o]=c,o=0;o<c.length;o++)gs.add(c[o])}var vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},yc={};function vu(o){return qe.call(yc,o)?!0:qe.call(vc,o)?!1:vs.test(o)?yc[o]=!0:(vc[o]=!0,!1)}function $a(o,c,d){if(vu(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function Ki(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function Zr(o,c,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+m)}}function Nn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Co(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ys(o,c,d){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,T=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(z){d=""+z,T.call(this,z)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(z){d=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ln(o){if(!o._valueTracker){var c=Co(o)?"checked":"value";o._valueTracker=ys(o,c,""+o[c])}}function rl(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),m="";return o&&(m=Co(o)?o.checked?"true":"false":o.value),o=m,o!==d?(c.setValue(o),!0):!1}function di(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Or=/[\n"\\]/g;function ei(o){return o.replace(Or,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function jl(o,c,d,m,x,T,z,te){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Nn(c)):o.value!==""+Nn(c)&&(o.value=""+Nn(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?yu(o,z,Nn(c)):d!=null?yu(o,z,Nn(d)):m!=null&&o.removeAttribute("value"),x==null&&T!=null&&(o.defaultChecked=!!T),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.name=""+Nn(te):o.removeAttribute("name")}function Tf(o,c,d,m,x,T,z,te){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){Ln(o);return}d=d!=null?""+Nn(d):"",c=c!=null?""+Nn(c):d,te||c===o.value||(o.value=c),o.defaultValue=c}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=te?o.checked:!!m,o.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),Ln(o)}function yu(o,c,d){c==="number"&&di(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function ca(o,c,d,m){if(o=o.options,c){c={};for(var x=0;x<d.length;x++)c["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=c.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Nn(d),c=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function bu(o,c,d){if(c!=null&&(c=""+Nn(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+Nn(d):""}function Po(o,c,d,m){if(c==null){if(m!=null){if(d!=null)throw Error(r(92));if(ge(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),c=d}d=Nn(c),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m),Ln(o)}function Mi(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _u(o,c,d){var m=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,d):typeof d!="number"||d===0||il.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function xu(o,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var x in c)m=c[x],c.hasOwnProperty(x)&&d[x]!==m&&_u(o,x,m)}else for(var T in c)c.hasOwnProperty(T)&&_u(o,T,c[T])}function bc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(o){return Oo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function js(){}var Ro=null;function Oa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var al=null,Xt=null;function Ml(o){var c=rn(o);if(c&&(o=c.stateNode)){var d=o[ir]||null;e:switch(o=c.stateNode,c.type){case"input":if(jl(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ei(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var m=d[c];if(m!==o&&m.form===o.form){var x=m[ir]||null;if(!x)throw Error(r(90));jl(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<d.length;c++)m=d[c],m.form===o.form&&rl(m)}break e;case"textarea":bu(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&ca(o,!!d.multiple,c,!1)}}}var xc=!1;function sl(o,c,d){if(xc)return o(c,d);xc=!0;try{var m=o(c);return m}finally{if(xc=!1,(al!==null||Xt!==null)&&(N1(),al&&(c=al,o=Xt,Xt=al=null,Ml(c),o)))for(c=0;c<o.length;c++)Ml(o[c])}}function Fi(o,c){var d=o.stateNode;if(d===null)return null;var m=d[ir]||null;if(m===null)return null;d=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=!1;if(xi)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Fl=!1}var Ga=null,Ul=null,Ms=null;function wu(){if(Ms)return Ms;var o,c=Ul,d=c.length,m,x="value"in Ga?Ga.value:Ga.textContent,T=x.length;for(o=0;o<d&&c[o]===x[o];o++);var z=d-o;for(m=1;m<=z&&c[d-m]===x[T-m];m++);return Ms=x.slice(o,1<m?1-m:void 0)}function Ya(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Do(){return!0}function Wa(){return!1}function pi(o){function c(d,m,x,T,z){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(d=o[te],this[te]=d?d(T):T[te]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Do:Wa,this.isPropagationStopped=Wa,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),c}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=pi(Zs),eo=p({},Zs,{view:0,detail:0}),ol=pi(eo),to,no,bs,Bl=p({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bs&&(bs&&o.type==="mousemove"?(to=o.screenX-bs.screenX,no=o.screenY-bs.screenY):no=to=0,bs=o),to)},movementY:function(o){return"movementY"in o?o.movementY:no}}),wc=pi(Bl),Ka=p({},Bl,{dataTransfer:0}),ro=pi(Ka),Eu=p({},eo,{relatedTarget:0}),Fs=pi(Eu),Ec=p({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),N=pi(Ec),Y=p({},Zs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ce=pi(Y),be=p({},Zs,{data:0}),Ae=pi(be),Ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dt(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Tt[o])?!!c[o]:!1}function Zt(){return Dt}var Wt=p({},eo,{key:function(o){if(o.key){var c=Ye[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ya(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?et[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zt,charCode:function(o){return o.type==="keypress"?Ya(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ya(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),In=pi(Wt),Er=p({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=pi(Er),_=p({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zt}),R=pi(_),H=p({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ie=pi(H),Ne=p({},Bl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),je=pi(Ne),ut=p({},Zs,{newState:0,oldState:0}),hn=pi(ut),Ar=[9,13,27,32],An=xi&&"CompositionEvent"in window,Zn=null;xi&&"documentMode"in document&&(Zn=document.documentMode);var Qi=xi&&"TextEvent"in window&&!Zn,ua=xi&&(!An||Zn&&8<Zn&&11>=Zn),pr=" ",fa=!1;function Us(o,c){switch(o){case"keyup":return Ar.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ll(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cl=!1;function Xa(o,c){switch(o){case"compositionend":return ll(c);case"keypress":return c.which!==32?null:(fa=!0,pr);case"textInput":return o=c.data,o===pr&&fa?null:o;default:return null}}function Vl(o,c){if(cl)return o==="compositionend"||!An&&Us(o,c)?(o=wu(),Ms=Ul=Ga=null,cl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ua&&c.locale!=="ko"?null:c.data;default:return null}}var Nf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Nf[o.type]:c==="textarea"}function Bs(o,c,d,m){al?Xt?Xt.push(m):Xt=[m]:al=m,c=k1(c,"onChange"),0<c.length&&(d=new Xi("onChange","change",null,d,m),o.push({event:d,listeners:c}))}var ko=null,zl=null;function Xh(o){qC(o,0)}function Lo(o){var c=dr(o);if(rl(c))return o}function Ac(o,c){if(o==="change")return c}var _s=!1;if(xi){var Qa;if(xi){var ul="oninput"in document;if(!ul){var fl=document.createElement("div");fl.setAttribute("oninput","return;"),ul=typeof fl.oninput=="function"}Qa=ul}else Qa=!1;_s=Qa&&(!document.documentMode||9<document.documentMode)}function ql(){ko&&(ko.detachEvent("onpropertychange",If),zl=ko=null)}function If(o){if(o.propertyName==="value"&&Lo(zl)){var c=[];Bs(c,zl,o,Oa(o)),sl(Xh,c)}}function Cf(o,c,d){o==="focusin"?(ql(),ko=c,zl=d,ko.attachEvent("onpropertychange",If)):o==="focusout"&&ql()}function mi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lo(zl)}function wp(o,c){if(o==="click")return Lo(c)}function hl(o,c){if(o==="input"||o==="change")return Lo(c)}function dl(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ha=typeof Object.is=="function"?Object.is:dl;function Hl(o,c){if(ha(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),m=Object.keys(c);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!qe.call(c,x)||!ha(o[x],c[x]))return!1}return!0}function Pf(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Of(o,c){var d=Pf(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=c&&m>=c)return{node:d,offset:c-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Pf(d)}}function $l(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?$l(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Gl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=di(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=di(o.document)}return c}function pl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Au=xi&&"documentMode"in document&&11>=document.documentMode,Vs=null,Yl=null,Ra=null,io=!1;function Wn(o,c,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;io||Vs==null||Vs!==di(m)||(m=Vs,"selectionStart"in m&&pl(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ra&&Hl(Ra,m)||(Ra=m,m=k1(Yl,"onSelect"),0<m.length&&(c=new Xi("onSelect","select",null,c,d),o.push({event:c,listeners:m}),c.target=Vs)))}function Un(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var Sr={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionrun:Un("Transition","TransitionRun"),transitionstart:Un("Transition","TransitionStart"),transitioncancel:Un("Transition","TransitionCancel"),transitionend:Un("Transition","TransitionEnd")},gi={},ml={};xi&&(ml=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function jo(o){if(gi[o])return gi[o];if(!Sr[o])return o;var c=Sr[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in ml)return gi[o]=c[d];return o}var Su=jo("animationend"),Qh=jo("animationiteration"),qg=jo("animationstart"),r1=jo("transitionrun"),i1=jo("transitionstart"),a1=jo("transitioncancel"),Hg=jo("transitionend"),$g=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function ao(o,c){$g.set(o,c),Yn(c,[o])}var Jh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},zs=[],Nu=0,Ep=0;function Zh(){for(var o=Nu,c=Ep=Nu=0;c<o;){var d=zs[c];zs[c++]=null;var m=zs[c];zs[c++]=null;var x=zs[c];zs[c++]=null;var T=zs[c];if(zs[c++]=null,m!==null&&x!==null){var z=m.pending;z===null?x.next=x:(x.next=z.next,z.next=x),m.pending=x}T!==0&&td(d,x,T)}}function ed(o,c,d,m){zs[Nu++]=o,zs[Nu++]=c,zs[Nu++]=d,zs[Nu++]=m,Ep|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Ap(o,c,d,m){return ed(o,c,d,m),Da(o)}function Wl(o,c){return ed(o,null,null,c),Da(o)}function td(o,c,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var x=!1,T=o.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(x=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,x&&c!==null&&(x=31-nn(d),o=T.hiddenUpdates,m=o[x],m===null?o[x]=[c]:m.push(c),c.lane=d|536870912),T):null}function Da(o){if(50<dv)throw dv=0,Lw=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var da={};function Sp(o,c,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(o,c,d,m){return new Sp(o,c,d,m)}function Tp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function so(o,c){var d=o.alternate;return d===null?(d=ka(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function nd(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Rf(o,c,d,m,x,T){var z=0;if(m=o,typeof o=="function")Tp(o)&&(z=1);else if(typeof o=="string")z=KG(o,d,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=ka(31,d,c,x),o.elementType=D,o.lanes=T,o;case A:return Sc(d.children,x,T,c);case S:z=8,x|=24;break;case I:return o=ka(12,d,c,x|2),o.elementType=I,o.lanes=T,o;case $:return o=ka(13,d,c,x),o.elementType=$,o.lanes=T,o;case K:return o=ka(19,d,c,x),o.elementType=K,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:z=10;break e;case q:z=9;break e;case B:z=11;break e;case j:z=14;break e;case L:z=16,m=null;break e}z=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return c=ka(z,d,c,x),c.elementType=o,c.type=m,c.lanes=T,c}function Sc(o,c,d,m){return o=ka(7,o,m,c),o.lanes=d,o}function rd(o,c,d){return o=ka(6,o,null,c),o.lanes=d,o}function Np(o){var c=ka(18,null,null,0);return c.stateNode=o,c}function Df(o,c,d){return c=ka(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Ip=new WeakMap;function oo(o,c){if(typeof o=="object"&&o!==null){var d=Ip.get(o);return d!==void 0?d:(c={value:o,source:c,stack:yt(c)},Ip.set(o,c),c)}return{value:o,source:c,stack:yt(c)}}var kf=[],Iu=0,Cp=null,id=0,lo=[],co=0,Tc=null,uo=1,fo="";function qs(o,c){kf[Iu++]=id,kf[Iu++]=Cp,Cp=o,id=c}function s1(o,c,d){lo[co++]=uo,lo[co++]=fo,lo[co++]=Tc,Tc=o;var m=uo;o=fo;var x=32-nn(m)-1;m&=~(1<<x),d+=1;var T=32-nn(c)+x;if(30<T){var z=x-x%5;T=(m&(1<<z)-1).toString(32),m>>=z,x-=z,uo=1<<32-nn(c)+x|d<<x|m,fo=T+o}else uo=1<<T|d<<x|m,fo=o}function Gg(o){o.return!==null&&(qs(o,1),s1(o,1,0))}function Pp(o){for(;o===Cp;)Cp=kf[--Iu],kf[Iu]=null,id=kf[--Iu],kf[Iu]=null;for(;o===Tc;)Tc=lo[--co],lo[co]=null,fo=lo[--co],lo[co]=null,uo=lo[--co],lo[co]=null}function o1(o,c){lo[co++]=uo,lo[co++]=fo,lo[co++]=Tc,uo=c.id,fo=c.overflow,Tc=o}var pa=null,Rr=null,Pn=!1,Ja=null,ti=!1,Mo=Error(r(519));function Nc(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lf(oo(c,o)),Mo}function Yg(o){var c=o.stateNode,d=o.type,m=o.memoizedProps;switch(c[Vn]=o,c[ir]=m,d){case"dialog":Rn("cancel",c),Rn("close",c);break;case"iframe":case"object":case"embed":Rn("load",c);break;case"video":case"audio":for(d=0;d<mv.length;d++)Rn(mv[d],c);break;case"source":Rn("error",c);break;case"img":case"image":case"link":Rn("error",c),Rn("load",c);break;case"details":Rn("toggle",c);break;case"input":Rn("invalid",c),Tf(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Rn("invalid",c);break;case"textarea":Rn("invalid",c),Po(c,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||m.suppressHydrationWarning===!0||YC(c.textContent,d)?(m.popover!=null&&(Rn("beforetoggle",c),Rn("toggle",c)),m.onScroll!=null&&Rn("scroll",c),m.onScrollEnd!=null&&Rn("scrollend",c),m.onClick!=null&&(c.onclick=js),c=!0):c=!1,c||Nc(o,!0)}function Kl(o){for(pa=o.return;pa;)switch(pa.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:pa=pa.return}}function ma(o){if(o!==pa)return!1;if(!Pn)return Kl(o),Pn=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Xw(o.type,o.memoizedProps)),d=!d),d&&Rr&&Nc(o),Kl(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rr=nP(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rr=nP(o)}else c===27?(c=Rr,Kf(o.type)?(o=t5,t5=null,Rr=o):Rr=c):Rr=pa?bl(o.stateNode.nextSibling):null;return!0}function Cu(){Rr=pa=null,Pn=!1}function Wg(){var o=Ja;return o!==null&&(yo===null?yo=o:yo.push.apply(yo,o),Ja=null),o}function Lf(o){Ja===null?Ja=[o]:Ja.push(o)}var Op=ne(null),Ic=null,gl=null;function Cc(o,c,d){X(Op,c._currentValue),c._currentValue=d}function ho(o){o._currentValue=Op.current,M(Op)}function jf(o,c,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===d)break;o=o.return}}function Pu(o,c,d,m){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var T=x.dependencies;if(T!==null){var z=x.child;T=T.firstContext;e:for(;T!==null;){var te=T;T=x;for(var ve=0;ve<c.length;ve++)if(te.context===c[ve]){T.lanes|=d,te=T.alternate,te!==null&&(te.lanes|=d),jf(T.return,d,o),m||(z=null);break e}T=te.next}}else if(x.tag===18){if(z=x.return,z===null)throw Error(r(341));z.lanes|=d,T=z.alternate,T!==null&&(T.lanes|=d),jf(z,d,o),z=null}else z=x.child;if(z!==null)z.return=x;else for(z=x;z!==null;){if(z===o){z=null;break}if(x=z.sibling,x!==null){x.return=z.return,z=x;break}z=z.return}x=z}}function Pc(o,c,d,m){o=null;for(var x=c,T=!1;x!==null;){if(!T){if((x.flags&524288)!==0)T=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var z=x.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var te=x.type;ha(x.pendingProps.value,z.value)||(o!==null?o.push(te):o=[te])}}else if(x===ye.current){if(z=x.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(_v):o=[_v])}x=x.return}o!==null&&Pu(c,o,d,m),c.flags|=262144}function Rp(o){for(o=o.firstContext;o!==null;){if(!ha(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Oc(o){Ic=o,gl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ga(o){return l1(Ic,o)}function Dp(o,c){return Ic===null&&Oc(o),l1(o,c)}function l1(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},gl===null){if(o===null)throw Error(r(308));gl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else gl=gl.next=c;return d}var ew=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},tw=t.unstable_scheduleCallback,nw=t.unstable_NormalPriority,vi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new ew,data:new Map,refCount:0}}function ad(o){o.refCount--,o.refCount===0&&tw(nw,function(){o.controller.abort()})}var sd=null,kp=0,b=0,w=null;function C(o,c){if(sd===null){var d=sd=[];kp=0,b=Vw(),w={status:"pending",value:void 0,then:function(m){d.push(m)}}}return kp++,c.then(U,U),c}function U(){if(--kp===0&&sd!==null){w!==null&&(w.status="fulfilled");var o=sd;sd=null,b=0,w=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function W(o,c){var d=[],m={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var x=0;x<d.length;x++)(0,d[x])(c)},function(x){for(m.status="rejected",m.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),m}var Q=se.S;se.S=function(o,c){vC=cn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&C(o,c),Q!==null&&Q(o,c)};var J=ne(null);function re(){var o=J.current;return o!==null?o:kr.pooledCache}function ae(o,c){c===null?X(J,J.current):X(J,c.pool)}function ue(){var o=re();return o===null?null:{parent:vi._currentValue,pool:o}}var xe=Error(r(460)),De=Error(r(474)),le=Error(r(542)),Ee={then:function(){}};function Ie(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ge(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(js,js),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ot(o),o;default:if(typeof c.status=="string")c.then(js,js);else{if(o=kr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=m}},function(m){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ot(o),o}throw $e=c,xe}}function Oe(o){try{var c=o._init;return c(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?($e=d,xe):d}}var $e=null;function Ke(){if($e===null)throw Error(r(459));var o=$e;return $e=null,o}function ot(o){if(o===xe||o===le)throw Error(r(483))}var Ze=null,kt=0;function At(o){var c=kt;return kt+=1,Ze===null&&(Ze=[]),Ge(Ze,o,c)}function dn(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ct(o,c){throw c.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Cn(o){function c(Te,we){if(o){var ke=Te.deletions;ke===null?(Te.deletions=[we],Te.flags|=16):ke.push(we)}}function d(Te,we){if(!o)return null;for(;we!==null;)c(Te,we),we=we.sibling;return null}function m(Te){for(var we=new Map;Te!==null;)Te.key!==null?we.set(Te.key,Te):we.set(Te.index,Te),Te=Te.sibling;return we}function x(Te,we){return Te=so(Te,we),Te.index=0,Te.sibling=null,Te}function T(Te,we,ke){return Te.index=ke,o?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<we?(Te.flags|=67108866,we):ke):(Te.flags|=67108866,we)):(Te.flags|=1048576,we)}function z(Te){return o&&Te.alternate===null&&(Te.flags|=67108866),Te}function te(Te,we,ke,Qe){return we===null||we.tag!==6?(we=rd(ke,Te.mode,Qe),we.return=Te,we):(we=x(we,ke),we.return=Te,we)}function ve(Te,we,ke,Qe){var tn=ke.type;return tn===A?We(Te,we,ke.props.children,Qe,ke.key):we!==null&&(we.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===L&&Oe(tn)===we.type)?(we=x(we,ke.props),dn(we,ke),we.return=Te,we):(we=Rf(ke.type,ke.key,ke.props,null,Te.mode,Qe),dn(we,ke),we.return=Te,we)}function Le(Te,we,ke,Qe){return we===null||we.tag!==4||we.stateNode.containerInfo!==ke.containerInfo||we.stateNode.implementation!==ke.implementation?(we=Df(ke,Te.mode,Qe),we.return=Te,we):(we=x(we,ke.children||[]),we.return=Te,we)}function We(Te,we,ke,Qe,tn){return we===null||we.tag!==7?(we=Sc(ke,Te.mode,Qe,tn),we.return=Te,we):(we=x(we,ke),we.return=Te,we)}function Je(Te,we,ke){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=rd(""+we,Te.mode,ke),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return ke=Rf(we.type,we.key,we.props,null,Te.mode,ke),dn(ke,we),ke.return=Te,ke;case E:return we=Df(we,Te.mode,ke),we.return=Te,we;case L:return we=Oe(we),Je(Te,we,ke)}if(ge(we)||F(we))return we=Sc(we,Te.mode,ke,null),we.return=Te,we;if(typeof we.then=="function")return Je(Te,At(we),ke);if(we.$$typeof===k)return Je(Te,Dp(Te,we),ke);Ct(Te,we)}return null}function Me(Te,we,ke,Qe){var tn=we!==null?we.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return tn!==null?null:te(Te,we,""+ke,Qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:return ke.key===tn?ve(Te,we,ke,Qe):null;case E:return ke.key===tn?Le(Te,we,ke,Qe):null;case L:return ke=Oe(ke),Me(Te,we,ke,Qe)}if(ge(ke)||F(ke))return tn!==null?null:We(Te,we,ke,Qe,null);if(typeof ke.then=="function")return Me(Te,we,At(ke),Qe);if(ke.$$typeof===k)return Me(Te,we,Dp(Te,ke),Qe);Ct(Te,ke)}return null}function ze(Te,we,ke,Qe,tn){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Te=Te.get(ke)||null,te(we,Te,""+Qe,tn);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case g:return Te=Te.get(Qe.key===null?ke:Qe.key)||null,ve(we,Te,Qe,tn);case E:return Te=Te.get(Qe.key===null?ke:Qe.key)||null,Le(we,Te,Qe,tn);case L:return Qe=Oe(Qe),ze(Te,we,ke,Qe,tn)}if(ge(Qe)||F(Qe))return Te=Te.get(ke)||null,We(we,Te,Qe,tn,null);if(typeof Qe.then=="function")return ze(Te,we,ke,At(Qe),tn);if(Qe.$$typeof===k)return ze(Te,we,ke,Dp(we,Qe),tn);Ct(we,Qe)}return null}function Ot(Te,we,ke,Qe){for(var tn=null,er=null,Ft=we,En=we=0,Mn=null;Ft!==null&&En<ke.length;En++){Ft.index>En?(Mn=Ft,Ft=null):Mn=Ft.sibling;var tr=Me(Te,Ft,ke[En],Qe);if(tr===null){Ft===null&&(Ft=Mn);break}o&&Ft&&tr.alternate===null&&c(Te,Ft),we=T(tr,we,En),er===null?tn=tr:er.sibling=tr,er=tr,Ft=Mn}if(En===ke.length)return d(Te,Ft),Pn&&qs(Te,En),tn;if(Ft===null){for(;En<ke.length;En++)Ft=Je(Te,ke[En],Qe),Ft!==null&&(we=T(Ft,we,En),er===null?tn=Ft:er.sibling=Ft,er=Ft);return Pn&&qs(Te,En),tn}for(Ft=m(Ft);En<ke.length;En++)Mn=ze(Ft,Te,En,ke[En],Qe),Mn!==null&&(o&&Mn.alternate!==null&&Ft.delete(Mn.key===null?En:Mn.key),we=T(Mn,we,En),er===null?tn=Mn:er.sibling=Mn,er=Mn);return o&&Ft.forEach(function(eh){return c(Te,eh)}),Pn&&qs(Te,En),tn}function on(Te,we,ke,Qe){if(ke==null)throw Error(r(151));for(var tn=null,er=null,Ft=we,En=we=0,Mn=null,tr=ke.next();Ft!==null&&!tr.done;En++,tr=ke.next()){Ft.index>En?(Mn=Ft,Ft=null):Mn=Ft.sibling;var eh=Me(Te,Ft,tr.value,Qe);if(eh===null){Ft===null&&(Ft=Mn);break}o&&Ft&&eh.alternate===null&&c(Te,Ft),we=T(eh,we,En),er===null?tn=eh:er.sibling=eh,er=eh,Ft=Mn}if(tr.done)return d(Te,Ft),Pn&&qs(Te,En),tn;if(Ft===null){for(;!tr.done;En++,tr=ke.next())tr=Je(Te,tr.value,Qe),tr!==null&&(we=T(tr,we,En),er===null?tn=tr:er.sibling=tr,er=tr);return Pn&&qs(Te,En),tn}for(Ft=m(Ft);!tr.done;En++,tr=ke.next())tr=ze(Ft,Te,En,tr.value,Qe),tr!==null&&(o&&tr.alternate!==null&&Ft.delete(tr.key===null?En:tr.key),we=T(tr,we,En),er===null?tn=tr:er.sibling=tr,er=tr);return o&&Ft.forEach(function(sY){return c(Te,sY)}),Pn&&qs(Te,En),tn}function Cr(Te,we,ke,Qe){if(typeof ke=="object"&&ke!==null&&ke.type===A&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:e:{for(var tn=ke.key;we!==null;){if(we.key===tn){if(tn=ke.type,tn===A){if(we.tag===7){d(Te,we.sibling),Qe=x(we,ke.props.children),Qe.return=Te,Te=Qe;break e}}else if(we.elementType===tn||typeof tn=="object"&&tn!==null&&tn.$$typeof===L&&Oe(tn)===we.type){d(Te,we.sibling),Qe=x(we,ke.props),dn(Qe,ke),Qe.return=Te,Te=Qe;break e}d(Te,we);break}else c(Te,we);we=we.sibling}ke.type===A?(Qe=Sc(ke.props.children,Te.mode,Qe,ke.key),Qe.return=Te,Te=Qe):(Qe=Rf(ke.type,ke.key,ke.props,null,Te.mode,Qe),dn(Qe,ke),Qe.return=Te,Te=Qe)}return z(Te);case E:e:{for(tn=ke.key;we!==null;){if(we.key===tn)if(we.tag===4&&we.stateNode.containerInfo===ke.containerInfo&&we.stateNode.implementation===ke.implementation){d(Te,we.sibling),Qe=x(we,ke.children||[]),Qe.return=Te,Te=Qe;break e}else{d(Te,we);break}else c(Te,we);we=we.sibling}Qe=Df(ke,Te.mode,Qe),Qe.return=Te,Te=Qe}return z(Te);case L:return ke=Oe(ke),Cr(Te,we,ke,Qe)}if(ge(ke))return Ot(Te,we,ke,Qe);if(F(ke)){if(tn=F(ke),typeof tn!="function")throw Error(r(150));return ke=tn.call(ke),on(Te,we,ke,Qe)}if(typeof ke.then=="function")return Cr(Te,we,At(ke),Qe);if(ke.$$typeof===k)return Cr(Te,we,Dp(Te,ke),Qe);Ct(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,we!==null&&we.tag===6?(d(Te,we.sibling),Qe=x(we,ke),Qe.return=Te,Te=Qe):(d(Te,we),Qe=rd(ke,Te.mode,Qe),Qe.return=Te,Te=Qe),z(Te)):d(Te,we)}return function(Te,we,ke,Qe){try{kt=0;var tn=Cr(Te,we,ke,Qe);return Ze=null,tn}catch(Ft){if(Ft===xe||Ft===le)throw Ft;var er=ka(29,Ft,null,Te.mode);return er.lanes=Qe,er.return=Te,er}finally{}}}var Dr=Cn(!0),vn=Cn(!1),St=!1;function pt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qr(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function an(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function _n(o,c,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(or&2)!==0){var x=m.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),m.pending=c,c=Da(o),td(o,null,d),c}return ed(o,m,c,d),Da(o)}function ar(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,d|=m,c.lanes=d,Di(o,d)}}function Ui(o,c){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?x=T=z:T=T.next=z,d=d.next}while(d!==null);T===null?x=T=c:T=T.next=c}else x=T=c;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var va=!1;function Tr(){if(va){var o=w;if(o!==null)throw o}}function wi(o,c,d,m){va=!1;var x=o.updateQueue;St=!1;var T=x.firstBaseUpdate,z=x.lastBaseUpdate,te=x.shared.pending;if(te!==null){x.shared.pending=null;var ve=te,Le=ve.next;ve.next=null,z===null?T=Le:z.next=Le,z=ve;var We=o.alternate;We!==null&&(We=We.updateQueue,te=We.lastBaseUpdate,te!==z&&(te===null?We.firstBaseUpdate=Le:te.next=Le,We.lastBaseUpdate=ve))}if(T!==null){var Je=x.baseState;z=0,We=Le=ve=null,te=T;do{var Me=te.lane&-536870913,ze=Me!==te.lane;if(ze?(jn&Me)===Me:(m&Me)===Me){Me!==0&&Me===b&&(va=!0),We!==null&&(We=We.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Ot=o,on=te;Me=c;var Cr=d;switch(on.tag){case 1:if(Ot=on.payload,typeof Ot=="function"){Je=Ot.call(Cr,Je,Me);break e}Je=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=on.payload,Me=typeof Ot=="function"?Ot.call(Cr,Je,Me):Ot,Me==null)break e;Je=p({},Je,Me);break e;case 2:St=!0}}Me=te.callback,Me!==null&&(o.flags|=64,ze&&(o.flags|=8192),ze=x.callbacks,ze===null?x.callbacks=[Me]:ze.push(Me))}else ze={lane:Me,tag:te.tag,payload:te.payload,callback:te.callback,next:null},We===null?(Le=We=ze,ve=Je):We=We.next=ze,z|=Me;if(te=te.next,te===null){if(te=x.shared.pending,te===null)break;ze=te,te=ze.next,ze.next=null,x.lastBaseUpdate=ze,x.shared.pending=null}}while(!0);We===null&&(ve=Je),x.baseState=ve,x.firstBaseUpdate=Le,x.lastBaseUpdate=We,T===null&&(x.shared.lanes=0),Hf|=z,o.lanes=z,o.memoizedState=Je}}function La(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function Ei(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)La(d[o],c)}var Sn=ne(null),zn=ne(0);function Hr(o,c){o=Bu,X(zn,o),X(Sn,c),Bu=o|c.baseLanes}function Kn(){X(zn,Bu),X(Sn,Sn.current)}function Bi(){Bu=zn.current,M(Sn),M(zn)}var $r=ne(null),qn=null;function yi(o){var c=o.alternate;X(Bn,Bn.current&1),X($r,o),qn===null&&(c===null||Sn.current!==null||c.memoizedState!==null)&&(qn=o)}function sr(o){X(Bn,Bn.current),X($r,o),qn===null&&(qn=o)}function Ai(o){o.tag===22?(X(Bn,Bn.current),X($r,o),qn===null&&(qn=o)):Si()}function Si(){X(Bn,Bn.current),X($r,$r.current)}function mr(o){M($r),qn===o&&(qn=null),M(Bn)}var Bn=ne(0);function ja(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Zw(d)||e5(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ni=0,Qt=null,en=null,Hn=null,xs=!1,po=!1,Za=!1,Ti=0,Rc=0,Dc=null,Lp=0;function Nr(){throw Error(r(321))}function Kg(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!ha(o[d],c[d]))return!1;return!0}function Xg(o,c,d,m,x,T){return ni=T,Qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,se.H=o===null||o.memoizedState===null?I4:uw,Za=!1,T=d(m,x),Za=!1,po&&(T=Xl(c,d,m,x)),jp(o),T}function jp(o){se.H=iv;var c=en!==null&&en.next!==null;if(ni=0,Hn=en=Qt=null,xs=!1,Rc=0,Dc=null,c)throw Error(r(300));o===null||Zi||(o=o.dependencies,o!==null&&Rp(o)&&(Zi=!0))}function Xl(o,c,d,m){Qt=o;var x=0;do{if(po&&(Dc=null),Rc=0,po=!1,25<=x)throw Error(r(301));if(x+=1,Hn=en=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}se.H=C4,T=c(d,m)}while(po);return T}function rw(){var o=se.H,c=o.useState()[0];return c=typeof c.then=="function"?kc(c):c,o=o.useState()[0],(en!==null?en.memoizedState:null)!==o&&(Qt.flags|=1024),c}function Qg(){var o=Ti!==0;return Ti=0,o}function Jg(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function Mp(o){if(xs){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}xs=!1}ni=0,Hn=en=Qt=null,po=!1,Rc=Ti=0,Dc=null}function Ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Qt.memoizedState=Hn=o:Hn=Hn.next=o,Hn}function ri(){if(en===null){var o=Qt.alternate;o=o!==null?o.memoizedState:null}else o=en.next;var c=Hn===null?Qt.memoizedState:Hn.next;if(c!==null)Hn=c,en=o;else{if(o===null)throw Qt.alternate===null?Error(r(467)):Error(r(310));en=o,o={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Hn===null?Qt.memoizedState=Hn=o:Hn=Hn.next=o}return Hn}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(o){var c=Rc;return Rc+=1,Dc===null&&(Dc=[]),o=Ge(Dc,o,c),c=Qt,(Hn===null?c.memoizedState:Hn.next)===null&&(c=c.alternate,se.H=c===null||c.memoizedState===null?I4:uw),o}function Ff(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kc(o);if(o.$$typeof===k)return ga(o)}throw Error(r(438,String(o)))}function Ou(o){var c=null,d=Qt.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var m=Qt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=od(),Qt.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),m=0;m<o;m++)d[m]=G;return c.index++,d}function vl(o,c){return typeof c=="function"?c(o):c}function Fp(o){var c=ri();return Uf(c,en,o)}function Uf(o,c,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var x=o.baseQueue,T=m.pending;if(T!==null){if(x!==null){var z=x.next;x.next=T.next,T.next=z}c.baseQueue=x=T,m.pending=null}if(T=o.baseState,x===null)o.memoizedState=T;else{c=x.next;var te=z=null,ve=null,Le=c,We=!1;do{var Je=Le.lane&-536870913;if(Je!==Le.lane?(jn&Je)===Je:(ni&Je)===Je){var Me=Le.revertLane;if(Me===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Je===b&&(We=!0);else if((ni&Me)===Me){Le=Le.next,Me===b&&(We=!0);continue}else Je={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ve===null?(te=ve=Je,z=T):ve=ve.next=Je,Qt.lanes|=Me,Hf|=Me;Je=Le.action,Za&&d(T,Je),T=Le.hasEagerState?Le.eagerState:d(T,Je)}else Me={lane:Je,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ve===null?(te=ve=Me,z=T):ve=ve.next=Me,Qt.lanes|=Je,Hf|=Je;Le=Le.next}while(Le!==null&&Le!==c);if(ve===null?z=T:ve.next=te,!ha(T,o.memoizedState)&&(Zi=!0,We&&(d=w,d!==null)))throw d;o.memoizedState=T,o.baseState=z,o.baseQueue=ve,m.lastRenderedState=T}return x===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Up(o){var c=ri(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,x=d.pending,T=c.memoizedState;if(x!==null){d.pending=null;var z=x=x.next;do T=o(T,z.action),z=z.next;while(z!==x);ha(T,c.memoizedState)||(Zi=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),d.lastRenderedState=T}return[T,m]}function Bp(o,c,d){var m=Qt,x=ri(),T=Pn;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=c();var z=!ha((en||x).memoizedState,d);if(z&&(x.memoizedState=d,Zi=!0),x=x.queue,iw(ev.bind(null,m,x,o),[o]),x.getSnapshot!==c||z||Hn!==null&&Hn.memoizedState.tag&1){if(m.flags|=2048,Du(9,{destroy:void 0},Zg.bind(null,m,x,d,c),null),kr===null)throw Error(r(349));T||(ni&127)!==0||Ql(m,c,d)}return d}function Ql(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=Qt.updateQueue,c===null?(c=od(),Qt.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function Zg(o,c,d,m){c.value=d,c.getSnapshot=m,c1(c)&&tv(o)}function ev(o,c,d){return d(function(){c1(c)&&tv(o)})}function c1(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!ha(o,d)}catch{return!0}}function tv(o){var c=Wl(o,2);c!==null&&bo(c,o,2)}function Lc(o){var c=Ji();if(typeof o=="function"){var d=o;if(o=d(),Za){Mt(!0);try{d()}finally{Mt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:o},c}function u1(o,c,d,m){return o.baseState=d,Uf(o,en,typeof m=="function"?m:vl)}function f1(o,c,d,m,x){if(m1(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){T.listeners.push(z)}};se.T!==null?d(!0):T.isTransition=!1,m(T),d=c.pending,d===null?(T.next=c.pending=T,h1(c,T)):(T.next=d.next,c.pending=d.next=T)}}function h1(o,c){var d=c.action,m=c.payload,x=o.state;if(c.isTransition){var T=se.T,z={};se.T=z;try{var te=d(x,m),ve=se.S;ve!==null&&ve(z,te),nv(o,c,te)}catch(Le){Ru(o,c,Le)}finally{T!==null&&z.types!==null&&(T.types=z.types),se.T=T}}else try{T=d(x,m),nv(o,c,T)}catch(Le){Ru(o,c,Le)}}function nv(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){d1(o,c,m)},function(m){return Ru(o,c,m)}):d1(o,c,d)}function d1(o,c,d){c.status="fulfilled",c.value=d,Vp(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,h1(o,d)))}function Ru(o,c,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=d,Vp(c),c=c.next;while(c!==m)}o.action=null}function Vp(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function ld(o,c){return c}function yl(o,c){if(Pn){var d=kr.formState;if(d!==null){e:{var m=Qt;if(Pn){if(Rr){t:{for(var x=Rr,T=ti;x.nodeType!==8;){if(!T){x=null;break t}if(x=bl(x.nextSibling),x===null){x=null;break t}}T=x.data,x=T==="F!"||T==="F"?x:null}if(x){Rr=bl(x.nextSibling),m=x.data==="F!";break e}}Nc(m)}m=!1}m&&(c=d[0])}}return d=Ji(),d.memoizedState=d.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:c},d.queue=m,d=S4.bind(null,Qt,m),m.dispatch=d,m=Lc(!1),T=cw.bind(null,Qt,!1,m.queue),m=Ji(),x={state:c,dispatch:null,action:o,pending:null},m.queue=x,d=f1.bind(null,Qt,x,T,d),x.dispatch=d,m.memoizedState=o,[c,d,!1]}function Jl(o){var c=ri();return Zl(c,en,o)}function Zl(o,c,d){if(c=Uf(o,c,ld)[0],o=Fp(vl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=kc(c)}catch(z){throw z===xe?le:z}else m=c;c=ri();var x=c.queue,T=x.dispatch;return d!==c.memoizedState&&(Qt.flags|=2048,Du(9,{destroy:void 0},zp.bind(null,x,d),null)),[m,T,o]}function zp(o,c){o.action=c}function qp(o){var c=ri(),d=en;if(d!==null)return Zl(c,d,o);ri(),c=c.memoizedState,d=ri();var m=d.queue.dispatch;return d.memoizedState=o,[c,m,!1]}function Du(o,c,d,m){return o={tag:o,create:d,deps:m,inst:c,next:null},c=Qt.updateQueue,c===null&&(c=od(),Qt.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,c.lastEffect=o),o}function p1(){return ri().memoizedState}function Bf(o,c,d,m){var x=Ji();Qt.flags|=o,x.memoizedState=Du(1|c,{destroy:void 0},d,m===void 0?null:m)}function Vf(o,c,d,m){var x=ri();m=m===void 0?null:m;var T=x.memoizedState.inst;en!==null&&m!==null&&Kg(m,en.memoizedState.deps)?x.memoizedState=Du(c,T,d,m):(Qt.flags|=o,x.memoizedState=Du(1|c,T,d,m))}function f4(o,c){Bf(8390656,8,o,c)}function iw(o,c){Vf(2048,8,o,c)}function eG(o){Qt.flags|=4;var c=Qt.updateQueue;if(c===null)c=od(),Qt.updateQueue=c,c.events=[o];else{var d=c.events;d===null?c.events=[o]:d.push(o)}}function h4(o){var c=ri().memoizedState;return eG({ref:c,nextImpl:o}),function(){if((or&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function d4(o,c){return Vf(4,2,o,c)}function p4(o,c){return Vf(4,4,o,c)}function m4(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function g4(o,c,d){d=d!=null?d.concat([o]):null,Vf(4,4,m4.bind(null,c,o),d)}function aw(){}function v4(o,c){var d=ri();c=c===void 0?null:c;var m=d.memoizedState;return c!==null&&Kg(c,m[1])?m[0]:(d.memoizedState=[o,c],o)}function y4(o,c){var d=ri();c=c===void 0?null:c;var m=d.memoizedState;if(c!==null&&Kg(c,m[1]))return m[0];if(m=o(),Za){Mt(!0);try{o()}finally{Mt(!1)}}return d.memoizedState=[m,c],m}function sw(o,c,d){return d===void 0||(ni&1073741824)!==0&&(jn&261930)===0?o.memoizedState=c:(o.memoizedState=d,o=bC(),Qt.lanes|=o,Hf|=o,d)}function b4(o,c,d,m){return ha(d,c)?d:Sn.current!==null?(o=sw(o,d,m),ha(o,c)||(Zi=!0),o):(ni&42)===0||(ni&1073741824)!==0&&(jn&261930)===0?(Zi=!0,o.memoizedState=d):(o=bC(),Qt.lanes|=o,Hf|=o,c)}function _4(o,c,d,m,x){var T=he.p;he.p=T!==0&&8>T?T:8;var z=se.T,te={};se.T=te,cw(o,!1,c,d);try{var ve=x(),Le=se.S;if(Le!==null&&Le(te,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var We=W(ve,m);rv(o,c,We,Bo(o))}else rv(o,c,m,Bo(o))}catch(Je){rv(o,c,{then:function(){},status:"rejected",reason:Je},Bo())}finally{he.p=T,z!==null&&te.types!==null&&(z.types=te.types),se.T=z}}function tG(){}function ow(o,c,d,m){if(o.tag!==5)throw Error(r(476));var x=x4(o).queue;_4(o,x,c,me,d===null?tG:function(){return w4(o),d(m)})}function x4(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:me},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function w4(o){var c=x4(o);c.next===null&&(c=o.alternate.memoizedState),rv(o,c.next.queue,{},Bo())}function lw(){return ga(_v)}function E4(){return ri().memoizedState}function A4(){return ri().memoizedState}function nG(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=Bo();o=an(d);var m=_n(c,o,d);m!==null&&(bo(m,c,d),ar(m,c,d)),c={cache:Mf()},o.payload=c;return}c=c.return}}function rG(o,c,d){var m=Bo();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},m1(o)?T4(c,d):(d=Ap(o,c,d,m),d!==null&&(bo(d,o,m),N4(d,c,m)))}function S4(o,c,d){var m=Bo();rv(o,c,d,m)}function rv(o,c,d,m){var x={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(m1(o))T4(c,x);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var z=c.lastRenderedState,te=T(z,d);if(x.hasEagerState=!0,x.eagerState=te,ha(te,z))return ed(o,c,x,0),kr===null&&Zh(),!1}catch{}finally{}if(d=Ap(o,c,x,m),d!==null)return bo(d,o,m),N4(d,c,m),!0}return!1}function cw(o,c,d,m){if(m={lane:2,revertLane:Vw(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},m1(o)){if(c)throw Error(r(479))}else c=Ap(o,d,m,2),c!==null&&bo(c,o,2)}function m1(o){var c=o.alternate;return o===Qt||c!==null&&c===Qt}function T4(o,c){po=xs=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function N4(o,c,d){if((d&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,d|=m,c.lanes=d,Di(o,d)}}var iv={readContext:ga,use:Ff,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr};iv.useEffectEvent=Nr;var I4={readContext:ga,use:Ff,useCallback:function(o,c){return Ji().memoizedState=[o,c===void 0?null:c],o},useContext:ga,useEffect:f4,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,Bf(4194308,4,m4.bind(null,c,o),d)},useLayoutEffect:function(o,c){return Bf(4194308,4,o,c)},useInsertionEffect:function(o,c){Bf(4,2,o,c)},useMemo:function(o,c){var d=Ji();c=c===void 0?null:c;var m=o();if(Za){Mt(!0);try{o()}finally{Mt(!1)}}return d.memoizedState=[m,c],m},useReducer:function(o,c,d){var m=Ji();if(d!==void 0){var x=d(c);if(Za){Mt(!0);try{d(c)}finally{Mt(!1)}}}else x=c;return m.memoizedState=m.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},m.queue=o,o=o.dispatch=rG.bind(null,Qt,o),[m.memoizedState,o]},useRef:function(o){var c=Ji();return o={current:o},c.memoizedState=o},useState:function(o){o=Lc(o);var c=o.queue,d=S4.bind(null,Qt,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:aw,useDeferredValue:function(o,c){var d=Ji();return sw(d,o,c)},useTransition:function(){var o=Lc(!1);return o=_4.bind(null,Qt,o.queue,!0,!1),Ji().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var m=Qt,x=Ji();if(Pn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),kr===null)throw Error(r(349));(jn&127)!==0||Ql(m,c,d)}x.memoizedState=d;var T={value:d,getSnapshot:c};return x.queue=T,f4(ev.bind(null,m,T,o),[o]),m.flags|=2048,Du(9,{destroy:void 0},Zg.bind(null,m,T,d,c),null),d},useId:function(){var o=Ji(),c=kr.identifierPrefix;if(Pn){var d=fo,m=uo;d=(m&~(1<<32-nn(m)-1)).toString(32)+d,c="_"+c+"R_"+d,d=Ti++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=Lp++,c="_"+c+"r_"+d.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:lw,useFormState:yl,useActionState:yl,useOptimistic:function(o){var c=Ji();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=cw.bind(null,Qt,!0,d),d.dispatch=c,[o,c]},useMemoCache:Ou,useCacheRefresh:function(){return Ji().memoizedState=nG.bind(null,Qt)},useEffectEvent:function(o){var c=Ji(),d={impl:o};return c.memoizedState=d,function(){if((or&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},uw={readContext:ga,use:Ff,useCallback:v4,useContext:ga,useEffect:iw,useImperativeHandle:g4,useInsertionEffect:d4,useLayoutEffect:p4,useMemo:y4,useReducer:Fp,useRef:p1,useState:function(){return Fp(vl)},useDebugValue:aw,useDeferredValue:function(o,c){var d=ri();return b4(d,en.memoizedState,o,c)},useTransition:function(){var o=Fp(vl)[0],c=ri().memoizedState;return[typeof o=="boolean"?o:kc(o),c]},useSyncExternalStore:Bp,useId:E4,useHostTransitionStatus:lw,useFormState:Jl,useActionState:Jl,useOptimistic:function(o,c){var d=ri();return u1(d,en,o,c)},useMemoCache:Ou,useCacheRefresh:A4};uw.useEffectEvent=h4;var C4={readContext:ga,use:Ff,useCallback:v4,useContext:ga,useEffect:iw,useImperativeHandle:g4,useInsertionEffect:d4,useLayoutEffect:p4,useMemo:y4,useReducer:Up,useRef:p1,useState:function(){return Up(vl)},useDebugValue:aw,useDeferredValue:function(o,c){var d=ri();return en===null?sw(d,o,c):b4(d,en.memoizedState,o,c)},useTransition:function(){var o=Up(vl)[0],c=ri().memoizedState;return[typeof o=="boolean"?o:kc(o),c]},useSyncExternalStore:Bp,useId:E4,useHostTransitionStatus:lw,useFormState:qp,useActionState:qp,useOptimistic:function(o,c){var d=ri();return en!==null?u1(d,en,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:A4};C4.useEffectEvent=h4;function fw(o,c,d,m){c=o.memoizedState,d=d(m,c),d=d==null?c:p({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var hw={enqueueSetState:function(o,c,d){o=o._reactInternals;var m=Bo(),x=an(m);x.payload=c,d!=null&&(x.callback=d),c=_n(o,x,m),c!==null&&(bo(c,o,m),ar(c,o,m))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var m=Bo(),x=an(m);x.tag=1,x.payload=c,d!=null&&(x.callback=d),c=_n(o,x,m),c!==null&&(bo(c,o,m),ar(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=Bo(),m=an(d);m.tag=2,c!=null&&(m.callback=c),c=_n(o,m,d),c!==null&&(bo(c,o,d),ar(c,o,d))}};function P4(o,c,d,m,x,T,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,T,z):c.prototype&&c.prototype.isPureReactComponent?!Hl(d,m)||!Hl(x,T):!0}function O4(o,c,d,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,m),c.state!==o&&hw.enqueueReplaceState(c,c.state,null)}function cd(o,c){var d=c;if("ref"in c){d={};for(var m in c)m!=="ref"&&(d[m]=c[m])}if(o=o.defaultProps){d===c&&(d=p({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}function R4(o){Jh(o)}function D4(o){console.error(o)}function k4(o){Jh(o)}function g1(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function L4(o,c,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function dw(o,c,d){return d=an(d),d.tag=3,d.payload={element:null},d.callback=function(){g1(o,c)},d}function j4(o){return o=an(o),o.tag=3,o}function M4(o,c,d,m){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var T=m.value;o.payload=function(){return x(T)},o.callback=function(){L4(c,d,m)}}var z=d.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){L4(c,d,m),typeof x!="function"&&($f===null?$f=new Set([this]):$f.add(this));var te=m.stack;this.componentDidCatch(m.value,{componentStack:te!==null?te:""})})}function iG(o,c,d,m,x){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=d.alternate,c!==null&&Pc(c,d,x,!0),d=$r.current,d!==null){switch(d.tag){case 31:case 13:return qn===null?I1():d.alternate===null&&Ni===0&&(Ni=3),d.flags&=-257,d.flags|=65536,d.lanes=x,m===Ee?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([m]):c.add(m),Fw(o,m,x)),!1;case 22:return d.flags|=65536,m===Ee?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([m]):d.add(m)),Fw(o,m,x)),!1}throw Error(r(435,d.tag))}return Fw(o,m,x),I1(),!1}if(Pn)return c=$r.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,m!==Mo&&(o=Error(r(422),{cause:m}),Lf(oo(o,d)))):(m!==Mo&&(c=Error(r(423),{cause:m}),Lf(oo(c,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,m=oo(m,d),x=dw(o.stateNode,m,x),Ui(o,x),Ni!==4&&(Ni=2)),!1;var T=Error(r(520),{cause:m});if(T=oo(T,d),hv===null?hv=[T]:hv.push(T),Ni!==4&&(Ni=2),c===null)return!0;m=oo(m,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=dw(d.stateNode,m,o),Ui(d,o),!1;case 1:if(c=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&($f===null||!$f.has(T))))return d.flags|=65536,x&=-x,d.lanes|=x,x=j4(x),M4(x,o,d,m),Ui(d,x),!1}d=d.return}while(d!==null);return!1}var pw=Error(r(461)),Zi=!1;function es(o,c,d,m){c.child=o===null?vn(c,null,d,m):Dr(c,o.child,d,m)}function F4(o,c,d,m,x){d=d.render;var T=c.ref;if("ref"in m){var z={};for(var te in m)te!=="ref"&&(z[te]=m[te])}else z=m;return Oc(c),m=Xg(o,c,d,z,T,x),te=Qg(),o!==null&&!Zi?(Jg(o,c,x),ku(o,c,x)):(Pn&&te&&Gg(c),c.flags|=1,es(o,c,m,x),c.child)}function U4(o,c,d,m,x){if(o===null){var T=d.type;return typeof T=="function"&&!Tp(T)&&T.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=T,B4(o,c,T,m,x)):(o=Rf(d.type,null,m,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!ww(o,x)){var z=T.memoizedProps;if(d=d.compare,d=d!==null?d:Hl,d(z,m)&&o.ref===c.ref)return ku(o,c,x)}return c.flags|=1,o=so(T,m),o.ref=c.ref,o.return=c,c.child=o}function B4(o,c,d,m,x){if(o!==null){var T=o.memoizedProps;if(Hl(T,m)&&o.ref===c.ref)if(Zi=!1,c.pendingProps=m=T,ww(o,x))(o.flags&131072)!==0&&(Zi=!0);else return c.lanes=o.lanes,ku(o,c,x)}return mw(o,c,d,m,x)}function V4(o,c,d,m){var x=m.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,o!==null){for(m=c.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~T}else m=0,c.child=null;return z4(o,c,T,d,m)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&ae(c,T!==null?T.cachePool:null),T!==null?Hr(c,T):Kn(),Ai(c);else return m=c.lanes=536870912,z4(o,c,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(ae(c,T.cachePool),Hr(c,T),Si(),c.memoizedState=null):(o!==null&&ae(c,null),Kn(),Si());return es(o,c,x,d),c.child}function av(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function z4(o,c,d,m,x){var T=re();return T=T===null?null:{parent:vi._currentValue,pool:T},c.memoizedState={baseLanes:d,cachePool:T},o!==null&&ae(c,null),Kn(),Ai(c),o!==null&&Pc(o,c,m,!0),c.childLanes=x,null}function v1(o,c){return c=b1({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function q4(o,c,d){return Dr(c,o.child,null,d),o=v1(c,c.pendingProps),o.flags|=2,mr(c),c.memoizedState=null,o}function aG(o,c,d){var m=c.pendingProps,x=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Pn){if(m.mode==="hidden")return o=v1(c,m),c.lanes=536870912,av(null,o);if(sr(c),(o=Rr)?(o=tP(o,ti),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Tc!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},d=Np(o),d.return=c,c.child=d,pa=c,Rr=null)):o=null,o===null)throw Nc(c);return c.lanes=536870912,null}return v1(c,m)}var T=o.memoizedState;if(T!==null){var z=T.dehydrated;if(sr(c),x)if(c.flags&256)c.flags&=-257,c=q4(o,c,d);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Zi||Pc(o,c,d,!1),x=(d&o.childLanes)!==0,Zi||x){if(m=kr,m!==null&&(z=ki(m,d),z!==0&&z!==T.retryLane))throw T.retryLane=z,Wl(o,z),bo(m,o,z),pw;I1(),c=q4(o,c,d)}else o=T.treeContext,Rr=bl(z.nextSibling),pa=c,Pn=!0,Ja=null,ti=!1,o!==null&&o1(c,o),c=v1(c,m),c.flags|=4096;return c}return o=so(o.child,{mode:m.mode,children:m.children}),o.ref=c.ref,c.child=o,o.return=c,o}function y1(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function mw(o,c,d,m,x){return Oc(c),d=Xg(o,c,d,m,void 0,x),m=Qg(),o!==null&&!Zi?(Jg(o,c,x),ku(o,c,x)):(Pn&&m&&Gg(c),c.flags|=1,es(o,c,d,x),c.child)}function H4(o,c,d,m,x,T){return Oc(c),c.updateQueue=null,d=Xl(c,m,d,x),jp(o),m=Qg(),o!==null&&!Zi?(Jg(o,c,T),ku(o,c,T)):(Pn&&m&&Gg(c),c.flags|=1,es(o,c,d,T),c.child)}function $4(o,c,d,m,x){if(Oc(c),c.stateNode===null){var T=da,z=d.contextType;typeof z=="object"&&z!==null&&(T=ga(z)),T=new d(m,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=hw,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=m,T.state=c.memoizedState,T.refs={},pt(c),z=d.contextType,T.context=typeof z=="object"&&z!==null?ga(z):da,T.state=c.memoizedState,z=d.getDerivedStateFromProps,typeof z=="function"&&(fw(c,d,z,m),T.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(z=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),z!==T.state&&hw.enqueueReplaceState(T,T.state,null),wi(c,m,T,x),Tr(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){T=c.stateNode;var te=c.memoizedProps,ve=cd(d,te);T.props=ve;var Le=T.context,We=d.contextType;z=da,typeof We=="object"&&We!==null&&(z=ga(We));var Je=d.getDerivedStateFromProps;We=typeof Je=="function"||typeof T.getSnapshotBeforeUpdate=="function",te=c.pendingProps!==te,We||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(te||Le!==z)&&O4(c,T,m,z),St=!1;var Me=c.memoizedState;T.state=Me,wi(c,m,T,x),Tr(),Le=c.memoizedState,te||Me!==Le||St?(typeof Je=="function"&&(fw(c,d,Je,m),Le=c.memoizedState),(ve=St||P4(c,d,ve,m,Me,Le,z))?(We||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=Le),T.props=m,T.state=Le,T.context=z,m=ve):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{T=c.stateNode,qr(o,c),z=c.memoizedProps,We=cd(d,z),T.props=We,Je=c.pendingProps,Me=T.context,Le=d.contextType,ve=da,typeof Le=="object"&&Le!==null&&(ve=ga(Le)),te=d.getDerivedStateFromProps,(Le=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==Je||Me!==ve)&&O4(c,T,m,ve),St=!1,Me=c.memoizedState,T.state=Me,wi(c,m,T,x),Tr();var ze=c.memoizedState;z!==Je||Me!==ze||St||o!==null&&o.dependencies!==null&&Rp(o.dependencies)?(typeof te=="function"&&(fw(c,d,te,m),ze=c.memoizedState),(We=St||P4(c,d,We,m,Me,ze,ve)||o!==null&&o.dependencies!==null&&Rp(o.dependencies))?(Le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,ze,ve),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,ze,ve)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ze),T.props=m,T.state=ze,T.context=ve,m=We):(typeof T.componentDidUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Me===o.memoizedState||(c.flags|=1024),m=!1)}return T=m,y1(o,c),m=(c.flags&128)!==0,T||m?(T=c.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&m?(c.child=Dr(c,o.child,null,x),c.child=Dr(c,null,d,x)):es(o,c,d,x),c.memoizedState=T.state,o=c.child):o=ku(o,c,x),o}function G4(o,c,d,m){return Cu(),c.flags|=256,es(o,c,d,m),c.child}var gw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vw(o){return{baseLanes:o,cachePool:ue()}}function yw(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=Uo),o}function Y4(o,c,d){var m=c.pendingProps,x=!1,T=(c.flags&128)!==0,z;if((z=T)||(z=o!==null&&o.memoizedState===null?!1:(Bn.current&2)!==0),z&&(x=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Pn){if(x?yi(c):Si(),(o=Rr)?(o=tP(o,ti),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Tc!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},d=Np(o),d.return=c,c.child=d,pa=c,Rr=null)):o=null,o===null)throw Nc(c);return e5(o)?c.lanes=32:c.lanes=536870912,null}var te=m.children;return m=m.fallback,x?(Si(),x=c.mode,te=b1({mode:"hidden",children:te},x),m=Sc(m,x,d,null),te.return=c,m.return=c,te.sibling=m,c.child=te,m=c.child,m.memoizedState=vw(d),m.childLanes=yw(o,z,d),c.memoizedState=gw,av(null,m)):(yi(c),bw(c,te))}var ve=o.memoizedState;if(ve!==null&&(te=ve.dehydrated,te!==null)){if(T)c.flags&256?(yi(c),c.flags&=-257,c=_w(o,c,d)):c.memoizedState!==null?(Si(),c.child=o.child,c.flags|=128,c=null):(Si(),te=m.fallback,x=c.mode,m=b1({mode:"visible",children:m.children},x),te=Sc(te,x,d,null),te.flags|=2,m.return=c,te.return=c,m.sibling=te,c.child=m,Dr(c,o.child,null,d),m=c.child,m.memoizedState=vw(d),m.childLanes=yw(o,z,d),c.memoizedState=gw,c=av(null,m));else if(yi(c),e5(te)){if(z=te.nextSibling&&te.nextSibling.dataset,z)var Le=z.dgst;z=Le,m=Error(r(419)),m.stack="",m.digest=z,Lf({value:m,source:null,stack:null}),c=_w(o,c,d)}else if(Zi||Pc(o,c,d,!1),z=(d&o.childLanes)!==0,Zi||z){if(z=kr,z!==null&&(m=ki(z,d),m!==0&&m!==ve.retryLane))throw ve.retryLane=m,Wl(o,m),bo(z,o,m),pw;Zw(te)||I1(),c=_w(o,c,d)}else Zw(te)?(c.flags|=192,c.child=o.child,c=null):(o=ve.treeContext,Rr=bl(te.nextSibling),pa=c,Pn=!0,Ja=null,ti=!1,o!==null&&o1(c,o),c=bw(c,m.children),c.flags|=4096);return c}return x?(Si(),te=m.fallback,x=c.mode,ve=o.child,Le=ve.sibling,m=so(ve,{mode:"hidden",children:m.children}),m.subtreeFlags=ve.subtreeFlags&65011712,Le!==null?te=so(Le,te):(te=Sc(te,x,d,null),te.flags|=2),te.return=c,m.return=c,m.sibling=te,c.child=m,av(null,m),m=c.child,te=o.child.memoizedState,te===null?te=vw(d):(x=te.cachePool,x!==null?(ve=vi._currentValue,x=x.parent!==ve?{parent:ve,pool:ve}:x):x=ue(),te={baseLanes:te.baseLanes|d,cachePool:x}),m.memoizedState=te,m.childLanes=yw(o,z,d),c.memoizedState=gw,av(o.child,m)):(yi(c),d=o.child,o=d.sibling,d=so(d,{mode:"visible",children:m.children}),d.return=c,d.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=d,c.memoizedState=null,d)}function bw(o,c){return c=b1({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function b1(o,c){return o=ka(22,o,null,c),o.lanes=0,o}function _w(o,c,d){return Dr(c,o.child,null,d),o=bw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function W4(o,c,d){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),jf(o.return,c,d)}function xw(o,c,d,m,x,T){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x,treeForkCount:T}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=m,z.tail=d,z.tailMode=x,z.treeForkCount=T)}function K4(o,c,d){var m=c.pendingProps,x=m.revealOrder,T=m.tail;m=m.children;var z=Bn.current,te=(z&2)!==0;if(te?(z=z&1|2,c.flags|=128):z&=1,X(Bn,z),es(o,c,m,d),m=Pn?id:0,!te&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&W4(o,d,c);else if(o.tag===19)W4(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(d=c.child,x=null;d!==null;)o=d.alternate,o!==null&&ja(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=c.child,c.child=null):(x=d.sibling,d.sibling=null),xw(c,!1,x,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&ja(o)===null){c.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}xw(c,!0,d,null,T,m);break;case"together":xw(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function ku(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),Hf|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(Pc(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,d=so(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=so(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function ww(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Rp(o)))}function sG(o,c,d){switch(c.tag){case 3:Pe(c,c.stateNode.containerInfo),Cc(c,vi,o.memoizedState.cache),Cu();break;case 27:case 5:Ce(c);break;case 4:Pe(c,c.stateNode.containerInfo);break;case 10:Cc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,sr(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(yi(c),c.flags|=128,null):(d&c.child.childLanes)!==0?Y4(o,c,d):(yi(c),o=ku(o,c,d),o!==null?o.sibling:null);yi(c);break;case 19:var x=(o.flags&128)!==0;if(m=(d&c.childLanes)!==0,m||(Pc(o,c,d,!1),m=(d&c.childLanes)!==0),x){if(m)return K4(o,c,d);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),X(Bn,Bn.current),m)break;return null;case 22:return c.lanes=0,V4(o,c,d,c.pendingProps);case 24:Cc(c,vi,o.memoizedState.cache)}return ku(o,c,d)}function X4(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)Zi=!0;else{if(!ww(o,d)&&(c.flags&128)===0)return Zi=!1,sG(o,c,d);Zi=(o.flags&131072)!==0}else Zi=!1,Pn&&(c.flags&1048576)!==0&&s1(c,id,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(o=Oe(c.elementType),c.type=o,typeof o=="function")Tp(o)?(m=cd(o,m),c.tag=1,c=$4(null,c,o,m,d)):(c.tag=0,c=mw(null,c,o,m,d));else{if(o!=null){var x=o.$$typeof;if(x===B){c.tag=11,c=F4(null,c,o,m,d);break e}else if(x===j){c.tag=14,c=U4(null,c,o,m,d);break e}}throw c=ee(o)||o,Error(r(306,c,""))}}return c;case 0:return mw(o,c,c.type,c.pendingProps,d);case 1:return m=c.type,x=cd(m,c.pendingProps),$4(o,c,m,x,d);case 3:e:{if(Pe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));m=c.pendingProps;var T=c.memoizedState;x=T.element,qr(o,c),wi(c,m,null,d);var z=c.memoizedState;if(m=z.cache,Cc(c,vi,m),m!==T.cache&&Pu(c,[vi],d,!0),Tr(),m=z.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=G4(o,c,m,d);break e}else if(m!==x){x=oo(Error(r(424)),c),Lf(x),c=G4(o,c,m,d);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Rr=bl(o.firstChild),pa=c,Pn=!0,Ja=null,ti=!0,d=vn(c,null,m,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Cu(),m===x){c=ku(o,c,d);break e}es(o,c,m,d)}c=c.child}return c;case 26:return y1(o,c),o===null?(d=oP(c.type,null,c.pendingProps,null))?c.memoizedState=d:Pn||(d=c.type,o=c.pendingProps,m=L1(pe.current).createElement(d),m[Vn]=c,m[ir]=o,ts(m,d,o),ur(m),c.stateNode=m):c.memoizedState=oP(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ce(c),o===null&&Pn&&(m=c.stateNode=iP(c.type,c.pendingProps,pe.current),pa=c,ti=!0,x=Rr,Kf(c.type)?(t5=x,Rr=bl(m.firstChild)):Rr=x),es(o,c,c.pendingProps.children,d),y1(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Pn&&((x=m=Rr)&&(m=jG(m,c.type,c.pendingProps,ti),m!==null?(c.stateNode=m,pa=c,Rr=bl(m.firstChild),ti=!1,x=!0):x=!1),x||Nc(c)),Ce(c),x=c.type,T=c.pendingProps,z=o!==null?o.memoizedProps:null,m=T.children,Xw(x,T)?m=null:z!==null&&Xw(x,z)&&(c.flags|=32),c.memoizedState!==null&&(x=Xg(o,c,rw,null,null,d),_v._currentValue=x),y1(o,c),es(o,c,m,d),c.child;case 6:return o===null&&Pn&&((o=d=Rr)&&(d=MG(d,c.pendingProps,ti),d!==null?(c.stateNode=d,pa=c,Rr=null,o=!0):o=!1),o||Nc(c)),null;case 13:return Y4(o,c,d);case 4:return Pe(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Dr(c,null,m,d):es(o,c,m,d),c.child;case 11:return F4(o,c,c.type,c.pendingProps,d);case 7:return es(o,c,c.pendingProps,d),c.child;case 8:return es(o,c,c.pendingProps.children,d),c.child;case 12:return es(o,c,c.pendingProps.children,d),c.child;case 10:return m=c.pendingProps,Cc(c,c.type,m.value),es(o,c,m.children,d),c.child;case 9:return x=c.type._context,m=c.pendingProps.children,Oc(c),x=ga(x),m=m(x),c.flags|=1,es(o,c,m,d),c.child;case 14:return U4(o,c,c.type,c.pendingProps,d);case 15:return B4(o,c,c.type,c.pendingProps,d);case 19:return K4(o,c,d);case 31:return aG(o,c,d);case 22:return V4(o,c,d,c.pendingProps);case 24:return Oc(c),m=ga(vi),o===null?(x=re(),x===null&&(x=kr,T=Mf(),x.pooledCache=T,T.refCount++,T!==null&&(x.pooledCacheLanes|=d),x=T),c.memoizedState={parent:m,cache:x},pt(c),Cc(c,vi,x)):((o.lanes&d)!==0&&(qr(o,c),wi(c,null,null,d),Tr()),x=o.memoizedState,T=c.memoizedState,x.parent!==m?(x={parent:m,cache:m},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Cc(c,vi,m)):(m=T.cache,Cc(c,vi,m),m!==x.cache&&Pu(c,[vi],d,!0))),es(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Lu(o){o.flags|=4}function Ew(o,c,d,m,x){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(EC())o.flags|=8192;else throw $e=Ee,De}else o.flags&=-16777217}function Q4(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!hP(c))if(EC())o.flags|=8192;else throw $e=Ee,De}function _1(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?oa():536870912,o.lanes|=c,Yp|=c)}function sv(o,c){if(!Pn)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Gr(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(c)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=d,c}function oG(o,c,d){var m=c.pendingProps;switch(Pp(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(c),null;case 1:return Gr(c),null;case 3:return d=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ho(vi),de(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(ma(c)?Lu(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Wg())),Gr(c),null;case 26:var x=c.type,T=c.memoizedState;return o===null?(Lu(c),T!==null?(Gr(c),Q4(c,T)):(Gr(c),Ew(c,x,null,m,d))):T?T!==o.memoizedState?(Lu(c),Gr(c),Q4(c,T)):(Gr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==m&&Lu(c),Gr(c),Ew(c,x,o,m,d)),null;case 27:if(Ve(c),d=pe.current,x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Lu(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Gr(c),null}o=Z.current,ma(c)?Yg(c):(o=iP(x,m,d),c.stateNode=o,Lu(c))}return Gr(c),null;case 5:if(Ve(c),x=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Lu(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Gr(c),null}if(T=Z.current,ma(c))Yg(c);else{var z=L1(pe.current);switch(T){case 1:T=z.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:T=z.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":T=z.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":T=z.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":T=z.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?z.createElement("select",{is:m.is}):z.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?z.createElement(x,{is:m.is}):z.createElement(x)}}T[Vn]=c,T[ir]=m;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)T.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=T;e:switch(ts(T,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Lu(c)}}return Gr(c),Ew(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,d),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&Lu(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(o=pe.current,ma(c)){if(o=c.stateNode,d=c.memoizedProps,m=null,x=pa,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}o[Vn]=c,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||YC(o.nodeValue,d)),o||Nc(c,!0)}else o=L1(o).createTextNode(m),o[Vn]=c,c.stateNode=o}return Gr(c),null;case 31:if(d=c.memoizedState,o===null||o.memoizedState!==null){if(m=ma(c),d!==null){if(o===null){if(!m)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Vn]=c}else Cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gr(c),o=!1}else d=Wg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return c.flags&256?(mr(c),c):(mr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Gr(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=ma(c),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Vn]=c}else Cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gr(c),x=!1}else x=Wg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(mr(c),c):(mr(c),null)}return mr(c),(c.flags&128)!==0?(c.lanes=d,c):(d=m!==null,o=o!==null&&o.memoizedState!==null,d&&(m=c.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==x&&(m.flags|=2048)),d!==o&&d&&(c.child.flags|=8192),_1(c,c.updateQueue),Gr(c),null);case 4:return de(),o===null&&$w(c.stateNode.containerInfo),Gr(c),null;case 10:return ho(c.type),Gr(c),null;case 19:if(M(Bn),m=c.memoizedState,m===null)return Gr(c),null;if(x=(c.flags&128)!==0,T=m.rendering,T===null)if(x)sv(m,!1);else{if(Ni!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=ja(o),T!==null){for(c.flags|=128,sv(m,!1),o=T.updateQueue,c.updateQueue=o,_1(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)nd(d,o),d=d.sibling;return X(Bn,Bn.current&1|2),Pn&&qs(c,m.treeForkCount),c.child}o=o.sibling}m.tail!==null&&cn()>S1&&(c.flags|=128,x=!0,sv(m,!1),c.lanes=4194304)}else{if(!x)if(o=ja(T),o!==null){if(c.flags|=128,x=!0,o=o.updateQueue,c.updateQueue=o,_1(c,o),sv(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!Pn)return Gr(c),null}else 2*cn()-m.renderingStartTime>S1&&d!==536870912&&(c.flags|=128,x=!0,sv(m,!1),c.lanes=4194304);m.isBackwards?(T.sibling=c.child,c.child=T):(o=m.last,o!==null?o.sibling=T:c.child=T,m.last=T)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=cn(),o.sibling=null,d=Bn.current,X(Bn,x?d&1|2:d&1),Pn&&qs(c,m.treeForkCount),o):(Gr(c),null);case 22:case 23:return mr(c),Bi(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(d&536870912)!==0&&(c.flags&128)===0&&(Gr(c),c.subtreeFlags&6&&(c.flags|=8192)):Gr(c),d=c.updateQueue,d!==null&&_1(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048),o!==null&&M(J),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),ho(vi),Gr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function lG(o,c){switch(Pp(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ho(vi),de(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ve(c),null;case 31:if(c.memoizedState!==null){if(mr(c),c.alternate===null)throw Error(r(340));Cu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(mr(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Cu()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return M(Bn),null;case 4:return de(),null;case 10:return ho(c.type),null;case 22:case 23:return mr(c),Bi(),o!==null&&M(J),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ho(vi),null;case 25:return null;default:return null}}function J4(o,c){switch(Pp(c),c.tag){case 3:ho(vi),de();break;case 26:case 27:case 5:Ve(c);break;case 4:de();break;case 31:c.memoizedState!==null&&mr(c);break;case 13:mr(c);break;case 19:M(Bn);break;case 10:ho(c.type);break;case 22:case 23:mr(c),Bi(),o!==null&&M(J);break;case 24:ho(vi)}}function ov(o,c){try{var d=c.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&o)===o){m=void 0;var T=d.create,z=d.inst;m=T(),z.destroy=m}d=d.next}while(d!==x)}}catch(te){vr(c,c.return,te)}}function zf(o,c,d){try{var m=c.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var T=x.next;m=T;do{if((m.tag&o)===o){var z=m.inst,te=z.destroy;if(te!==void 0){z.destroy=void 0,x=c;var ve=d,Le=te;try{Le()}catch(We){vr(x,ve,We)}}}m=m.next}while(m!==T)}}catch(We){vr(c,c.return,We)}}function Z4(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{Ei(c,d)}catch(m){vr(o,o.return,m)}}}function eC(o,c,d){d.props=cd(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){vr(o,c,m)}}function lv(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(x){vr(o,c,x)}}function jc(o,c){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(x){vr(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){vr(o,c,x)}else d.current=null}function tC(o){var c=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(x){vr(o,o.return,x)}}function Aw(o,c,d){try{var m=o.stateNode;PG(m,o.type,d,c),m[ir]=c}catch(x){vr(o,o.return,x)}}function nC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Kf(o.type)||o.tag===4}function Sw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Kf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Tw(o,c,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=js));else if(m!==4&&(m===27&&Kf(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(Tw(o,c,d),o=o.sibling;o!==null;)Tw(o,c,d),o=o.sibling}function x1(o,c,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(m!==4&&(m===27&&Kf(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(x1(o,c,d),o=o.sibling;o!==null;)x1(o,c,d),o=o.sibling}function rC(o){var c=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);ts(c,m,d),c[Vn]=o,c[ir]=d}catch(T){vr(o,o.return,T)}}var ju=!1,ea=!1,Nw=!1,iC=typeof WeakSet=="function"?WeakSet:Set,Ma=null;function cG(o,c){if(o=o.containerInfo,Ww=z1,o=Gl(o),pl(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var z=0,te=-1,ve=-1,Le=0,We=0,Je=o,Me=null;t:for(;;){for(var ze;Je!==d||x!==0&&Je.nodeType!==3||(te=z+x),Je!==T||m!==0&&Je.nodeType!==3||(ve=z+m),Je.nodeType===3&&(z+=Je.nodeValue.length),(ze=Je.firstChild)!==null;)Me=Je,Je=ze;for(;;){if(Je===o)break t;if(Me===d&&++Le===x&&(te=z),Me===T&&++We===m&&(ve=z),(ze=Je.nextSibling)!==null)break;Je=Me,Me=Je.parentNode}Je=ze}d=te===-1||ve===-1?null:{start:te,end:ve}}else d=null}d=d||{start:0,end:0}}else d=null;for(Kw={focusedElem:o,selectionRange:d},z1=!1,Ma=c;Ma!==null;)if(c=Ma,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ma=o;else for(;Ma!==null;){switch(c=Ma,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)x=o[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,d=c,x=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var Ot=cd(d.type,x);o=m.getSnapshotBeforeUpdate(Ot,T),m.__reactInternalSnapshotBeforeUpdate=o}catch(on){vr(d,d.return,on)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)Jw(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Jw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Ma=o;break}Ma=c.return}}function aC(o,c,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Fu(o,d),m&4&&ov(5,d);break;case 1:if(Fu(o,d),m&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch(z){vr(d,d.return,z)}else{var x=cd(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){vr(d,d.return,z)}}m&64&&Z4(d),m&512&&lv(d,d.return);break;case 3:if(Fu(o,d),m&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Ei(o,c)}catch(z){vr(d,d.return,z)}}break;case 27:c===null&&m&4&&rC(d);case 26:case 5:Fu(o,d),c===null&&m&4&&tC(d),m&512&&lv(d,d.return);break;case 12:Fu(o,d);break;case 31:Fu(o,d),m&4&&lC(o,d);break;case 13:Fu(o,d),m&4&&cC(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=yG.bind(null,d),FG(o,d))));break;case 22:if(m=d.memoizedState!==null||ju,!m){c=c!==null&&c.memoizedState!==null||ea,x=ju;var T=ea;ju=m,(ea=c)&&!T?Uu(o,d,(d.subtreeFlags&8772)!==0):Fu(o,d),ju=x,ea=T}break;case 30:break;default:Fu(o,d)}}function sC(o){var c=o.alternate;c!==null&&(o.alternate=null,sC(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ms(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ii=null,mo=!1;function Mu(o,c,d){for(d=d.child;d!==null;)oC(o,c,d),d=d.sibling}function oC(o,c,d){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Bt,d)}catch{}switch(d.tag){case 26:ea||jc(d,c),Mu(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ea||jc(d,c);var m=ii,x=mo;Kf(d.type)&&(ii=d.stateNode,mo=!1),Mu(o,c,d),vv(d.stateNode),ii=m,mo=x;break;case 5:ea||jc(d,c);case 6:if(m=ii,x=mo,ii=null,Mu(o,c,d),ii=m,mo=x,ii!==null)if(mo)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(d.stateNode)}catch(T){vr(d,c,T)}else try{ii.removeChild(d.stateNode)}catch(T){vr(d,c,T)}break;case 18:ii!==null&&(mo?(o=ii,ZC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),tm(o)):ZC(ii,d.stateNode));break;case 4:m=ii,x=mo,ii=d.stateNode.containerInfo,mo=!0,Mu(o,c,d),ii=m,mo=x;break;case 0:case 11:case 14:case 15:zf(2,d,c),ea||zf(4,d,c),Mu(o,c,d);break;case 1:ea||(jc(d,c),m=d.stateNode,typeof m.componentWillUnmount=="function"&&eC(d,c,m)),Mu(o,c,d);break;case 21:Mu(o,c,d);break;case 22:ea=(m=ea)||d.memoizedState!==null,Mu(o,c,d),ea=m;break;default:Mu(o,c,d)}}function lC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{tm(o)}catch(d){vr(c,c.return,d)}}}function cC(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{tm(o)}catch(d){vr(c,c.return,d)}}function uG(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new iC),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new iC),c;default:throw Error(r(435,o.tag))}}function w1(o,c){var d=uG(o);c.forEach(function(m){if(!d.has(m)){d.add(m);var x=bG.bind(null,o,m);m.then(x,x)}})}function go(o,c){var d=c.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m],T=o,z=c,te=z;e:for(;te!==null;){switch(te.tag){case 27:if(Kf(te.type)){ii=te.stateNode,mo=!1;break e}break;case 5:ii=te.stateNode,mo=!1;break e;case 3:case 4:ii=te.stateNode.containerInfo,mo=!0;break e}te=te.return}if(ii===null)throw Error(r(160));oC(T,z,x),ii=null,mo=!1,T=x.alternate,T!==null&&(T.return=null),x.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)uC(c,o),c=c.sibling}var ec=null;function uC(o,c){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:go(c,o),vo(o),m&4&&(zf(3,o,o.return),ov(3,o),zf(5,o,o.return));break;case 1:go(c,o),vo(o),m&512&&(ea||d===null||jc(d,d.return)),m&64&&ju&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var x=ec;if(go(c,o),vo(o),m&512&&(ea||d===null||jc(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":T=x.getElementsByTagName("title")[0],(!T||T[ji]||T[Vn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=x.createElement(m),x.head.insertBefore(T,x.querySelector("head > title"))),ts(T,m,d),T[Vn]=o,ur(T),m=T;break e;case"link":var z=uP("link","href",x).get(m+(d.href||""));if(z){for(var te=0;te<z.length;te++)if(T=z[te],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){z.splice(te,1);break t}}T=x.createElement(m),ts(T,m,d),x.head.appendChild(T);break;case"meta":if(z=uP("meta","content",x).get(m+(d.content||""))){for(te=0;te<z.length;te++)if(T=z[te],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){z.splice(te,1);break t}}T=x.createElement(m),ts(T,m,d),x.head.appendChild(T);break;default:throw Error(r(468,m))}T[Vn]=o,ur(T),m=T}o.stateNode=m}else fP(x,o.type,o.stateNode);else o.stateNode=cP(x,m,o.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?fP(x,o.type,o.stateNode):cP(x,m,o.memoizedProps)):m===null&&o.stateNode!==null&&Aw(o,o.memoizedProps,d.memoizedProps)}break;case 27:go(c,o),vo(o),m&512&&(ea||d===null||jc(d,d.return)),d!==null&&m&4&&Aw(o,o.memoizedProps,d.memoizedProps);break;case 5:if(go(c,o),vo(o),m&512&&(ea||d===null||jc(d,d.return)),o.flags&32){x=o.stateNode;try{Mi(x,"")}catch(Ot){vr(o,o.return,Ot)}}m&4&&o.stateNode!=null&&(x=o.memoizedProps,Aw(o,x,d!==null?d.memoizedProps:x)),m&1024&&(Nw=!0);break;case 6:if(go(c,o),vo(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(Ot){vr(o,o.return,Ot)}}break;case 3:if(F1=null,x=ec,ec=j1(c.containerInfo),go(c,o),ec=x,vo(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{tm(c.containerInfo)}catch(Ot){vr(o,o.return,Ot)}Nw&&(Nw=!1,fC(o));break;case 4:m=ec,ec=j1(o.stateNode.containerInfo),go(c,o),vo(o),ec=m;break;case 12:go(c,o),vo(o);break;case 31:go(c,o),vo(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,w1(o,m)));break;case 13:go(c,o),vo(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(A1=cn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,w1(o,m)));break;case 22:x=o.memoizedState!==null;var ve=d!==null&&d.memoizedState!==null,Le=ju,We=ea;if(ju=Le||x,ea=We||ve,go(c,o),ea=We,ju=Le,vo(o),m&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(d===null||ve||ju||ea||ud(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){ve=d=c;try{if(T=ve.stateNode,x)z=T.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{te=ve.stateNode;var Je=ve.memoizedProps.style,Me=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;te.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(Ot){vr(ve,ve.return,Ot)}}}else if(c.tag===6){if(d===null){ve=c;try{ve.stateNode.nodeValue=x?"":ve.memoizedProps}catch(Ot){vr(ve,ve.return,Ot)}}}else if(c.tag===18){if(d===null){ve=c;try{var ze=ve.stateNode;x?eP(ze,!0):eP(ve.stateNode,!1)}catch(Ot){vr(ve,ve.return,Ot)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,w1(o,d))));break;case 19:go(c,o),vo(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,w1(o,m)));break;case 30:break;case 21:break;default:go(c,o),vo(o)}}function vo(o){var c=o.flags;if(c&2){try{for(var d,m=o.return;m!==null;){if(nC(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,T=Sw(o);x1(o,T,x);break;case 5:var z=d.stateNode;d.flags&32&&(Mi(z,""),d.flags&=-33);var te=Sw(o);x1(o,te,z);break;case 3:case 4:var ve=d.stateNode.containerInfo,Le=Sw(o);Tw(o,Le,ve);break;default:throw Error(r(161))}}catch(We){vr(o,o.return,We)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function fC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;fC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Fu(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)aC(o,c.alternate,c),c=c.sibling}function ud(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:zf(4,c,c.return),ud(c);break;case 1:jc(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&eC(c,c.return,d),ud(c);break;case 27:vv(c.stateNode);case 26:case 5:jc(c,c.return),ud(c);break;case 22:c.memoizedState===null&&ud(c);break;case 30:ud(c);break;default:ud(c)}o=o.sibling}}function Uu(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,x=o,T=c,z=T.flags;switch(T.tag){case 0:case 11:case 15:Uu(x,T,d),ov(4,T);break;case 1:if(Uu(x,T,d),m=T,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Le){vr(m,m.return,Le)}if(m=T,x=m.updateQueue,x!==null){var te=m.stateNode;try{var ve=x.shared.hiddenCallbacks;if(ve!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ve.length;x++)La(ve[x],te)}catch(Le){vr(m,m.return,Le)}}d&&z&64&&Z4(T),lv(T,T.return);break;case 27:rC(T);case 26:case 5:Uu(x,T,d),d&&m===null&&z&4&&tC(T),lv(T,T.return);break;case 12:Uu(x,T,d);break;case 31:Uu(x,T,d),d&&z&4&&lC(x,T);break;case 13:Uu(x,T,d),d&&z&4&&cC(x,T);break;case 22:T.memoizedState===null&&Uu(x,T,d),lv(T,T.return);break;case 30:break;default:Uu(x,T,d)}c=c.sibling}}function Iw(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&ad(d))}function Cw(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ad(o))}function tc(o,c,d,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)hC(o,c,d,m),c=c.sibling}function hC(o,c,d,m){var x=c.flags;switch(c.tag){case 0:case 11:case 15:tc(o,c,d,m),x&2048&&ov(9,c);break;case 1:tc(o,c,d,m);break;case 3:tc(o,c,d,m),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&ad(o)));break;case 12:if(x&2048){tc(o,c,d,m),o=c.stateNode;try{var T=c.memoizedProps,z=T.id,te=T.onPostCommit;typeof te=="function"&&te(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ve){vr(c,c.return,ve)}}else tc(o,c,d,m);break;case 31:tc(o,c,d,m);break;case 13:tc(o,c,d,m);break;case 23:break;case 22:T=c.stateNode,z=c.alternate,c.memoizedState!==null?T._visibility&2?tc(o,c,d,m):cv(o,c):T._visibility&2?tc(o,c,d,m):(T._visibility|=2,Hp(o,c,d,m,(c.subtreeFlags&10256)!==0||!1)),x&2048&&Iw(z,c);break;case 24:tc(o,c,d,m),x&2048&&Cw(c.alternate,c);break;default:tc(o,c,d,m)}}function Hp(o,c,d,m,x){for(x=x&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,z=c,te=d,ve=m,Le=z.flags;switch(z.tag){case 0:case 11:case 15:Hp(T,z,te,ve,x),ov(8,z);break;case 23:break;case 22:var We=z.stateNode;z.memoizedState!==null?We._visibility&2?Hp(T,z,te,ve,x):cv(T,z):(We._visibility|=2,Hp(T,z,te,ve,x)),x&&Le&2048&&Iw(z.alternate,z);break;case 24:Hp(T,z,te,ve,x),x&&Le&2048&&Cw(z.alternate,z);break;default:Hp(T,z,te,ve,x)}c=c.sibling}}function cv(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,m=c,x=m.flags;switch(m.tag){case 22:cv(d,m),x&2048&&Iw(m.alternate,m);break;case 24:cv(d,m),x&2048&&Cw(m.alternate,m);break;default:cv(d,m)}c=c.sibling}}var uv=8192;function $p(o,c,d){if(o.subtreeFlags&uv)for(o=o.child;o!==null;)dC(o,c,d),o=o.sibling}function dC(o,c,d){switch(o.tag){case 26:$p(o,c,d),o.flags&uv&&o.memoizedState!==null&&XG(d,ec,o.memoizedState,o.memoizedProps);break;case 5:$p(o,c,d);break;case 3:case 4:var m=ec;ec=j1(o.stateNode.containerInfo),$p(o,c,d),ec=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=uv,uv=16777216,$p(o,c,d),uv=m):$p(o,c,d));break;default:$p(o,c,d)}}function pC(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function fv(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];Ma=m,gC(m,o)}pC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mC(o),o=o.sibling}function mC(o){switch(o.tag){case 0:case 11:case 15:fv(o),o.flags&2048&&zf(9,o,o.return);break;case 3:fv(o);break;case 12:fv(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,E1(o)):fv(o);break;default:fv(o)}}function E1(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];Ma=m,gC(m,o)}pC(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:zf(8,c,c.return),E1(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,E1(c));break;default:E1(c)}o=o.sibling}}function gC(o,c){for(;Ma!==null;){var d=Ma;switch(d.tag){case 0:case 11:case 15:zf(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ad(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Ma=m;else e:for(d=o;Ma!==null;){m=Ma;var x=m.sibling,T=m.return;if(sC(m),m===d){Ma=null;break e}if(x!==null){x.return=T,Ma=x;break e}Ma=T}}}var fG={getCacheForType:function(o){var c=ga(vi),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d},cacheSignal:function(){return ga(vi).controller.signal}},hG=typeof WeakMap=="function"?WeakMap:Map,or=0,kr=null,On=null,jn=0,gr=0,Fo=null,qf=!1,Gp=!1,Pw=!1,Bu=0,Ni=0,Hf=0,fd=0,Ow=0,Uo=0,Yp=0,hv=null,yo=null,Rw=!1,A1=0,vC=0,S1=1/0,T1=null,$f=null,ya=0,Gf=null,Wp=null,Vu=0,Dw=0,kw=null,yC=null,dv=0,Lw=null;function Bo(){return(or&2)!==0&&jn!==0?jn&-jn:se.T!==null?Vw():Xr()}function bC(){if(Uo===0)if((jn&536870912)===0||Pn){var o=Tn;Tn<<=1,(Tn&3932160)===0&&(Tn=262144),Uo=o}else Uo=536870912;return o=$r.current,o!==null&&(o.flags|=32),Uo}function bo(o,c,d){(o===kr&&(gr===2||gr===9)||o.cancelPendingCommit!==null)&&(Kp(o,0),Yf(o,jn,Uo,!1)),zt(o,d),((or&2)===0||o!==kr)&&(o===kr&&((or&2)===0&&(fd|=d),Ni===4&&Yf(o,jn,Uo,!1)),Mc(o))}function _C(o,c,d){if((or&6)!==0)throw Error(r(327));var m=!d&&(c&127)===0&&(c&o.expiredLanes)===0||Gn(o,c),x=m?mG(o,c):Mw(o,c,!0),T=m;do{if(x===0){Gp&&!m&&Yf(o,c,0,!1);break}else{if(d=o.current.alternate,T&&!dG(d)){x=Mw(o,c,!1),T=!1;continue}if(x===2){if(T=c,o.errorRecoveryDisabledLanes&T)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var te=o;x=hv;var ve=te.current.memoizedState.isDehydrated;if(ve&&(Kp(te,z).flags|=256),z=Mw(te,z,!1),z!==2){if(Pw&&!ve){te.errorRecoveryDisabledLanes|=T,fd|=T,x=4;break e}T=yo,yo=x,T!==null&&(yo===null?yo=T:yo.push.apply(yo,T))}x=z}if(T=!1,x!==2)continue}}if(x===1){Kp(o,0),Yf(o,c,0,!0);break}e:{switch(m=o,T=x,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Yf(m,c,Uo,!qf);break e;case 2:yo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=A1+300-cn(),10<x)){if(Yf(m,c,Uo,!qf),Kt(m,0,!0)!==0)break e;Vu=c,m.timeoutHandle=QC(xC.bind(null,m,d,yo,T1,Rw,c,Uo,fd,Yp,qf,T,"Throttled",-0,0),x);break e}xC(m,d,yo,T1,Rw,c,Uo,fd,Yp,qf,T,null,-0,0)}}break}while(!0);Mc(o)}function xC(o,c,d,m,x,T,z,te,ve,Le,We,Je,Me,ze){if(o.timeoutHandle=-1,Je=c.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:js},dC(c,T,Je);var Ot=(T&62914560)===T?A1-cn():(T&4194048)===T?vC-cn():0;if(Ot=QG(Je,Ot),Ot!==null){Vu=T,o.cancelPendingCommit=Ot(CC.bind(null,o,c,T,d,m,x,z,te,ve,We,Je,null,Me,ze)),Yf(o,T,z,!Le);return}}CC(o,c,T,d,m,x,z,te,ve)}function dG(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var x=d[m],T=x.getSnapshot;x=x.value;try{if(!ha(T(),x))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Yf(o,c,d,m){c&=~Ow,c&=~fd,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var x=c;0<x;){var T=31-nn(x),z=1<<T;m[T]=-1,x&=~z}d!==0&&Ri(o,d,c)}function N1(){return(or&6)===0?(pv(0),!1):!0}function jw(){if(On!==null){if(gr===0)var o=On.return;else o=On,gl=Ic=null,Mp(o),Ze=null,kt=0,o=On;for(;o!==null;)J4(o.alternate,o),o=o.return;On=null}}function Kp(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,DG(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Vu=0,jw(),kr=o,On=d=so(o.current,null),jn=c,gr=0,Fo=null,qf=!1,Gp=Gn(o,c),Pw=!1,Yp=Uo=Ow=fd=Hf=Ni=0,yo=hv=null,Rw=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var x=31-nn(m),T=1<<x;c|=o[x],m&=~T}return Bu=c,Zh(),d}function wC(o,c){Qt=null,se.H=iv,c===xe||c===le?(c=Ke(),gr=3):c===De?(c=Ke(),gr=4):gr=c===pw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Fo=c,On===null&&(Ni=1,g1(o,oo(c,o.current)))}function EC(){var o=$r.current;return o===null?!0:(jn&4194048)===jn?qn===null:(jn&62914560)===jn||(jn&536870912)!==0?o===qn:!1}function AC(){var o=se.H;return se.H=iv,o===null?iv:o}function SC(){var o=se.A;return se.A=fG,o}function I1(){Ni=4,qf||(jn&4194048)!==jn&&$r.current!==null||(Gp=!0),(Hf&134217727)===0&&(fd&134217727)===0||kr===null||Yf(kr,jn,Uo,!1)}function Mw(o,c,d){var m=or;or|=2;var x=AC(),T=SC();(kr!==o||jn!==c)&&(T1=null,Kp(o,c)),c=!1;var z=Ni;e:do try{if(gr!==0&&On!==null){var te=On,ve=Fo;switch(gr){case 8:jw(),z=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(c=!0);var Le=gr;if(gr=0,Fo=null,Xp(o,te,ve,Le),d&&Gp){z=0;break e}break;default:Le=gr,gr=0,Fo=null,Xp(o,te,ve,Le)}}pG(),z=Ni;break}catch(We){wC(o,We)}while(!0);return c&&o.shellSuspendCounter++,gl=Ic=null,or=m,se.H=x,se.A=T,On===null&&(kr=null,jn=0,Zh()),z}function pG(){for(;On!==null;)TC(On)}function mG(o,c){var d=or;or|=2;var m=AC(),x=SC();kr!==o||jn!==c?(T1=null,S1=cn()+500,Kp(o,c)):Gp=Gn(o,c);e:do try{if(gr!==0&&On!==null){c=On;var T=Fo;t:switch(gr){case 1:gr=0,Fo=null,Xp(o,c,T,1);break;case 2:case 9:if(Ie(T)){gr=0,Fo=null,NC(c);break}c=function(){gr!==2&&gr!==9||kr!==o||(gr=7),Mc(o)},T.then(c,c);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:Ie(T)?(gr=0,Fo=null,NC(c)):(gr=0,Fo=null,Xp(o,c,T,7));break;case 5:var z=null;switch(On.tag){case 26:z=On.memoizedState;case 5:case 27:var te=On;if(z?hP(z):te.stateNode.complete){gr=0,Fo=null;var ve=te.sibling;if(ve!==null)On=ve;else{var Le=te.return;Le!==null?(On=Le,C1(Le)):On=null}break t}}gr=0,Fo=null,Xp(o,c,T,5);break;case 6:gr=0,Fo=null,Xp(o,c,T,6);break;case 8:jw(),Ni=6;break e;default:throw Error(r(462))}}gG();break}catch(We){wC(o,We)}while(!0);return gl=Ic=null,se.H=m,se.A=x,or=d,On!==null?0:(kr=null,jn=0,Zh(),Ni)}function gG(){for(;On!==null&&!Ut();)TC(On)}function TC(o){var c=X4(o.alternate,o,Bu);o.memoizedProps=o.pendingProps,c===null?C1(o):On=c}function NC(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=H4(d,c,c.pendingProps,c.type,void 0,jn);break;case 11:c=H4(d,c,c.pendingProps,c.type.render,c.ref,jn);break;case 5:Mp(c);default:J4(d,c),c=On=nd(c,Bu),c=X4(d,c,Bu)}o.memoizedProps=o.pendingProps,c===null?C1(o):On=c}function Xp(o,c,d,m){gl=Ic=null,Mp(c),Ze=null,kt=0;var x=c.return;try{if(iG(o,x,c,d,jn)){Ni=1,g1(o,oo(d,o.current)),On=null;return}}catch(T){if(x!==null)throw On=x,T;Ni=1,g1(o,oo(d,o.current)),On=null;return}c.flags&32768?(Pn||m===1?o=!0:Gp||(jn&536870912)!==0?o=!1:(qf=o=!0,(m===2||m===9||m===3||m===6)&&(m=$r.current,m!==null&&m.tag===13&&(m.flags|=16384))),IC(c,o)):C1(c)}function C1(o){var c=o;do{if((c.flags&32768)!==0){IC(c,qf);return}o=c.return;var d=oG(c.alternate,c,Bu);if(d!==null){On=d;return}if(c=c.sibling,c!==null){On=c;return}On=c=o}while(c!==null);Ni===0&&(Ni=5)}function IC(o,c){do{var d=lG(o.alternate,o);if(d!==null){d.flags&=32767,On=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){On=o;return}On=o=d}while(o!==null);Ni=6,On=null}function CC(o,c,d,m,x,T,z,te,ve){o.cancelPendingCommit=null;do P1();while(ya!==0);if((or&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=Ep,Ls(o,d,T,z,te,ve),o===kr&&(On=kr=null,jn=0),Wp=c,Gf=o,Vu=d,Dw=T,kw=x,yC=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,_G(st,function(){return kC(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=se.T,se.T=null,x=he.p,he.p=2,z=or,or|=4;try{cG(o,c,d)}finally{or=z,he.p=x,se.T=m}}ya=1,PC(),OC(),RC()}}function PC(){if(ya===1){ya=0;var o=Gf,c=Wp,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=se.T,se.T=null;var m=he.p;he.p=2;var x=or;or|=4;try{uC(c,o);var T=Kw,z=Gl(o.containerInfo),te=T.focusedElem,ve=T.selectionRange;if(z!==te&&te&&te.ownerDocument&&$l(te.ownerDocument.documentElement,te)){if(ve!==null&&pl(te)){var Le=ve.start,We=ve.end;if(We===void 0&&(We=Le),"selectionStart"in te)te.selectionStart=Le,te.selectionEnd=Math.min(We,te.value.length);else{var Je=te.ownerDocument||document,Me=Je&&Je.defaultView||window;if(Me.getSelection){var ze=Me.getSelection(),Ot=te.textContent.length,on=Math.min(ve.start,Ot),Cr=ve.end===void 0?on:Math.min(ve.end,Ot);!ze.extend&&on>Cr&&(z=Cr,Cr=on,on=z);var Te=Of(te,on),we=Of(te,Cr);if(Te&&we&&(ze.rangeCount!==1||ze.anchorNode!==Te.node||ze.anchorOffset!==Te.offset||ze.focusNode!==we.node||ze.focusOffset!==we.offset)){var ke=Je.createRange();ke.setStart(Te.node,Te.offset),ze.removeAllRanges(),on>Cr?(ze.addRange(ke),ze.extend(we.node,we.offset)):(ke.setEnd(we.node,we.offset),ze.addRange(ke))}}}}for(Je=[],ze=te;ze=ze.parentNode;)ze.nodeType===1&&Je.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Je.length;te++){var Qe=Je[te];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}z1=!!Ww,Kw=Ww=null}finally{or=x,he.p=m,se.T=d}}o.current=c,ya=2}}function OC(){if(ya===2){ya=0;var o=Gf,c=Wp,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=se.T,se.T=null;var m=he.p;he.p=2;var x=or;or|=4;try{aC(o,c.alternate,c)}finally{or=x,he.p=m,se.T=d}}ya=3}}function RC(){if(ya===4||ya===3){ya=0,Rt();var o=Gf,c=Wp,d=Vu,m=yC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ya=5:(ya=0,Wp=Gf=null,DC(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&($f=null),cr(d),c=c.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Bt,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=se.T,x=he.p,he.p=2,se.T=null;try{for(var T=o.onRecoverableError,z=0;z<m.length;z++){var te=m[z];T(te.value,{componentStack:te.stack})}}finally{se.T=c,he.p=x}}(Vu&3)!==0&&P1(),Mc(o),x=o.pendingLanes,(d&261930)!==0&&(x&42)!==0?o===Lw?dv++:(dv=0,Lw=o):dv=0,pv(0)}}function DC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,ad(c)))}function P1(){return PC(),OC(),RC(),kC()}function kC(){if(ya!==5)return!1;var o=Gf,c=Dw;Dw=0;var d=cr(Vu),m=se.T,x=he.p;try{he.p=32>d?32:d,se.T=null,d=kw,kw=null;var T=Gf,z=Vu;if(ya=0,Wp=Gf=null,Vu=0,(or&6)!==0)throw Error(r(331));var te=or;if(or|=4,mC(T.current),hC(T,T.current,z,d),or=te,pv(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Bt,T)}catch{}return!0}finally{he.p=x,se.T=m,DC(o,c)}}function LC(o,c,d){c=oo(d,c),c=dw(o.stateNode,c,2),o=_n(o,c,2),o!==null&&(zt(o,2),Mc(o))}function vr(o,c,d){if(o.tag===3)LC(o,o,d);else for(;c!==null;){if(c.tag===3){LC(c,o,d);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&($f===null||!$f.has(m))){o=oo(d,o),d=j4(2),m=_n(c,d,2),m!==null&&(M4(d,m,c,o),zt(m,2),Mc(m));break}}c=c.return}}function Fw(o,c,d){var m=o.pingCache;if(m===null){m=o.pingCache=new hG;var x=new Set;m.set(c,x)}else x=m.get(c),x===void 0&&(x=new Set,m.set(c,x));x.has(d)||(Pw=!0,x.add(d),o=vG.bind(null,o,c,d),c.then(o,o))}function vG(o,c,d){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,kr===o&&(jn&d)===d&&(Ni===4||Ni===3&&(jn&62914560)===jn&&300>cn()-A1?(or&2)===0&&Kp(o,0):Ow|=d,Yp===jn&&(Yp=0)),Mc(o)}function jC(o,c){c===0&&(c=oa()),o=Wl(o,c),o!==null&&(zt(o,c),Mc(o))}function yG(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),jC(o,d)}function bG(o,c){var d=0;switch(o.tag){case 31:case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),jC(o,d)}function _G(o,c){return dt(o,c)}var O1=null,Qp=null,Uw=!1,R1=!1,Bw=!1,Wf=0;function Mc(o){o!==Qp&&o.next===null&&(Qp===null?O1=Qp=o:Qp=Qp.next=o),R1=!0,Uw||(Uw=!0,wG())}function pv(o,c){if(!Bw&&R1){Bw=!0;do for(var d=!1,m=O1;m!==null;){if(o!==0){var x=m.pendingLanes;if(x===0)var T=0;else{var z=m.suspendedLanes,te=m.pingedLanes;T=(1<<31-nn(42|o)+1)-1,T&=x&~(z&~te),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,BC(m,T))}else T=jn,T=Kt(m,m===kr?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Gn(m,T)||(d=!0,BC(m,T));m=m.next}while(d);Bw=!1}}function xG(){MC()}function MC(){R1=Uw=!1;var o=0;Wf!==0&&RG()&&(o=Wf);for(var c=cn(),d=null,m=O1;m!==null;){var x=m.next,T=FC(m,c);T===0?(m.next=null,d===null?O1=x:d.next=x,x===null&&(Qp=d)):(d=m,(o!==0||(T&3)!==0)&&(R1=!0)),m=x}ya!==0&&ya!==5||pv(o),Wf!==0&&(Wf=0)}function FC(o,c){for(var d=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var z=31-nn(T),te=1<<z,ve=x[z];ve===-1?((te&d)===0||(te&m)!==0)&&(x[z]=Mr(te,c)):ve<=c&&(o.expiredLanes|=te),T&=~te}if(c=kr,d=jn,d=Kt(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===c&&(gr===2||gr===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&vt(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Gn(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(m!==null&&vt(m),cr(d)){case 2:case 8:d=gn;break;case 32:d=st;break;case 268435456:d=Et;break;default:d=st}return m=UC.bind(null,o),d=dt(d,m),o.callbackPriority=c,o.callbackNode=d,c}return m!==null&&m!==null&&vt(m),o.callbackPriority=2,o.callbackNode=null,2}function UC(o,c){if(ya!==0&&ya!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(P1()&&o.callbackNode!==d)return null;var m=jn;return m=Kt(o,o===kr?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(_C(o,m,c),FC(o,cn()),o.callbackNode!=null&&o.callbackNode===d?UC.bind(null,o):null)}function BC(o,c){if(P1())return null;_C(o,c,!0)}function wG(){kG(function(){(or&6)!==0?dt(Jt,xG):MC()})}function Vw(){if(Wf===0){var o=b;o===0&&(o=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),Wf=o}return Wf}function VC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Pa(""+o)}function zC(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function EG(o,c,d,m,x){if(c==="submit"&&d&&d.stateNode===x){var T=VC((x[ir]||null).action),z=m.submitter;z&&(c=(c=z[ir]||null)?VC(c.formAction):z.getAttribute("formAction"),c!==null&&(T=c,z=null));var te=new Xi("action","action",null,m,x);o.push({event:te,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Wf!==0){var ve=z?zC(x,z):new FormData(x);ow(d,{pending:!0,data:ve,method:x.method,action:T},null,ve)}}else typeof T=="function"&&(te.preventDefault(),ve=z?zC(x,z):new FormData(x),ow(d,{pending:!0,data:ve,method:x.method,action:T},T,ve))},currentTarget:x}]})}}for(var zw=0;zw<Tu.length;zw++){var qw=Tu[zw],AG=qw.toLowerCase(),SG=qw[0].toUpperCase()+qw.slice(1);ao(AG,"on"+SG)}ao(Su,"onAnimationEnd"),ao(Qh,"onAnimationIteration"),ao(qg,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(r1,"onTransitionRun"),ao(i1,"onTransitionStart"),ao(a1,"onTransitionCancel"),ao(Hg,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mv));function qC(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],x=m.event;m=m.listeners;e:{var T=void 0;if(c)for(var z=m.length-1;0<=z;z--){var te=m[z],ve=te.instance,Le=te.currentTarget;if(te=te.listener,ve!==T&&x.isPropagationStopped())break e;T=te,x.currentTarget=Le;try{T(x)}catch(We){Jh(We)}x.currentTarget=null,T=ve}else for(z=0;z<m.length;z++){if(te=m[z],ve=te.instance,Le=te.currentTarget,te=te.listener,ve!==T&&x.isPropagationStopped())break e;T=te,x.currentTarget=Le;try{T(x)}catch(We){Jh(We)}x.currentTarget=null,T=ve}}}}function Rn(o,c){var d=c[Wi];d===void 0&&(d=c[Wi]=new Set);var m=o+"__bubble";d.has(m)||(HC(c,o,2,!1),d.add(m))}function Hw(o,c,d){var m=0;c&&(m|=4),HC(d,o,m,c)}var D1="_reactListening"+Math.random().toString(36).slice(2);function $w(o){if(!o[D1]){o[D1]=!0,gs.forEach(function(d){d!=="selectionchange"&&(TG.has(d)||Hw(d,!1,o),Hw(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[D1]||(c[D1]=!0,Hw("selectionchange",!1,c))}}function HC(o,c,d,m){switch(bP(c)){case 2:var x=eY;break;case 8:x=tY;break;default:x=s5}d=x.bind(null,c,d,o),x=void 0,!Fl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(c,d,{capture:!0,passive:x}):o.addEventListener(c,d,!0):x!==void 0?o.addEventListener(c,d,{passive:x}):o.addEventListener(c,d,!1)}function Gw(o,c,d,m,x){var T=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var te=m.stateNode.containerInfo;if(te===x)break;if(z===4)for(z=m.return;z!==null;){var ve=z.tag;if((ve===3||ve===4)&&z.stateNode.containerInfo===x)return;z=z.return}for(;te!==null;){if(z=nt(te),z===null)return;if(ve=z.tag,ve===5||ve===6||ve===26||ve===27){m=T=z;continue e}te=te.parentNode}}m=m.return}sl(function(){var Le=T,We=Oa(d),Je=[];e:{var Me=$g.get(o);if(Me!==void 0){var ze=Xi,Ot=o;switch(o){case"keypress":if(Ya(d)===0)break e;case"keydown":case"keyup":ze=In;break;case"focusin":Ot="focus",ze=Fs;break;case"focusout":Ot="blur",ze=Fs;break;case"beforeblur":case"afterblur":ze=Fs;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=R;break;case Su:case Qh:case qg:ze=N;break;case Hg:ze=ie;break;case"scroll":case"scrollend":ze=ol;break;case"wheel":ze=je;break;case"copy":case"cut":case"paste":ze=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=fr;break;case"toggle":case"beforetoggle":ze=hn}var on=(c&4)!==0,Cr=!on&&(o==="scroll"||o==="scrollend"),Te=on?Me!==null?Me+"Capture":null:Me;on=[];for(var we=Le,ke;we!==null;){var Qe=we;if(ke=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||ke===null||Te===null||(Qe=Fi(we,Te),Qe!=null&&on.push(gv(we,Qe,ke))),Cr)break;we=we.return}0<on.length&&(Me=new ze(Me,Ot,null,d,We),Je.push({event:Me,listeners:on}))}}if((c&7)===0){e:{if(Me=o==="mouseover"||o==="pointerover",ze=o==="mouseout"||o==="pointerout",Me&&d!==Ro&&(Ot=d.relatedTarget||d.fromElement)&&(nt(Ot)||Ot[Qr]))break e;if((ze||Me)&&(Me=We.window===We?We:(Me=We.ownerDocument)?Me.defaultView||Me.parentWindow:window,ze?(Ot=d.relatedTarget||d.toElement,ze=Le,Ot=Ot?nt(Ot):null,Ot!==null&&(Cr=a(Ot),on=Ot.tag,Ot!==Cr||on!==5&&on!==27&&on!==6)&&(Ot=null)):(ze=null,Ot=Le),ze!==Ot)){if(on=wc,Qe="onMouseLeave",Te="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(on=fr,Qe="onPointerLeave",Te="onPointerEnter",we="pointer"),Cr=ze==null?Me:dr(ze),ke=Ot==null?Me:dr(Ot),Me=new on(Qe,we+"leave",ze,d,We),Me.target=Cr,Me.relatedTarget=ke,Qe=null,nt(We)===Le&&(on=new on(Te,we+"enter",Ot,d,We),on.target=ke,on.relatedTarget=Cr,Qe=on),Cr=Qe,ze&&Ot)t:{for(on=NG,Te=ze,we=Ot,ke=0,Qe=Te;Qe;Qe=on(Qe))ke++;Qe=0;for(var tn=we;tn;tn=on(tn))Qe++;for(;0<ke-Qe;)Te=on(Te),ke--;for(;0<Qe-ke;)we=on(we),Qe--;for(;ke--;){if(Te===we||we!==null&&Te===we.alternate){on=Te;break t}Te=on(Te),we=on(we)}on=null}else on=null;ze!==null&&$C(Je,Me,ze,on,!1),Ot!==null&&Cr!==null&&$C(Je,Cr,Ot,on,!0)}}e:{if(Me=Le?dr(Le):window,ze=Me.nodeName&&Me.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Me.type==="file")var er=Ac;else if(Kh(Me))if(_s)er=hl;else{er=mi;var Ft=Cf}else ze=Me.nodeName,!ze||ze.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Le&&bc(Le.elementType)&&(er=Ac):er=wp;if(er&&(er=er(o,Le))){Bs(Je,er,d,We);break e}Ft&&Ft(o,Me,Le),o==="focusout"&&Le&&Me.type==="number"&&Le.memoizedProps.value!=null&&yu(Me,"number",Me.value)}switch(Ft=Le?dr(Le):window,o){case"focusin":(Kh(Ft)||Ft.contentEditable==="true")&&(Vs=Ft,Yl=Le,Ra=null);break;case"focusout":Ra=Yl=Vs=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Wn(Je,d,We);break;case"selectionchange":if(Au)break;case"keydown":case"keyup":Wn(Je,d,We)}var En;if(An)e:{switch(o){case"compositionstart":var Mn="onCompositionStart";break e;case"compositionend":Mn="onCompositionEnd";break e;case"compositionupdate":Mn="onCompositionUpdate";break e}Mn=void 0}else cl?Us(o,d)&&(Mn="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Mn="onCompositionStart");Mn&&(ua&&d.locale!=="ko"&&(cl||Mn!=="onCompositionStart"?Mn==="onCompositionEnd"&&cl&&(En=wu()):(Ga=We,Ul="value"in Ga?Ga.value:Ga.textContent,cl=!0)),Ft=k1(Le,Mn),0<Ft.length&&(Mn=new Ae(Mn,o,null,d,We),Je.push({event:Mn,listeners:Ft}),En?Mn.data=En:(En=ll(d),En!==null&&(Mn.data=En)))),(En=Qi?Xa(o,d):Vl(o,d))&&(Mn=k1(Le,"onBeforeInput"),0<Mn.length&&(Ft=new Ae("onBeforeInput","beforeinput",null,d,We),Je.push({event:Ft,listeners:Mn}),Ft.data=En)),EG(Je,o,Le,d,We)}qC(Je,c)})}function gv(o,c,d){return{instance:o,listener:c,currentTarget:d}}function k1(o,c){for(var d=c+"Capture",m=[];o!==null;){var x=o,T=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||T===null||(x=Fi(o,d),x!=null&&m.unshift(gv(o,x,T)),x=Fi(o,c),x!=null&&m.push(gv(o,x,T))),o.tag===3)return m;o=o.return}return[]}function NG(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function $C(o,c,d,m,x){for(var T=c._reactName,z=[];d!==null&&d!==m;){var te=d,ve=te.alternate,Le=te.stateNode;if(te=te.tag,ve!==null&&ve===m)break;te!==5&&te!==26&&te!==27||Le===null||(ve=Le,x?(Le=Fi(d,T),Le!=null&&z.unshift(gv(d,Le,ve))):x||(Le=Fi(d,T),Le!=null&&z.push(gv(d,Le,ve)))),d=d.return}z.length!==0&&o.push({event:c,listeners:z})}var IG=/\r\n?/g,CG=/\u0000|\uFFFD/g;function GC(o){return(typeof o=="string"?o:""+o).replace(IG,`
`).replace(CG,"")}function YC(o,c){return c=GC(c),GC(o)===c}function Ir(o,c,d,m,x,T){switch(d){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Mi(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Mi(o,""+m);break;case"className":Ki(o,"class",m);break;case"tabIndex":Ki(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(o,d,m);break;case"style":xu(o,m,T);break;case"data":if(c!=="object"){Ki(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Pa(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(c!=="input"&&Ir(o,c,"name",x.name,x,null),Ir(o,c,"formEncType",x.formEncType,x,null),Ir(o,c,"formMethod",x.formMethod,x,null),Ir(o,c,"formTarget",x.formTarget,x,null)):(Ir(o,c,"encType",x.encType,x,null),Ir(o,c,"method",x.method,x,null),Ir(o,c,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=Pa(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=js);break;case"onScroll":m!=null&&Rn("scroll",o);break;case"onScrollEnd":m!=null&&Rn("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=Pa(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":Rn("beforetoggle",o),Rn("toggle",o),$a(o,"popover",m);break;case"xlinkActuate":Zr(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Zr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Zr(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Zr(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Zr(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Zr(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Zr(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Zr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Zr(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$a(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=_c.get(d)||d,$a(o,d,m))}}function Yw(o,c,d,m,x,T){switch(d){case"style":xu(o,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?Mi(o,m):(typeof m=="number"||typeof m=="bigint")&&Mi(o,""+m);break;case"onScroll":m!=null&&Rn("scroll",o);break;case"onScrollEnd":m!=null&&Rn("scrollend",o);break;case"onClick":m!=null&&(o.onclick=js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),c=d.slice(2,x?d.length-7:void 0),T=o[ir]||null,T=T!=null?T[d]:null,typeof T=="function"&&o.removeEventListener(c,T,x),typeof m=="function")){typeof T!="function"&&T!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,m,x);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):$a(o,d,m)}}}function ts(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rn("error",o),Rn("load",o);var m=!1,x=!1,T;for(T in d)if(d.hasOwnProperty(T)){var z=d[T];if(z!=null)switch(T){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ir(o,c,T,z,d,null)}}x&&Ir(o,c,"srcSet",d.srcSet,d,null),m&&Ir(o,c,"src",d.src,d,null);return;case"input":Rn("invalid",o);var te=T=z=x=null,ve=null,Le=null;for(m in d)if(d.hasOwnProperty(m)){var We=d[m];if(We!=null)switch(m){case"name":x=We;break;case"type":z=We;break;case"checked":ve=We;break;case"defaultChecked":Le=We;break;case"value":T=We;break;case"defaultValue":te=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,c));break;default:Ir(o,c,m,We,d,null)}}Tf(o,T,te,ve,Le,z,x,!1);return;case"select":Rn("invalid",o),m=z=T=null;for(x in d)if(d.hasOwnProperty(x)&&(te=d[x],te!=null))switch(x){case"value":T=te;break;case"defaultValue":z=te;break;case"multiple":m=te;default:Ir(o,c,x,te,d,null)}c=T,d=z,o.multiple=!!m,c!=null?ca(o,!!m,c,!1):d!=null&&ca(o,!!m,d,!0);return;case"textarea":Rn("invalid",o),T=x=m=null;for(z in d)if(d.hasOwnProperty(z)&&(te=d[z],te!=null))switch(z){case"value":m=te;break;case"defaultValue":x=te;break;case"children":T=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(91));break;default:Ir(o,c,z,te,d,null)}Po(o,m,x,T);return;case"option":for(ve in d)if(d.hasOwnProperty(ve)&&(m=d[ve],m!=null))switch(ve){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ir(o,c,ve,m,d,null)}return;case"dialog":Rn("beforetoggle",o),Rn("toggle",o),Rn("cancel",o),Rn("close",o);break;case"iframe":case"object":Rn("load",o);break;case"video":case"audio":for(m=0;m<mv.length;m++)Rn(mv[m],o);break;case"image":Rn("error",o),Rn("load",o);break;case"details":Rn("toggle",o);break;case"embed":case"source":case"link":Rn("error",o),Rn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in d)if(d.hasOwnProperty(Le)&&(m=d[Le],m!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ir(o,c,Le,m,d,null)}return;default:if(bc(c)){for(We in d)d.hasOwnProperty(We)&&(m=d[We],m!==void 0&&Yw(o,c,We,m,d,void 0));return}}for(te in d)d.hasOwnProperty(te)&&(m=d[te],m!=null&&Ir(o,c,te,m,d,null))}function PG(o,c,d,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,T=null,z=null,te=null,ve=null,Le=null,We=null;for(ze in d){var Je=d[ze];if(d.hasOwnProperty(ze)&&Je!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":ve=Je;default:m.hasOwnProperty(ze)||Ir(o,c,ze,null,m,Je)}}for(var Me in m){var ze=m[Me];if(Je=d[Me],m.hasOwnProperty(Me)&&(ze!=null||Je!=null))switch(Me){case"type":T=ze;break;case"name":x=ze;break;case"checked":Le=ze;break;case"defaultChecked":We=ze;break;case"value":z=ze;break;case"defaultValue":te=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,c));break;default:ze!==Je&&Ir(o,c,Me,ze,m,Je)}}jl(o,z,te,ve,Le,We,T,x);return;case"select":ze=z=te=Me=null;for(T in d)if(ve=d[T],d.hasOwnProperty(T)&&ve!=null)switch(T){case"value":break;case"multiple":ze=ve;default:m.hasOwnProperty(T)||Ir(o,c,T,null,m,ve)}for(x in m)if(T=m[x],ve=d[x],m.hasOwnProperty(x)&&(T!=null||ve!=null))switch(x){case"value":Me=T;break;case"defaultValue":te=T;break;case"multiple":z=T;default:T!==ve&&Ir(o,c,x,T,m,ve)}c=te,d=z,m=ze,Me!=null?ca(o,!!d,Me,!1):!!m!=!!d&&(c!=null?ca(o,!!d,c,!0):ca(o,!!d,d?[]:"",!1));return;case"textarea":ze=Me=null;for(te in d)if(x=d[te],d.hasOwnProperty(te)&&x!=null&&!m.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Ir(o,c,te,null,m,x)}for(z in m)if(x=m[z],T=d[z],m.hasOwnProperty(z)&&(x!=null||T!=null))switch(z){case"value":Me=x;break;case"defaultValue":ze=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==T&&Ir(o,c,z,x,m,T)}bu(o,Me,ze);return;case"option":for(var Ot in d)if(Me=d[Ot],d.hasOwnProperty(Ot)&&Me!=null&&!m.hasOwnProperty(Ot))switch(Ot){case"selected":o.selected=!1;break;default:Ir(o,c,Ot,null,m,Me)}for(ve in m)if(Me=m[ve],ze=d[ve],m.hasOwnProperty(ve)&&Me!==ze&&(Me!=null||ze!=null))switch(ve){case"selected":o.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Ir(o,c,ve,Me,m,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in d)Me=d[on],d.hasOwnProperty(on)&&Me!=null&&!m.hasOwnProperty(on)&&Ir(o,c,on,null,m,Me);for(Le in m)if(Me=m[Le],ze=d[Le],m.hasOwnProperty(Le)&&Me!==ze&&(Me!=null||ze!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,c));break;default:Ir(o,c,Le,Me,m,ze)}return;default:if(bc(c)){for(var Cr in d)Me=d[Cr],d.hasOwnProperty(Cr)&&Me!==void 0&&!m.hasOwnProperty(Cr)&&Yw(o,c,Cr,void 0,m,Me);for(We in m)Me=m[We],ze=d[We],!m.hasOwnProperty(We)||Me===ze||Me===void 0&&ze===void 0||Yw(o,c,We,Me,m,ze);return}}for(var Te in d)Me=d[Te],d.hasOwnProperty(Te)&&Me!=null&&!m.hasOwnProperty(Te)&&Ir(o,c,Te,null,m,Me);for(Je in m)Me=m[Je],ze=d[Je],!m.hasOwnProperty(Je)||Me===ze||Me==null&&ze==null||Ir(o,c,Je,Me,m,ze)}function WC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OG(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var x=d[m],T=x.transferSize,z=x.initiatorType,te=x.duration;if(T&&te&&WC(z)){for(z=0,te=x.responseEnd,m+=1;m<d.length;m++){var ve=d[m],Le=ve.startTime;if(Le>te)break;var We=ve.transferSize,Je=ve.initiatorType;We&&WC(Je)&&(ve=ve.responseEnd,z+=We*(ve<te?1:(te-Le)/(ve-Le)))}if(--m,c+=8*(T+z)/(x.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ww=null,Kw=null;function L1(o){return o.nodeType===9?o:o.ownerDocument}function KC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Xw(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Qw=null;function RG(){var o=window.event;return o&&o.type==="popstate"?o===Qw?!1:(Qw=o,!0):(Qw=null,!1)}var QC=typeof setTimeout=="function"?setTimeout:void 0,DG=typeof clearTimeout=="function"?clearTimeout:void 0,JC=typeof Promise=="function"?Promise:void 0,kG=typeof queueMicrotask=="function"?queueMicrotask:typeof JC<"u"?function(o){return JC.resolve(null).then(o).catch(LG)}:QC;function LG(o){setTimeout(function(){throw o})}function Kf(o){return o==="head"}function ZC(o,c){var d=c,m=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(m===0){o.removeChild(x),tm(c);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")vv(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,vv(d);for(var T=d.firstChild;T;){var z=T.nextSibling,te=T.nodeName;T[ji]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=z}}else d==="body"&&vv(o.ownerDocument.body);d=x}while(d);tm(c)}function eP(o,c){var d=o;o=0;do{var m=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=m}while(d)}function Jw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Jw(d),ms(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function jG(o,c,d,m){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[ji])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=bl(o.nextSibling),o===null)break}return null}function MG(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=bl(o.nextSibling),o===null))return null;return o}function tP(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=bl(o.nextSibling),o===null))return null;return o}function Zw(o){return o.data==="$?"||o.data==="$~"}function e5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function FG(o,c){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||d.readyState!=="loading")c();else{var m=function(){c(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function bl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var t5=null;function nP(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(c===0)return bl(o.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}o=o.nextSibling}return null}function rP(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return o;c--}else d!=="/$"&&d!=="/&"||c++}o=o.previousSibling}return null}function iP(o,c,d){switch(c=L1(d),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function vv(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ms(o)}var _l=new Map,aP=new Set;function j1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var zu=he.d;he.d={f:UG,r:BG,D:VG,C:zG,L:qG,m:HG,X:GG,S:$G,M:YG};function UG(){var o=zu.f(),c=N1();return o||c}function BG(o){var c=rn(o);c!==null&&c.tag===5&&c.type==="form"?w4(c):zu.r(o)}var Jp=typeof document>"u"?null:document;function sP(o,c,d){var m=Jp;if(m&&typeof c=="string"&&c){var x=ei(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),aP.has(x)||(aP.add(x),o={rel:o,crossOrigin:d,href:c},m.querySelector(x)===null&&(c=m.createElement("link"),ts(c,"link",o),ur(c),m.head.appendChild(c)))}}function VG(o){zu.D(o),sP("dns-prefetch",o,null)}function zG(o,c){zu.C(o,c),sP("preconnect",o,c)}function qG(o,c,d){zu.L(o,c,d);var m=Jp;if(m&&o&&c){var x='link[rel="preload"][as="'+ei(c)+'"]';c==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+ei(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+ei(d.imageSizes)+'"]')):x+='[href="'+ei(o)+'"]';var T=x;switch(c){case"style":T=Zp(o);break;case"script":T=em(o)}_l.has(T)||(o=p({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),_l.set(T,o),m.querySelector(x)!==null||c==="style"&&m.querySelector(yv(T))||c==="script"&&m.querySelector(bv(T))||(c=m.createElement("link"),ts(c,"link",o),ur(c),m.head.appendChild(c)))}}function HG(o,c){zu.m(o,c);var d=Jp;if(d&&o){var m=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+ei(m)+'"][href="'+ei(o)+'"]',T=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=em(o)}if(!_l.has(T)&&(o=p({rel:"modulepreload",href:o},c),_l.set(T,o),d.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(bv(T)))return}m=d.createElement("link"),ts(m,"link",o),ur(m),d.head.appendChild(m)}}}function $G(o,c,d){zu.S(o,c,d);var m=Jp;if(m&&o){var x=Qn(m).hoistableStyles,T=Zp(o);c=c||"default";var z=x.get(T);if(!z){var te={loading:0,preload:null};if(z=m.querySelector(yv(T)))te.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},d),(d=_l.get(T))&&n5(o,d);var ve=z=m.createElement("link");ur(ve),ts(ve,"link",o),ve._p=new Promise(function(Le,We){ve.onload=Le,ve.onerror=We}),ve.addEventListener("load",function(){te.loading|=1}),ve.addEventListener("error",function(){te.loading|=2}),te.loading|=4,M1(z,c,m)}z={type:"stylesheet",instance:z,count:1,state:te},x.set(T,z)}}}function GG(o,c){zu.X(o,c);var d=Jp;if(d&&o){var m=Qn(d).hoistableScripts,x=em(o),T=m.get(x);T||(T=d.querySelector(bv(x)),T||(o=p({src:o,async:!0},c),(c=_l.get(x))&&r5(o,c),T=d.createElement("script"),ur(T),ts(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(x,T))}}function YG(o,c){zu.M(o,c);var d=Jp;if(d&&o){var m=Qn(d).hoistableScripts,x=em(o),T=m.get(x);T||(T=d.querySelector(bv(x)),T||(o=p({src:o,async:!0,type:"module"},c),(c=_l.get(x))&&r5(o,c),T=d.createElement("script"),ur(T),ts(T,"link",o),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(x,T))}}function oP(o,c,d,m){var x=(x=pe.current)?j1(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Zp(d.href),d=Qn(x).hoistableStyles,m=d.get(c),m||(m={type:"style",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Zp(d.href);var T=Qn(x).hoistableStyles,z=T.get(o);if(z||(x=x.ownerDocument||x,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,z),(T=x.querySelector(yv(o)))&&!T._p&&(z.instance=T,z.state.loading=5),_l.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},_l.set(o,d),T||WG(x,o,d,z.state))),c&&m===null)throw Error(r(528,""));return z}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=em(d),d=Qn(x).hoistableScripts,m=d.get(c),m||(m={type:"script",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Zp(o){return'href="'+ei(o)+'"'}function yv(o){return'link[rel="stylesheet"]['+o+"]"}function lP(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function WG(o,c,d,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),ts(c,"link",d),ur(c),o.head.appendChild(c))}function em(o){return'[src="'+ei(o)+'"]'}function bv(o){return"script[async]"+o}function cP(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+ei(d.href)+'"]');if(m)return c.instance=m,ur(m),m;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),ur(m),ts(m,"style",x),M1(m,d.precedence,o),c.instance=m;case"stylesheet":x=Zp(d.href);var T=o.querySelector(yv(x));if(T)return c.state.loading|=4,c.instance=T,ur(T),T;m=lP(d),(x=_l.get(x))&&n5(m,x),T=(o.ownerDocument||o).createElement("link"),ur(T);var z=T;return z._p=new Promise(function(te,ve){z.onload=te,z.onerror=ve}),ts(T,"link",m),c.state.loading|=4,M1(T,d.precedence,o),c.instance=T;case"script":return T=em(d.src),(x=o.querySelector(bv(T)))?(c.instance=x,ur(x),x):(m=d,(x=_l.get(T))&&(m=p({},d),r5(m,x)),o=o.ownerDocument||o,x=o.createElement("script"),ur(x),ts(x,"link",m),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,M1(m,d.precedence,o));return c.instance}function M1(o,c,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,T=x,z=0;z<m.length;z++){var te=m[z];if(te.dataset.precedence===c)T=te;else if(T!==x)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function n5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function r5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var F1=null;function uP(o,c,d){if(F1===null){var m=new Map,x=F1=new Map;x.set(d,m)}else x=F1,m=x.get(d),m||(m=new Map,x.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var T=d[x];if(!(T[ji]||T[Vn]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var z=T.getAttribute(c)||"";z=o+z;var te=m.get(z);te?te.push(T):m.set(z,[T])}}return m}function fP(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function KG(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function hP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function XG(o,c,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Zp(m.href),T=c.querySelector(yv(x));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=U1.bind(o),c.then(o,o)),d.state.loading|=4,d.instance=T,ur(T);return}T=c.ownerDocument||c,m=lP(m),(x=_l.get(x))&&n5(m,x),T=T.createElement("link"),ur(T);var z=T;z._p=new Promise(function(te,ve){z.onload=te,z.onerror=ve}),ts(T,"link",m),d.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=U1.bind(o),c.addEventListener("load",d),c.addEventListener("error",d))}}var i5=0;function QG(o,c){return o.stylesheets&&o.count===0&&V1(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var m=setTimeout(function(){if(o.stylesheets&&V1(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&i5===0&&(i5=62500*OG());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&V1(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>i5?50:800)+c);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function U1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)V1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var B1=null;function V1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,B1=new Map,c.forEach(JG,o),B1=null,U1.call(o))}function JG(o,c){if(!(c.state.loading&4)){var d=B1.get(o);if(d)var m=d.get(null);else{d=new Map,B1.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<x.length;T++){var z=x[T];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(d.set(z.dataset.precedence,z),m=z)}m&&d.set(null,m)}x=c.instance,z=x.getAttribute("data-precedence"),T=d.get(z)||m,T===m&&d.set(null,x),d.set(z,x),this.count++,m=U1.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),T?T.parentNode.insertBefore(x,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var _v={$$typeof:k,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ZG(o,c,d,m,x,T,z,te,ve){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=T,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ve,this.incompleteTransitions=new Map}function dP(o,c,d,m,x,T,z,te,ve,Le,We,Je){return o=new ZG(o,c,d,z,ve,Le,We,Je,te),c=1,T===!0&&(c|=24),T=ka(3,null,null,c),o.current=T,T.stateNode=o,c=Mf(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:c},pt(T),o}function pP(o){return o?(o=da,o):da}function mP(o,c,d,m,x,T){x=pP(x),m.context===null?m.context=x:m.pendingContext=x,m=an(c),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=_n(o,m,c),d!==null&&(bo(d,o,c),ar(d,o,c))}function gP(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function a5(o,c){gP(o,c),(o=o.alternate)&&gP(o,c)}function vP(o){if(o.tag===13||o.tag===31){var c=Wl(o,67108864);c!==null&&bo(c,o,67108864),a5(o,67108864)}}function yP(o){if(o.tag===13||o.tag===31){var c=Bo();c=Xn(c);var d=Wl(o,c);d!==null&&bo(d,o,c),a5(o,c)}}var z1=!0;function eY(o,c,d,m){var x=se.T;se.T=null;var T=he.p;try{he.p=2,s5(o,c,d,m)}finally{he.p=T,se.T=x}}function tY(o,c,d,m){var x=se.T;se.T=null;var T=he.p;try{he.p=8,s5(o,c,d,m)}finally{he.p=T,se.T=x}}function s5(o,c,d,m){if(z1){var x=o5(m);if(x===null)Gw(o,c,m,q1,d),_P(o,m);else if(rY(x,o,c,d,m))m.stopPropagation();else if(_P(o,m),c&4&&-1<nY.indexOf(o)){for(;x!==null;){var T=rn(x);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var z=gt(T.pendingLanes);if(z!==0){var te=T;for(te.pendingLanes|=2,te.entangledLanes|=2;z;){var ve=1<<31-nn(z);te.entanglements[1]|=ve,z&=~ve}Mc(T),(or&6)===0&&(S1=cn()+500,pv(0))}}break;case 31:case 13:te=Wl(T,2),te!==null&&bo(te,T,2),N1(),a5(T,2)}if(T=o5(m),T===null&&Gw(o,c,m,q1,d),T===x)break;x=T}x!==null&&m.stopPropagation()}else Gw(o,c,m,null,d)}}function o5(o){return o=Oa(o),l5(o)}var q1=null;function l5(o){if(q1=null,o=nt(o),o!==null){var c=a(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=s(c),o!==null)return o;o=null}else if(d===31){if(o=l(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return q1=o,null}function bP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fn()){case Jt:return 2;case gn:return 8;case st:case ft:return 32;case Et:return 268435456;default:return 32}default:return 32}}var c5=!1,Xf=null,Qf=null,Jf=null,xv=new Map,wv=new Map,Zf=[],nY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _P(o,c){switch(o){case"focusin":case"focusout":Xf=null;break;case"dragenter":case"dragleave":Qf=null;break;case"mouseover":case"mouseout":Jf=null;break;case"pointerover":case"pointerout":xv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":wv.delete(c.pointerId)}}function Ev(o,c,d,m,x,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[x]},c!==null&&(c=rn(c),c!==null&&vP(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function rY(o,c,d,m,x){switch(c){case"focusin":return Xf=Ev(Xf,o,c,d,m,x),!0;case"dragenter":return Qf=Ev(Qf,o,c,d,m,x),!0;case"mouseover":return Jf=Ev(Jf,o,c,d,m,x),!0;case"pointerover":var T=x.pointerId;return xv.set(T,Ev(xv.get(T)||null,o,c,d,m,x)),!0;case"gotpointercapture":return T=x.pointerId,wv.set(T,Ev(wv.get(T)||null,o,c,d,m,x)),!0}return!1}function xP(o){var c=nt(o.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=s(d),c!==null){o.blockedOn=c,Li(o.priority,function(){yP(d)});return}}else if(c===31){if(c=l(d),c!==null){o.blockedOn=c,Li(o.priority,function(){yP(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function H1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=o5(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Ro=m,d.target.dispatchEvent(m),Ro=null}else return c=rn(d),c!==null&&vP(c),o.blockedOn=d,!1;c.shift()}return!0}function wP(o,c,d){H1(o)&&d.delete(c)}function iY(){c5=!1,Xf!==null&&H1(Xf)&&(Xf=null),Qf!==null&&H1(Qf)&&(Qf=null),Jf!==null&&H1(Jf)&&(Jf=null),xv.forEach(wP),wv.forEach(wP)}function $1(o,c){o.blockedOn===c&&(o.blockedOn=null,c5||(c5=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iY)))}var G1=null;function EP(o){G1!==o&&(G1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){G1===o&&(G1=null);for(var c=0;c<o.length;c+=3){var d=o[c],m=o[c+1],x=o[c+2];if(typeof m!="function"){if(l5(m||d)===null)continue;break}var T=rn(d);T!==null&&(o.splice(c,3),c-=3,ow(T,{pending:!0,data:x,method:d.method,action:m},m,x))}}))}function tm(o){function c(ve){return $1(ve,o)}Xf!==null&&$1(Xf,o),Qf!==null&&$1(Qf,o),Jf!==null&&$1(Jf,o),xv.forEach(c),wv.forEach(c);for(var d=0;d<Zf.length;d++){var m=Zf[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Zf.length&&(d=Zf[0],d.blockedOn===null);)xP(d),d.blockedOn===null&&Zf.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var x=d[m],T=d[m+1],z=x[ir]||null;if(typeof T=="function")z||EP(d);else if(z){var te=null;if(T&&T.hasAttribute("formAction")){if(x=T,z=T[ir]||null)te=z.formAction;else if(l5(x)!==null)continue}else te=z.action;typeof te=="function"?d[m+1]=te:(d.splice(m,3),m-=3),EP(d)}}}function AP(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(z){return x=z})},focusReset:"manual",scroll:"manual"})}function c(){x!==null&&(x(),x=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),x!==null&&(x(),x=null)}}}function u5(o){this._internalRoot=o}Y1.prototype.render=u5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,m=Bo();mP(d,m,o,c,null,null)},Y1.prototype.unmount=u5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;mP(o.current,2,null,o,null,null),N1(),c[Qr]=null}};function Y1(o){this._internalRoot=o}Y1.prototype.unstable_scheduleHydration=function(o){if(o){var c=Xr();o={blockedOn:null,target:o,priority:c};for(var d=0;d<Zf.length&&c!==0&&c<Zf[d].priority;d++);Zf.splice(d,0,o),d===0&&xP(o)}};var SP=e.version;if(SP!=="19.2.0")throw Error(r(527,SP,"19.2.0"));he.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var aY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W1.isDisabled&&W1.supportsFiber)try{Bt=W1.inject(aY),It=W1}catch{}}return Sv.createRoot=function(o,c){if(!i(o))throw Error(r(299));var d=!1,m="",x=R4,T=D4,z=k4;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=dP(o,1,!1,null,null,d,m,null,x,T,z,AP),o[Qr]=c.current,$w(o),new u5(c)},Sv.hydrateRoot=function(o,c,d){if(!i(o))throw Error(r(299));var m=!1,x="",T=R4,z=D4,te=k4,ve=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(te=d.onRecoverableError),d.formState!==void 0&&(ve=d.formState)),c=dP(o,1,!0,c,d??null,m,x,ve,T,z,te,AP),c.context=pP(null),d=c.current,m=Bo(),m=Xn(m),x=an(m),x.callback=null,_n(d,x,m),d=m,c.current.lanes=d,zt(c,d),Mc(c),o[Qr]=c.current,$w(o),new Y1(c)},Sv.version="19.2.0",Sv}var LP;function yY(){if(LP)return d5.exports;LP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d5.exports=vY(),d5.exports}var bY=yY();const _Y=hu(bY),xY=()=>{};var jP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},xM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let y=(l&15)<<2|f>>6,g=f&63;u||(g=64,s||(y=64)),r.push(n[h],n[p],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||p==null)throw new EY;const y=a<<2|l>>4;if(r.push(y),f!==64){const g=l<<4&240|f>>2;if(r.push(g),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AY=function(t){const e=_M(t);return xM.encodeByteArray(e,!0)},Jb=function(t){return AY(t).replace(/\./g,"")},qT=function(t){try{return xM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!SY(n)||(t[n]=Zb(t[n],e[n]));return t}function SY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=()=>HT().__FIREBASE_DEFAULTS__,NY=()=>{if(typeof process>"u"||typeof jP>"u")return;const t=jP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qT(t[1]);return e&&JSON.parse(e)},$T=()=>{try{return xY()||TY()||NY()||IY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GT=()=>{var t;return(t=$T())==null?void 0:t.config},CY=t=>{var e;return(e=$T())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jb(JSON.stringify(n)),Jb(JSON.stringify(s)),""].join(".")}const ey={};function RY(){const t={prod:[],emulator:[]};for(const e of Object.keys(ey))ey[e]?t.emulator.push(e):t.prod.push(e);return t}function DY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let MP=!1;function EM(t,e){if(typeof window>"u"||typeof document>"u"||!_g(window.location.host)||ey[t]===e||ey[t]||MP)return;ey[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=RY().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,g){y.setAttribute("width","24"),y.setAttribute("id",g),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{MP=!0,s()},y}function h(y,g){y.setAttribute("id",g),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=DY(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),I=n("preprendIcon"),q=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const k=y.element;l(k),h(S,A);const B=f();u(q,I),k.append(q,E,S,B),document.body.appendChild(k)}a?(E.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bi())}function w_(){var e;const t=(e=$T())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LY(){return typeof window<"u"||AM()}function AM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function jY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TM(){const t=bi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NM(){return!w_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IM(){return!w_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function xy(){try{return typeof indexedDB=="object"}catch{return!1}}function MY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FY,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fp.prototype.create)}}class fp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?UY(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ws(i,l,r)}}function UY(t,e){return t.replace(BY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(UP(a)&&UP(s)){if(!Eh(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function UP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Am(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Hv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CM(t,e){const n=new zY(t,e);return n.subscribe.bind(n)}class zY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=v5),i.error===void 0&&(i.error=v5),i.complete===void 0&&(i.complete=v5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function v5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class su{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HY=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GY(e))try{this.getOrInitializeService({instanceIdentifier:dd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=dd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dd){return this.instances.has(e)}getOptions(e=dd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$Y(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dd){return this.component?this.component.multipleInstances?e:dd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $Y(t){return t===dd?void 0:t}function GY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=[];var Dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dn||(Dn={}));const OM={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},YY=Dn.INFO,WY={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},KY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=YY,this._logHandler=KY,this._userLogHandler=null,WT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...e),this._logHandler(this,Dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...e),this._logHandler(this,Dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...e),this._logHandler(this,Dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...e),this._logHandler(this,Dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...e),this._logHandler(this,Dn.ERROR,...e)}}function XY(t){WT.forEach(e=>{e.setLogLevel(t)})}function QY(t,e){for(const n of WT){let r=null;e&&e.level&&(r=OM[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...s)=>{const l=s.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");a>=(r??i.logLevel)&&t({level:Dn[a].toLowerCase(),message:l,args:s,type:i.name})}}}const JY=(t,e)=>e.some(n=>t instanceof n);let BP,VP;function ZY(){return BP||(BP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eW(){return VP||(VP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RM=new WeakMap,HA=new WeakMap,DM=new WeakMap,y5=new WeakMap,KT=new WeakMap;function tW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(vh(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RM.set(n,t)}).catch(()=>{}),KT.set(e,t),e}function nW(t){if(HA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});HA.set(t,e)}let $A={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return HA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vh(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rW(t){$A=t($A)}function iW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(b5(this),e,...n);return DM.set(r,e.sort?e.sort():[e]),vh(r)}:eW().includes(t)?function(...e){return t.apply(b5(this),e),vh(RM.get(this))}:function(...e){return vh(t.apply(b5(this),e))}}function aW(t){return typeof t=="function"?iW(t):(t instanceof IDBTransaction&&nW(t),JY(t,ZY())?new Proxy(t,$A):t)}function vh(t){if(t instanceof IDBRequest)return tW(t);if(y5.has(t))return y5.get(t);const e=aW(t);return e!==t&&(y5.set(t,e),KT.set(e,t)),e}const b5=t=>KT.get(t);function sW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=vh(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vh(s.result),u.oldVersion,u.newVersion,vh(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const oW=["get","getKey","getAll","getAllKeys","count"],lW=["put","add","delete","clear"],_5=new Map;function zP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_5.get(e))return _5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oW.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return _5.set(e,a),a}rW(t=>({...t,get:(e,n,r)=>zP(e,n)||t.get(e,n,r),has:(e,n)=>!!zP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e2="@firebase/app",GA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new E_("@firebase/app"),fW="@firebase/app-compat",hW="@firebase/analytics-compat",dW="@firebase/analytics",pW="@firebase/app-check-compat",mW="@firebase/app-check",gW="@firebase/auth",vW="@firebase/auth-compat",yW="@firebase/database",bW="@firebase/data-connect",_W="@firebase/database-compat",xW="@firebase/functions",wW="@firebase/functions-compat",EW="@firebase/installations",AW="@firebase/installations-compat",SW="@firebase/messaging",TW="@firebase/messaging-compat",NW="@firebase/performance",IW="@firebase/performance-compat",CW="@firebase/remote-config",PW="@firebase/remote-config-compat",OW="@firebase/storage",RW="@firebase/storage-compat",DW="@firebase/firestore",kW="@firebase/ai",LW="@firebase/firestore-compat",jW="firebase",MW="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="[DEFAULT]",FW={[e2]:"fire-core",[fW]:"fire-core-compat",[dW]:"fire-analytics",[hW]:"fire-analytics-compat",[mW]:"fire-app-check",[pW]:"fire-app-check-compat",[gW]:"fire-auth",[vW]:"fire-auth-compat",[yW]:"fire-rtdb",[bW]:"fire-data-connect",[_W]:"fire-rtdb-compat",[xW]:"fire-fn",[wW]:"fire-fn-compat",[EW]:"fire-iid",[AW]:"fire-iid-compat",[SW]:"fire-fcm",[TW]:"fire-fcm-compat",[NW]:"fire-perf",[IW]:"fire-perf-compat",[CW]:"fire-rc",[PW]:"fire-rc-compat",[OW]:"fire-gcs",[RW]:"fire-gcs-compat",[DW]:"fire-fst",[LW]:"fire-fst-compat",[kW]:"fire-vertex","fire-js":"fire-js",[jW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,zm=new Map,qm=new Map;function wy(t,e){try{t.container.addComponent(e)}catch(n){rf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kM(t,e){t.container.addOrOverwriteComponent(e)}function Th(t){const e=t.name;if(qm.has(e))return rf.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const n of Sh.values())wy(n,t);for(const n of zm.values())wy(n,t);return!0}function LM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function UW(t,e,n=Ah){LM(t,e).clearInstance(n)}function XT(t){return t.options!==void 0}function jM(t){return XT(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function oi(t){return t==null?!1:t.settings!==void 0}function BW(){qm.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new fp("app","Firebase",VW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MM=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){const n=qT(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class zW extends MM{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,s,i);else{const l=e;super(l.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&qP(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&qP(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,oc(e2,GA,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){JT(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qo.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=MW;function QT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ah,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qo.create("bad-app-name",{appName:String(i)});if(n||(n=GT()),!n)throw Qo.create("no-options");const a=Sh.get(i);if(a){if(Eh(n,a.options)&&Eh(r,a.config))return a;throw Qo.create("duplicate-app",{appName:i})}const s=new PM(i);for(const u of qm.values())s.addComponent(u);const l=new MM(n,r,s);return Sh.set(i,l),l}function qW(t,e={}){if(LY()&&!AM())throw Qo.create("invalid-server-app-environment");let n,r=e||{};if(t&&(XT(t)?n=t.options:jM(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=GT()),!n)throw Qo.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=h=>[...h].reduce((p,y)=>Math.imul(31,p)+y.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Qo.create("finalization-registry-not-supported",{});const s=""+a(JSON.stringify(i)),l=zm.get(s);if(l)return l.incRefCount(r.releaseOnDeref),l;const u=new PM(s);for(const h of qm.values())u.addComponent(h);const f=new zW(n,r,s,u);return zm.set(s,f),f}function HW(t=Ah){const e=Sh.get(t);if(!e&&t===Ah&&GT())return QT();if(!e)throw Qo.create("no-app",{appName:t});return e}function $W(){return Array.from(Sh.values())}async function JT(t){let e=!1;const n=t.name;Sh.has(n)?(e=!0,Sh.delete(n)):zm.has(n)&&t.decRefCount()<=0&&(zm.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function oc(t,e,n){let r=FW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rf.warn(s.join(" "));return}Th(new su(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function FM(t,e){if(t!==null&&typeof t!="function")throw Qo.create("invalid-log-argument");QY(t,e)}function UM(t){XY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="firebase-heartbeat-database",YW=1,Ey="firebase-heartbeat-store";let x5=null;function BM(){return x5||(x5=sW(GW,YW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ey)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),x5}async function WW(t){try{const n=(await BM()).transaction(Ey),r=await n.objectStore(Ey).get(VM(t));return await n.done,r}catch(e){if(e instanceof Ws)rf.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rf.warn(n.message)}}}async function HP(t,e){try{const r=(await BM()).transaction(Ey,"readwrite");await r.objectStore(Ey).put(e,VM(t)),await r.done}catch(n){if(n instanceof Ws)rf.warn(n.message);else{const r=Qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rf.warn(r.message)}}}function VM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=1024,XW=30;class QW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$P();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XW){const s=eK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rf.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$P(),{heartbeatsToSend:r,unsentEntries:i}=JW(this._heartbeatsCache.heartbeats),a=Jb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rf.warn(n),""}}}function $P(){return new Date().toISOString().substring(0,10)}function JW(t,e=KW){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),GP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xy()?MY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GP(t){return Jb(JSON.stringify({version:2,heartbeats:t})).length}function eK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t){Th(new su("platform-logger",e=>new cW(e),"PRIVATE")),Th(new su("heartbeat",e=>new QW(e),"PRIVATE")),oc(e2,GA,t),oc(e2,GA,"esm2020"),oc("fire-js","")}tK("");const nK=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ws,SDK_VERSION:Uh,_DEFAULT_ENTRY_NAME:Ah,_addComponent:wy,_addOrOverwriteComponent:kM,_apps:Sh,_clearComponents:BW,_components:qm,_getProvider:LM,_isFirebaseApp:XT,_isFirebaseServerApp:oi,_isFirebaseServerAppSettings:jM,_registerComponent:Th,_removeServiceInstance:UW,_serverApps:zm,deleteApp:JT,getApp:HW,getApps:$W,initializeApp:QT,initializeServerApp:qW,onLog:FM,registerVersion:oc,setLogLevel:UM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this._delegate=e,this.firebase=n,wy(e,new su("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),JT(this._delegate)))}_getService(e,n=Ah){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ah){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){wy(this._delegate,e)}_addOrOverwriteComponent(e){kM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},YP=new fp("app-compat","Firebase",iK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:oc,setLogLevel:UM,onLog:FM,apps:null,SDK_VERSION:Uh,INTERNAL:{registerComponent:l,removeApp:r,useAsService:u,modularAPIs:nK}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(f){delete e[f]}function i(f){if(f=f||Ah,!FP(e,f))throw YP.create("no-app",{appName:f});return e[f]}i.App=t;function a(f,h={}){const p=QT(f,h);if(FP(e,p.name))return e[p.name];const y=new t(p,n);return e[p.name]=y,y}function s(){return Object.keys(e).map(f=>e[f])}function l(f){const h=f.name,p=h.replace("-compat","");if(Th(f)&&f.type==="PUBLIC"){const y=(g=i())=>{if(typeof g[p]!="function")throw YP.create("invalid-app-argument",{appName:h});return g[p]()};f.serviceProps!==void 0&&Zb(y,f.serviceProps),n[p]=y,t.prototype[p]=function(...g){return this._getService.bind(this,h).apply(this,f.multipleInstances?g:[])}}return f.type==="PUBLIC"?n[p]:null}function u(f,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){const t=aK(rK);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:zM,extendNamespace:e,createSubscribe:CM,ErrorFactory:fp,deepExtend:Zb};function e(n){Zb(t,n)}return t}const sK=zM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new E_("@firebase/app-compat"),oK="@firebase/app-compat",lK="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){oc(oK,lK,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=HT();if(t.firebase!==void 0){WP.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&WP.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const af=sK;cK();var uK="firebase",fK="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */af.registerVersion(uK,fK,"app-compat");const Tv={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},nm={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function qM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dK=hK,pK=qM,HM=new fp("auth","Firebase",qM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new E_("@firebase/auth");function mK(t,...e){t2.logLevel<=Dn.WARN&&t2.warn(`Auth (${Uh}): ${t}`,...e)}function Ib(t,...e){t2.logLevel<=Dn.ERROR&&t2.error(`Auth (${Uh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,...e){throw eN(t,...e)}function xa(t,...e){return eN(t,...e)}function ZT(t,e,n){const r={...pK(),[e]:n};return new fp("auth","Firebase",r).create(e,{appName:t.name})}function za(t){return ZT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&us(t,"argument-error"),ZT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HM.create(t,...e)}function lt(t,e,...n){if(!t)throw eN(e,...n)}function Xc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ib(e),new Error(e)}function uc(t,e){t||Xc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function tN(){return KP()==="http:"||KP()==="https:"}function KP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tN()||SM()||"connection"in navigator)?navigator.onLine:!0}function vK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.shortDelay=e,this.longDelay=n,uc(n>e,"Short delay should be less than long delay!"),this.isMobile=kY()||YT()}get(){return gK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t,e){uc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_K=new h0(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oi(t,e,n,r,i={}){return GM(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=xg({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...a};return jY()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&_g(t.emulatorConfig.host)&&(f.credentials="include"),$M.fetch()(await YM(t,t.config.apiHost,n,l),f)})}async function GM(t,e,n){t._canInitEmulator=!1;const r={...yK,...e};try{const i=new wK(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw $v(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $v(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw $v(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw $v(t,"user-disabled",s);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ZT(t,h,f);us(t,h)}}catch(i){if(i instanceof Ws)throw i;us(t,"network-request-failed",{message:String(i)})}}async function gf(t,e,n,r,i={}){const a=await Oi(t,e,n,r,i);return"mfaPendingCredential"in a&&us(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function YM(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?nN(t.config,i):`${t.config.apiScheme}://${i}`;return bK.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function xK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xa(this.auth,"network-request-failed")),_K.get())})}}function $v(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xa(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){return t!==void 0&&t.getResponse!==void 0}function QP(t){return t!==void 0&&t.enterprise!==void 0}class WM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t){return(await Oi(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function KM(t,e){return Oi(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AK(t,e){return Oi(t,"POST","/v1/accounts:delete",e)}async function SK(t,e){return Oi(t,"POST","/v1/accounts:update",e)}async function n2(t,e){return Oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TK(t,e=!1){const n=sn(t),r=await n.getIdToken(e),i=A_(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ty(w5(i.auth_time)),issuedAtTime:ty(w5(i.iat)),expirationTime:ty(w5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function w5(t){return Number(t)*1e3}function A_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ib("JWT malformed, contained fewer than 3 sections"),null;try{const i=qT(n);return i?JSON.parse(i):(Ib("Failed to decode base64 JWT payload"),null)}catch(i){return Ib("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JP(t){const e=A_(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&NK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ty(this.lastLoginAt),this.creationTime=ty(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(t){var p;const e=t.auth,n=await t.getIdToken(),r=await sf(t,n2(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(p=i.providerUserInfo)!=null&&p.length?XM(i.providerUserInfo):[],s=PK(t.providerData,a),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new YA(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function CK(t){const e=sn(t);await Sy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OK(t,e){const n=await GM(t,{},async()=>{const r=xg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await YM(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&_g(t.emulatorConfig.host)&&(u.credentials="include"),$M.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RK(t,e){return Oi(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=JP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await OK(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Cm;return r&&(lt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(lt(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cm,this.toJSON())}_performRefresh(){return Xc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sc{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new YA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sf(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TK(this,e)}reload(){return CK(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await sf(this,AK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:g,providerData:E,stsTokenManager:A}=n;lt(p&&A,e,"internal-error");const S=Cm.fromJSON(this.name,A);lt(typeof p=="string",e,"internal-error"),th(r,e.name),th(i,e.name),lt(typeof y=="boolean",e,"internal-error"),lt(typeof g=="boolean",e,"internal-error"),th(a,e.name),th(s,e.name),th(l,e.name),th(u,e.name),th(f,e.name),th(h,e.name);const I=new sc({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:f,lastLoginAt:h});return E&&Array.isArray(E)&&(I.providerData=E.map(q=>({...q}))),u&&(I._redirectEventId=u),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cm;i.updateFromServerResponse(n);const a=new sc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?XM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Cm;l.updateFromIdToken(r);const u=new sc({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new YA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Map;function Wo(t){uc(t instanceof Function,"Expected a class definition");let e=ZP.get(t);return e?(uc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QM.type="NONE";const Hm=QM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class Pm{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dd("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await n2(this.auth,{idToken:e}).catch(()=>{});return n?sc._fromGetAccountInfoResponse(this.auth,n,e):null}return sc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pm(Wo(Hm),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Wo(Hm);const s=Dd(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const y=await n2(e,{idToken:h}).catch(()=>{});if(!y)break;p=await sc._fromGetAccountInfoResponse(e,y,h)}else p=sc._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Pm(a,e,r):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new Pm(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n8(e))return"Blackberry";if(r8(e))return"Webos";if(ZM(e))return"Safari";if((e.includes("chrome/")||e8(e))&&!e.includes("edge/"))return"Chrome";if(d0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JM(t=bi()){return/firefox\//i.test(t)}function ZM(t=bi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e8(t=bi()){return/crios\//i.test(t)}function t8(t=bi()){return/iemobile/i.test(t)}function d0(t=bi()){return/android/i.test(t)}function n8(t=bi()){return/blackberry/i.test(t)}function r8(t=bi()){return/webos/i.test(t)}function p0(t=bi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DK(t=bi()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function kK(t=bi()){var e;return p0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function LK(){return TM()&&document.documentMode===10}function i8(t=bi()){return p0(t)||d0(t)||r8(t)||n8(t)||/windows phone/i.test(t)||t8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t,e=[]){let n;switch(t){case"Browser":n=eO(bi());break;case"Worker":n=`${eO(bi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MK(t,e={}){return Oi(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=6;class UK{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tO(this),this.idTokenSubscription=new tO(this),this.beforeStateQueue=new jK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wo(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Pm.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n2(this,{idToken:e}),r=await sc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(oi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(za(this));const n=e?sn(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MK(this),n=new UK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RK(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wo(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Pm.create(this,[Wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _i(t){return sn(t)}class tO{constructor(e){this.auth=e,this.observer=null,this.addObserver=CM(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VK(t){m0=t}function rN(t){return m0.loadJS(t)}function zK(){return m0.recaptchaV2Script}function qK(){return m0.recaptchaEnterpriseScript}function HK(){return m0.gapiScript}function s8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=500,GK=6e4,K1=1e12;class YK{constructor(e){this.auth=e,this.counter=K1,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new XK(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||K1;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||K1;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||K1;return(r=this._widgets.get(n))==null||r.execute(),""}}class WK{constructor(){this.enterprise=new KK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XK{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;lt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=QK(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},GK)},$K))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function QK(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const JK="recaptcha-enterprise",ny="NO_RECAPTCHA";class o8{constructor(e){this.type=JK,this.auth=_i(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{KM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new WM(u);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(u=>{l(u)})})}function i(a,s,l){const u=window.grecaptcha;QP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(ny)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WK().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&QP(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qK();u.length!==0&&(u+=l),rN(u).then(()=>{i(l,a,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function Nv(t,e,n,r=!1,i=!1){const a=new o8(t);let s;if(i)s=ny;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function yh(t,e,n,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Nv(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Nv(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const l=await Nv(t,e,n);return r(t,l).catch(async u=>{var f;if(((f=t._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Nv(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)})}else{const l=await Nv(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(i+" provider is not supported.")}async function ZK(t){const e=_i(t),n=await KM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new WM(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new o8(e).verify()}function eX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tX(t,e,n){const r=_i(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=l8(e),{host:s,port:l}=nX(e),u=l===null?"":`:${l}`,f={url:`${a}//${s}${u}/`},h=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(Eh(f,r.config.emulator)&&Eh(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_g(s)?(wM(`${a}//${s}${u}`),EM("Auth",!0)):i||rX()}function l8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nX(t){const e=l8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:nO(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:nO(s)}}}function nO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xc("not implemented")}_getIdTokenResponse(e){return Xc("not implemented")}_linkToIdToken(e,n){return Xc("not implemented")}_getReauthenticationResolver(e){return Xc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e){return Oi(t,"POST","/v1/accounts:resetPassword",Pi(t,e))}async function iX(t,e){return Oi(t,"POST","/v1/accounts:update",e)}async function aX(t,e){return Oi(t,"POST","/v1/accounts:signUp",e)}async function sX(t,e){return Oi(t,"POST","/v1/accounts:update",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oX(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}async function S_(t,e){return Oi(t,"POST","/v1/accounts:sendOobCode",Pi(t,e))}async function lX(t,e){return S_(t,e)}async function cX(t,e){return S_(t,e)}async function uX(t,e){return S_(t,e)}async function fX(t,e){return S_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hX(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function dX(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends Eg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ty(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ty(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,n,"signInWithPassword",oX,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hX(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,r,"signUpPassword",aX,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dX(e,{idToken:n,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX="http://localhost";class ou extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ou(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new ou(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ef(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ef(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ef(e,n)}buildRequest(){const e={requestUri:pX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(t,e){return Oi(t,"POST","/v1/accounts:sendVerificationCode",Pi(t,e))}async function mX(t,e){return gf(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,e))}async function gX(t,e){const n=await gf(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,e));if(n.temporaryProof)throw $v(t,"account-exists-with-different-credential",n);return n}const vX={USER_NOT_FOUND:"user-not-found"};async function yX(t,e){const n={...e,operation:"REAUTH"};return gf(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,n),vX)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends Eg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new kd({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new kd({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return mX(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return gX(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return yX(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new kd({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _X(t){const e=Am(Hv(t)).link,n=e?Am(Hv(e)).deep_link_id:null,r=Am(Hv(t)).deep_link_id;return(r?Am(Hv(r)).link:null)||r||n||e||t}class T_{constructor(e){const n=Am(Hv(e)),r=n.apiKey??null,i=n.oobCode??null,a=bX(n.mode??null);lt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_X(e);try{return new T_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.providerId=Bh.PROVIDER_ID}static credential(e,n){return Ty._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T_.parseLink(n);return lt(r,"argument-error"),Ty._fromEmailAndCode(e,r.code,r.tenantId)}}Bh.PROVIDER_ID="password";Bh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Om extends Ag{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return lt("providerId"in n&&"signInMethod"in n,"argument-error"),ou._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return lt(e.idToken||e.accessToken,"argument-error"),ou._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Om.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Om.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:l}=e;if(!r&&!i&&!n&&!a||!l)return null;try{return new Om(l)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Ag{constructor(){super("facebook.com")}static credential(e){return ou._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch{return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com";$c.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Ag{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ou._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gc.credential(n,r)}catch{return null}}}Gc.GOOGLE_SIGN_IN_METHOD="google.com";Gc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Ag{constructor(){super("github.com")}static credential(e){return ou._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yc.credential(e.oauthAccessToken)}catch{return null}}}Yc.GITHUB_SIGN_IN_METHOD="github.com";Yc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX="http://localhost";class $m extends Eg{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ef(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ef(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ef(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new $m(r,a)}static _create(e,n){return new $m(e,n)}buildRequest(){return{requestUri:xX,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX="saml.";class r2 extends vf{constructor(e){lt(e.startsWith(wX),"argument-error"),super(e)}static credentialFromResult(e){return r2.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return r2.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=$m.fromJSON(e);return lt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return $m._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Ag{constructor(){super("twitter.com")}static credential(e,n){return ou._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wc.credential(n,r)}catch{return null}}}Wc.TWITTER_SIGN_IN_METHOD="twitter.com";Wc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e){return gf(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await sc._fromIdTokenResponse(e,r,i),s=iO(r);return new Cl({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iO(r);return new Cl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EX(t){var i;if(oi(t.app))return Promise.reject(za(t));const e=_i(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new Cl({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await u8(e,{returnSecureToken:!0}),r=await Cl._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends Ws{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,i2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new i2(e,n,r,i)}}function f8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?i2._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AX(t,e){const n=sn(t);await N_(!0,n,e);const{providerUserInfo:r}=await SK(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=h8(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function iN(t,e,n=!1){const r=await sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cl._forOperation(t,"link",r)}async function N_(t,e,n){await Sy(e);const r=h8(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";lt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(za(r));const i="reauthenticate";try{const a=await sf(t,f8(r,i,e,t),n);lt(a.idToken,r,"internal-error");const s=A_(a.idToken);lt(s,r,"internal-error");const{sub:l}=s;return lt(t.uid===l,r,"user-mismatch"),Cl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&us(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e,n=!1){if(oi(t.app))return Promise.reject(za(t));const r="signIn",i=await f8(t,r,e),a=await Cl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function I_(t,e){return p8(_i(t),e)}async function m8(t,e){const n=sn(t);return await N_(!1,n,e.providerId),iN(n,e)}async function g8(t,e){return d8(sn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SX(t,e){return gf(t,"POST","/v1/accounts:signInWithCustomToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TX(t,e){if(oi(t.app))return Promise.reject(za(t));const n=_i(t),r=await SX(n,{token:e,returnSecureToken:!0}),i=await Cl._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?aN._fromServerResponse(e,n):"totpInfo"in n?sN._fromServerResponse(e,n):us(e,"internal-error")}}class aN extends g0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new aN(n)}}class sN extends g0{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new sN(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e,n){var r;lt(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),lt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),lt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(lt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(lt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t){const e=_i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NX(t,e,n){const r=_i(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&C_(r,i,n),await yh(r,i,"getOobCode",cX,"EMAIL_PASSWORD_PROVIDER")}async function IX(t,e,n){await c8(sn(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oN(t),r})}async function CX(t,e){await sX(sn(t),{oobCode:e})}async function v8(t,e){const n=sn(t),r=await c8(n,{oobCode:e}),i=r.requestType;switch(lt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":lt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":lt(r.mfaInfo,n,"internal-error");default:lt(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=g0._fromServerResponse(_i(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function PX(t,e){const{data:n}=await v8(sn(t),e);return n.email}async function OX(t,e,n){if(oi(t.app))return Promise.reject(za(t));const r=_i(t),s=await yh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u8,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&oN(t),u}),l=await Cl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function RX(t,e,n){return oi(t.app)?Promise.reject(za(t)):I_(sn(t),Bh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DX(t,e,n){const r=_i(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,l){lt(l.handleCodeInApp,r,"argument-error"),l&&C_(r,s,l)}a(i,n),await yh(r,i,"getOobCode",uX,"EMAIL_PASSWORD_PROVIDER")}function kX(t,e){const n=T_.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function LX(t,e,n){if(oi(t.app))return Promise.reject(za(t));const r=sn(t),i=Bh.credentialWithLink(e,n||Ay());return lt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),I_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jX(t,e){return Oi(t,"POST","/v1/accounts:createAuthUri",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MX(t,e){const n=tN()?Ay():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await jX(sn(t),r);return i||[]}async function FX(t,e){const n=sn(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&C_(n.auth,i,e);const{email:a}=await lX(n.auth,i);a!==t.email&&await t.reload()}async function UX(t,e,n){const r=sn(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&C_(r.auth,a,n);const{email:s}=await fX(r.auth,a);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BX(t,e){return Oi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VX(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=sn(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await sf(r,BX(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function zX(t,e){const n=sn(t);return oi(n.auth.app)?Promise.reject(za(n.auth)):y8(n,e,null)}function qX(t,e){return y8(sn(t),null,e)}async function y8(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const s=await sf(t,iX(r,a));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(t){var i,a;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(a=(i=A_(t.idToken))==null?void 0:i.firebase)==null?void 0:a.sign_in_provider;if(s){const l=s!=="anonymous"&&s!=="custom"?s:null;return new Rm(r,l)}}if(!e)return null;switch(e){case"facebook.com":return new $X(r,n);case"github.com":return new GX(r,n);case"google.com":return new YX(r,n);case"twitter.com":return new WX(r,n,t.screenName||null);case"custom":case"anonymous":return new Rm(r,null);default:return new Rm(r,e,n)}}class Rm{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class b8 extends Rm{constructor(e,n,r,i){super(e,n,r),this.username=i}}class $X extends Rm{constructor(e,n){super(e,"facebook.com",n)}}class GX extends b8{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class YX extends Rm{constructor(e,n){super(e,"google.com",n)}}class WX extends b8{constructor(e,n,r){super(e,"twitter.com",n,r)}}function KX(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:HX(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Td("enroll",e,n)}static _fromMfaPendingCredential(e){return new Td("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Td._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Td._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=_i(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(l=>g0._fromServerResponse(r,l));lt(i.mfaPendingCredential,r,"internal-error");const s=Td._fromMfaPendingCredential(i.mfaPendingCredential);return new lN(s,a,async l=>{const u=await l._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:u.idToken,refreshToken:u.refreshToken};switch(n.operationType){case"signIn":const h=await Cl._fromIdTokenResponse(r,n.operationType,f);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return lt(n.user,r,"internal-error"),Cl._forOperation(n.user,n.operationType,f);default:us(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function XX(t,e){var i;const n=sn(t),r=e;return lt(e.customData.operationType,n,"argument-error"),lt((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),lN._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){return Oi(t,"POST","/v2/accounts/mfaEnrollment:start",Pi(t,e))}function QX(t,e){return Oi(t,"POST","/v2/accounts/mfaEnrollment:finalize",Pi(t,e))}function JX(t,e){return Oi(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Pi(t,e))}class cN{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>g0._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new cN(e)}async getSession(){return Td._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await sf(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await sf(this.user,JX(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const E5=new WeakMap;function ZX(t){const e=sn(t);return E5.has(e)||E5.set(e,cN._fromUser(e)),E5.get(e)}const a2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(a2,"1"),this.storage.removeItem(a2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=1e3,tQ=10;class x8 extends _8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);LK()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x8.type="LOCAL";const uN=x8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8 extends _8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w8.type="SESSION";const zd=w8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new P_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,a)),u=await nQ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}P_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const f=v0("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function iQ(t){na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function aQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function oQ(){return fN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="firebaseLocalStorageDb",lQ=1,s2="firebaseLocalStorage",A8="fbase_key";class y0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function O_(t,e){return t.transaction([s2],e?"readwrite":"readonly").objectStore(s2)}function cQ(){const t=indexedDB.deleteDatabase(E8);return new y0(t).toPromise()}function WA(){const t=indexedDB.open(E8,lQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(s2,{keyPath:A8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(s2)?e(r):(r.close(),await cQ(),e(await WA()))})})}async function sO(t,e,n){const r=O_(t,!0).put({[A8]:e,value:n});return new y0(r).toPromise()}async function uQ(t,e){const n=O_(t,!1).get(e),r=await new y0(n).toPromise();return r===void 0?null:r.value}function oO(t,e){const n=O_(t,!0).delete(e);return new y0(n).toPromise()}const fQ=800,hQ=3;class S8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=P_._getInstance(oQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await aQ(),!this.activeServiceWorker)return;this.sender=new rQ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WA();return await sO(e,a2,"1"),await oO(e,a2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=O_(i,!1).getAll();return new y0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S8.type="LOCAL";const Ny=S8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){return Oi(t,"POST","/v2/accounts/mfaSignIn:start",Pi(t,e))}function dQ(t,e){return Oi(t,"POST","/v2/accounts/mfaSignIn:finalize",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=s8("rcb"),pQ=new h0(3e4,6e4);class mQ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=na().grecaptcha)!=null&&e.render)}load(e,n=""){return lt(gQ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&XP(na().grecaptcha)?Promise.resolve(na().grecaptcha):new Promise((r,i)=>{const a=na().setTimeout(()=>{i(xa(e,"network-request-failed"))},pQ.get());na()[A5]=()=>{na().clearTimeout(a),delete na()[A5];const l=na().grecaptcha;if(!l||!XP(l)){i(xa(e,"internal-error"));return}const u=l.render;l.render=(f,h)=>{const p=u(f,h);return this.counter++,p},this.hostLanguage=n,r(l)};const s=`${zK()}?${xg({onload:A5,render:"explicit",hl:n})}`;rN(s).catch(()=>{clearTimeout(a),i(xa(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=na().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function gQ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class vQ{async load(e){return new YK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="recaptcha",yQ={theme:"light",type:"image"};let bQ=class{constructor(e,n,r={...yQ}){this.parameters=r,this.type=ry,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_i(e),this.isInvisible=this.parameters.size==="invisible",lt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;lt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vQ:new mQ,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){lt(!this.parameters.sitekey,this.auth,"argument-error"),lt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),lt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=na()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){lt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){lt(tN()&&!fN(),this.auth,"internal-error"),await _Q(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await EK(this.auth);lt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return lt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _Q(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=kd._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function xQ(t,e,n){if(oi(t.app))return Promise.reject(za(t));const r=_i(t),i=await R_(r,e,sn(n));return new hN(i,a=>I_(r,a))}async function wQ(t,e,n){const r=sn(t);await N_(!1,r,"phone");const i=await R_(r.auth,e,sn(n));return new hN(i,a=>m8(r,a))}async function EQ(t,e,n){const r=sn(t);if(oi(r.auth.app))return Promise.reject(za(r.auth));const i=await R_(r.auth,e,sn(n));return new hN(i,a=>g8(r,a))}async function R_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await ZK(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){lt(a.type==="enroll",t,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await yh(t,s,"mfaSmsEnrollment",async(h,p)=>{if(p.phoneEnrollmentInfo.captchaResponse===ny){lt((n==null?void 0:n.type)===ry,h,"argument-error");const y=await S5(h,p,n);return aO(h,y)}return aO(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{lt(a.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;lt(s,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await yh(t,l,"mfaSmsSignIn",async(p,y)=>{if(y.phoneSignInInfo.captchaResponse===ny){lt((n==null?void 0:n.type)===ry,p,"argument-error");const g=await S5(p,y,n);return lO(p,g)}return lO(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await yh(t,a,"sendVerificationCode",async(f,h)=>{if(h.captchaResponse===ny){lt((n==null?void 0:n.type)===ry,f,"argument-error");const p=await S5(f,h,n);return rO(f,p)}return rO(f,h)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{n==null||n._reset()}}async function AQ(t,e){const n=sn(t);if(oi(n.auth.app))return Promise.reject(za(n.auth));await iN(n,e)}async function S5(t,e,n){lt(n.type===ry,t,"argument-error");const r=await n.verify();lt(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=class Cb{constructor(e){this.providerId=Cb.PROVIDER_ID,this.auth=_i(e)}verifyPhoneNumber(e,n){return R_(this.auth,e,sn(n))}static credential(e,n){return kd._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Cb.credentialFromTaggedObject(n)}static credentialFromError(e){return Cb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?kd._fromTokenResponse(n,r):null}};qd.PROVIDER_ID="phone";qd.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e){return e?Wo(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ef(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ef(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SQ(t){return p8(t.auth,new dN(t),t.bypassAuthState)}function TQ(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),d8(n,new dN(t),t.bypassAuthState)}async function NQ(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),iN(n,new dN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SQ;case"linkViaPopup":case"linkViaRedirect":return NQ;case"reauthViaPopup":case"reauthViaRedirect":return TQ;default:us(this.auth,"internal-error")}}resolve(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ=new h0(2e3,1e4);async function CQ(t,e,n){if(oi(t.app))return Promise.reject(xa(t,"operation-not-supported-in-this-environment"));const r=_i(t);wg(t,e,vf);const i=hp(r,n);return new Ku(r,"signInViaPopup",e,i).executeNotNull()}async function PQ(t,e,n){const r=sn(t);if(oi(r.auth.app))return Promise.reject(xa(r.auth,"operation-not-supported-in-this-environment"));wg(r.auth,e,vf);const i=hp(r.auth,n);return new Ku(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function OQ(t,e,n){const r=sn(t);wg(r.auth,e,vf);const i=hp(r.auth,n);return new Ku(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ku extends T8{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ku.currentPopupAction&&Ku.currentPopupAction.cancel(),Ku.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){uc(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ku.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IQ.get())};e()}}Ku.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ="pendingRedirect",iy=new Map;class DQ extends T8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=iy.get(this.auth._key());if(!e){try{const r=await kQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}iy.set(this.auth._key(),e)}return this.bypassAuthState||iy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kQ(t,e){const n=I8(e),r=N8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function pN(t,e){return N8(t)._set(I8(e),"true")}function LQ(){iy.clear()}function mN(t,e){iy.set(t._key(),e)}function N8(t){return Wo(t._redirectPersistence)}function I8(t){return Dd(RQ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t,e,n){return MQ(t,e,n)}async function MQ(t,e,n){if(oi(t.app))return Promise.reject(za(t));const r=_i(t);wg(t,e,vf),await r._initializationPromise;const i=hp(r,n);return await pN(i,r),i._openRedirect(r,e,"signInViaRedirect")}function FQ(t,e,n){return UQ(t,e,n)}async function UQ(t,e,n){const r=sn(t);if(wg(r.auth,e,vf),oi(r.auth.app))return Promise.reject(za(r.auth));await r.auth._initializationPromise;const i=hp(r.auth,n);await pN(i,r.auth);const a=await C8(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function BQ(t,e,n){return VQ(t,e,n)}async function VQ(t,e,n){const r=sn(t);wg(r.auth,e,vf),await r.auth._initializationPromise;const i=hp(r.auth,n);await N_(!1,r,e.providerId),await pN(i,r.auth);const a=await C8(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function zQ(t,e){return await _i(t)._initializationPromise,D_(t,e,!1)}async function D_(t,e,n=!1){if(oi(t.app))return Promise.reject(za(t));const r=_i(t),i=hp(r,e),s=await new DQ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function C8(t){const e=v0(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=600*1e3;class P8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!O8(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(cO(e))}saveEventToCache(e){this.cachedEventUids.add(cO(e)),this.lastProcessedEventTime=Date.now()}}function cO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,e={}){return Oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GQ=/^https?/;async function YQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R8(t);for(const n of e)try{if(WQ(n))return}catch{}us(t,"unauthorized-domain")}function WQ(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!GQ.test(n))return!1;if($Q.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ=new h0(3e4,6e4);function uO(){const t=na().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XQ(t){return new Promise((e,n)=>{var i,a,s;function r(){uO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uO(),n(xa(t,"network-request-failed"))},timeout:KQ.get()})}if((a=(i=na().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=na().gapi)!=null&&s.load)r();else{const l=s8("iframefcb");return na()[l]=()=>{gapi.load?r():n(xa(t,"network-request-failed"))},rN(`${HK()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Pb=null,e})}let Pb=null;function QQ(t){return Pb=Pb||XQ(t),Pb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ=new h0(5e3,15e3),ZQ="__/auth/iframe",eJ="emulator/auth/iframe",tJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rJ(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nN(e,eJ):`https://${t.config.authDomain}/${ZQ}`,r={apiKey:e.apiKey,appName:t.name,v:Uh},i=nJ.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${xg(r).slice(1)}`}async function iJ(t){const e=await QQ(t),n=na().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:rJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tJ,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=xa(t,"network-request-failed"),l=na().setTimeout(()=>{a(s)},JQ.get());function u(){na().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sJ=500,oJ=600,lJ="_blank",cJ="http://localhost";class fO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uJ(t,e,n,r=sJ,i=oJ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...aJ,width:r.toString(),height:i.toString(),top:a,left:s},f=bi().toLowerCase();n&&(l=e8(f)?lJ:n),JM(f)&&(e=e||cJ,u.scrollbars="yes");const h=Object.entries(u).reduce((y,[g,E])=>`${y}${g}=${E},`,"");if(kK(f)&&l!=="_self")return fJ(e||"",l),new fO(null);const p=window.open(e||"",l,h);lt(p,t,"popup-blocked");try{p.focus()}catch{}return new fO(p)}function fJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ="__/auth/handler",dJ="emulator/auth/handler",pJ=encodeURIComponent("fac");async function KA(t,e,n,r,i,a){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uh,eventId:i};if(e instanceof vf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",VY(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries(a||{}))s[h]=p}if(e instanceof Ag){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),f=u?`#${pJ}=${encodeURIComponent(u)}`:"";return`${mJ(t)}?${xg(l).slice(1)}${f}`}function mJ({config:t}){return t.emulator?nN(t,dJ):`https://${t.authDomain}/${hJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="webStorageSupport";class gJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zd,this._completeRedirectFn=D_,this._overrideRedirectResult=mN}async _openPopup(e,n,r,i){var s;uc((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await KA(e,n,r,Ay(),i);return uJ(e,a,v0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await KA(e,n,r,Ay(),i);return iQ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(uc(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iJ(e),r=new P8(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(T5,{type:T5},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[T5];a!==void 0&&n(!!a),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i8()||ZM()||p0()}}const vJ=gJ;class yJ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Xc("unexpected MultiFactorSessionType")}}}class gN extends yJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gN(e)}_finalizeEnroll(e,n,r){return QX(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return dQ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class D8{constructor(){}static assertion(e){return gN._fromCredential(e)}}D8.FACTOR_ID="phone";var hO="@firebase/auth",dO="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xJ(t){Th(new su("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;lt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a8(t)},f=new BK(r,i,a,u);return eX(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Th(new su("auth-internal",e=>{const n=_i(e.getProvider("auth").getImmediate());return(r=>new bJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oc(hO,dO,_J(t)),oc(hO,dO,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=300;CY("authIdTokenMaxAge");function EJ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}VK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=xa("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",EJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xJ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=2e3;async function SJ(t,e,n){const{BuildInfo:r}=Hd();uc(e.sessionId,"AuthEvent did not contain a session ID");const i=await PJ(e.sessionId),a={};return p0()?a.ibi=r.packageName:d0()?a.apn=r.packageName:us(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,KA(t,n,e.type,void 0,e.eventId??void 0,a)}async function TJ(t){const{BuildInfo:e}=Hd(),n={};p0()?n.iosBundleId=e.packageName:d0()?n.androidPackageName=e.packageName:us(t,"operation-not-supported-in-this-environment"),await R8(t,n)}function NJ(t){const{cordova:e}=Hd();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,DK()?"_blank":"_system","location=yes"),n(i)})})}async function IJ(t,e,n){const{cordova:r}=Hd();let i=()=>{};try{await new Promise((a,s)=>{let l=null;function u(){var y;a();const p=(y=r.plugins.browsertab)==null?void 0:y.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){l||(l=window.setTimeout(()=>{s(xa(t,"redirect-cancelled-by-user"))},AJ))}function h(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(u),document.addEventListener("resume",f,!1),d0()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",h,!1),l&&window.clearTimeout(l)}})}finally{i()}}function CJ(t){var n,r,i,a,s,l,u,f,h,p;const e=Hd();lt(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),lt(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),lt(typeof((s=(a=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:a.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),lt(typeof((f=(u=(l=e==null?void 0:e.cordova)==null?void 0:l.plugins)==null?void 0:u.browsertab)==null?void 0:f.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),lt(typeof((p=(h=e==null?void 0:e.cordova)==null?void 0:h.InAppBrowser)==null?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function PJ(t){const e=OJ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function OJ(t){if(uc(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=20;class DJ extends P8{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function kJ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:MJ(),postBody:null,tenantId:t.tenantId,error:xa(t,"no-auth-event")}}function LJ(t,e){return XA()._set(QA(t),e)}async function pO(t){const e=await XA()._get(QA(t));return e&&await XA()._remove(QA(t)),e}function jJ(t,e){var r,i;const n=UJ(e);if(n.includes("/__/auth/callback")){const a=Ob(n),s=a.firebaseError?FJ(decodeURIComponent(a.firebaseError)):null,l=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=l?xa(l):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function MJ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<RJ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function XA(){return Wo(uN)}function QA(t){return Dd("authEvent",t.config.apiKey,t.name)}function FJ(t){try{return JSON.parse(t)}catch{return null}}function UJ(t){const e=Ob(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ob(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ob(i).link||i||r||n||t}function Ob(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Am(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=500;class VJ{constructor(){this._redirectPersistence=zd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=D_,this._overrideRedirectResult=mN}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new DJ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){us(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){CJ(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),LQ(),await this._originValidation(e);const s=kJ(e,r,i);await LJ(e,s);const l=await SJ(e,s,n),u=await NJ(l);return IJ(e,a,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Hd(),s=setTimeout(async()=>{await pO(e),n.onEvent(mO())},BJ),l=async h=>{clearTimeout(s);const p=await pO(e);let y=null;p&&(h!=null&&h.url)&&(y=jJ(p,h.url)),n.onEvent(y||mO())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const u=i,f=`${a.packageName.toLowerCase()}://`;Hd().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(f)&&l({url:h}),typeof u=="function")try{u(h)}catch(p){console.error(p)}}}}const zJ=VJ;function mO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xa("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t,e){_i(t)._logFramework(e)}var HJ="@firebase/auth-compat",$J="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=1e3;function ay(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function YJ(){return ay()==="http:"||ay()==="https:"}function k8(t=bi()){return!!((ay()==="file:"||ay()==="ionic:"||ay()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function WJ(){return YT()||w_()}function KJ(){return TM()&&(document==null?void 0:document.documentMode)===11}function XJ(t=bi()){return/Edge\/\d+/.test(t)}function QJ(t=bi()){return KJ()||XJ(t)}function L8(){try{const t=self.localStorage,e=v0();if(t)return t.setItem(e,"1"),t.removeItem(e),QJ()?xy():!0}catch{return vN()&&xy()}return!1}function vN(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function N5(){return(YJ()||SM()||k8())&&!WJ()&&L8()&&!vN()}function j8(){return k8()&&typeof document<"u"}async function JJ(){return j8()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},GJ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function ZJ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go={LOCAL:"local",NONE:"none",SESSION:"session"},Iv=lt,M8="persistence";function eZ(t,e){if(Iv(Object.values(Go).includes(e),t,"invalid-persistence-type"),YT()){Iv(e!==Go.SESSION,t,"unsupported-persistence-type");return}if(w_()){Iv(e===Go.NONE,t,"unsupported-persistence-type");return}if(vN()){Iv(e===Go.NONE||e===Go.LOCAL&&xy(),t,"unsupported-persistence-type");return}Iv(e===Go.NONE||L8(),t,"unsupported-persistence-type")}async function JA(t){await t._initializationPromise;const e=F8(),n=Dd(M8,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function tZ(t,e){const n=F8();if(!n)return[];const r=Dd(M8,t,e);switch(n.getItem(r)){case Go.NONE:return[Hm];case Go.LOCAL:return[Ny,zd];case Go.SESSION:return[zd];default:return[]}}function F8(){var t;try{return((t=ZJ())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ=lt;class hh{constructor(){this.browserResolver=Wo(vJ),this.cordovaResolver=Wo(zJ),this.underlyingResolver=null,this._redirectPersistence=zd,this._completeRedirectFn=D_,this._overrideRedirectResult=mN}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return j8()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nZ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await JJ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){return t.unwrap()}function rZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t){return B8(t)}function aZ(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new sZ(t,XX(t,e))}else if(n){const i=B8(e),a=e;i&&(a.credential=i,a.tenantId=n.tenantId||void 0,a.email=n.email||void 0,a.phoneNumber=n.phoneNumber||void 0)}}function B8(t){const{_tokenResponse:e}=t instanceof Ws?t.customData:t;if(!e)return null;if(!(t instanceof Ws)&&"temporaryProof"in e&&"phoneNumber"in e)return qd.credentialFromResult(t);const n=e.providerId;if(!n||n===Tv.PASSWORD)return null;let r;switch(n){case Tv.GOOGLE:r=Gc;break;case Tv.FACEBOOK:r=$c;break;case Tv.GITHUB:r=Yc;break;case Tv.TWITTER:r=Wc;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:s,pendingToken:l,nonce:u}=e;return!a&&!s&&!i&&!l?null:l?n.startsWith("saml.")?$m._create(n,l):ou._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:i,accessToken:a}):new Om(n).credential({idToken:i,accessToken:a,rawNonce:u})}return t instanceof Ws?r.credentialFromError(t):r.credentialFromResult(t)}function wo(t,e){return e.catch(n=>{throw n instanceof Ws&&aZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:iZ(n),additionalUserInfo:KX(n),user:k_.getOrCreate(i)}})}async function ZA(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>wo(t,n.confirm(r))}}class sZ{constructor(e,n){this.resolver=n,this.auth=rZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return wo(U8(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_=class Gv{constructor(e){this._delegate=e,this.multiFactor=ZX(e)}static getOrCreate(e){return Gv.USER_MAP.has(e)||Gv.USER_MAP.set(e,new Gv(e)),Gv.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return wo(this.auth,m8(this._delegate,e))}async linkWithPhoneNumber(e,n){return ZA(this.auth,wQ(this._delegate,e,n))}async linkWithPopup(e){return wo(this.auth,OQ(this._delegate,e,hh))}async linkWithRedirect(e){return await JA(_i(this.auth)),BQ(this._delegate,e,hh)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return wo(this.auth,g8(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ZA(this.auth,EQ(this._delegate,e,n))}reauthenticateWithPopup(e){return wo(this.auth,PQ(this._delegate,e,hh))}async reauthenticateWithRedirect(e){return await JA(_i(this.auth)),FQ(this._delegate,e,hh)}sendEmailVerification(e){return FX(this._delegate,e)}async unlink(e){return await AX(this._delegate,e),this}updateEmail(e){return zX(this._delegate,e)}updatePassword(e){return qX(this._delegate,e)}updatePhoneNumber(e){return AQ(this._delegate,e)}updateProfile(e){return VX(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return UX(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};k_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=lt;class eS{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Cv(r,"invalid-api-key",{appName:e.name}),Cv(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?hh:void 0;this._delegate=n.initialize({options:{persistence:oZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dK),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?k_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){tX(this._delegate,e,n)}applyActionCode(e){return CX(this._delegate,e)}checkActionCode(e){return v8(this._delegate,e)}confirmPasswordReset(e,n){return IX(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return wo(this._delegate,OX(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return MX(this._delegate,e)}isSignInWithEmailLink(e){return kX(this._delegate,e)}async getRedirectResult(){Cv(N5(),this._delegate,"operation-not-supported-in-this-environment");const e=await zQ(this._delegate,hh);return e?wo(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){qJ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:s}=gO(e,n,r);return this._delegate.onAuthStateChanged(i,a,s)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:s}=gO(e,n,r);return this._delegate.onIdTokenChanged(i,a,s)}sendSignInLinkToEmail(e,n){return DX(this._delegate,e,n)}sendPasswordResetEmail(e,n){return NX(this._delegate,e,n||void 0)}async setPersistence(e){eZ(this._delegate,e);let n;switch(e){case Go.SESSION:n=zd;break;case Go.LOCAL:n=await Wo(Ny)._isAvailable()?Ny:uN;break;case Go.NONE:n=Hm;break;default:return us("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return wo(this._delegate,EX(this._delegate))}signInWithCredential(e){return wo(this._delegate,I_(this._delegate,e))}signInWithCustomToken(e){return wo(this._delegate,TX(this._delegate,e))}signInWithEmailAndPassword(e,n){return wo(this._delegate,RX(this._delegate,e,n))}signInWithEmailLink(e,n){return wo(this._delegate,LX(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ZA(this._delegate,xQ(this._delegate,e,n))}async signInWithPopup(e){return Cv(N5(),this._delegate,"operation-not-supported-in-this-environment"),wo(this._delegate,CQ(this._delegate,e,hh))}async signInWithRedirect(e){return Cv(N5(),this._delegate,"operation-not-supported-in-this-environment"),await JA(this._delegate),jQ(this._delegate,e,hh)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return PX(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}eS.Persistence=Go;function gO(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&k_.getOrCreate(s)),error:e,complete:n}}function oZ(t,e){const n=tZ(t,e);if(typeof self<"u"&&!n.includes(Ny)&&n.push(Ny),typeof window<"u")for(const r of[uN,zd])n.includes(r)||n.push(r);return n.includes(Hm)||n.push(Hm),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{static credential(e,n){return qd.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new qd(U8(af.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}yN.PHONE_SIGN_IN_METHOD=qd.PHONE_SIGN_IN_METHOD;yN.PROVIDER_ID=qd.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ=lt;class cZ{constructor(e,n,r=af.app()){var i;lZ((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new bQ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ="auth-compat";function fZ(t){t.INTERNAL.registerComponent(new su(uZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new eS(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nm.EMAIL_SIGNIN,PASSWORD_RESET:nm.PASSWORD_RESET,RECOVER_EMAIL:nm.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:nm.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:nm.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:nm.VERIFY_EMAIL}},EmailAuthProvider:Bh,FacebookAuthProvider:$c,GithubAuthProvider:Yc,GoogleAuthProvider:Gc,OAuthProvider:Om,SAMLAuthProvider:r2,PhoneAuthProvider:yN,PhoneMultiFactorGenerator:D8,RecaptchaVerifier:cZ,TwitterAuthProvider:Wc,Auth:eS,AuthCredential:Eg,Error:Ws}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(HJ,$J)}fZ(af);var vO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bh,V8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,L){function D(){}D.prototype=L.prototype,j.F=L.prototype,j.prototype=new D,j.prototype.constructor=j,j.D=function(G,P,F){for(var V=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)V[ee-2]=arguments[ee];return L.prototype[P].apply(G,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,L,D){D||(D=0);const G=Array(16);if(typeof L=="string")for(var P=0;P<16;++P)G[P]=L.charCodeAt(D++)|L.charCodeAt(D++)<<8|L.charCodeAt(D++)<<16|L.charCodeAt(D++)<<24;else for(P=0;P<16;++P)G[P]=L[D++]|L[D++]<<8|L[D++]<<16|L[D++]<<24;L=j.g[0],D=j.g[1],P=j.g[2];let F=j.g[3],V;V=L+(F^D&(P^F))+G[0]+3614090360&4294967295,L=D+(V<<7&4294967295|V>>>25),V=F+(P^L&(D^P))+G[1]+3905402710&4294967295,F=L+(V<<12&4294967295|V>>>20),V=P+(D^F&(L^D))+G[2]+606105819&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(L^P&(F^L))+G[3]+3250441966&4294967295,D=P+(V<<22&4294967295|V>>>10),V=L+(F^D&(P^F))+G[4]+4118548399&4294967295,L=D+(V<<7&4294967295|V>>>25),V=F+(P^L&(D^P))+G[5]+1200080426&4294967295,F=L+(V<<12&4294967295|V>>>20),V=P+(D^F&(L^D))+G[6]+2821735955&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(L^P&(F^L))+G[7]+4249261313&4294967295,D=P+(V<<22&4294967295|V>>>10),V=L+(F^D&(P^F))+G[8]+1770035416&4294967295,L=D+(V<<7&4294967295|V>>>25),V=F+(P^L&(D^P))+G[9]+2336552879&4294967295,F=L+(V<<12&4294967295|V>>>20),V=P+(D^F&(L^D))+G[10]+4294925233&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(L^P&(F^L))+G[11]+2304563134&4294967295,D=P+(V<<22&4294967295|V>>>10),V=L+(F^D&(P^F))+G[12]+1804603682&4294967295,L=D+(V<<7&4294967295|V>>>25),V=F+(P^L&(D^P))+G[13]+4254626195&4294967295,F=L+(V<<12&4294967295|V>>>20),V=P+(D^F&(L^D))+G[14]+2792965006&4294967295,P=F+(V<<17&4294967295|V>>>15),V=D+(L^P&(F^L))+G[15]+1236535329&4294967295,D=P+(V<<22&4294967295|V>>>10),V=L+(P^F&(D^P))+G[1]+4129170786&4294967295,L=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(L^D))+G[6]+3225465664&4294967295,F=L+(V<<9&4294967295|V>>>23),V=P+(L^D&(F^L))+G[11]+643717713&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^L&(P^F))+G[0]+3921069994&4294967295,D=P+(V<<20&4294967295|V>>>12),V=L+(P^F&(D^P))+G[5]+3593408605&4294967295,L=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(L^D))+G[10]+38016083&4294967295,F=L+(V<<9&4294967295|V>>>23),V=P+(L^D&(F^L))+G[15]+3634488961&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^L&(P^F))+G[4]+3889429448&4294967295,D=P+(V<<20&4294967295|V>>>12),V=L+(P^F&(D^P))+G[9]+568446438&4294967295,L=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(L^D))+G[14]+3275163606&4294967295,F=L+(V<<9&4294967295|V>>>23),V=P+(L^D&(F^L))+G[3]+4107603335&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^L&(P^F))+G[8]+1163531501&4294967295,D=P+(V<<20&4294967295|V>>>12),V=L+(P^F&(D^P))+G[13]+2850285829&4294967295,L=D+(V<<5&4294967295|V>>>27),V=F+(D^P&(L^D))+G[2]+4243563512&4294967295,F=L+(V<<9&4294967295|V>>>23),V=P+(L^D&(F^L))+G[7]+1735328473&4294967295,P=F+(V<<14&4294967295|V>>>18),V=D+(F^L&(P^F))+G[12]+2368359562&4294967295,D=P+(V<<20&4294967295|V>>>12),V=L+(D^P^F)+G[5]+4294588738&4294967295,L=D+(V<<4&4294967295|V>>>28),V=F+(L^D^P)+G[8]+2272392833&4294967295,F=L+(V<<11&4294967295|V>>>21),V=P+(F^L^D)+G[11]+1839030562&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^L)+G[14]+4259657740&4294967295,D=P+(V<<23&4294967295|V>>>9),V=L+(D^P^F)+G[1]+2763975236&4294967295,L=D+(V<<4&4294967295|V>>>28),V=F+(L^D^P)+G[4]+1272893353&4294967295,F=L+(V<<11&4294967295|V>>>21),V=P+(F^L^D)+G[7]+4139469664&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^L)+G[10]+3200236656&4294967295,D=P+(V<<23&4294967295|V>>>9),V=L+(D^P^F)+G[13]+681279174&4294967295,L=D+(V<<4&4294967295|V>>>28),V=F+(L^D^P)+G[0]+3936430074&4294967295,F=L+(V<<11&4294967295|V>>>21),V=P+(F^L^D)+G[3]+3572445317&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^L)+G[6]+76029189&4294967295,D=P+(V<<23&4294967295|V>>>9),V=L+(D^P^F)+G[9]+3654602809&4294967295,L=D+(V<<4&4294967295|V>>>28),V=F+(L^D^P)+G[12]+3873151461&4294967295,F=L+(V<<11&4294967295|V>>>21),V=P+(F^L^D)+G[15]+530742520&4294967295,P=F+(V<<16&4294967295|V>>>16),V=D+(P^F^L)+G[2]+3299628645&4294967295,D=P+(V<<23&4294967295|V>>>9),V=L+(P^(D|~F))+G[0]+4096336452&4294967295,L=D+(V<<6&4294967295|V>>>26),V=F+(D^(L|~P))+G[7]+1126891415&4294967295,F=L+(V<<10&4294967295|V>>>22),V=P+(L^(F|~D))+G[14]+2878612391&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~L))+G[5]+4237533241&4294967295,D=P+(V<<21&4294967295|V>>>11),V=L+(P^(D|~F))+G[12]+1700485571&4294967295,L=D+(V<<6&4294967295|V>>>26),V=F+(D^(L|~P))+G[3]+2399980690&4294967295,F=L+(V<<10&4294967295|V>>>22),V=P+(L^(F|~D))+G[10]+4293915773&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~L))+G[1]+2240044497&4294967295,D=P+(V<<21&4294967295|V>>>11),V=L+(P^(D|~F))+G[8]+1873313359&4294967295,L=D+(V<<6&4294967295|V>>>26),V=F+(D^(L|~P))+G[15]+4264355552&4294967295,F=L+(V<<10&4294967295|V>>>22),V=P+(L^(F|~D))+G[6]+2734768916&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~L))+G[13]+1309151649&4294967295,D=P+(V<<21&4294967295|V>>>11),V=L+(P^(D|~F))+G[4]+4149444226&4294967295,L=D+(V<<6&4294967295|V>>>26),V=F+(D^(L|~P))+G[11]+3174756917&4294967295,F=L+(V<<10&4294967295|V>>>22),V=P+(L^(F|~D))+G[2]+718787259&4294967295,P=F+(V<<15&4294967295|V>>>17),V=D+(F^(P|~L))+G[9]+3951481745&4294967295,j.g[0]=j.g[0]+L&4294967295,j.g[1]=j.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,j.g[2]=j.g[2]+P&4294967295,j.g[3]=j.g[3]+F&4294967295}r.prototype.v=function(j,L){L===void 0&&(L=j.length);const D=L-this.blockSize,G=this.C;let P=this.h,F=0;for(;F<L;){if(P==0)for(;F<=D;)i(this,j,F),F+=this.blockSize;if(typeof j=="string"){for(;F<L;)if(G[P++]=j.charCodeAt(F++),P==this.blockSize){i(this,G),P=0;break}}else for(;F<L;)if(G[P++]=j[F++],P==this.blockSize){i(this,G),P=0;break}}this.h=P,this.o+=L},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var L=1;L<j.length-8;++L)j[L]=0;L=this.o*8;for(var D=j.length-8;D<j.length;++D)j[D]=L&255,L/=256;for(this.v(j),j=Array(16),L=0,D=0;D<4;++D)for(let G=0;G<32;G+=8)j[L++]=this.g[D]>>>G&255;return j};function a(j,L){var D=l;return Object.prototype.hasOwnProperty.call(D,j)?D[j]:D[j]=L(j)}function s(j,L){this.h=L;const D=[];let G=!0;for(let P=j.length-1;P>=0;P--){const F=j[P]|0;G&&F==L||(D[P]=F,G=!1)}this.g=D}var l={};function u(j){return-128<=j&&j<128?a(j,function(L){return new s([L|0],L<0?-1:0)}):new s([j|0],j<0?-1:0)}function f(j){if(isNaN(j)||!isFinite(j))return p;if(j<0)return S(f(-j));const L=[];let D=1;for(let G=0;j>=D;G++)L[G]=j/D|0,D*=4294967296;return new s(L,0)}function h(j,L){if(j.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(j.charAt(0)=="-")return S(h(j.substring(1),L));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(L,8));let G=p;for(let F=0;F<j.length;F+=8){var P=Math.min(8,j.length-F);const V=parseInt(j.substring(F,F+P),L);P<8?(P=f(Math.pow(L,P)),G=G.j(P).add(f(V))):(G=G.j(D),G=G.add(f(V)))}return G}var p=u(0),y=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-S(this).m();let j=0,L=1;for(let D=0;D<this.g.length;D++){const G=this.i(D);j+=(G>=0?G:4294967296+G)*L,L*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(E(this))return"0";if(A(this))return"-"+S(this).toString(j);const L=f(Math.pow(j,6));var D=this;let G="";for(;;){const P=B(D,L).g;D=I(D,P.j(L));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(j);if(D=P,E(D))return F+G;for(;F.length<6;)F="0"+F;G=F+G}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function E(j){if(j.h!=0)return!1;for(let L=0;L<j.g.length;L++)if(j.g[L]!=0)return!1;return!0}function A(j){return j.h==-1}t.l=function(j){return j=I(this,j),A(j)?-1:E(j)?0:1};function S(j){const L=j.g.length,D=[];for(let G=0;G<L;G++)D[G]=~j.g[G];return new s(D,~j.h).add(y)}t.abs=function(){return A(this)?S(this):this},t.add=function(j){const L=Math.max(this.g.length,j.g.length),D=[];let G=0;for(let P=0;P<=L;P++){let F=G+(this.i(P)&65535)+(j.i(P)&65535),V=(F>>>16)+(this.i(P)>>>16)+(j.i(P)>>>16);G=V>>>16,F&=65535,V&=65535,D[P]=V<<16|F}return new s(D,D[D.length-1]&-2147483648?-1:0)};function I(j,L){return j.add(S(L))}t.j=function(j){if(E(this)||E(j))return p;if(A(this))return A(j)?S(this).j(S(j)):S(S(this).j(j));if(A(j))return S(this.j(S(j)));if(this.l(g)<0&&j.l(g)<0)return f(this.m()*j.m());const L=this.g.length+j.g.length,D=[];for(var G=0;G<2*L;G++)D[G]=0;for(G=0;G<this.g.length;G++)for(let P=0;P<j.g.length;P++){const F=this.i(G)>>>16,V=this.i(G)&65535,ee=j.i(P)>>>16,ge=j.i(P)&65535;D[2*G+2*P]+=V*ge,q(D,2*G+2*P),D[2*G+2*P+1]+=F*ge,q(D,2*G+2*P+1),D[2*G+2*P+1]+=V*ee,q(D,2*G+2*P+1),D[2*G+2*P+2]+=F*ee,q(D,2*G+2*P+2)}for(j=0;j<L;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=L;j<2*L;j++)D[j]=0;return new s(D,0)};function q(j,L){for(;(j[L]&65535)!=j[L];)j[L+1]+=j[L]>>>16,j[L]&=65535,L++}function k(j,L){this.g=j,this.h=L}function B(j,L){if(E(L))throw Error("division by zero");if(E(j))return new k(p,p);if(A(j))return L=B(S(j),L),new k(S(L.g),S(L.h));if(A(L))return L=B(j,S(L)),new k(S(L.g),L.h);if(j.g.length>30){if(A(j)||A(L))throw Error("slowDivide_ only works with positive integers.");for(var D=y,G=L;G.l(j)<=0;)D=$(D),G=$(G);var P=K(D,1),F=K(G,1);for(G=K(G,2),D=K(D,2);!E(G);){var V=F.add(G);V.l(j)<=0&&(P=P.add(D),F=V),G=K(G,1),D=K(D,1)}return L=I(j,P.j(L)),new k(P,L)}for(P=p;j.l(L)>=0;){for(D=Math.max(1,Math.floor(j.m()/L.m())),G=Math.ceil(Math.log(D)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),F=f(D),V=F.j(L);A(V)||V.l(j)>0;)D-=G,F=f(D),V=F.j(L);E(F)&&(F=y),P=P.add(F),j=I(j,V)}return new k(P,j)}t.B=function(j){return B(this,j).h},t.and=function(j){const L=Math.max(this.g.length,j.g.length),D=[];for(let G=0;G<L;G++)D[G]=this.i(G)&j.i(G);return new s(D,this.h&j.h)},t.or=function(j){const L=Math.max(this.g.length,j.g.length),D=[];for(let G=0;G<L;G++)D[G]=this.i(G)|j.i(G);return new s(D,this.h|j.h)},t.xor=function(j){const L=Math.max(this.g.length,j.g.length),D=[];for(let G=0;G<L;G++)D[G]=this.i(G)^j.i(G);return new s(D,this.h^j.h)};function $(j){const L=j.g.length+1,D=[];for(let G=0;G<L;G++)D[G]=j.i(G)<<1|j.i(G-1)>>>31;return new s(D,j.h)}function K(j,L){const D=L>>5;L%=32;const G=j.g.length-D,P=[];for(let F=0;F<G;F++)P[F]=L>0?j.i(F+D)>>>L|j.i(F+D+1)<<32-L:j.i(F+D);return new s(P,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,V8=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,bh=s}).apply(typeof vO<"u"?vO:typeof self<"u"?self:typeof window<"u"?window:{});var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z8,Yv,q8,Rb,tS,H8,$8,G8;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof X1=="object"&&X1];for(var R=0;R<_.length;++R){var H=_[R];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(_,R){if(R)e:{var H=r;_=_.split(".");for(var ie=0;ie<_.length-1;ie++){var Ne=_[ie];if(!(Ne in H))break e;H=H[Ne]}_=_[_.length-1],ie=H[_],R=R(ie),R!=ie&&R!=null&&e(H,_,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(R){var H=[],ie;for(ie in R)Object.prototype.hasOwnProperty.call(R,ie)&&H.push([ie,R[ie]]);return H}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(_){var R=typeof _;return R=="object"&&_!=null||R=="function"}function u(_,R,H){return _.call.apply(_.bind,arguments)}function f(_,R,H){return f=u,f.apply(null,arguments)}function h(_,R){var H=Array.prototype.slice.call(arguments,1);return function(){var ie=H.slice();return ie.push.apply(ie,arguments),_.apply(this,ie)}}function p(_,R){function H(){}H.prototype=R.prototype,_.Z=R.prototype,_.prototype=new H,_.prototype.constructor=_,_.Ob=function(ie,Ne,je){for(var ut=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)ut[hn-2]=arguments[hn];return R.prototype[Ne].apply(ie,ut)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function g(_){const R=_.length;if(R>0){const H=Array(R);for(let ie=0;ie<R;ie++)H[ie]=_[ie];return H}return[]}function E(_,R){for(let ie=1;ie<arguments.length;ie++){const Ne=arguments[ie];var H=typeof Ne;if(H=H!="object"?H:Ne?Array.isArray(Ne)?"array":H:"null",H=="array"||H=="object"&&typeof Ne.length=="number"){H=_.length||0;const je=Ne.length||0;_.length=H+je;for(let ut=0;ut<je;ut++)_[H+ut]=Ne[ut]}else _.push(Ne)}}class A{constructor(R,H){this.i=R,this.j=H,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function S(_){s.setTimeout(()=>{throw _},0)}function I(){var _=j;let R=null;return _.g&&(R=_.g,_.g=_.g.next,_.g||(_.h=null),R.next=null),R}class q{constructor(){this.h=this.g=null}add(R,H){const ie=k.get();ie.set(R,H),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var k=new A(()=>new B,_=>_.reset());class B{constructor(){this.next=this.g=this.h=null}set(R,H){this.h=R,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,j=new q,L=()=>{const _=Promise.resolve(void 0);$=()=>{_.then(D)}};function D(){for(var _;_=I();){try{_.h.call(_.g)}catch(H){S(H)}var R=k;R.j(_),R.h<100&&(R.h++,_.next=R.g,R.g=_)}K=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(_,R){this.type=_,this.g=this.target=R,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,R=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const H=()=>{};s.addEventListener("test",H,R),s.removeEventListener("test",H,R)}catch{}return _})();function V(_){return/^[\s\xa0]*$/.test(_)}function ee(_,R){P.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,R)}p(ee,P),ee.prototype.init=function(_,R){const H=this.type=_.type,ie=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=R,R=_.relatedTarget,R||(H=="mouseover"?R=_.fromElement:H=="mouseout"&&(R=_.toElement)),this.relatedTarget=R,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),se=0;function he(_,R,H,ie,Ne){this.listener=_,this.proxy=null,this.src=R,this.type=H,this.capture=!!ie,this.ha=Ne,this.key=++se,this.da=this.fa=!1}function me(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function _e(_,R,H){for(const ie in _)R.call(H,_[ie],ie,_)}function Ue(_,R){for(const H in _)R.call(void 0,_[H],H,_)}function ne(_){const R={};for(const H in _)R[H]=_[H];return R}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(_,R){let H,ie;for(let Ne=1;Ne<arguments.length;Ne++){ie=arguments[Ne];for(H in ie)_[H]=ie[H];for(let je=0;je<M.length;je++)H=M[je],Object.prototype.hasOwnProperty.call(ie,H)&&(_[H]=ie[H])}}function Z(_){this.src=_,this.g={},this.h=0}Z.prototype.add=function(_,R,H,ie,Ne){const je=_.toString();_=this.g[je],_||(_=this.g[je]=[],this.h++);const ut=pe(_,R,ie,Ne);return ut>-1?(R=_[ut],H||(R.fa=!1)):(R=new he(R,this.src,je,!!ie,Ne),R.fa=H,_.push(R)),R};function fe(_,R){const H=R.type;if(H in _.g){var ie=_.g[H],Ne=Array.prototype.indexOf.call(ie,R,void 0),je;(je=Ne>=0)&&Array.prototype.splice.call(ie,Ne,1),je&&(me(R),_.g[H].length==0&&(delete _.g[H],_.h--))}}function pe(_,R,H,ie){for(let Ne=0;Ne<_.length;++Ne){const je=_[Ne];if(!je.da&&je.listener==R&&je.capture==!!H&&je.ha==ie)return Ne}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Pe={};function de(_,R,H,ie,Ne){if(Array.isArray(R)){for(let je=0;je<R.length;je++)de(_,R[je],H,ie,Ne);return null}return H=yt(H),_&&_[ge]?_.J(R,H,l(ie)?!!ie.capture:!1,Ne):Ce(_,R,H,!1,ie,Ne)}function Ce(_,R,H,ie,Ne,je){if(!R)throw Error("Invalid event type");const ut=l(Ne)?!!Ne.capture:!!Ne;let hn=Xe(_);if(hn||(_[ye]=hn=new Z(_)),H=hn.add(R,H,ie,ut,je),H.proxy)return H;if(ie=Ve(),H.proxy=ie,ie.src=_,ie.listener=H,_.addEventListener)F||(Ne=ut),Ne===void 0&&(Ne=!1),_.addEventListener(R.toString(),ie,Ne);else if(_.attachEvent)_.attachEvent(it(R.toString()),ie);else if(_.addListener&&_.removeListener)_.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Ve(){function _(H){return R.call(_.src,_.listener,H)}const R=oe;return _}function Se(_,R,H,ie,Ne){if(Array.isArray(R))for(var je=0;je<R.length;je++)Se(_,R[je],H,ie,Ne);else ie=l(ie)?!!ie.capture:!!ie,H=yt(H),_&&_[ge]?(_=_.i,je=String(R).toString(),je in _.g&&(R=_.g[je],H=pe(R,H,ie,Ne),H>-1&&(me(R[H]),Array.prototype.splice.call(R,H,1),R.length==0&&(delete _.g[je],_.h--)))):_&&(_=Xe(_))&&(R=_.g[R.toString()],_=-1,R&&(_=pe(R,H,ie,Ne)),(H=_>-1?R[_]:null)&&rt(H))}function rt(_){if(typeof _!="number"&&_&&!_.da){var R=_.src;if(R&&R[ge])fe(R.i,_);else{var H=_.type,ie=_.proxy;R.removeEventListener?R.removeEventListener(H,ie,_.capture):R.detachEvent?R.detachEvent(it(H),ie):R.addListener&&R.removeListener&&R.removeListener(ie),(H=Xe(R))?(fe(H,_),H.h==0&&(H.src=null,R[ye]=null)):me(_)}}}function it(_){return _ in Pe?Pe[_]:Pe[_]="on"+_}function oe(_,R){if(_.da)_=!0;else{R=new ee(R,this);const H=_.listener,ie=_.ha||_.src;_.fa&&rt(_),_=H.call(ie,R)}return _}function Xe(_){return _=_[ye],_ instanceof Z?_:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(_){return typeof _=="function"?_:(_[Nt]||(_[Nt]=function(R){return _.handleEvent(R)}),_[Nt])}function qe(){G.call(this),this.i=new Z(this),this.M=this,this.G=null}p(qe,G),qe.prototype[ge]=!0,qe.prototype.removeEventListener=function(_,R,H,ie){Se(this,_,R,H,ie)};function dt(_,R){var H,ie=_.G;if(ie)for(H=[];ie;ie=ie.G)H.push(ie);if(_=_.M,ie=R.type||R,typeof R=="string")R=new P(R,_);else if(R instanceof P)R.target=R.target||_;else{var Ne=R;R=new P(ie,_),X(R,Ne)}Ne=!0;let je,ut;if(H)for(ut=H.length-1;ut>=0;ut--)je=R.g=H[ut],Ne=vt(je,ie,!0,R)&&Ne;if(je=R.g=_,Ne=vt(je,ie,!0,R)&&Ne,Ne=vt(je,ie,!1,R)&&Ne,H)for(ut=0;ut<H.length;ut++)je=R.g=H[ut],Ne=vt(je,ie,!1,R)&&Ne}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var _=this.i;for(const R in _.g){const H=_.g[R];for(let ie=0;ie<H.length;ie++)me(H[ie]);delete _.g[R],_.h--}}this.G=null},qe.prototype.J=function(_,R,H,ie){return this.i.add(String(_),R,!1,H,ie)},qe.prototype.K=function(_,R,H,ie){return this.i.add(String(_),R,!0,H,ie)};function vt(_,R,H,ie){if(R=_.i.g[String(R)],!R)return!0;R=R.concat();let Ne=!0;for(let je=0;je<R.length;++je){const ut=R[je];if(ut&&!ut.da&&ut.capture==H){const hn=ut.listener,Ar=ut.ha||ut.src;ut.fa&&fe(_.i,ut),Ne=hn.call(Ar,ie)!==!1&&Ne}}return Ne&&!ie.defaultPrevented}function Ut(_,R){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=f(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:s.setTimeout(_,R||0)}function Rt(_){_.g=Ut(()=>{_.g=null,_.i&&(_.i=!1,Rt(_))},_.l);const R=_.h;_.h=null,_.m.apply(null,R)}class cn extends G{constructor(R,H){super(),this.m=R,this.l=H,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Rt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(_){G.call(this),this.h=_,this.g={}}p(fn,G);var Jt=[];function gn(_){_e(_.g,function(R,H){this.g.hasOwnProperty(H)&&rt(R)},_),_.g={}}fn.prototype.N=function(){fn.Z.N.call(this),gn(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=s.JSON.stringify,ft=s.JSON.parse,Et=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function Fe(){}function wn(){}var Bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function It(){P.call(this,"d")}p(It,P);function Mt(){P.call(this,"c")}p(Mt,P);var nn={},_t=null;function un(){return _t=_t||new qe}nn.Ia="serverreachability";function xt(_){P.call(this,nn.Ia,_)}p(xt,P);function Vt(_){const R=un();dt(R,new xt(R))}nn.STAT_EVENT="statevent";function Tn(_,R){P.call(this,nn.STAT_EVENT,_),this.stat=R}p(Tn,P);function ht(_){const R=un();dt(R,new Tn(R,_))}nn.Ja="timingevent";function gt(_,R){P.call(this,nn.Ja,_),this.size=R}p(gt,P);function Kt(_,R){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},R)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Mr(_,R,H,ie,Ne,je){_.info(function(){if(_.g)if(je){var ut="",hn=je.split("&");for(let An=0;An<hn.length;An++){var Ar=hn[An].split("=");if(Ar.length>1){const Zn=Ar[0];Ar=Ar[1];const Qi=Zn.split("_");ut=Qi.length>=2&&Qi[1]=="type"?ut+(Zn+"="+Ar+"&"):ut+(Zn+"=redacted&")}}}else ut=null;else ut=je;return"XMLHTTP REQ ("+ie+") [attempt "+Ne+"]: "+R+`
`+H+`
`+ut})}function oa(_,R,H,ie,Ne,je,ut){_.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Ne+"]: "+R+`
`+H+`
`+je+" "+ut})}function fi(_,R,H,ie){_.info(function(){return"XMLHTTP TEXT ("+R+"): "+Ls(_,H)+(ie?" "+ie:"")})}function zt(_,R){_.info(function(){return"TIMEOUT: "+R})}Gn.prototype.info=function(){};function Ls(_,R){if(!_.g)return R;if(!R)return null;try{const je=JSON.parse(R);if(je){for(_=0;_<je.length;_++)if(Array.isArray(je[_])){var H=je[_];if(!(H.length<2)){var ie=H[1];if(Array.isArray(ie)&&!(ie.length<1)){var Ne=ie[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(let ut=1;ut<ie.length;ut++)ie[ut]=""}}}}return st(je)}catch{return R}}var Ri={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Di={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ki;function Xn(){}p(Xn,Fe),Xn.prototype.g=function(){return new XMLHttpRequest},ki=new Xn;function cr(_){return encodeURIComponent(String(_))}function Xr(_){var R=1;_=_.split(":");const H=[];for(;R>0&&_.length;)H.push(_.shift()),R--;return _.length&&H.push(_.join(":")),H}function Li(_,R,H,ie){this.j=_,this.i=R,this.l=H,this.S=ie||1,this.V=new fn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Vn={},ir={};function Qr(_,R,H){_.M=1,_.A=rl(Zr(R)),_.u=H,_.R=!0,Wi(_,null)}function Wi(_,R){_.F=Date.now(),ji(_),_.B=Zr(_.A);var H=_.B,ie=_.S;Array.isArray(ie)||(ie=[String(ie)]),bc(H.i,"t",ie),_.C=0,H=_.j.L,_.h=new hi,_.g=Tt(_.j,H?R:null,!_.u),_.P>0&&(_.O=new cn(f(_.Y,_,_.g),_.P)),R=_.V,H=_.g,ie=_.ba;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(Jt[0]=Ne.toString()),Ne=Jt);for(let je=0;je<Ne.length;je++){const ut=de(H,Ne[je],ie||R.handleEvent,!1,R.h||R);if(!ut)break;R.g[ut.key]=ut}R=_.J?ne(_.J):{},_.u?(_.v||(_.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,R)):(_.v="GET",_.g.ea(_.B,_.v,null,R)),Vt(),Mr(_.i,_.v,_.B,_.l,_.S,_.u)}Li.prototype.ba=function(_){_=_.target;const R=this.O;R&&Wa(_)==3?R.j():this.Y(_)},Li.prototype.Y=function(_){try{if(_==this.g)e:{const hn=Wa(this.g),Ar=this.g.ya(),An=this.g.ca();if(!(hn<3)&&(hn!=3||this.g&&(this.h.h||this.g.la()||pi(this.g)))){this.K||hn!=4||Ar==7||(Ar==8||An<=0?Vt(3):Vt(2)),nt(this);var R=this.g.ca();this.X=R;var H=Ca(this);if(this.o=R==200,oa(this.i,this.v,this.B,this.l,this.S,hn,R),this.o){if(this.U&&!this.L){t:{if(this.g){var ie,Ne=this.g;if((ie=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ie)){var je=ie;break t}}je=null}if(_=je)fi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qn(this,_);else{this.o=!1,this.m=3,ht(12),dr(this),rn(this);break e}}if(this.R){_=!0;let Zn;for(;!this.K&&this.C<H.length;)if(Zn=Ha(this,H),Zn==ir){hn==4&&(this.m=4,ht(14),_=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Vn){this.m=4,ht(15),fi(this.i,this.l,H,"[Invalid Chunk]"),_=!1;break}else fi(this.i,this.l,Zn,null),Qn(this,Zn);if(Js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||H.length!=0||this.h.h||(this.m=1,ht(16),_=!1),this.o=this.o&&_,!_)fi(this.i,this.l,H,"[Invalid Chunked Response]"),dr(this),rn(this);else if(H.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Ec(ut),ut.P=!0,ht(11))}}else fi(this.i,this.l,H,null),Qn(this,H);hn==4&&dr(this),this.o&&!this.K&&(hn==4?ce(this.j,this):(this.o=!1,ji(this)))}else Zs(this.g),R==400&&H.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),dr(this),rn(this)}}}catch{}finally{}};function Ca(_){if(!Js(_))return _.g.la();const R=pi(_.g);if(R==="")return"";let H="";const ie=R.length,Ne=Wa(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return dr(_),rn(_),"";_.h.i=new s.TextDecoder}for(let je=0;je<ie;je++)_.h.h=!0,H+=_.h.i.decode(R[je],{stream:!(Ne&&je==ie-1)});return R.length=0,_.h.g+=H,_.C=0,_.h.g}function Js(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function Ha(_,R){var H=_.C,ie=R.indexOf(`
`,H);return ie==-1?ir:(H=Number(R.substring(H,ie)),isNaN(H)?Vn:(ie+=1,ie+H>R.length?ir:(R=R.slice(ie,ie+H),_.C=ie+H,R)))}Li.prototype.cancel=function(){this.K=!0,dr(this)};function ji(_){_.T=Date.now()+_.H,ms(_,_.H)}function ms(_,R){if(_.D!=null)throw Error("WatchDog timer not null");_.D=Kt(f(_.aa,_),R)}function nt(_){_.D&&(s.clearTimeout(_.D),_.D=null)}Li.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(zt(this.i,this.B),this.M!=2&&(Vt(),ht(17)),dr(this),this.m=2,rn(this)):ms(this,this.T-_)};function rn(_){_.j.I==0||_.K||ce(_.j,_)}function dr(_){nt(_);var R=_.O;R&&typeof R.dispose=="function"&&R.dispose(),_.O=null,gn(_.V),_.g&&(R=_.g,_.g=null,R.abort(),R.dispose())}function Qn(_,R){try{var H=_.j;if(H.I!=0&&(H.g==_||la(H.h,_))){if(!_.L&&la(H.h,_)&&H.I==3){try{var ie=H.Ba.g.parse(R)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Ne=ie;if(Ne[0]==0){e:if(!H.v){if(H.g)if(H.g.F+3e3<_.F)Y(H),to(H);else break e;Fs(H),ht(18)}}else H.xa=Ne[1],0<H.xa-H.K&&Ne[2]<37500&&H.F&&H.A==0&&!H.C&&(H.C=Kt(f(H.Va,H),6e3));Yn(H.h)<=1&&H.ta&&(H.ta=void 0)}else Ae(H,11)}else if((_.L||H.g==_)&&Y(H),!V(R))for(Ne=H.Ba.g.parse(R),R=0;R<Ne.length;R++){let An=Ne[R];const Zn=An[0];if(!(Zn<=H.K))if(H.K=Zn,An=An[1],H.I==2)if(An[0]=="c"){H.M=An[1],H.ba=An[2];const Qi=An[3];Qi!=null&&(H.ka=Qi,H.j.info("VER="+H.ka));const ua=An[4];ua!=null&&(H.za=ua,H.j.info("SVER="+H.za));const pr=An[5];pr!=null&&typeof pr=="number"&&pr>0&&(ie=1.5*pr,H.O=ie,H.j.info("backChannelRequestTimeoutMs_="+ie)),ie=H;const fa=_.g;if(fa){const Us=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var je=ie.h;je.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(vs(je,je.h),je.h=null))}if(ie.G){const ll=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(ie.wa=ll,Ln(ie.J,ie.G,ll))}}H.I=3,H.l&&H.l.ra(),H.aa&&(H.T=Date.now()-_.F,H.j.info("Handshake RTT: "+H.T+"ms")),ie=H;var ut=_;if(ie.na=et(ie,ie.L?ie.ba:null,ie.W),ut.L){vc(ie.h,ut);var hn=ut,Ar=ie.O;Ar&&(hn.H=Ar),hn.D&&(nt(hn),ji(hn)),ie.g=ut}else Eu(ie);H.i.length>0&&bs(H)}else An[0]!="stop"&&An[0]!="close"||Ae(H,7);else H.I==3&&(An[0]=="stop"||An[0]=="close"?An[0]=="stop"?Ae(H,7):ol(H):An[0]!="noop"&&H.l&&H.l.qa(An),H.A=0)}}Vt(4)}catch{}}var ur=class{constructor(_,R){this.g=_,this.map=R}};function gs(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jr(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Yn(_){return _.h?1:_.g?_.g.size:0}function la(_,R){return _.h?_.h==R:_.g?_.g.has(R):!1}function vs(_,R){_.g?_.g.add(R):_.h=R}function vc(_,R){_.h&&_.h==R?_.h=null:_.g&&_.g.has(R)&&_.g.delete(R)}gs.prototype.cancel=function(){if(this.i=yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function yc(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let R=_.i;for(const H of _.g.values())R=R.concat(H.G);return R}return g(_.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(_,R){if(_){_=_.split("&");for(let H=0;H<_.length;H++){const ie=_[H].indexOf("=");let Ne,je=null;ie>=0?(Ne=_[H].substring(0,ie),je=_[H].substring(ie+1)):Ne=_[H],R(Ne,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Ki(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;_ instanceof Ki?(this.l=_.l,Nn(this,_.j),this.o=_.o,this.g=_.g,Co(this,_.u),this.h=_.h,ys(this,_c(_.i)),this.m=_.m):_&&(R=String(_).match(vu))?(this.l=!1,Nn(this,R[1]||"",!0),this.o=di(R[2]||""),this.g=di(R[3]||"",!0),Co(this,R[4]),this.h=di(R[5]||"",!0),ys(this,R[6]||"",!0),this.m=di(R[7]||"")):(this.l=!1,this.i=new Po(null,this.l))}Ki.prototype.toString=function(){const _=[];var R=this.j;R&&_.push(Or(R,jl,!0),":");var H=this.g;return(H||R=="file")&&(_.push("//"),(R=this.o)&&_.push(Or(R,jl,!0),"@"),_.push(cr(H).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.u,H!=null&&_.push(":",String(H))),(H=this.h)&&(this.g&&H.charAt(0)!="/"&&_.push("/"),_.push(Or(H,H.charAt(0)=="/"?yu:Tf,!0))),(H=this.i.toString())&&_.push("?",H),(H=this.m)&&_.push("#",Or(H,bu)),_.join("")},Ki.prototype.resolve=function(_){const R=Zr(this);let H=!!_.j;H?Nn(R,_.j):H=!!_.o,H?R.o=_.o:H=!!_.g,H?R.g=_.g:H=_.u!=null;var ie=_.h;if(H)Co(R,_.u);else if(H=!!_.h){if(ie.charAt(0)!="/")if(this.g&&!this.h)ie="/"+ie;else{var Ne=R.h.lastIndexOf("/");Ne!=-1&&(ie=R.h.slice(0,Ne+1)+ie)}if(Ne=ie,Ne==".."||Ne==".")ie="";else if(Ne.indexOf("./")!=-1||Ne.indexOf("/.")!=-1){ie=Ne.lastIndexOf("/",0)==0,Ne=Ne.split("/");const je=[];for(let ut=0;ut<Ne.length;){const hn=Ne[ut++];hn=="."?ie&&ut==Ne.length&&je.push(""):hn==".."?((je.length>1||je.length==1&&je[0]!="")&&je.pop(),ie&&ut==Ne.length&&je.push("")):(je.push(hn),ie=!0)}ie=je.join("/")}else ie=Ne}return H?R.h=ie:H=_.i.toString()!=="",H?ys(R,_c(_.i)):H=!!_.m,H&&(R.m=_.m),R};function Zr(_){return new Ki(_)}function Nn(_,R,H){_.j=H?di(R,!0):R,_.j&&(_.j=_.j.replace(/:$/,""))}function Co(_,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);_.u=R}else _.u=null}function ys(_,R,H){R instanceof Po?(_.i=R,Pa(_.i,_.l)):(H||(R=Or(R,ca)),_.i=new Po(R,_.l))}function Ln(_,R,H){_.i.set(R,H)}function rl(_){return Ln(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function di(_,R){return _?R?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Or(_,R,H){return typeof _=="string"?(_=encodeURI(_).replace(R,ei),H&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ei(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var jl=/[#\/\?@]/g,Tf=/[#\?:]/g,yu=/[#\?]/g,ca=/[#\?@]/g,bu=/#/g;function Po(_,R){this.h=this.g=null,this.i=_||null,this.j=!!R}function Mi(_){_.g||(_.g=new Map,_.h=0,_.i&&$a(_.i,function(R,H){_.add(decodeURIComponent(R.replace(/\+/g," ")),H)}))}t=Po.prototype,t.add=function(_,R){Mi(this),this.i=null,_=Oo(this,_);let H=this.g.get(_);return H||this.g.set(_,H=[]),H.push(R),this.h+=1,this};function il(_,R){Mi(_),R=Oo(_,R),_.g.has(R)&&(_.i=null,_.h-=_.g.get(R).length,_.g.delete(R))}function _u(_,R){return Mi(_),R=Oo(_,R),_.g.has(R)}t.forEach=function(_,R){Mi(this),this.g.forEach(function(H,ie){H.forEach(function(Ne){_.call(R,Ne,ie,this)},this)},this)};function xu(_,R){Mi(_);let H=[];if(typeof R=="string")_u(_,R)&&(H=H.concat(_.g.get(Oo(_,R))));else for(_=Array.from(_.g.values()),R=0;R<_.length;R++)H=H.concat(_[R]);return H}t.set=function(_,R){return Mi(this),this.i=null,_=Oo(this,_),_u(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[R]),this.h+=1,this},t.get=function(_,R){return _?(_=xu(this,_),_.length>0?String(_[0]):R):R};function bc(_,R,H){il(_,R),H.length>0&&(_.i=null,_.g.set(Oo(_,R),g(H)),_.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],R=Array.from(this.g.keys());for(let ie=0;ie<R.length;ie++){var H=R[ie];const Ne=cr(H);H=xu(this,H);for(let je=0;je<H.length;je++){let ut=Ne;H[je]!==""&&(ut+="="+cr(H[je])),_.push(ut)}}return this.i=_.join("&")};function _c(_){const R=new Po;return R.i=_.i,_.g&&(R.g=new Map(_.g),R.h=_.h),R}function Oo(_,R){return R=String(R),_.j&&(R=R.toLowerCase()),R}function Pa(_,R){R&&!_.j&&(Mi(_),_.i=null,_.g.forEach(function(H,ie){const Ne=ie.toLowerCase();ie!=Ne&&(il(this,ie),bc(this,Ne,H))},_)),_.j=R}function js(_,R){const H=new Gn;if(s.Image){const ie=new Image;ie.onload=h(Oa,H,"TestLoadImage: loaded",!0,R,ie),ie.onerror=h(Oa,H,"TestLoadImage: error",!1,R,ie),ie.onabort=h(Oa,H,"TestLoadImage: abort",!1,R,ie),ie.ontimeout=h(Oa,H,"TestLoadImage: timeout",!1,R,ie),s.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=_}else R(!1)}function Ro(_,R){const H=new Gn,ie=new AbortController,Ne=setTimeout(()=>{ie.abort(),Oa(H,"TestPingServer: timeout",!1,R)},1e4);fetch(_,{signal:ie.signal}).then(je=>{clearTimeout(Ne),je.ok?Oa(H,"TestPingServer: ok",!0,R):Oa(H,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ne),Oa(H,"TestPingServer: error",!1,R)})}function Oa(_,R,H,ie,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),ie(H)}catch{}}function al(){this.g=new Et}function Xt(_){this.i=_.Sb||null,this.h=_.ab||!1}p(Xt,Fe),Xt.prototype.g=function(){return new Ml(this.i,this.h)};function Ml(_,R){qe.call(this),this.H=_,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ml,qe),t=Ml.prototype,t.open=function(_,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=R,this.readyState=1,Fi(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(R.body=_),(this.H||s).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xc(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function xc(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var R=_.value?_.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!_.done}))&&(this.response=this.responseText+=R)}_.done?sl(this):Fi(this),this.readyState==3&&xc(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,sl(this))},t.Na=function(_){this.g&&(this.response=_,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(_){_.readyState=4,_.l=null,_.j=null,_.B=null,Fi(_)}t.setRequestHeader=function(_,R){this.A.append(_,R)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],R=this.h.entries();for(var H=R.next();!H.done;)H=H.value,_.push(H[0]+": "+H[1]),H=R.next();return _.join(`\r
`)};function Fi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function xi(_){let R="";return _e(_,function(H,ie){R+=ie,R+=":",R+=H,R+=`\r
`}),R}function Fl(_,R,H){e:{for(ie in H){var ie=!1;break e}ie=!0}ie||(H=xi(H),typeof _=="string"?H!=null&&cr(H):Ln(_,R,H))}function Jn(_){qe.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Jn,qe);var Ga=/^https?$/i,Ul=["POST","PUT"];t=Jn.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,R,H,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);R=R?R.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ki.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(R,String(_),!0),this.B=!1}catch(je){Ms(this,je);return}if(_=H||"",H=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Ne in ie)H.set(Ne,ie[Ne]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const je of ie.keys())H.set(je,ie.get(je));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(H.keys()).find(je=>je.toLowerCase()=="content-type"),Ne=s.FormData&&_ instanceof s.FormData,!(Array.prototype.indexOf.call(Ul,R,void 0)>=0)||ie||Ne||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,ut]of H)this.g.setRequestHeader(je,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(je){Ms(this,je)}};function Ms(_,R){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=R,_.o=5,wu(_),Do(_)}function wu(_){_.A||(_.A=!0,dt(_,"complete"),dt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,dt(this,"complete"),dt(this,"abort"),Do(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Do(this,!0)),Jn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ya(this):this.Xa())},t.Xa=function(){Ya(this)};function Ya(_){if(_.h&&typeof a<"u"){if(_.v&&Wa(_)==4)setTimeout(_.Ca.bind(_),0);else if(dt(_,"readystatechange"),Wa(_)==4){_.h=!1;try{const je=_.ca();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var H;if(!(H=R)){var ie;if(ie=je===0){let ut=String(_.D).match(vu)[1]||null;!ut&&s.self&&s.self.location&&(ut=s.self.location.protocol.slice(0,-1)),ie=!Ga.test(ut?ut.toLowerCase():"")}H=ie}if(H)dt(_,"complete"),dt(_,"success");else{_.o=6;try{var Ne=Wa(_)>2?_.g.statusText:""}catch{Ne=""}_.l=Ne+" ["+_.ca()+"]",wu(_)}}finally{Do(_)}}}}function Do(_,R){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const H=_.g;_.g=null,R||dt(_,"ready");try{H.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wa(_){return _.g?_.g.readyState:0}t.ca=function(){try{return Wa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var R=this.g.responseText;return _&&R.indexOf(_)==0&&(R=R.substring(_.length)),ft(R)}};function pi(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(_){const R={};_=(_.g&&Wa(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<_.length;ie++){if(V(_[ie]))continue;var H=Xr(_[ie]);const Ne=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const je=R[Ne]||[];R[Ne]=je,je.push(H)}Ue(R,function(ie){return ie.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(_,R,H){return H&&H.internalChannelParams&&H.internalChannelParams[_]||R}function eo(_){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,_),this.Za=Xi("retryDelaySeedMs",1e4,_),this.Ta=Xi("forwardChannelMaxRetries",2,_),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new gs(_&&_.concurrentRequestLimit),this.Ba=new al,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=eo.prototype,t.ka=8,t.I=1,t.connect=function(_,R,H,ie){ht(0),this.W=_,this.H=R||{},H&&ie!==void 0&&(this.H.OSID=H,this.H.OAID=ie),this.F=this.X,this.J=et(this,null,this.W),bs(this)};function ol(_){if(no(_),_.I==3){var R=_.V++,H=Zr(_.J);if(Ln(H,"SID",_.M),Ln(H,"RID",R),Ln(H,"TYPE","terminate"),Ka(_,H),R=new Li(_,_.j,R),R.M=2,R.A=rl(Zr(H)),H=!1,s.navigator&&s.navigator.sendBeacon)try{H=s.navigator.sendBeacon(R.A.toString(),"")}catch{}!H&&s.Image&&(new Image().src=R.A,H=!0),H||(R.g=Tt(R.j,null),R.g.ea(R.A)),R.F=Date.now(),ji(R)}Ye(_)}function to(_){_.g&&(Ec(_),_.g.cancel(),_.g=null)}function no(_){to(_),_.v&&(s.clearTimeout(_.v),_.v=null),Y(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&s.clearTimeout(_.m),_.m=null)}function bs(_){if(!Jr(_.h)&&!_.m){_.m=!0;var R=_.Ea;$||L(),K||($(),K=!0),j.add(R,_),_.D=0}}function Bl(_,R){return Yn(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=R.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=Kt(f(_.Ea,_,R),be(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const Ne=new Li(this,this.j,_);let je=this.o;if(this.U&&(je?(je=ne(je),X(je,this.U)):je=this.U),this.u!==null||this.R||(Ne.J=je,je=null),this.S)e:{for(var R=0,H=0;H<this.i.length;H++){t:{var ie=this.i[H];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(R+=ie,R>4096){R=H;break e}if(R===4096||H===this.i.length-1){R=H+1;break e}}R=1e3}else R=1e3;R=ro(this,Ne,R),H=Zr(this.J),Ln(H,"RID",_),Ln(H,"CVER",22),this.G&&Ln(H,"X-HTTP-Session-Id",this.G),Ka(this,H),je&&(this.R?R="headers="+cr(xi(je))+"&"+R:this.u&&Fl(H,this.u,je)),vs(this.h,Ne),this.Ra&&Ln(H,"TYPE","init"),this.S?(Ln(H,"$req",R),Ln(H,"SID","null"),Ne.U=!0,Qr(Ne,H,null)):Qr(Ne,H,R),this.I=2}}else this.I==3&&(_?wc(this,_):this.i.length==0||Jr(this.h)||wc(this))};function wc(_,R){var H;R?H=R.l:H=_.V++;const ie=Zr(_.J);Ln(ie,"SID",_.M),Ln(ie,"RID",H),Ln(ie,"AID",_.K),Ka(_,ie),_.u&&_.o&&Fl(ie,_.u,_.o),H=new Li(_,_.j,H,_.D+1),_.u===null&&(H.J=_.o),R&&(_.i=R.G.concat(_.i)),R=ro(_,H,1e3),H.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),vs(_.h,H),Qr(H,ie,R)}function Ka(_,R){_.H&&_e(_.H,function(H,ie){Ln(R,ie,H)}),_.l&&_e({},function(H,ie){Ln(R,ie,H)})}function ro(_,R,H){H=Math.min(_.i.length,H);const ie=_.l?f(_.l.Ka,_.l,_):null;e:{var Ne=_.i;let hn=-1;for(;;){const Ar=["count="+H];hn==-1?H>0?(hn=Ne[0].g,Ar.push("ofs="+hn)):hn=0:Ar.push("ofs="+hn);let An=!0;for(let Zn=0;Zn<H;Zn++){var je=Ne[Zn].g;const Qi=Ne[Zn].map;if(je-=hn,je<0)hn=Math.max(0,Ne[Zn].g-100),An=!1;else try{je="req"+je+"_"||"";try{var ut=Qi instanceof Map?Qi:Object.entries(Qi);for(const[ua,pr]of ut){let fa=pr;l(pr)&&(fa=st(pr)),Ar.push(je+ua+"="+encodeURIComponent(fa))}}catch(ua){throw Ar.push(je+"type="+encodeURIComponent("_badmap")),ua}}catch{ie&&ie(Qi)}}if(An){ut=Ar.join("&");break e}}ut=void 0}return _=_.i.splice(0,H),R.G=_,ut}function Eu(_){if(!_.g&&!_.v){_.Y=1;var R=_.Da;$||L(),K||($(),K=!0),j.add(R,_),_.A=0}}function Fs(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=Kt(f(_.Da,_),be(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,N(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=Kt(f(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),to(this),N(this))};function Ec(_){_.B!=null&&(s.clearTimeout(_.B),_.B=null)}function N(_){_.g=new Li(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var R=Zr(_.na);Ln(R,"RID","rpc"),Ln(R,"SID",_.M),Ln(R,"AID",_.K),Ln(R,"CI",_.F?"0":"1"),!_.F&&_.ia&&Ln(R,"TO",_.ia),Ln(R,"TYPE","xmlhttp"),Ka(_,R),_.u&&_.o&&Fl(R,_.u,_.o),_.O&&(_.g.H=_.O);var H=_.g;_=_.ba,H.M=1,H.A=rl(Zr(R)),H.u=null,H.R=!0,Wi(H,_)}t.Va=function(){this.C!=null&&(this.C=null,to(this),Fs(this),ht(19))};function Y(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function ce(_,R){var H=null;if(_.g==R){Y(_),Ec(_),_.g=null;var ie=2}else if(la(_.h,R))H=R.G,vc(_.h,R),ie=1;else return;if(_.I!=0){if(R.o)if(ie==1){H=R.u?R.u.length:0,R=Date.now()-R.F;var Ne=_.D;ie=un(),dt(ie,new gt(ie,H)),bs(_)}else Eu(_);else if(Ne=R.m,Ne==3||Ne==0&&R.X>0||!(ie==1&&Bl(_,R)||ie==2&&Fs(_)))switch(H&&H.length>0&&(R=_.h,R.i=R.i.concat(H)),Ne){case 1:Ae(_,5);break;case 4:Ae(_,10);break;case 3:Ae(_,6);break;default:Ae(_,2)}}}function be(_,R){let H=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(H*=2),H*R}function Ae(_,R){if(_.j.info("Error code "+R),R==2){var H=f(_.bb,_),ie=_.Ua;const Ne=!ie;ie=new Ki(ie||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Nn(ie,"https"),rl(ie),Ne?js(ie.toString(),H):Ro(ie.toString(),H)}else ht(2);_.I=0,_.l&&_.l.pa(R),Ye(_),no(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ye(_){if(_.I=0,_.ja=[],_.l){const R=yc(_.h);(R.length!=0||_.i.length!=0)&&(E(_.ja,R),E(_.ja,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.oa()}}function et(_,R,H){var ie=H instanceof Ki?Zr(H):new Ki(H);if(ie.g!="")R&&(ie.g=R+"."+ie.g),Co(ie,ie.u);else{var Ne=s.location;ie=Ne.protocol,R=R?R+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;const je=new Ki(null);ie&&Nn(je,ie),R&&(je.g=R),Ne&&Co(je,Ne),H&&(je.h=H),ie=je}return H=_.G,R=_.wa,H&&R&&Ln(ie,H,R),Ln(ie,"VER",_.ka),Ka(_,ie),ie}function Tt(_,R,H){if(R&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=_.Aa&&!_.ma?new Jn(new Xt({ab:H})):new Jn(_.ma),R.Fa(_.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dt(){}t=Dt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zt(){}Zt.prototype.g=function(_,R){return new Wt(_,R)};function Wt(_,R){qe.call(this),this.g=new eo(R),this.l=_,this.h=R&&R.messageUrlParams||null,_=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(_?_["X-WebChannel-Content-Type"]=R.messageContentType:_={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(_?_["X-WebChannel-Client-Profile"]=R.sa:_={"X-WebChannel-Client-Profile":R.sa}),this.g.U=_,(_=R&&R.Qb)&&!V(_)&&(this.g.u=_),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!V(R)&&(this.g.G=R,_=this.h,_!==null&&R in _&&(_=this.h,R in _&&delete _[R])),this.j=new fr(this)}p(Wt,qe),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){ol(this.g)},Wt.prototype.o=function(_){var R=this.g;if(typeof _=="string"){var H={};H.__data__=_,_=H}else this.v&&(H={},H.__data__=st(_),_=H);R.i.push(new ur(R.Ya++,_)),R.I==3&&bs(R)},Wt.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Wt.Z.N.call(this)};function In(_){It.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var R=_.__sm__;if(R){e:{for(const H in R){_=H;break e}_=void 0}(this.i=_)&&(_=this.i,R=R!==null&&_ in R?R[_]:void 0),this.data=R}else this.data=_}p(In,It);function Er(){Mt.call(this),this.status=1}p(Er,Mt);function fr(_){this.g=_}p(fr,Dt),fr.prototype.ra=function(){dt(this.g,"a")},fr.prototype.qa=function(_){dt(this.g,new In(_))},fr.prototype.pa=function(_){dt(this.g,new Er)},fr.prototype.oa=function(){dt(this.g,"b")},Zt.prototype.createWebChannel=Zt.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,G8=function(){return new Zt},$8=function(){return un()},H8=nn,tS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Rb=Ri,Di.COMPLETE="complete",q8=Di,wn.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Yv=wn,Jn.prototype.listenOnce=Jn.prototype.K,Jn.prototype.getLastError=Jn.prototype.Ha,Jn.prototype.getLastErrorCode=Jn.prototype.ya,Jn.prototype.getStatus=Jn.prototype.ca,Jn.prototype.getResponseJson=Jn.prototype.La,Jn.prototype.getResponseText=Jn.prototype.la,Jn.prototype.send=Jn.prototype.ea,Jn.prototype.setWithCredentials=Jn.prototype.Fa,z8=Jn}).apply(typeof X1<"u"?X1:typeof self<"u"?self:typeof window<"u"?window:{});const yO="@firebase/firestore",bO="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ba.UNAUTHENTICATED=new Ba(null),Ba.GOOGLE_CREDENTIALS=new Ba("google-credentials-uid"),Ba.FIRST_PARTY=new Ba("first-party-uid"),Ba.MOCK_USER=new Ba("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new E_("@firebase/firestore");function vm(){return Nh.logLevel}function hZ(t){Nh.setLogLevel(t)}function at(t,...e){if(Nh.logLevel<=Dn.DEBUG){const n=e.map(bN);Nh.debug(`Firestore (${Sg}): ${t}`,...n)}}function $i(t,...e){if(Nh.logLevel<=Dn.ERROR){const n=e.map(bN);Nh.error(`Firestore (${Sg}): ${t}`,...n)}}function lu(t,...e){if(Nh.logLevel<=Dn.WARN){const n=e.map(bN);Nh.warn(`Firestore (${Sg}): ${t}`,...n)}}function bN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Y8(t,r,n)}function Y8(t,e,n){let r=`FIRESTORE (${Sg}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $i(r),new Error(r)}function jt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Y8(e,i,r)}function dZ(t,e){t||wt(57014,e)}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ba.UNAUTHENTICATED)))}shutdown(){}}class mZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gZ{constructor(e){this.t=e,this.currentUser=Ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ls,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},l=u=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ls)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new W8(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ba(e)}}class vZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ba.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vZ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ba.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bZ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){jt(this.o===void 0,3512);const r=a=>{a.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,at("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _O(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _O(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_Z(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function mn(t,e){return t<e?-1:t>e?1:0}function nS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return I5(i)===I5(a)?mn(i,a):I5(i)?1:-1}return mn(t.length,e.length)}const xZ=55296,wZ=57343;function I5(t){const e=t.charCodeAt(0);return e>=xZ&&e<=wZ}function Gm(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function K8(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="__name__";class Bc{constructor(e,n,r){n===void 0?n=0:n>e.length&&wt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&wt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Bc.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return mn(e.length,n.length)}static compareSegments(e,n){const r=Bc.isNumericId(e),i=Bc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bc.extractNumericId(e).compare(Bc.extractNumericId(n)):nS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bh.fromString(e.substring(4,e.length-2))}}class kn extends Bc{construct(e,n,r){return new kn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new kn(n)}static emptyPath(){return new kn([])}}const EZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends Bc{construct(e,n,r){return new li(e,n,r)}static isValidIdentifier(e){return EZ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xO}static keyField(){return new li([xO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new tt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new tt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new tt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new tt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(n)}static emptyPath(){return new li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(kn.fromString(e))}static fromName(e){return new mt(kn.fromString(e).popFirst(5))}static empty(){return new mt(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new kn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){if(!n)throw new tt(Be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X8(t,e,n,r){if(e===!0&&r===!0)throw new tt(Be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wO(t){if(!mt.isDocumentKey(t))throw new tt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EO(t){if(mt.isDocumentKey(t))throw new tt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function L_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt(12329,{type:typeof t})}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=L_(t);throw new tt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function J8(t,e){if(e<=0)throw new tt(Be.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){const n={typeString:t};return e&&(n.value=e),n}function b0(t,e){if(!Q8(t))throw new tt(Be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new tt(Be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=-62135596800,SO=1e6;class hr{static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SO);return new hr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AO)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SO}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(b0(e,hr._jsonSchema))return new hr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hr._jsonSchemaVersion="firestore/timestamp/1.0",hr._jsonSchema={type:aa("string",hr._jsonSchemaVersion),seconds:aa("number"),nanoseconds:aa("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new hr(0,0))}static max(){return new Gt(new hr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;class o2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function rS(t){return t.fields.find((e=>e.kind===2))}function pd(t){return t.fields.filter((e=>e.kind!==2))}o2.UNKNOWN_ID=-1;class Db{constructor(e,n){this.fieldPath=e,this.kind=n}}class Iy{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Iy(0,Zo.min())}}function Z8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new hr(n+1,0):new hr(n,r));return new Zo(i,mt.empty(),e)}function e9(t){return new Zo(t.readTime,t.key,Ym)}class Zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zo(Gt.min(),mt.empty(),Ym)}static max(){return new Zo(Gt.max(),mt.empty(),Ym)}}function wN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=mt.comparator(t.documentKey,e.documentKey),n!==0?n:mn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t){if(t.code!==Be.FAILED_PRECONDITION||t.message!==t9)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Re.reject(n)}static resolve(e){return new Re(((n,r)=>{n(e)}))}static reject(e){return new Re(((n,r)=>{r(e)}))}static waitFor(e){return new Re(((n,r)=>{let i=0,a=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++a,s&&a===i&&n()}),(u=>r(u)))})),s=!0,a===i&&n()}))}static or(e){let n=Re.resolve(!1);for(const r of e)n=n.next((i=>i?Re.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Re(((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const f=u;n(e[f]).next((h=>{s[f]=h,++l,l===a&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new Re(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="SimpleDb";class j_{static open(e,n,r,i){try{return new j_(n,e.transaction(i,r))}catch(a){throw new sy(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ls,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new sy(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=EN(r.target.error);this.S.reject(new sy(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(at(Ho,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new SZ(n)}}class tu{static delete(e){return at(Ho,"Removing database:",e),_d(HT().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!xy())return!1;if(tu.F())return!0;const e=bi(),n=tu.M(e),r=0<n&&n<10,i=r9(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,tu.M(bi())===12.2&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(at(Ho,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new sy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new tt(Be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new tt(Be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new sy(e,s))},i.onupgradeneeded=a=>{at(Ho,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next((()=>{at(Ho,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const l=j_.open(this.db,e,a?"readonly":"readwrite",r),u=i(l).next((f=>(l.C(),f))).catch((f=>(l.abort(f),Re.reject(f)))).toPromise();return u.catch((()=>{})),await l.D,u}catch(l){const u=l,f=u.name!=="FirebaseError"&&s<3;if(at(Ho,"Transaction failed with error:",u.message,"Retrying:",f),this.close(),!f)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function r9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class AZ{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return _d(this.U.delete())}}class sy extends tt{constructor(e,n){super(Be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function zh(t){return t.name==="IndexedDbTransactionError"}class SZ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(at(Ho,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(at(Ho,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_d(r)}add(e){return at(Ho,"ADD",this.store.name,e,e),_d(this.store.add(e))}get(e){return _d(this.store.get(e)).next((n=>(n===void 0&&(n=null),at(Ho,"GET",this.store.name,e,n),n)))}delete(e){return at(Ho,"DELETE",this.store.name,e),_d(this.store.delete(e))}count(){return at(Ho,"COUNT",this.store.name),_d(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Re(((s,l)=>{a.onerror=u=>{l(u.target.error)},a.onsuccess=u=>{s(u.target.result)}}))}{const a=this.cursor(r),s=[];return this.H(a,((l,u)=>{s.push(u)})).next((()=>s))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Re(((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}}))}Z(e,n){at(Ho,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,s,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Re(((r,i)=>{n.onerror=a=>{const s=EN(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((l=>{l?s.continue():r()})):r()}}))}H(e,n){const r=[];return new Re(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const l=s.target.result;if(!l)return void i();const u=new AZ(l),f=n(l.primaryKey,l.value,u);if(f instanceof Re){const h=f.catch((p=>(u.done(),Re.reject(p))));r.push(h)}u.isDone?i():u.G===null?l.continue():l.continue(u.G)}})).next((()=>Re.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _d(t){return new Re(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=EN(r.target.error);n(i)}}))}let TO=!1;function EN(t){const e=tu.M(bi());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TO||(TO=!0,setTimeout((()=>{throw r}),0)),r}}return t}const oy="IndexBackfiller";class TZ{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){at(oy,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();at(oy,`Documents written: ${n}`)}catch(n){zh(n)?at(oy,"Ignoring IndexedDB error during index backfill: ",n):await Vh(n)}await this.re(6e4)}))}}class NZ{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Re.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!r.has(s))return at(oy,`Processing collection: ${s}`),this.oe(e,s,i).next((l=>{i-=l,r.add(s)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this._e(i,a))).next((l=>(at(oy,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>s.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const s=e9(a);wN(s,r)>0&&(r=s)})),new Zo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eo.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=-1;function _0(t){return t==null}function Cy(t){return t===0&&1/t==-1/0}function i9(t){return typeof t=="number"&&Number.isInteger(t)&&!Cy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="";function Ds(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NO(e)),e=IZ(t.get(n),e);return NO(e)}function IZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case l2:n+="";break;default:n+=a}}return n}function NO(t){return t+l2+""}function Qc(t){const e=t.length;if(jt(e>=2,64408,{path:t}),e===2)return jt(t.charAt(0)===l2&&t.charAt(1)==="",56145,{path:t}),kn.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(l2,a);switch((s<0||s>n)&&wt(50515,{path:t}),t.charAt(s+1)){case"":const l=t.substring(a,s);let u;i.length===0?u=l:(i+=l,u=i,i=""),r.push(u);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:wt(61167,{path:t})}a=s+2}return new kn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="remoteDocuments",x0="owner",rm="owner",Py="mutationQueues",CZ="userId",rc="mutations",IO="batchId",Nd="userMutationsIndex",CO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e){return[t,Ds(e)]}function a9(t,e,n){return[t,Ds(e),n]}const PZ={},Wm="documentMutations",c2="remoteDocumentsV14",OZ=["prefixPath","collectionGroup","readTime","documentId"],Lb="documentKeyIndex",RZ=["prefixPath","collectionGroup","documentId"],s9="collectionGroupIndex",DZ=["collectionGroup","readTime","prefixPath","documentId"],Oy="remoteDocumentGlobal",iS="remoteDocumentGlobalKey",Km="targets",o9="queryTargetsIndex",kZ=["canonicalId","targetId"],Xm="targetDocuments",LZ=["targetId","path"],AN="documentTargetsIndex",jZ=["path","targetId"],u2="targetGlobalKey",Ld="targetGlobal",Ry="collectionParents",MZ=["collectionId","parent"],Qm="clientMetadata",FZ="clientId",M_="bundles",UZ="bundleId",F_="namedQueries",BZ="name",SN="indexConfiguration",VZ="indexId",aS="collectionGroupIndex",zZ="collectionGroup",ly="indexState",qZ=["indexId","uid"],l9="sequenceNumberIndex",HZ=["uid","sequenceNumber"],cy="indexEntries",$Z=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],c9="documentKeyIndex",GZ=["indexId","uid","orderedDocumentKey"],U_="documentOverlays",YZ=["userId","collectionPath","documentId"],sS="collectionPathOverlayIndex",WZ=["userId","collectionPath","largestBatchId"],u9="collectionGroupOverlayIndex",KZ=["userId","collectionGroup","largestBatchId"],TN="globals",XZ="name",f9=[Py,rc,Wm,md,Km,x0,Ld,Xm,Qm,Oy,Ry,M_,F_],QZ=[...f9,U_],h9=[Py,rc,Wm,c2,Km,x0,Ld,Xm,Qm,Oy,Ry,M_,F_,U_],d9=h9,NN=[...d9,SN,ly,cy],JZ=NN,p9=[...NN,TN],ZZ=p9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends n9{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Ea(t,e){const n=bt(t);return tu.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.comparator=e,this.root=n||rs.EMPTY}insert(e,n){return new zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q1(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q1(this.root,e,this.comparator,!0)}}class Q1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rs{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??rs.RED,this.left=i??rs.EMPTY,this.right=a??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new rs(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1;rs.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new rs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OO(this.data.getIterator())}getIteratorFrom(e){return new OO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xr(this.comparator);return n.data=e,n}}class OO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function im(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.fields=e,e.sort(li.comparator)}static empty(){return new Ao([])}unionWith(e){let n=new xr(li.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gm(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new g9("Invalid base64 string: "+a):a}})(e);return new Ci(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Ci(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const tee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function of(t){if(jt(!!t,39018),typeof t=="string"){let e=0;const n=tee.exec(t);if(jt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:si(t.seconds),nanos:si(t.nanos)}}function si(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lf(t){return typeof t=="string"?Ci.fromBase64String(t):Ci.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="server_timestamp",y9="__type__",b9="__previous_value__",_9="__local_write_time__";function B_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[y9])==null?void 0:r.stringValue)===v9}function V_(t){const e=t.mapValue.fields[b9];return B_(e)?V_(e):e}function Dy(t){const e=of(t.mapValue.fields[_9].timestampValue);return new hr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e,n,r,i,a,s,l,u,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=h}}const lS="(default)";class Ih{constructor(e,n){this.projectId=e,this.database=n||lS}static empty(){return new Ih("","")}get isDefaultDatabase(){return this.database===lS}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="__type__",x9="__max__",dh={mapValue:{fields:{__type__:{stringValue:x9}}}},CN="__vector__",Jm="value",jb={nullValue:"NULL_VALUE"};function Ch(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:w9(t)?9007199254740991:z_(t)?10:11:wt(28295,{value:t})}function cu(t,e){if(t===e)return!0;const n=Ch(t);if(n!==Ch(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dy(t).isEqual(Dy(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=of(i.timestampValue),l=of(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return lf(i.bytesValue).isEqual(lf(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return si(i.geoPointValue.latitude)===si(a.geoPointValue.latitude)&&si(i.geoPointValue.longitude)===si(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return si(i.integerValue)===si(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=si(i.doubleValue),l=si(a.doubleValue);return s===l?Cy(s)===Cy(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return Gm(t.arrayValue.values||[],e.arrayValue.values||[],cu);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(PO(s)!==PO(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!cu(s[u],l[u])))return!1;return!0})(t,e);default:return wt(52216,{left:t})}}function ky(t,e){return(t.values||[]).find((n=>cu(n,e)))!==void 0}function Ph(t,e){if(t===e)return 0;const n=Ch(t),r=Ch(e);if(n!==r)return mn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const l=si(a.integerValue||a.doubleValue),u=si(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return RO(t.timestampValue,e.timestampValue);case 4:return RO(Dy(t),Dy(e));case 5:return nS(t.stringValue,e.stringValue);case 6:return(function(a,s){const l=lf(a),u=lf(s);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const l=a.split("/"),u=s.split("/");for(let f=0;f<l.length&&f<u.length;f++){const h=mn(l[f],u[f]);if(h!==0)return h}return mn(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const l=mn(si(a.latitude),si(s.latitude));return l!==0?l:mn(si(a.longitude),si(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DO(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var y,g,E,A;const l=a.fields||{},u=s.fields||{},f=(y=l[Jm])==null?void 0:y.arrayValue,h=(g=u[Jm])==null?void 0:g.arrayValue,p=mn(((E=f==null?void 0:f.values)==null?void 0:E.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return p!==0?p:DO(f,h)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===dh.mapValue&&s===dh.mapValue)return 0;if(a===dh.mapValue)return 1;if(s===dh.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),f=s.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const y=nS(u[p],h[p]);if(y!==0)return y;const g=Ph(l[u[p]],f[h[p]]);if(g!==0)return g}return mn(u.length,h.length)})(t.mapValue,e.mapValue);default:throw wt(23264,{he:n})}}function RO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mn(t,e);const n=of(t),r=of(e),i=mn(n.seconds,r.seconds);return i!==0?i:mn(n.nanos,r.nanos)}function DO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ph(n[i],r[i]);if(a)return a}return mn(n.length,r.length)}function Zm(t){return cS(t)}function cS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=of(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return lf(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return mt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=cS(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${cS(n.fields[s])}`;return i+"}"})(t.mapValue):wt(61005,{value:t})}function Mb(t){switch(Ch(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=V_(t);return e?16+Mb(e):16;case 5:return 2*t.stringValue.length;case 6:return lf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Mb(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return qh(r.fields,((a,s)=>{i+=a.length+Mb(s)})),i})(t.mapValue);default:throw wt(13486,{value:t})}}function $d(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uS(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function kO(t){return!!t&&"nullValue"in t}function LO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fb(t){return!!t&&"mapValue"in t}function z_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IN])==null?void 0:r.stringValue)===CN}function uy(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qh(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=uy(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uy(t.arrayValue.values[n]);return e}return{...t}}function w9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x9}const E9={mapValue:{fields:{[IN]:{stringValue:CN},[Jm]:{arrayValue:{}}}}};function ree(t){return"nullValue"in t?jb:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$d(Ih.empty(),mt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?z_(t)?E9:{mapValue:{}}:wt(35942,{value:t})}function iee(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$d(Ih.empty(),mt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?E9:"mapValue"in t?z_(t)?{mapValue:{}}:dh:wt(61959,{value:t})}function jO(t,e){const n=Ph(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MO(t,e){const n=Ph(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uy(n)}setAll(e){let n=li.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=uy(s):i.push(l.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Fb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qh(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new is(uy(this.value))}}function A9(t){const e=[];return qh(t.fields,((n,r)=>{const i=new li([n]);if(Fb(r)){const a=A9(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Ao(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Wr(e,0,Gt.min(),Gt.min(),Gt.min(),is.empty(),0)}static newFoundDocument(e,n,r,i){return new Wr(e,1,n,Gt.min(),r,i,0)}static newNoDocument(e,n){return new Wr(e,2,n,Gt.min(),Gt.min(),is.empty(),0)}static newUnknownDocument(e,n){return new Wr(e,3,n,Gt.min(),Gt.min(),is.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function FO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=mt.comparator(mt.fromName(s.referenceValue),n.key):r=Ph(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function UO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n="asc"){this.field=e,this.dir=n}}function aee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{}class Fn extends S9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new see(e,n,r):n==="array-contains"?new cee(e,r):n==="in"?new O9(e,r):n==="not-in"?new uee(e,r):n==="array-contains-any"?new fee(e,r):new Fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oee(e,r):new lee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ph(n,this.value)):n!==null&&Ch(this.value)===Ch(n)&&this.matchesComparison(Ph(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends S9{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return eg(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eg(t){return t.op==="and"}function fS(t){return t.op==="or"}function PN(t){return T9(t)&&eg(t)}function T9(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function hS(t){if(t instanceof Fn)return t.field.canonicalString()+t.op.toString()+Zm(t.value);if(PN(t))return t.filters.map((e=>hS(e))).join(",");{const e=t.filters.map((n=>hS(n))).join(",");return`${t.op}(${e})`}}function N9(t,e){return t instanceof Fn?(function(r,i){return i instanceof Fn&&r.op===i.op&&r.field.isEqual(i.field)&&cu(r.value,i.value)})(t,e):t instanceof _r?(function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,l)=>a&&N9(s,i.filters[l])),!0):!1})(t,e):void wt(19439)}function I9(t,e){const n=t.filters.concat(e);return _r.create(n,t.op)}function C9(t){return t instanceof Fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zm(n.value)}`})(t):t instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(C9).join(" ,")+"}"})(t):"Filter"}class see extends Fn{constructor(e,n,r){super(e,n,r),this.key=mt.fromName(r.referenceValue)}matches(e){const n=mt.comparator(e.key,this.key);return this.matchesComparison(n)}}class oee extends Fn{constructor(e,n){super(e,"in",n),this.keys=P9("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lee extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=P9("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function P9(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>mt.fromName(r.referenceValue)))}class cee extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&ky(n.arrayValue,this.value)}}class O9 extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ky(this.value.arrayValue,n)}}class uee extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ky(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ky(this.value.arrayValue,n)}}class fee extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ky(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Te=null}}function dS(t,e=null,n=[],r=[],i=null,a=null,s=null){return new hee(t,e,n,r,i,a,s)}function Gd(t){const e=bt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),_0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Zm(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Zm(r))).join(",")),e.Te=n}return e.Te}function w0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UO(t.startAt,e.startAt)&&UO(t.endAt,e.endAt)}function f2(t){return mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function h2(t,e){return t.filters.filter((n=>n instanceof Fn&&n.field.isEqual(e)))}function BO(t,e,n){let r=jb,i=!0;for(const a of h2(t,e)){let s=jb,l=!0;switch(a.op){case"<":case"<=":s=ree(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,l=!1;break;case"!=":case"not-in":s=jb}jO({value:r,inclusive:i},{value:s,inclusive:l})<0&&(r=s,i=l)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];jO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function VO(t,e,n){let r=dh,i=!0;for(const a of h2(t,e)){let s=dh,l=!0;switch(a.op){case">=":case">":s=iee(a.value),l=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,l=!1;break;case"!=":case"not-in":s=dh}MO({value:r,inclusive:i},{value:s,inclusive:l})>0&&(r=s,i=l)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];MO({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R9(t,e,n,r,i,a,s,l){return new yf(t,e,n,r,i,a,s,l)}function Tg(t){return new yf(t)}function zO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ON(t){return t.collectionGroup!==null}function Dm(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new xr(li.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new jy(a,r))})),n.has(li.keyField().canonicalString())||e.Ie.push(new jy(li.keyField(),r))}return e.Ie}function Ks(t){const e=bt(t);return e.Ee||(e.Ee=dee(e,Dm(t))),e.Ee}function dee(t,e){if(t.limitType==="F")return dS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new jy(i.field,a)}));const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return dS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pS(t,e){const n=t.filters.concat([e]);return new yf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d2(t,e,n){return new yf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E0(t,e){return w0(Ks(t),Ks(e))&&t.limitType===e.limitType}function D9(t){return`${Gd(Ks(t))}|lt:${t.limitType}`}function ym(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>C9(i))).join(", ")}]`),_0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Zm(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Zm(i))).join(",")),`Target(${r})`})(Ks(t))}; limitType=${t.limitType})`}function A0(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):mt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Dm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,u){const f=FO(s,l,u);return s.inclusive?f<=0:f<0})(r.startAt,Dm(r),i)||r.endAt&&!(function(s,l,u){const f=FO(s,l,u);return s.inclusive?f>=0:f>0})(r.endAt,Dm(r),i))})(t,e)}function k9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L9(t){return(e,n)=>{let r=!1;for(const i of Dm(t)){const a=pee(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function pee(t,e,n){const r=t.field.isKeyField()?mt.comparator(e.key,n.key):(function(a,s,l){const u=s.data.field(a),f=l.data.field(a);return u!==null&&f!==null?Ph(u,f):wt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qh(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return m9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=new zr(mt.comparator);function So(){return mee}const j9=new zr(mt.comparator);function Wv(...t){let e=j9;for(const n of t)e=e.insert(n.key,n);return e}function M9(t){let e=j9;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jc(){return fy()}function F9(){return fy()}function fy(){return new bf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gee=new zr(mt.comparator),vee=new xr(mt.comparator);function xn(...t){let e=vee;for(const n of t)e=e.add(n);return e}const yee=new xr(mn);function RN(){return yee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cy(e)?"-0":e}}function U9(t){return{integerValue:""+t}}function B9(t,e){return i9(e)?U9(e):DN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this._=void 0}}function bee(t,e,n){return t instanceof tg?(function(i,a){const s={fields:{[y9]:{stringValue:v9},[_9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&B_(a)&&(a=V_(a)),a&&(s.fields[b9]=a),{mapValue:s}})(n,e):t instanceof Yd?z9(t,e):t instanceof Wd?q9(t,e):(function(i,a){const s=V9(i,a),l=qO(s)+qO(i.Ae);return uS(s)&&uS(i.Ae)?U9(l):DN(i.serializer,l)})(t,e)}function _ee(t,e,n){return t instanceof Yd?z9(t,e):t instanceof Wd?q9(t,e):n}function V9(t,e){return t instanceof ng?(function(r){return uS(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class tg extends q_{}class Yd extends q_{constructor(e){super(),this.elements=e}}function z9(t,e){const n=H9(e);for(const r of t.elements)n.some((i=>cu(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Wd extends q_{constructor(e){super(),this.elements=e}}function q9(t,e){let n=H9(e);for(const r of t.elements)n=n.filter((i=>!cu(i,r)));return{arrayValue:{values:n}}}class ng extends q_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qO(t){return si(t.integerValue||t.doubleValue)}function H9(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.field=e,this.transform=n}}function xee(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Yd&&i instanceof Yd||r instanceof Wd&&i instanceof Wd?Gm(r.elements,i.elements,cu):r instanceof ng&&i instanceof ng?cu(r.Ae,i.Ae):r instanceof tg&&i instanceof tg})(t.transform,e.transform)}class wee{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ub(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class H_{}function $9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ig(t.key,ci.none()):new Ng(t.key,t.data,ci.none());{const n=t.data,r=is.empty();let i=new xr(li.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new _f(t.key,r,new Ao(i.toArray()),ci.none())}}function Eee(t,e,n){t instanceof Ng?(function(i,a,s){const l=i.value.clone(),u=$O(i.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof _f?(function(i,a,s){if(!Ub(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=$O(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(G9(i)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function hy(t,e,n,r){return t instanceof Ng?(function(a,s,l,u){if(!Ub(a.precondition,s))return l;const f=a.value.clone(),h=GO(a.fieldTransforms,u,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof _f?(function(a,s,l,u){if(!Ub(a.precondition,s))return l;const f=GO(a.fieldTransforms,u,s),h=s.data;return h.setAll(G9(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,s,l){return Ub(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function Aee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=V9(r.transform,i||null);a!=null&&(n===null&&(n=is.empty()),n.set(r.field,a))}return n||null}function HO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gm(r,i,((a,s)=>xee(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ng extends H_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _f extends H_{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function G9(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $O(t,e,n){const r=new Map;jt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,_ee(s,l,n[i]))}return r}function GO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,bee(a,s,e))}return r}class Ig extends H_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kN extends H_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Eee(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hy(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hy(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F9();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const u=$9(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xn())}isEqual(e){return this.batchId===e.batchId&&Gm(this.mutations,e.mutations,((n,r)=>HO(n,r)))&&Gm(this.baseMutations,e.baseMutations,((n,r)=>HO(n,r)))}}class jN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return gee})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new jN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ta,$n;function Y9(t){switch(t){case Be.OK:return wt(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return wt(15467,{code:t})}}function W9(t){if(t===void 0)return $i("GRPC error has no .code"),Be.UNKNOWN;switch(t){case ta.OK:return Be.OK;case ta.CANCELLED:return Be.CANCELLED;case ta.UNKNOWN:return Be.UNKNOWN;case ta.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case ta.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case ta.INTERNAL:return Be.INTERNAL;case ta.UNAVAILABLE:return Be.UNAVAILABLE;case ta.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case ta.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case ta.NOT_FOUND:return Be.NOT_FOUND;case ta.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case ta.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case ta.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case ta.ABORTED:return Be.ABORTED;case ta.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case ta.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case ta.DATA_LOSS:return Be.DATA_LOSS;default:return wt(39323,{code:t})}}($n=ta||(ta={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=new bh([4294967295,4294967295],0);function YO(t){const e=K9().encode(t),n=new V8;return n.update(e),new Uint8Array(n.digest())}function WO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bh([n,r],0),new bh([i,a],0)]}class FN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kv(`Invalid padding: ${n}`);if(r<0)throw new Kv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kv(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bh.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bh.fromNumber(r)));return i.compare(Tee)===1&&(i=new bh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YO(e),[r,i]=WO(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new FN(a,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=YO(e),[r,i]=WO(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,N0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T0(Gt.min(),i,new zr(mn),So(),xn())}}class N0{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new N0(r,n,xn(),xn(),xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class X9{constructor(e,n){this.targetId=e,this.Ce=n}}class Q9{constructor(e,n,r=Ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KO{constructor(){this.ve=0,this.Fe=XO(),this.Me=Ci.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xn(),n=xn(),r=xn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:wt(38017,{changeType:a})}})),new N0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=XO()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nee{constructor(e){this.Ge=e,this.ze=new Map,this.je=So(),this.Je=J1(),this.He=J1(),this.Ye=new zr(mn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(f2(a))if(r===0){const s=new mt(a.path);this.et(n,s,Wr.newNoDocument(s,Gt.min()))}else jt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),u=l?this.ct(l,e,s):1;if(u!==0){this.it(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=lf(r).toUint8Array()}catch(u){if(u instanceof g9)return lu("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new FN(s,i,a)}catch(u){return lu(u instanceof Kv?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const l=this.ot(s);if(l){if(a.current&&f2(l.target)){const u=new mt(l.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Wr.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}}));let r=xn();this.He.forEach(((a,s)=>{let l=!0;s.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new T0(e,n,this.Ye,this.je,r);return this.je=So(),this.Je=J1(),this.He=J1(),this.Ye=new zr(mn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KO,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xr(mn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xr(mn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function J1(){return new zr(mt.comparator)}function XO(){return new zr(mt.comparator)}const Iee={asc:"ASCENDING",desc:"DESCENDING"},Cee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pee={and:"AND",or:"OR"};class Oee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mS(t,e){return t.useProto3Json||_0(e)?e:{value:e}}function rg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ree(t,e){return rg(t,e.toTimestamp())}function Gi(t){return jt(!!t,49232),Gt.fromTimestamp((function(n){const r=of(n);return new hr(r.seconds,r.nanos)})(t))}function UN(t,e){return gS(t,e).canonicalString()}function gS(t,e){const n=(function(i){return new kn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Z9(t){const e=kn.fromString(t);return jt(cF(e),10190,{key:e.toString()}),e}function My(t,e){return UN(t.databaseId,e.path)}function nu(t,e){const n=Z9(e);if(n.get(1)!==t.databaseId.projectId)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mt(nF(n))}function eF(t,e){return UN(t.databaseId,e)}function tF(t){const e=Z9(t);return e.length===4?kn.emptyPath():nF(e)}function vS(t){return new kn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nF(t){return jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QO(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function rF(t,e,n){const r=nu(t,e.name),i=Gi(e.updateTime),a=e.createTime?Gi(e.createTime):Gt.min(),s=new is({mapValue:{fields:e.fields}}),l=Wr.newFoundDocument(r,i,a,s);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function Dee(t,e){return"found"in e?(function(r,i){jt(!!i.found,43571),i.found.name,i.found.updateTime;const a=nu(r,i.found.name),s=Gi(i.found.updateTime),l=i.found.createTime?Gi(i.found.createTime):Gt.min(),u=new is({mapValue:{fields:i.found.fields}});return Wr.newFoundDocument(a,s,l,u)})(t,e):"missing"in e?(function(r,i){jt(!!i.missing,3894),jt(!!i.readTime,22933);const a=nu(r,i.missing),s=Gi(i.readTime);return Wr.newNoDocument(a,s)})(t,e):wt(7234,{result:e})}function kee(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:wt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,h){return f.useProto3Json?(jt(h===void 0||typeof h=="string",58123),Ci.fromBase64String(h||"")):(jt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ci.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?Be.UNKNOWN:W9(f.code);return new tt(h,f.message||"")})(s);n=new Q9(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nu(t,r.document.name),a=Gi(r.document.updateTime),s=r.document.createTime?Gi(r.document.createTime):Gt.min(),l=new is({mapValue:{fields:r.document.fields}}),u=Wr.newFoundDocument(i,a,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Bb(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nu(t,r.document),a=r.readTime?Gi(r.readTime):Gt.min(),s=Wr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new Bb([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nu(t,r.document),a=r.removedTargetIds||[];n=new Bb([],a,i,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new See(i,a),l=r.targetId;n=new X9(l,s)}}return n}function Fy(t,e){let n;if(e instanceof Ng)n={update:QO(t,e.key,e.value)};else if(e instanceof Ig)n={delete:My(t,e.key)};else if(e instanceof _f)n={update:QO(t,e.key,e.data),updateMask:Bee(e.fieldMask)};else{if(!(e instanceof kN))return wt(16599,{Vt:e.type});n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const l=s.transform;if(l instanceof tg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Yd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ng)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw wt(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Ree(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:wt(27497)})(t,e.precondition)),n}function yS(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?ci.updateTime(Gi(a.updateTime)):a.exists!==void 0?ci.exists(a.exists):ci.none()})(e.currentDocument):ci.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(s,l){let u=null;if("setToServerValue"in l)jt(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),u=new tg;else if("appendMissingElements"in l){const h=l.appendMissingElements.values||[];u=new Yd(h)}else if("removeAllFromArray"in l){const h=l.removeAllFromArray.values||[];u=new Wd(h)}else"increment"in l?u=new ng(s,l.increment):wt(16584,{proto:l});const f=li.fromServerFormat(l.fieldPath);return new S0(f,u)})(t,i))):[];if(e.update){e.update.name;const i=nu(t,e.update.name),a=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(u){const f=u.fieldPaths||[];return new Ao(f.map((h=>li.fromServerFormat(h))))})(e.updateMask);return new _f(i,a,s,n,r)}return new Ng(i,a,n,r)}if(e.delete){const i=nu(t,e.delete);return new Ig(i,n)}if(e.verify){const i=nu(t,e.verify);return new kN(i,n)}return wt(1463,{proto:e})}function Lee(t,e){return t&&t.length>0?(jt(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?Gi(i.updateTime):Gi(a);return s.isEqual(Gt.min())&&(s=Gi(a)),new wee(s,i.transformResults||[])})(n,e)))):[]}function iF(t,e){return{documents:[eF(t,e.path)]}}function aF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eF(t,i);const a=(function(f){if(f.length!==0)return lF(_r.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(f){if(f.length!==0)return f.map((h=>(function(y){return{field:bm(y.field),direction:Mee(y.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=mS(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function sF(t){let e=tF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=(function(p){const y=oF(p);return y instanceof _r&&PN(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((y=>(function(E){return new jy(_m(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let y;return y=typeof p=="object"?p.value:p,_0(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(p){const y=!!p.before,g=p.values||[];return new Oh(g,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const y=!p.before,g=p.values||[];return new Oh(g,y)})(n.endAt)),R9(e,i,s,a,l,"F",u,f)}function jee(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_m(n.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_m(n.unaryFilter.field);return Fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_m(n.unaryFilter.field);return Fn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_m(n.unaryFilter.field);return Fn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Fn.create(_m(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((r=>oF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(t):wt(30097,{filter:t})}function Mee(t){return Iee[t]}function Fee(t){return Cee[t]}function Uee(t){return Pee[t]}function bm(t){return{fieldPath:t.canonicalString()}}function _m(t){return li.fromServerFormat(t.fieldPath)}function lF(t){return t instanceof Fn?(function(n){if(n.op==="=="){if(LO(n.value))return{unaryFilter:{field:bm(n.field),op:"IS_NAN"}};if(kO(n.value))return{unaryFilter:{field:bm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LO(n.value))return{unaryFilter:{field:bm(n.field),op:"IS_NOT_NAN"}};if(kO(n.value))return{unaryFilter:{field:bm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bm(n.field),op:Fee(n.op),value:n.value}}})(t):t instanceof _r?(function(n){const r=n.getFilters().map((i=>lF(i)));return r.length===1?r[0]:{compositeFilter:{op:Uee(n.op),filters:r}}})(t):wt(54877,{filter:t})}function Bee(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i,a=Gt.min(),s=Gt.min(),l=Ci.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.yt=e}}function Vee(t,e){let n;if(e.document)n=rF(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=mt.fromSegments(e.noDocument.path),i=Xd(e.noDocument.readTime);n=Wr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt(56709);{const r=mt.fromSegments(e.unknownDocument.path),i=Xd(e.unknownDocument.version);n=Wr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new hr(i[0],i[1]);return Gt.fromTimestamp(a)})(e.readTime)),n}function JO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:p2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,s){return{name:My(a,s.key),fields:s.data.value.mapValue.fields,updateTime:rg(a,s.version.toTimestamp()),createTime:rg(a,s.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kd(e.version)};else{if(!e.isUnknownDocument())return wt(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Kd(e.version)}}return r}function p2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Kd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xd(t){const e=new hr(t.seconds,t.nanoseconds);return Gt.fromTimestamp(e)}function xd(t,e){const n=(e.baseMutations||[]).map((a=>yS(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];s.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>yS(t.yt,a))),i=hr.fromMillis(e.localWriteTimeMs);return new LN(e.batchId,i,n,r)}function Xv(t){const e=Xd(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Xd(t.lastLimboFreeSnapshotVersion):Gt.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const s=a.documents.length;return jt(s===1,1966,{count:s}),Ks(Tg(tF(a.documents[0])))})(t.query):(function(a){return Ks(sF(a))})(t.query),new Xu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ci.fromBase64String(t.resumeToken))}function fF(t,e){const n=Kd(e.snapshotVersion),r=Kd(e.lastLimboFreeSnapshotVersion);let i;i=f2(e.target)?iF(t.yt,e.target):aF(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gd(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function BN(t){const e=sF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d2(e,e.limit,"L"):e}function C5(t,e){return new MN(e.largestBatchId,yS(t.yt,e.overlayMutation))}function ZO(t,e){const n=e.path.lastSegment();return[t,Ds(e.path.popLast()),n]}function eR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Kd(r.readTime),documentKey:Ds(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{getBundleMetadata(e,n){return tR(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:Xd(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return tR(e).put((function(i){return{bundleId:i.id,createTime:Kd(Gi(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return nR(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:BN(a.bundledQuery),readTime:Xd(a.readTime)}})(r)}))}saveNamedQuery(e,n){return nR(e).put((function(i){return{name:i.name,readTime:Kd(Gi(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function tR(t){return Ea(t,M_)}function nR(t){return Ea(t,F_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new $_(e,r)}getOverlay(e,n){return Pv(e).get(ZO(this.userId,n)).next((r=>r?C5(this.serializer,r):null))}getOverlays(e,n){const r=Jc();return Re.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,s)=>{const l=new MN(n,s);i.push(this.St(e,l))})),Re.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((s=>i.add(Ds(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(Pv(e).Z(sS,l))})),Re.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Jc(),a=Ds(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Pv(e).J(sS,s).next((l=>{for(const u of l){const f=C5(this.serializer,u);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Jc();let s;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Pv(e).ee({index:u9,range:l},((u,f,h)=>{const p=C5(this.serializer,f);a.size()<i||p.largestBatchId===s?(a.set(p.getKey(),p),s=p.largestBatchId):h.done()})).next((()=>a))}St(e,n){return Pv(e).put((function(i,a,s){const[l,u,f]=ZO(a,s.mutation.key);return{userId:a,collectionPath:u,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Fy(i.yt,s.mutation)}})(this.serializer,this.userId,n))}}function Pv(t){return Ea(t,U_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{bt(e){return Ea(e,TN)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Ci.fromUint8Array(r):Ci.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(si(e.integerValue));else if("doubleValue"in e){const r=si(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Cy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=of(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(lf(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?w9(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):z_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):wt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,l;const r=e.fields||{};this.Ft(n,53);const i=Jm,a=((l=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(si(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),mt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}wd.Kt=new wd;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=255;function Hee(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function rR(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const s=Hee(255&r[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class $ee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=rR(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=rR(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(am),this.sn(255)}_n(){this.an(am),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===am?(this.sn(am),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===am?(this.an(am),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Gee{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Yee{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ov{constructor(){this.cn=new $ee,this.ln=new Gee(this.cn),this.hn=new Yee(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ed(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Vb(this.En),directionalValue:Vb(this.dn),orderedDocumentKey:Vb(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function nh(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=iR(t.En,e.En),n!==0?n:(n=iR(t.dn,e.dn),n!==0?n:mt.comparator(t.In,e.In)))}function iR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Vb(t){return IM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function aR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class sR{constructor(e){this.mn=new xr(((n,r)=>li.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(jt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=rS(e);if(n!==void 0&&!this.wn(n))return!1;const r=pd(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const u=r[a];if(!this.Sn(l,u)||!this.bn(this.fn[s++],u))return!1}++a}for(;a<r.length;++a){const l=r[a];if(s>=this.fn.length||!this.bn(this.fn[s++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new xr(li.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Db(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Db(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Db(r.field,r.dir==="asc"?0:1)));return new o2(o2.UNKNOWN_ID,this.collectionId,n,Iy.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){var n,r;if(jt(t instanceof Fn||t instanceof _r,20012),t instanceof Fn){if(t instanceof O9){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((a=>Fn.create(t.field,"==",a))))||[];return _r.create(i,"or")}return t}const e=t.filters.map((i=>hF(i)));return _r.create(e,t.op)}function Wee(t){if(t.getFilters().length===0)return[];const e=xS(hF(t));return jt(dF(e),7391),bS(e)||_S(e)?[e]:e.getFilters()}function bS(t){return t instanceof Fn}function _S(t){return t instanceof _r&&PN(t)}function dF(t){return bS(t)||_S(t)||(function(n){if(n instanceof _r&&fS(n)){for(const r of n.getFilters())if(!bS(r)&&!_S(r))return!1;return!0}return!1})(t)}function xS(t){if(jt(t instanceof Fn||t instanceof _r,34018),t instanceof Fn)return t;if(t.filters.length===1)return xS(t.filters[0]);const e=t.filters.map((r=>xS(r)));let n=_r.create(e,t.op);return n=m2(n),dF(n)?n:(jt(n instanceof _r,64498),jt(eg(n),40251),jt(n.filters.length>1,57927),n.filters.reduce(((r,i)=>VN(r,i))))}function VN(t,e){let n;return jt(t instanceof Fn||t instanceof _r,38388),jt(e instanceof Fn||e instanceof _r,25473),n=t instanceof Fn?e instanceof Fn?(function(i,a){return _r.create([i,a],"and")})(t,e):oR(t,e):e instanceof Fn?oR(e,t):(function(i,a){if(jt(i.filters.length>0&&a.filters.length>0,48005),eg(i)&&eg(a))return I9(i,a.getFilters());const s=fS(i)?i:a,l=fS(i)?a:i,u=s.filters.map((f=>VN(f,l)));return _r.create(u,"or")})(t,e),m2(n)}function oR(t,e){if(eg(e))return I9(e,t.getFilters());{const n=e.filters.map((r=>VN(t,r)));return _r.create(n,"or")}}function m2(t){if(jt(t instanceof Fn||t instanceof _r,11850),t instanceof Fn)return t;const e=t.getFilters();if(e.length===1)return m2(e[0]);if(T9(t))return t;const n=e.map((i=>m2(i))),r=[];return n.forEach((i=>{i instanceof Fn?r.push(i):i instanceof _r&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:_r.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(){this.Cn=new zN}addToCollectionParentIndex(e,n){return this.Cn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(Zo.min())}updateCollectionGroup(e,n,r){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class zN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xr(kn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xr(kn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="IndexedDbIndexManager",Z1=new Uint8Array(0);class Xee{constructor(e,n){this.databaseId=n,this.vn=new zN,this.Fn=new bf((r=>Gd(r)),((r,i)=>w0(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:Ds(i)};return cR(e).put(a)}return Re.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[K8(n),""],!1,!0);return cR(e).J(i).next((a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Qc(s.parent))}return r}))}addFieldIndex(e,n){const r=Rv(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=om(e);return a.next((l=>{s.put(eR(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=Rv(e),i=om(e),a=sm(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Rv(e),r=sm(e),i=om(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Re.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new sR(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=sm(e);let i=!0;const a=new Map;return Re.forEach(this.Mn(n),(s=>this.xn(e,s).next((l=>{i&&(i=!!l),a.set(s,l)})))).next((()=>{if(i){let s=xn();const l=[];return Re.forEach(a,((u,f)=>{at(lR,`Using index ${(function(k){return`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(u)} to execute ${Gd(n)}`);const h=(function(k,B){const $=rS(B);if($===void 0)return null;for(const K of h2(k,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(f,u),p=(function(k,B){const $=new Map;for(const K of pd(B))for(const j of h2(k,K.fieldPath))switch(j.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),j.value),Array.from($.values())}return null})(f,u),y=(function(k,B){const $=[];let K=!0;for(const j of pd(B)){const L=j.kind===0?BO(k,j.fieldPath,k.startAt):VO(k,j.fieldPath,k.startAt);$.push(L.value),K&&(K=L.inclusive)}return new Oh($,K)})(f,u),g=(function(k,B){const $=[];let K=!0;for(const j of pd(B)){const L=j.kind===0?VO(k,j.fieldPath,k.endAt):BO(k,j.fieldPath,k.endAt);$.push(L.value),K&&(K=L.inclusive)}return new Oh($,K)})(f,u),E=this.On(u,f,y),A=this.On(u,f,g),S=this.Nn(u,f,p),I=this.Bn(u.indexId,h,E,y.inclusive,A,g.inclusive,S);return Re.forEach(I,(q=>r.Y(q,n.limit).next((k=>{k.forEach((B=>{const $=mt.fromSegments(B.documentKey);s.has($)||(s=s.add($),l.push($))}))}))))})).next((()=>l))}return Re.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Wee(_r.create(e.filters,"and")).map((r=>dS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,s,l){const u=(n!=null?n.length:1)*Math.max(r.length,a.length),f=u/(n!=null?n.length:1),h=[];for(let p=0;p<u;++p){const y=n?this.Ln(n[p/f]):Z1,g=this.kn(e,y,r[p%f],i),E=this.qn(e,y,a[p%f],s),A=l.map((S=>this.kn(e,y,S,!0)));h.push(...this.createRange(g,E,A))}return h}kn(e,n,r,i){const a=new Ed(e,mt.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new Ed(e,mt.empty(),n,r);return i?a.An():a}xn(e,n){const r=new sR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const l of a)r.yn(l)&&(!s||l.fields.length>s.fields.length)&&(s=l);return s}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Re.forEach(i,(a=>this.xn(e,a).next((s=>{s?r!==0&&s.fields.length<(function(u){let f=new xr(li.comparator),h=!1;for(const p of u.filters)for(const y of p.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?h=!0:f=f.add(y.field));for(const p of u.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(h?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(s){return s.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Ov;for(const i of pd(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Pn(i.kind);wd.Kt.Dt(a,s)}return r.un()}Ln(e){const n=new Ov;return wd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Ov;return wd.Kt.Dt($d(this.databaseId,n),r.Pn((function(a){const s=pd(a);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Ov);let a=0;for(const s of pd(e)){const l=r[a++];for(const u of i)if(this.Un(n,s.fieldPath)&&Ly(l))i=this.Kn(i,s,l);else{const f=u.Pn(s.kind);wd.Kt.Dt(l,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const l of i){const u=new Ov;u.seed(l.un()),wd.Kt.Dt(s,u.Pn(n.kind)),a.push(u)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof Fn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Rv(e),i=om(e);return(n?r.J(aS,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const s=[];return Re.forEach(a,(l=>i.get([l.indexId,this.uid]).next((u=>{s.push((function(h,p){const y=p?new Iy(p.sequenceNumber,new Zo(Xd(p.readTime),new mt(Qc(p.documentKey)),p.largestBatchId)):Iy.empty(),g=h.fields.map((([E,A])=>new Db(li.fromServerFormat(E),A)));return new o2(h.indexId,h.collectionGroup,g,y)})(l,u))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:mn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Rv(e),a=om(e);return this.Gn(e).next((s=>i.J(aS,IDBKeyRange.bound(n,n)).next((l=>Re.forEach(l,(u=>a.put(eR(u.indexId,this.uid,s,r))))))))}updateIndexEntries(e,n){const r=new Map;return Re.forEach(n,((i,a)=>{const s=r.get(i.collectionGroup);return(s?Re.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),Re.forEach(l,(u=>this.zn(e,i,u).next((f=>{const h=this.jn(a,u);return f.isEqual(h)?Re.resolve():this.Jn(e,a,u,f,h)})))))))}))}Hn(e,n,r,i){return sm(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return sm(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=sm(e);let a=new xr(nh);return i.ee({index:c9,range:IDBKeyRange.only([r.indexId,this.uid,Vb(this.$n(r,n))])},((s,l)=>{a=a.add(new Ed(r.indexId,n,aR(l.arrayValue),aR(l.directionalValue)))})).next((()=>a))}jn(e,n){let r=new xr(nh);const i=this.Qn(n,e);if(i==null)return r;const a=rS(n);if(a!=null){const s=e.data.field(a.fieldPath);if(Ly(s))for(const l of s.arrayValue.values||[])r=r.add(new Ed(n.indexId,e.key,this.Ln(l),i))}else r=r.add(new Ed(n.indexId,e.key,Z1,i));return r}Jn(e,n,r,i,a){at(lR,"Updating index entries for document '%s'",n.key);const s=[];return(function(u,f,h,p,y){const g=u.getIterator(),E=f.getIterator();let A=im(g),S=im(E);for(;A||S;){let I=!1,q=!1;if(A&&S){const k=h(A,S);k<0?q=!0:k>0&&(I=!0)}else A!=null?q=!0:I=!0;I?(p(S),S=im(E)):q?(y(A),A=im(g)):(A=im(g),S=im(E))}})(i,a,nh,(l=>{s.push(this.Hn(e,n,r,l))}),(l=>{s.push(this.Yn(e,n,r,l))})),Re.waitFor(s)}Gn(e){let n=1;return om(e).ee({index:l9,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((s,l)=>nh(s,l))).filter(((s,l,u)=>!l||nh(s,u[l-1])!==0));const i=[];i.push(e);for(const s of r){const l=nh(s,e),u=nh(s,n);if(l===0)i[0]=e.An();else if(l>0&&u<0)i.push(s),i.push(s.An());else if(u>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const l=i[s].Vn(this.uid,Z1,mt.empty()),u=i[s+1].Vn(this.uid,Z1,mt.empty());a.push(IDBKeyRange.bound(l,u))}return a}Zn(e,n){return nh(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(uR)}getMinOffset(e,n){return Re.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||wt(44426))))).next(uR)}}function cR(t){return Ea(t,Ry)}function sm(t){return Ea(t,cy)}function Rv(t){return Ea(t,SN)}function om(t){return Ea(t,ly)}function uR(t){jt(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;wN(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zo(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pF=41943040;class Cs{static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t,e,n){const r=t.store(rc),i=t.store(Wm),a=[],s=IDBKeyRange.only(n.batchId);let l=0;const u=r.ee({range:s},((h,p,y)=>(l++,y.delete())));a.push(u.next((()=>{jt(l===1,47070,{batchId:n.batchId})})));const f=[];for(const h of n.mutations){const p=a9(e,h.key.path,n.batchId);a.push(i.delete(p)),f.push(h.key)}return Re.waitFor(a).next((()=>f))}function g2(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wt(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(pF,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class G_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){jt(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new G_(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rh(e).ee({index:Nd,range:r},((i,a,s)=>{n=!1,s.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=xm(e),s=rh(e);return s.add({}).next((l=>{jt(typeof l=="number",49019);const u=new LN(l,n,r,i),f=(function(g,E,A){const S=A.baseMutations.map((q=>Fy(g.yt,q))),I=A.mutations.map((q=>Fy(g.yt,q)));return{userId:E,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:I}})(this.serializer,this.userId,u),h=[];let p=new xr(((y,g)=>mn(y.canonicalString(),g.canonicalString())));for(const y of i){const g=a9(this.userId,y.key.path,l);p=p.add(y.key.path.popLast()),h.push(s.put(f)),h.push(a.put(g,PZ))}return p.forEach((y=>{h.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Xn[l]=u.keys()})),Re.waitFor(h).next((()=>u))}))}lookupMutationBatch(e,n){return rh(e).get(n).next((r=>r?(jt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),xd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Re.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return rh(e).ee({index:Nd,range:i},((s,l,u)=>{l.userId===this.userId&&(jt(l.batchId>=r,47524,{tr:r}),a=xd(this.serializer,l)),u.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=_h;return rh(e).ee({index:Nd,range:n,reverse:!0},((i,a,s)=>{r=a.batchId,s.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,_h],[this.userId,Number.POSITIVE_INFINITY]);return rh(e).J(Nd,n).next((r=>r.map((i=>xd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=kb(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return xm(e).ee({range:i},((s,l,u)=>{const[f,h,p]=s,y=Qc(h);if(f===this.userId&&n.path.isEqual(y))return rh(e).get(p).next((g=>{if(!g)throw wt(61480,{nr:s,batchId:p});jt(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:p}),a.push(xd(this.serializer,g))}));u.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(mn);const i=[];return n.forEach((a=>{const s=kb(this.userId,a.path),l=IDBKeyRange.lowerBound(s),u=xm(e).ee({range:l},((f,h,p)=>{const[y,g,E]=f,A=Qc(g);y===this.userId&&a.path.isEqual(A)?r=r.add(E):p.done()}));i.push(u)})),Re.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=kb(this.userId,r),s=IDBKeyRange.lowerBound(a);let l=new xr(mn);return xm(e).ee({range:s},((u,f,h)=>{const[p,y,g]=u,E=Qc(y);p===this.userId&&r.isPrefixOf(E)?E.length===i&&(l=l.add(g)):h.done()})).next((()=>this.rr(e,l)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(rh(e).get(a).next((s=>{if(s===null)throw wt(35274,{batchId:a});jt(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(xd(this.serializer,s))})))})),Re.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return mF(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Re.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Re.resolve();const r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return xm(e).ee({range:r},((a,s,l)=>{if(a[0]===this.userId){const u=Qc(a[1]);i.push(u)}else l.done()})).next((()=>{jt(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return gF(e,this.userId,n)}_r(e){return vF(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:_h,lastStreamToken:""}))}}function gF(t,e,n){const r=kb(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return xm(t).ee({range:a,X:!0},((l,u,f)=>{const[h,p,y]=l;h===e&&p===i&&(s=!0),f.done()})).next((()=>s))}function rh(t){return Ea(t,rc)}function xm(t){return Ea(t,Wm)}function vF(t){return Ea(t,Py)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qd(0)}static cr(){return new Qd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Qd(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Gt.fromTimestamp(new hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>lm(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(jt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return lm(e).ee(((s,l)=>{const u=Xv(l);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,a.push(this.removeTargetData(e,u)))})).next((()=>Re.waitFor(a))).next((()=>i))}forEachTarget(e,n){return lm(e).ee(((r,i)=>{const a=Xv(i);n(a)}))}lr(e){return hR(e).get(u2).next((n=>(jt(n!==null,2888),n)))}hr(e,n){return hR(e).put(u2,n)}Pr(e,n){return lm(e).put(fF(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Gd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return lm(e).ee({range:i,index:o9},((s,l,u)=>{const f=Xv(l);w0(n,f.target)&&(a=f,u.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=uh(e);return n.forEach((s=>{const l=Ds(s.path);i.push(a.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,s))})),Re.waitFor(i)}removeMatchingKeys(e,n,r){const i=uh(e);return Re.forEach(n,(a=>{const s=Ds(a.path);return Re.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=uh(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=uh(e);let a=xn();return i.ee({range:r,X:!0},((s,l,u)=>{const f=Qc(s[1]),h=new mt(f);a=a.add(h)})).next((()=>a))}containsKey(e,n){const r=Ds(n.path),i=IDBKeyRange.bound([r],[K8(r)],!1,!0);let a=0;return uh(e).ee({index:AN,X:!0,range:i},(([s,l],u,f)=>{s!==0&&(a++,f.done())})).next((()=>a>0))}At(e,n){return lm(e).get(n).next((r=>r?Xv(r):null))}}function lm(t){return Ea(t,Km)}function hR(t){return Ea(t,Ld)}function uh(t){return Ea(t,Xm)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="LruGarbageCollector",Jee=1048576;function pR([t,e],[n,r]){const i=mn(t,n);return i===0?mn(e,r):i}class Zee{constructor(e){this.Ir=e,this.buffer=new xr(pR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(dR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zh(n)?at(dR,"Ignoring IndexedDB error during garbage collection: ",n):await Vh(n)}await this.Vr(3e5)}))}}class ete{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Re.resolve(Eo.ce);const r=new Zee(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(fR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,l,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),vm()<=Dn.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function bF(t,e){return new ete(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e,n){this.db=e,this.garbageCollector=bF(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return eb(e,r)}removeReference(e,n,r){return eb(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return eb(e,n)}br(e,n){return(function(i,a){let s=!1;return vF(i).te((l=>gF(i,l,a).next((u=>(u&&(s=!0),Re.resolve(!u)))))).next((()=>s))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((s,l)=>{if(l<=n){const u=this.br(e,s).next((f=>{if(!f)return a++,r.getEntry(e,s).next((()=>(r.removeEntry(s,Gt.min()),uh(e).delete((function(p){return[0,Ds(p.path)]})(s)))))}));i.push(u)}})).next((()=>Re.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return eb(e,n)}Sr(e,n){const r=uh(e);let i,a=Eo.ce;return r.ee({index:AN},(([s,l],{path:u,sequenceNumber:f})=>{s===0?(a!==Eo.ce&&n(new mt(Qc(i)),a),a=f,i=u):a=Eo.ce})).next((()=>{a!==Eo.ce&&n(new mt(Qc(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eb(t,e){return uh(t).put((function(r,i){return{targetId:0,path:Ds(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.changes=new bf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return hd(e).put(r)}removeEntry(e,n,r){return hd(e).delete((function(a,s){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],p2(s),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Wr.newInvalidDocument(n);return hd(e).ee({index:Lb,range:IDBKeyRange.only(Dv(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:Wr.newInvalidDocument(n)};return hd(e).ee({index:Lb,range:IDBKeyRange.only(Dv(n))},((i,a)=>{r={document:this.Cr(n,a),size:g2(a)}})).next((()=>r))}getEntries(e,n){let r=So();return this.Fr(e,n,((i,a)=>{const s=this.Cr(i,a);r=r.insert(i,s)})).next((()=>r))}Mr(e,n){let r=So(),i=new zr(mt.comparator);return this.Fr(e,n,((a,s)=>{const l=this.Cr(a,s);r=r.insert(a,l),i=i.insert(a,g2(s))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Re.resolve();let i=new xr(vR);n.forEach((u=>i=i.add(u)));const a=IDBKeyRange.bound(Dv(i.first()),Dv(i.last())),s=i.getIterator();let l=s.getNext();return hd(e).ee({index:Lb,range:a},((u,f,h)=>{const p=mt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;l&&vR(l,p)<0;)r(l,null),l=s.getNext();l&&l.isEqual(p)&&(r(l,f),l=s.hasNext()?s.getNext():null),l?h.j(Dv(l)):h.done()})).next((()=>{for(;l;)r(l,null),l=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,l=[s.popLast().toArray(),s.lastSegment(),p2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hd(e).J(IDBKeyRange.bound(l,u,!0)).next((f=>{a==null||a.incrementDocumentReadCount(f.length);let h=So();for(const p of f){const y=this.Cr(mt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);y.isFoundDocument()&&(A0(n,y)||i.has(y.key))&&(h=h.insert(y.key,y))}return h}))}getAllFromCollectionGroup(e,n,r,i){let a=So();const s=gR(n,r),l=gR(n,Zo.max());return hd(e).ee({index:s9,range:IDBKeyRange.bound(s,l,!0)},((u,f,h)=>{const p=this.Cr(mt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(p.key,p),a.size===i&&h.done()})).next((()=>a))}newChangeBuffer(e){return new rte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return mR(e).get(iS).next((n=>(jt(!!n,20021),n)))}Dr(e,n){return mR(e).put(iS,n)}Cr(e,n){if(n){const r=Vee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Gt.min())))return r}return Wr.newInvalidDocument(e)}}function xF(t){return new nte(t)}class rte extends _F{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new bf((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new xr(((a,s)=>mn(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const l=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,l.readTime)),s.isValidDocument()){const u=JO(this.Nr.serializer,s);i=i.add(a.path.popLast());const f=g2(u);r+=f-l.size,n.push(this.Nr.addEntry(e,a,u))}else if(r-=l.size,this.trackRemovals){const u=JO(this.Nr.serializer,s.convertToNoDocument(Gt.min()));n.push(this.Nr.addEntry(e,a,u))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Re.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,s)=>{this.Br.set(a,{size:s,readTime:r.get(a).readTime})})),r)))}}function mR(t){return Ea(t,Oy)}function hd(t){return Ea(t,c2)}function Dv(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gR(t,e){const n=e.documentKey.path.toArray();return[t,p2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=mn(n[a],r[a]),i)return i;return i=mn(n.length,r.length),i||(i=mn(n[n.length-2],r[r.length-2]),i||mn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&hy(r.mutation,i,Ao.empty(),hr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,xn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=xn()){const i=Jc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Wv();return a.forEach(((l,u)=>{s=s.insert(l,u.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Jc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,xn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let a=So();const s=fy(),l=(function(){return fy()})();return n.forEach(((u,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof _f)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),hy(h.mutation,f,h.mutation.getFieldMask(),hr.now())):s.set(f.key,Ao.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>l.set(f,new ite(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=fy();let i=new zr(((s,l)=>s-l)),a=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((u=>{const f=n.get(u);if(f===null)return;let h=r.get(u)||Ao.empty();h=l.applyToLocalView(f,h),r.set(u,h);const p=(i.get(l.batchId)||xn()).add(u);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,h=u.value,p=F9();h.forEach((y=>{if(!a.has(y)){const g=$9(n.get(y),r.get(y));g!==null&&p.set(y,g),a=a.add(y)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Re.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ON(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Re.resolve(Jc());let l=Ym,u=a;return s.next((f=>Re.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?Re.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{u=u.insert(h,y)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,u,f,xn()))).next((h=>({batchId:l,changes:M9(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new mt(n)).next((r=>{let i=Wv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Wv();return this.indexManager.getCollectionParents(e,a).next((l=>Re.forEach(l,(u=>{const f=(function(p,y){return new yf(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,y)=>{s=s.insert(p,y)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((u,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Wr.newInvalidDocument(h)))}));let l=Wv();return s.forEach(((u,f)=>{const h=a.get(u);h!==void 0&&hy(h.mutation,f,Ao.empty(),hr.now()),A0(n,f)&&(l=l.insert(u,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}})(n)),Re.resolve()}getNamedQuery(e,n){return Re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:BN(i.bundledQuery),readTime:Gi(i.readTime)}})(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(){this.overlays=new zr(mt.comparator),this.qr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jc();return Re.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Re.resolve()}getOverlaysForCollection(e,n,r){const i=Jc(),a=n.length+1,s=new mt(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new zr(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Jc(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Jc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return Re.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new MN(n,r));let a=this.qr.get(n);a===void 0&&(a=xn(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.Qr=new xr(Fa.$r),this.Ur=new xr(Fa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fa(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fa(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new mt(new kn([])),r=new Fa(n,e),i=new Fa(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new mt(new kn([])),r=new Fa(n,e),i=new Fa(n,e+1);let a=xn();return this.Ur.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new Fa(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fa{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return mt.comparator(e.key,n.key)||mn(e.Yr,n.Yr)}static Kr(e,n){return mn(e.Yr,n.Yr)||mt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xr(Fa.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new LN(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Zr=this.Zr.add(new Fa(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Re.resolve(s)}lookupMutationBatch(e,n){return Re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?_h:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fa(n,0),i=new Fa(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(s=>{const l=this.Xr(s.Yr);a.push(l)})),Re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(mn);return n.forEach((i=>{const a=new Fa(i,0),s=new Fa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(l=>{r=r.add(l.Yr)}))})),Re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;mt.isDocumentKey(a)||(a=a.child(""));const s=new Fa(new mt(a),0);let l=new xr(mn);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Yr)),!0)}),s),Re.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Re.forEach(n.mutations,(i=>{const a=new Fa(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fa(n,0),i=this.Zr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.ri=e,this.docs=(function(){return new zr(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():Wr.newInvalidDocument(n))}getEntries(e,n){let r=So();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wr.newInvalidDocument(i))})),Re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=So();const s=n.path,l=new mt(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||wN(e9(h),r)<=0||(i.has(h.key)||A0(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return Re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){wt(9500)}ii(e,n){return Re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ute(this)}getSize(e){return Re.resolve(this.size)}}class ute extends _F{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e){this.persistence=e,this.si=new bf((n=>Gd(n)),w0),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new qN,this.targetCount=0,this.ai=Qd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.Pr(n),Re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Re.waitFor(a).next((()=>i))}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),Re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Re.resolve(r)}containsKey(e,n){return Re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eo(0),this.li=!1,this.li=!0,this.hi=new ote,this.referenceDelegate=e(this),this.Pi=new fte(this),this.indexManager=new Kee,this.remoteDocumentCache=(function(i){return new cte(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uF(n),this.Ii=new ate(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ste,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lte(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new hte(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class hte extends n9{constructor(e){super(),this.currentSequenceNumber=e}}class Y_{constructor(e){this.persistence=e,this.Ri=new qN,this.Vi=null}static mi(e){return new Y_(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,(r=>{const i=mt.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Gt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Re.or([()=>Re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class v2{constructor(e,n){this.persistence=e,this.pi=new bf((r=>Ds(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=bF(this,n)}static mi(e,n){return new v2(e,n)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Re.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((l=>{l||(r++,a.removeEntry(s,Gt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mb(e.data.value)),n}br(e,n,r){return Re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.serializer=e}k(e,n,r,i){const a=new j_("createOrUpgrade",n);r<1&&i>=1&&((function(u){u.createObjectStore(x0)})(e),(function(u){u.createObjectStore(Py,{keyPath:CZ}),u.createObjectStore(rc,{keyPath:IO,autoIncrement:!0}).createIndex(Nd,CO,{unique:!0}),u.createObjectStore(Wm)})(e),yR(e),(function(u){u.createObjectStore(md)})(e));let s=Re.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(Xm),u.deleteObjectStore(Km),u.deleteObjectStore(Ld)})(e),yR(e)),s=s.next((()=>(function(u){const f=u.store(Ld),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gt.min().toTimestamp(),targetCount:0};return f.put(u2,h)})(a)))),r<4&&i>=4&&(r!==0&&(s=s.next((()=>(function(u,f){return f.store(rc).J().next((p=>{u.deleteObjectStore(rc),u.createObjectStore(rc,{keyPath:IO,autoIncrement:!0}).createIndex(Nd,CO,{unique:!0});const y=f.store(rc),g=p.map((E=>y.put(E)));return Re.waitFor(g)}))})(e,a)))),s=s.next((()=>{(function(u){u.createObjectStore(Qm,{keyPath:FZ})})(e)}))),r<5&&i>=5&&(s=s.next((()=>this.yi(a)))),r<6&&i>=6&&(s=s.next((()=>((function(u){u.createObjectStore(Oy)})(e),this.wi(a))))),r<7&&i>=7&&(s=s.next((()=>this.Si(a)))),r<8&&i>=8&&(s=s.next((()=>this.bi(e,a)))),r<9&&i>=9&&(s=s.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(s=s.next((()=>this.Di(a)))),r<11&&i>=11&&(s=s.next((()=>{(function(u){u.createObjectStore(M_,{keyPath:UZ})})(e),(function(u){u.createObjectStore(F_,{keyPath:BZ})})(e)}))),r<12&&i>=12&&(s=s.next((()=>{(function(u){const f=u.createObjectStore(U_,{keyPath:YZ});f.createIndex(sS,WZ,{unique:!1}),f.createIndex(u9,KZ,{unique:!1})})(e)}))),r<13&&i>=13&&(s=s.next((()=>(function(u){const f=u.createObjectStore(c2,{keyPath:OZ});f.createIndex(Lb,RZ),f.createIndex(s9,DZ)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(md)))),r<14&&i>=14&&(s=s.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(s=s.next((()=>(function(u){u.createObjectStore(SN,{keyPath:VZ,autoIncrement:!0}).createIndex(aS,zZ,{unique:!1}),u.createObjectStore(ly,{keyPath:qZ}).createIndex(l9,HZ,{unique:!1}),u.createObjectStore(cy,{keyPath:$Z}).createIndex(c9,GZ,{unique:!1})})(e)))),r<16&&i>=16&&(s=s.next((()=>{n.objectStore(ly).clear()})).next((()=>{n.objectStore(cy).clear()}))),r<17&&i>=17&&(s=s.next((()=>{(function(u){u.createObjectStore(TN,{keyPath:XZ})})(e)}))),r<18&&i>=18&&IM()&&(s=s.next((()=>{n.objectStore(ly).clear()})).next((()=>{n.objectStore(cy).clear()}))),s}wi(e){let n=0;return e.store(md).ee(((r,i)=>{n+=g2(i)})).next((()=>{const r={byteSize:n};return e.store(Oy).put(iS,r)}))}yi(e){const n=e.store(Py),r=e.store(rc);return n.J().next((i=>Re.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,_h],[a.userId,a.lastAcknowledgedBatchId]);return r.J(Nd,s).next((l=>Re.forEach(l,(u=>{jt(u.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const f=xd(this.serializer,u);return mF(e,a.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Xm),r=e.store(md);return e.store(Ld).get(u2).next((i=>{const a=[];return r.ee(((s,l)=>{const u=new kn(s),f=(function(p){return[0,Ds(p)]})(u);a.push(n.get(f).next((h=>h?Re.resolve():(p=>n.put({targetId:0,path:Ds(p),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>Re.waitFor(a)))}))}bi(e,n){e.createObjectStore(Ry,{keyPath:MZ});const r=n.store(Ry),i=new zN,a=s=>{if(i.add(s)){const l=s.lastSegment(),u=s.popLast();return r.put({collectionId:l,parent:Ds(u)})}};return n.store(md).ee({X:!0},((s,l)=>{const u=new kn(s);return a(u.popLast())})).next((()=>n.store(Wm).ee({X:!0},(([s,l,u],f)=>{const h=Qc(l);return a(h.popLast())}))))}Di(e){const n=e.store(Km);return n.ee(((r,i)=>{const a=Xv(i),s=fF(this.serializer,a);return n.put(s)}))}Ci(e,n){const r=n.store(md),i=[];return r.ee(((a,s)=>{const l=n.store(c2),u=(function(p){return p.document?new mt(kn.fromString(p.document.name).popFirst(5)):p.noDocument?mt.fromSegments(p.noDocument.path):p.unknownDocument?mt.fromSegments(p.unknownDocument.path):wt(36783)})(s).path.toArray(),f={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(l.put(f))})).next((()=>Re.waitFor(i)))}Fi(e,n){const r=n.store(rc),i=xF(this.serializer),a=new HN(Y_.mi,this.serializer.yt);return r.J().next((s=>{const l=new Map;return s.forEach((u=>{let f=l.get(u.userId)??xn();xd(this.serializer,u).keys().forEach((h=>f=f.add(h))),l.set(u.userId,f)})),Re.forEach(l,((u,f)=>{const h=new Ba(f),p=$_.wt(this.serializer,h),y=a.getIndexManager(h),g=G_.wt(h,this.serializer,y,a.referenceDelegate);return new wF(i,g,p,y).recalculateAndSaveOverlaysForDocumentKeys(new oS(n,Eo.ce),u).next()}))}))}}function yR(t){t.createObjectStore(Xm,{keyPath:LZ}).createIndex(AN,jZ,{unique:!0}),t.createObjectStore(Km,{keyPath:"targetId"}).createIndex(o9,kZ,{unique:!0}),t.createObjectStore(Ld)}const ih="IndexedDbPersistence",P5=18e5,O5=5e3,R5="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",EF="main";class $N{constructor(e,n,r,i,a,s,l,u,f,h,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=s,this.document=l,this.xi=f,this.Oi=h,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=y=>Promise.resolve(),!$N.v())throw new tt(Be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tte(this,i),this.$i=n+EF,this.serializer=new uF(u),this.Ui=new tu(this.$i,this.Ni,new dte(this.serializer)),this.hi=new qee,this.Pi=new Qee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xF(this.serializer),this.Ii=new zee,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&$i(ih,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Be.FAILED_PRECONDITION,R5);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Eo(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>tb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(zh(e))return at(ih,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return at(ih,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return kv(e).get(rm).next((n=>Re.resolve(this.es(n))))}ts(e){return tb(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,P5)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Ea(n,Qm);return r.J().next((i=>{const a=this.ss(i,P5),s=i.filter((l=>a.indexOf(l)===-1));return Re.forEach(s,(l=>r.delete(l.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Re.resolve(!0):kv(e).get(rm).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,O5)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new tt(Be.FAILED_PRECONDITION,R5);return!1}}return!(!this.networkEnabled||!this.inForeground)||tb(e).J().next((r=>this.ss(r,O5).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(a||s&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&at(ih,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[x0,Qm],(e=>{const n=new oS(e,Eo.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>tb(e).J().next((n=>this.ss(n,P5).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return G_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Xee(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return $_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){at(ih,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(u){return u===18?ZZ:u===17?p9:u===16?JZ:u===15?NN:u===14?d9:u===13?h9:u===12?QZ:u===11?f9:void wt(60245)})(this.Ni);let s;return this.Ui.runTransaction(e,i,a,(l=>(s=new oS(l,this.ci?this.ci.next():Eo.ce),n==="readwrite-primary"?this.Hi(s).next((u=>!!u||this.Yi(s))).next((u=>{if(!u)throw $i(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new tt(Be.FAILED_PRECONDITION,t9);return r(s)})).next((u=>this.Xi(s).next((()=>u)))):this.Is(s).next((()=>r(s)))))).then((l=>(s.raiseOnCommittedEvent(),l)))}Is(e){return kv(e).get(rm).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,O5)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new tt(Be.FAILED_PRECONDITION,R5)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kv(e).put(rm,n)}static v(){return tu.v()}Zi(e){const n=kv(e);return n.get(rm).next((r=>this.es(r)?(at(ih,"Releasing primary lease."),n.delete(rm)):Re.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||($i(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;NM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return at(ih,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $i(ih,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$i("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kv(t){return Ea(t,x0)}function tb(t){return Ea(t,Qm)}function GN(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xn(),i=xn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new YN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NM()?8:r9(bi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new pte;return this.Ss(e,n,s).next((l=>{if(a.result=l,this.Vs)return this.bs(e,n,s,l.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(vm()<=Dn.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ym(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(vm()<=Dn.DEBUG&&at("QueryEngine","Query:",ym(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(vm()<=Dn.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ym(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):Re.resolve())}ys(e,n){if(zO(n))return Re.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=d2(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=xn(...a);return this.ps.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const f=this.Ds(n,l);return this.Cs(n,f,s,u.readTime)?this.ys(e,d2(n,null,"F")):this.vs(e,f,n,u)}))))})))))}ws(e,n,r,i){return zO(n)||i.isEqual(Gt.min())?Re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?Re.resolve(null):(vm()<=Dn.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ym(n)),this.vs(e,s,n,Z8(i,Ym)).next((l=>l)))}))}Ds(e,n){let r=new xr(L9(e));return n.forEach(((i,a)=>{A0(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return vm()<=Dn.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ym(n)),this.ps.getDocumentsMatchingQuery(e,n,Zo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="LocalStore",mte=3e8;class gte{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new zr(mn),this.xs=new bf((a=>Gd(a)),w0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SF(t,e,n,r){return new gte(t,e,n,r)}async function TF(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],l=[];let u=xn();for(const f of i){s.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next((f=>({Ls:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function vte(t,e){const n=bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,f,h){const p=f.batch,y=p.keys();let g=Re.resolve();return y.forEach((E=>{g=g.next((()=>h.getEntry(u,E))).next((A=>{const S=f.docVersions.get(E);jt(S!==null,48541),A.version.compareTo(S)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),h.addEntry(A)))}))})),g.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=xn();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function NF(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yte(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((h,p)=>{const y=i.get(p);if(!y)return;l.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,h.addedDocuments,p))));let g=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Ci.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),(function(A,S,I){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=mte?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(y,g,h)&&l.push(n.Pi.updateTargetData(a,g))}));let u=So(),f=xn();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))})),l.push(IF(a,s,e.documentUpdates).next((h=>{u=h.ks,f=h.qs}))),!r.isEqual(Gt.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));l.push(h)}return Re.waitFor(l).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,f))).next((()=>u))})).then((a=>(n.Ms=i,a)))}function IF(t,e,n){let r=xn(),i=xn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=So();return n.forEach(((l,u)=>{const f=a.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Gt.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):at(WN,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)})),{ks:s,qs:i}}))}function bte(t,e){const n=bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_h),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ig(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Re.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new Xu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ag(t,e,n){const r=bt(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!zh(s))throw s;at(WN,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function y2(t,e,n){const r=bt(t);let i=Gt.min(),a=xn();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(u,f,h){const p=bt(u),y=p.xs.get(h);return y!==void 0?Re.resolve(p.Ms.get(y)):p.Pi.getTargetData(f,h)})(r,s,Ks(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,l.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Gt.min(),n?a:xn()))).next((l=>(OF(r,k9(e),l),{documents:l,Qs:a})))))}function CF(t,e){const n=bt(t),r=bt(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((s=>s?s.target:null))))}function PF(t,e){const n=bt(t),r=n.Os.get(e)||Gt.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,Z8(r,Ym),Number.MAX_SAFE_INTEGER))).then((i=>(OF(n,e,i),i)))}function OF(t,e,n){let r=t.Os.get(e)||Gt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}async function _te(t,e,n,r){const i=bt(t);let a=xn(),s=So();for(const f of n){const h=e.$s(f.metadata.name);f.document&&(a=a.add(h));const p=e.Us(f);p.setReadTime(e.Ks(f.metadata.readTime)),s=s.insert(h,p)}const l=i.Ns.newChangeBuffer({trackRemovals:!0}),u=await ig(i,(function(h){return Ks(Tg(kn.fromString(`__bundle__/docs/${h}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>IF(f,l,s).next((h=>(l.apply(f),h))).next((h=>i.Pi.removeMatchingKeysForTargetId(f,u.targetId).next((()=>i.Pi.addMatchingKeys(f,a,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,h.ks,h.qs))).next((()=>h.ks))))))}async function xte(t,e,n=xn()){const r=await ig(t,Ks(BN(e.bundledQuery))),i=bt(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const s=Gi(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(a,e);const l=r.withResumeToken(Ci.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(l.targetId,l),i.Pi.updateTargetData(a,l).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firestore_clients";function bR(t,e){return`${RF}_${t}_${e}`}const DF="firestore_mutations";function _R(t,e,n){let r=`${DF}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const kF="firestore_targets";function D5(t,e){return`${kF}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="SharedClientState";class b2{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new tt(i.error.code,i.error.message))),s?new b2(e,n,i.state,a):($i(zc,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dy{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new tt(r.error.code,r.error.message))),a?new dy(e,r.state,i):($i(zc,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _2{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=RN();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=i9(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new _2(e,a):($i(zc,`Failed to parse client data for instance '${e}': ${n}`),null)}}class KN{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new KN(n.clientId,n.onlineState):($i(zc,`Failed to parse online state: ${e}`),null)}}class wS{constructor(){this.activeTargetIds=RN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k5{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new zr(mn),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=bR(this.persistenceKey,this.Js),this.no=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new wS),this.ro=new RegExp(`^${RF}_${s}_([^_]*)$`),this.io=new RegExp(`^${DF}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${kF}_${s}_(\\d+)$`),this.oo=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this._o=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(bR(this.persistenceKey,r));if(i){const a=_2.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(D5(this.persistenceKey,e));if(i){const a=dy.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(D5(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return at(zc,"READ",e,n),n}setItem(e,n){at(zc,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){at(zc,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(at(zc,"EVENT",n.key,n.newValue),n.key===this.eo)return void $i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let s=Eo.ce;if(a!=null)try{const l=JSON.parse(a);jt(typeof l=="number",30636,{So:a}),s=l}catch(l){$i(zc,"Failed to read sequence number from WebStorage",l)}return s})(n.newValue);r!==Eo.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new b2(this.currentUser,e,n,r),a=_R(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=_R(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=D5(this.persistenceKey,e),a=new dy(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return _2.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return b2.Ws(new Ba(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return dy.Ws(i,n)}uo(e){return KN.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);at(zc,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),s=[],l=[];return a.forEach((u=>{i.has(u)||s.push(u)})),i.forEach((u=>{a.has(u)||l.push(u)})),this.syncEngine.Fo(s,l).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=RN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class LF{constructor(){this.Mo=new wS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="ConnectivityMonitor";class wR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(xR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(xR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nb=null;function ES(){return nb===null?nb=(function(){return 268435456+Math.round(2147483648*Math.random())})():nb++,"0x"+nb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="RestConnection",Ete={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ate{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===lS?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=ES(),l=this.zo(e,n.toUriEncodedString());at(L5,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:f}=new URL(l),h=_g(f);return this.Jo(e,l,u,r,h).then((p=>(at(L5,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw lu(L5,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sg})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=Ete[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="WebChannelConnection";class Tte extends Ate{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=ES();return new Promise(((l,u)=>{const f=new z8;f.setWithCredentials(!0),f.listenOnce(q8.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Rb.NO_ERROR:const p=f.getResponseJson();at(Es,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Rb.TIMEOUT:at(Es,`RPC '${e}' ${s} timed out`),u(new tt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Rb.HTTP_ERROR:const y=f.getStatus();if(at(Es,`RPC '${e}' ${s} failed with status:`,y,"response text:",f.getResponseText()),y>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const A=(function(I){const q=I.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(q)>=0?q:Be.UNKNOWN})(E.status);u(new tt(A,E.message))}else u(new tt(Be.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new tt(Be.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{at(Es,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);at(Es,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=ES(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=G8(),l=$8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=a.join("");at(Es,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=s.createWebChannel(h,u);this.I_(p);let y=!1,g=!1;const E=new Ste({Yo:S=>{g?at(Es,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(at(Es,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),at(Es,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Zo:()=>p.close()}),A=(S,I,q)=>{S.listen(I,(k=>{try{q(k)}catch(B){setTimeout((()=>{throw B}),0)}}))};return A(p,Yv.EventType.OPEN,(()=>{g||(at(Es,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),A(p,Yv.EventType.CLOSE,(()=>{g||(g=!0,at(Es,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),A(p,Yv.EventType.ERROR,(S=>{g||(g=!0,lu(Es,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new tt(Be.UNAVAILABLE,"The operation could not be completed")))})),A(p,Yv.EventType.MESSAGE,(S=>{var I;if(!g){const q=S.data[0];jt(!!q,16349);const k=q,B=(k==null?void 0:k.error)||((I=k[0])==null?void 0:I.error);if(B){at(Es,`RPC '${e}' stream ${i} received error:`,B);const $=B.status;let K=(function(D){const G=ta[D];if(G!==void 0)return W9(G)})($),j=B.message;K===void 0&&(K=Be.INTERNAL,j="Unknown error status: "+$+" with message "+B.message),g=!0,E.a_(new tt(K,j)),p.close()}else at(Es,`RPC '${e}' stream ${i} received:`,q),E.u_(q)}})),A(l,H8.STAT_EVENT,(S=>{S.stat===tS.PROXY?at(Es,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===tS.NOPROXY&&at(Es,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(){return typeof window<"u"?window:null}function zb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){return new Oee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="PersistentStream";class MF{constructor(e,n,r,i,a,s,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new tt(Be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(ER,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(at(ER,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nte extends MF{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=kee(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Gt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Gt.min():s.readTime?Gi(s.readTime):Gt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=vS(this.serializer),n.addTarget=(function(a,s){let l;const u=s.target;if(l=f2(u)?{documents:iF(a,u)}:{query:aF(a,u).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=J9(a,s.resumeToken);const f=mS(a,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Gt.min())>0){l.readTime=rg(a,s.snapshotVersion.toTimestamp());const f=mS(a,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=jee(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=vS(this.serializer),n.removeTarget=e,this.q_(n)}}class Ite extends MF{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Lee(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Fy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{}class Pte extends Cte{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,gS(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Be.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Ho(e,gS(n,r),i,s,l,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(Be.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ote{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="RemoteStore";class Rte{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{Hh(this)&&(at(Jd,"Restarting streams for network reachability change."),await(async function(u){const f=bt(u);f.Ea.add(4),await Cg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await C0(f)})(this))}))})),this.Ra=new Ote(r,i)}}async function C0(t){if(Hh(t))for(const e of t.da)await e(!0)}async function Cg(t){for(const e of t.da)await e(!1)}function W_(t,e){const n=bt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ZN(n)?JN(n):Og(n).O_()&&QN(n,e))}function sg(t,e){const n=bt(t),r=Og(n);n.Ia.delete(e),r.O_()&&FF(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hh(n)&&n.Ra.set("Unknown"))}function QN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Og(t).Y_(e)}function FF(t,e){t.Va.Ue(e),Og(t).Z_(e)}function JN(t){t.Va=new Nee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Og(t).start(),t.Ra.ua()}function ZN(t){return Hh(t)&&!Og(t).x_()&&t.Ia.size>0}function Hh(t){return bt(t).Ea.size===0}function UF(t){t.Va=void 0}async function Dte(t){t.Ra.set("Online")}async function kte(t){t.Ia.forEach(((e,n)=>{QN(t,e)}))}async function Lte(t,e){UF(t),ZN(t)?(t.Ra.ha(e),JN(t)):t.Ra.set("Unknown")}async function jte(t,e,n){if(t.Ra.set("Online"),e instanceof Q9&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){at(Jd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await x2(t,r)}else if(e instanceof Bb?t.Va.Ze(e):e instanceof X9?t.Va.st(e):t.Va.tt(e),!n.isEqual(Gt.min()))try{const r=await NF(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const l=a.Va.Tt(s);return l.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(u.resumeToken,s))}})),l.targetMismatches.forEach(((u,f)=>{const h=a.Ia.get(u);if(!h)return;a.Ia.set(u,h.withResumeToken(Ci.EMPTY_BYTE_STRING,h.snapshotVersion)),FF(a,u);const p=new Xu(h.target,u,f,h.sequenceNumber);QN(a,p)})),a.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){at(Jd,"Failed to raise snapshot:",r),await x2(t,r)}}async function x2(t,e,n){if(!zh(e))throw e;t.Ea.add(1),await Cg(t),t.Ra.set("Offline"),n||(n=()=>NF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{at(Jd,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await C0(t)}))}function BF(t,e){return e().catch((n=>x2(t,n,e)))}async function Pg(t){const e=bt(t),n=Rh(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_h;for(;Mte(e);)try{const i=await bte(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Fte(e,i)}catch(i){await x2(e,i)}VF(e)&&zF(e)}function Mte(t){return Hh(t)&&t.Ta.length<10}function Fte(t,e){t.Ta.push(e);const n=Rh(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VF(t){return Hh(t)&&!Rh(t).x_()&&t.Ta.length>0}function zF(t){Rh(t).start()}async function Ute(t){Rh(t).ra()}async function Bte(t){const e=Rh(t);for(const n of t.Ta)e.ea(n.mutations)}async function Vte(t,e,n){const r=t.Ta.shift(),i=jN.from(r,e,n);await BF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Pg(t)}async function zte(t,e){e&&Rh(t).X_&&await(async function(r,i){if((function(s){return Y9(s)&&s!==Be.ABORTED})(i.code)){const a=r.Ta.shift();Rh(r).B_(),await BF(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Pg(r)}})(t,e),VF(t)&&zF(t)}async function AR(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),at(Jd,"RemoteStore received new credentials");const r=Hh(n);n.Ea.add(3),await Cg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await C0(n)}async function AS(t,e){const n=bt(t);e?(n.Ea.delete(2),await C0(n)):e||(n.Ea.add(2),await Cg(n),n.Ra.set("Unknown"))}function Og(t){return t.ma||(t.ma=(function(n,r,i){const a=bt(n);return a.sa(),new Nte(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Dte.bind(null,t),t_:kte.bind(null,t),r_:Lte.bind(null,t),H_:jte.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ZN(t)?JN(t):t.Ra.set("Unknown")):(await t.ma.stop(),UF(t))}))),t.ma}function Rh(t){return t.fa||(t.fa=(function(n,r,i){const a=bt(n);return a.sa(),new Ite(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ute.bind(null,t),r_:zte.bind(null,t),ta:Bte.bind(null,t),na:Vte.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pg(t)):(await t.fa.stop(),t.Ta.length>0&&(at(Jd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new eI(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(t,e){if($i("AsyncQueue",`${e}: ${t}`),zh(t))return new tt(Be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static emptySet(e){return new km(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=Wv(),this.sortedSet=new zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof km)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new km;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.ga=new zr(mt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class og{constructor(e,n,r,i,a,s,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new og(e,n,km.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Hte{constructor(){this.queries=TR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=bt(n),a=i.queries;i.queries=TR(),a.forEach(((s,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new tt(Be.ABORTED,"Firestore shutting down"))}}function TR(){return new bf((t=>D9(t)),E0)}async function tI(t,e){const n=bt(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new qte,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Rg(s,`Initialization of query '${ym(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&rI(n)}async function nI(t,e){const n=bt(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $te(t,e){const n=bt(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Fa(i)&&(r=!0);s.wa=i}}r&&rI(n)}function Gte(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function rI(t){t.Ca.forEach((e=>{e.next()}))}var SS,NR;(NR=SS||(SS={})).Ma="default",NR.Cache="cache";class iI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new og(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=og.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==SS.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.serializer=e}$s(e){return nu(this.serializer,e)}Us(e){return e.metadata.exists?rF(this.serializer,e.document,!1):Wr.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Gi(e)}}class Wte{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=qF(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=kn.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new IR(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const s of i.metadata.queries){const l=(n.get(s)||xn()).add(a);n.set(s,l)}}return n}async ja(e){const n=await _te(e,new IR(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await xte(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function qF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.key=e}}class $F{constructor(e){this.key=e}}class GF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xn(),this.mutatedKeys=xn(),this.eu=L9(e),this.tu=new km(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new SR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const y=i.get(h),g=A0(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;y&&g?y.data.isEqual(g.data)?E!==A&&(r.track({type:3,doc:g}),S=!0):this.su(y,g)||(r.track({type:2,doc:g}),S=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(l=!0)):!y&&g?(r.track({type:0,doc:g}),S=!0):y&&!g&&(r.track({type:1,doc:y}),S=!0,(u||f)&&(l=!0)),S&&(g?(s=s.add(g),a=A?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(g,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:S})}};return A(g)-A(E)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,f=u!==this.Za;return this.Za=u,s.length!==0||f?{snapshot:new og(this.query,e.tu,a,s,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $F(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new HF(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=xn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return og.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $h="SyncEngine";class Kte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xte{constructor(e){this.key=e,this.hu=!1}}class Qte{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new bf((l=>D9(l)),E0),this.Iu=new Map,this.Eu=new Set,this.du=new zr(mt.comparator),this.Au=new Map,this.Ru=new qN,this.Vu={},this.mu=new Map,this.fu=Qd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Jte(t,e,n=!0){const r=K_(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await YF(r,e,n,!0),i}async function Zte(t,e){const n=K_(t);await YF(n,e,!0,!1)}async function YF(t,e,n,r){const i=await ig(t.localStore,Ks(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await aI(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&W_(t.remoteStore,i),l}async function aI(t,e,n,r,i){t.pu=(p,y,g)=>(async function(A,S,I,q){let k=S.view.ru(I);k.Cs&&(k=await y2(A.localStore,S.query,!1).then((({documents:j})=>S.view.ru(j,k))));const B=q&&q.targetChanges.get(S.targetId),$=q&&q.targetMismatches.get(S.targetId)!=null,K=S.view.applyChanges(k,A.isPrimaryClient,B,$);return TS(A,S.targetId,K.au),K.snapshot})(t,p,y,g);const a=await y2(t.localStore,e,!0),s=new GF(e,a.Qs),l=s.ru(a.documents),u=N0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,u);TS(t,n,f.au);const h=new Kte(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function ene(t,e,n){const r=bt(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!E0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ag(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sg(r.remoteStore,i.targetId),lg(r,i.targetId)})).catch(Vh)):(lg(r,i.targetId),await ag(r.localStore,i.targetId,!0))}async function tne(t,e){const n=bt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sg(n.remoteStore,r.targetId))}async function nne(t,e,n){const r=cI(t);try{const i=await(function(s,l){const u=bt(s),f=hr.now(),h=l.reduce(((g,E)=>g.add(E.key)),xn());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let E=So(),A=xn();return u.Ns.getEntries(g,h).next((S=>{E=S,E.forEach(((I,q)=>{q.isValidDocument()||(A=A.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,E))).next((S=>{p=S;const I=[];for(const q of l){const k=Aee(q,p.get(q.key).overlayedDocument);k!=null&&I.push(new _f(q.key,k,A9(k.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,I,l)})).next((S=>{y=S;const I=S.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(g,S.batchId,I)}))})).then((()=>({batchId:y.batchId,changes:M9(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,u){let f=s.Vu[s.currentUser.toKey()];f||(f=new zr(mn)),f=f.insert(l,u),s.Vu[s.currentUser.toKey()]=f})(r,i.batchId,n),await xf(r,i.changes),await Pg(r.remoteStore)}catch(i){const a=Rg(i,"Failed to persist write");n.reject(a)}}async function WF(t,e){const n=bt(t);try{const r=await yte(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?jt(s.hu,14607):i.removedDocuments.size>0&&(jt(s.hu,42227),s.hu=!1))})),await xf(n,r,e)}catch(r){await Vh(r)}}function CR(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const u=bt(s);u.onlineState=l;let f=!1;u.queries.forEach(((h,p)=>{for(const y of p.Sa)y.va(l)&&(f=!0)})),f&&rI(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rne(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new zr(mt.comparator);s=s.insert(a,Wr.newNoDocument(a,Gt.min()));const l=xn().add(a),u=new T0(Gt.min(),new Map,new zr(mn),s,l);await WF(r,u),r.du=r.du.remove(a),r.Au.delete(e),lI(r)}else await ag(r.localStore,e,!1).then((()=>lg(r,e,n))).catch(Vh)}async function ine(t,e){const n=bt(t),r=e.batch.batchId;try{const i=await vte(n.localStore,e);oI(n,r,null),sI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xf(n,i)}catch(i){await Vh(i)}}async function ane(t,e,n){const r=bt(t);try{const i=await(function(s,l){const u=bt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return u.mutationQueue.lookupMutationBatch(f,l).next((p=>(jt(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(f,p)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>u.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);oI(r,e,n),sI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xf(r,i)}catch(i){await Vh(i)}}async function sne(t,e){const n=bt(t);Hh(n.remoteStore)||at($h,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(s){const l=bt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(n.localStore);if(r===_h)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Rg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function sI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function oI(t,e,n){const r=bt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||KF(t,r)}))}function KF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),lI(t))}function TS(t,e,n){for(const r of n)r instanceof HF?(t.Ru.addReference(r.key,e),one(t,r)):r instanceof $F?(at($h,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KF(t,r.key)):wt(19791,{wu:r})}function one(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(at($h,"New document in limbo: "+n),t.Eu.add(r),lI(t))}function lI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new mt(kn.fromString(e)),r=t.fu.next();t.Au.set(r,new Xte(n)),t.du=t.du.insert(n,r),W_(t.remoteStore,new Xu(Ks(Tg(n.path)),r,"TargetPurposeLimboResolution",Eo.ce))}}async function xf(t,e,n){const r=bt(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{s.push(r.pu(u,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){i.push(f);const p=YN.As(u.targetId,f);a.push(p)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(u,f){const h=bt(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Re.forEach(f,(y=>Re.forEach(y.Es,(g=>h.persistence.referenceDelegate.addReference(p,y.targetId,g))).next((()=>Re.forEach(y.ds,(g=>h.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))))))}catch(p){if(!zh(p))throw p;at(WN,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const g=h.Ms.get(y),E=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(y,A)}}})(r.localStore,a))}async function lne(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){at($h,"User change. New user:",e.toKey());const r=await TF(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((l=>{l.forEach((u=>{u.reject(new tt(Be.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xf(n,r.Ls)}}function cne(t,e){const n=bt(t),r=n.Au.get(e);if(r&&r.hu)return xn().add(r.key);{let i=xn();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}async function une(t,e){const n=bt(t),r=await y2(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&TS(n,e.targetId,i.au),i}async function fne(t,e){const n=bt(t);return PF(n.localStore,e).then((r=>xf(n,r)))}async function hne(t,e,n,r){const i=bt(t),a=await(function(l,u){const f=bt(l),h=bt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(p=>h.er(p,u).next((y=>y?f.localDocuments.getDocuments(p,y):Re.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await Pg(i.remoteStore):n==="acknowledged"||n==="rejected"?(oI(i,e,r||null),sI(i,e),(function(l,u){bt(bt(l).mutationQueue).ir(u)})(i.localStore,e)):wt(6720,"Unknown batchState",{Su:n}),await xf(i,a)):at($h,"Cannot apply mutation batch with id: "+e)}async function dne(t,e){const n=bt(t);if(K_(n),cI(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await PR(n,r.toArray());n.gu=!0,await AS(n.remoteStore,!0);for(const a of i)W_(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then((()=>(lg(n,s),ag(n.localStore,s,!0)))),sg(n.remoteStore,s)})),await i,await PR(n,r),(function(s){const l=bt(s);l.Au.forEach(((u,f)=>{sg(l.remoteStore,f)})),l.Ru.Jr(),l.Au=new Map,l.du=new zr(mt.comparator)})(n),n.gu=!1,await AS(n.remoteStore,!1)}}async function PR(t,e,n){const r=bt(t),i=[],a=[];for(const s of e){let l;const u=r.Iu.get(s);if(u&&u.length!==0){l=await ig(r.localStore,Ks(u[0]));for(const f of u){const h=r.Tu.get(f),p=await une(r,h);p.snapshot&&a.push(p.snapshot)}}else{const f=await CF(r.localStore,s);l=await ig(r.localStore,f),await aI(r,XF(f),s,!1,l.resumeToken)}i.push(l)}return r.Pu.H_(a),i}function XF(t){return R9(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function pne(t){return(function(n){return bt(bt(n).persistence).Ts()})(bt(t).localStore)}async function mne(t,e,n,r){const i=bt(t);if(i.gu)return void at($h,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const s=await PF(i.localStore,k9(a[0])),l=T0.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ci.EMPTY_BYTE_STRING);await xf(i,s,l);break}case"rejected":await ag(i.localStore,e,!0),lg(i,e,r);break;default:wt(64155,n)}}async function gne(t,e,n){const r=K_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){at($h,"Adding an already active target "+i);continue}const a=await CF(r.localStore,i),s=await ig(r.localStore,a);await aI(r,XF(a),s.targetId,!1,s.resumeToken),W_(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await ag(r.localStore,i,!1).then((()=>{sg(r.remoteStore,i),lg(r,i)})).catch(Vh)}}function K_(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rne.bind(null,e),e.Pu.H_=$te.bind(null,e.eventManager),e.Pu.yu=Gte.bind(null,e.eventManager),e}function cI(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ine.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ane.bind(null,e),e}function vne(t,e,n){const r=bt(t);(async function(a,s,l){try{const u=await s.getMetadata();if(await(function(g,E){const A=bt(g),S=Gi(E.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",(I=>A.Ii.getBundleMetadata(I,E.id))).then((I=>!!I&&I.createTime.compareTo(S)>=0))})(a.localStore,u))return await s.close(),l._completeWith((function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}})(u)),Promise.resolve(new Set);l._updateProgress(qF(u));const f=new Wte(u,s.serializer);let h=await s.bu();for(;h;){const y=await f.Ga(h);y&&l._updateProgress(y),h=await s.bu()}const p=await f.ja(a.localStore);return await xf(a,p.Ha,void 0),await(function(g,E){const A=bt(g);return A.persistence.runTransaction("Save bundle","readwrite",(S=>A.Ii.saveBundleMetadata(S,E)))})(a.localStore,u),l._completeWith(p.progress),Promise.resolve(p.Ja)}catch(u){return lu($h,`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Uy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=I0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SF(this.persistence,new AF,e.initialUser,this.serializer)}Cu(e){return new HN(Y_.mi,this.serializer)}Du(e){return new LF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uy.provider={build:()=>new Uy};class yne extends Uy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){jt(this.persistence.referenceDelegate instanceof v2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new HN((r=>v2.mi(r,n)),this.serializer)}}class QF extends Uy{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await cI(this.xu.syncEngine),await Pg(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return SF(this.persistence,new AF,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new yF(r,e.asyncQueue,n)}Mu(e,n){const r=new NZ(n,this.persistence);return new TZ(e.asyncQueue,r)}Cu(e){const n=GN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new $N(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,jF(),zb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new LF}}class bne extends QF{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof k5&&(this.sharedClientState.syncEngine={Co:hne.bind(null,n),vo:mne.bind(null,n),Fo:gne.bind(null,n),Ts:pne.bind(null,n),Do:fne.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await dne(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=jF();if(!k5.v(n))throw new tt(Be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=GN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new k5(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class By{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lne.bind(null,this.syncEngine),await AS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Hte})()}createDatastore(e){const n=I0(e.databaseInfo.databaseId),r=(function(a){return new Tte(a)})(e.databaseInfo);return(function(a,s,l,u){return new Pte(a,s,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,l){return new Rte(r,i,a,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>CR(this.syncEngine,n,0)),(function(){return wR.v()?new wR:new wte})())}createSyncEngine(e,n){return(function(i,a,s,l,u,f,h){const p=new Qte(i,a,s,l,u,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=bt(i);at(Jd,"RemoteStore shutting down."),a.Ea.add(5),await Cg(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}By.provider={build:()=>new By};function OR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new ls,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new Yte(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tt(Be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const s=bt(i),l={documents:a.map((p=>My(s.serializer,p)))},u=await s.Ho("BatchGetDocuments",s.serializer.databaseId,kn.emptyPath(),l,a.length),f=new Map;u.forEach((p=>{const y=Dee(s.serializer,p);f.set(y.key.toString(),y)}));const h=[];return a.forEach((p=>{const y=f.get(p.toString());jt(!!y,55234,{key:p}),h.push(y)})),h})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ig(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=mt.fromPath(r);this.mutations.push(new kN(i,this.precondition(i)))})),await(async function(r,i){const a=bt(r),s={writes:i.map((l=>Fy(a.serializer,l)))};await a.Go("Commit",a.serializer.databaseId,kn.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw wt(50498,{Gu:e.constructor.name});n=Gt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new tt(Be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Gt.min())?ci.exists(!1):ci.updateTime(n):ci.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Gt.min()))throw new tt(Be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ci.updateTime(n)}return ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new XN(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new xne(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!_0(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Y9(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="FirestoreClient";class Ene{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ba.UNAUTHENTICATED,this.clientId=_N.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{at(Dh,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(at(Dh,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Rg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function j5(t,e){t.asyncQueue.verifyOperationInProgress(),at(Dh,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await TF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function RR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uI(t);at(Dh,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>AR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>AR(e.remoteStore,i))),t._onlineComponents=e}async function uI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at(Dh,"Using user provided OfflineComponentProvider");try{await j5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Be.FAILED_PRECONDITION||i.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;lu("Error using user provided cache. Falling back to memory cache: "+n),await j5(t,new Uy)}}else at(Dh,"Using default OfflineComponentProvider"),await j5(t,new yne(void 0));return t._offlineComponents}async function Q_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at(Dh,"Using user provided OnlineComponentProvider"),await RR(t,t._uninitializedComponentsProvider._online)):(at(Dh,"Using default OnlineComponentProvider"),await RR(t,new By))),t._onlineComponents}function JF(t){return uI(t).then((e=>e.persistence))}function fI(t){return uI(t).then((e=>e.localStore))}function ZF(t){return Q_(t).then((e=>e.remoteStore))}function hI(t){return Q_(t).then((e=>e.syncEngine))}function Ane(t){return Q_(t).then((e=>e.datastore))}async function cg(t){const e=await Q_(t),n=e.eventManager;return n.onListen=Jte.bind(null,e.syncEngine),n.onUnlisten=ene.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tne.bind(null,e.syncEngine),n}function Sne(t){return t.asyncQueue.enqueue((async()=>{const e=await JF(t),n=await ZF(t);return e.setNetworkEnabled(!0),(function(i){const a=bt(i);return a.Ea.delete(0),C0(a)})(n)}))}function Tne(t){return t.asyncQueue.enqueue((async()=>{const e=await JF(t),n=await ZF(t);return e.setNetworkEnabled(!1),(async function(i){const a=bt(i);a.Ea.add(0),await Cg(a),a.Ra.set("Offline")})(n)}))}function Nne(t,e){const n=new ls;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,s){try{const l=await(function(f,h){const p=bt(f);return p.persistence.runTransaction("read document","readonly",(y=>p.localDocuments.getDocument(y,h)))})(i,a);l.isFoundDocument()?s.resolve(l):l.isNoDocument()?s.resolve(null):s.reject(new tt(Be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=Rg(l,`Failed to get document '${a} from cache`);s.reject(u)}})(await fI(t),e,n))),n.promise}function eU(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,u,f){const h=new X_({next:y=>{h.Nu(),s.enqueueAndForget((()=>nI(a,p)));const g=y.docs.has(l);!g&&y.fromCache?f.reject(new tt(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&y.fromCache&&u&&u.source==="server"?f.reject(new tt(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new iI(Tg(l.path),h,{includeMetadataChanges:!0,qa:!0});return tI(a,p)})(await cg(t),t.asyncQueue,e,n,r))),r.promise}function Ine(t,e){const n=new ls;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,s){try{const l=await y2(i,a,!0),u=new GF(a,l.Qs),f=u.ru(l.documents),h=u.applyChanges(f,!1);s.resolve(h.snapshot)}catch(l){const u=Rg(l,`Failed to execute query '${a} against cache`);s.reject(u)}})(await fI(t),e,n))),n.promise}function tU(t,e,n={}){const r=new ls;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,l,u,f){const h=new X_({next:y=>{h.Nu(),s.enqueueAndForget((()=>nI(a,p))),y.fromCache&&u.source==="server"?f.reject(new tt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new iI(l,h,{includeMetadataChanges:!0,qa:!0});return tI(a,p)})(await cg(t),t.asyncQueue,e,n,r))),r.promise}function Cne(t,e){const n=new X_(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){bt(i).Ca.add(a),a.next()})(await cg(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){bt(i).Ca.delete(a)})(await cg(t),n)))}}function Pne(t,e,n,r){const i=(function(s,l){let u;return u=typeof s=="string"?K9().encode(s):s,(function(h,p){return new _ne(h,p)})((function(h,p){if(h instanceof Uint8Array)return OR(h,p);if(h instanceof ArrayBuffer)return OR(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),l)})(n,I0(e));t.asyncQueue.enqueueAndForget((async()=>{vne(await hI(t),i,r)}))}function One(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const a=bt(r);return a.persistence.runTransaction("Get named query","readonly",(s=>a.Ii.getNamedQuery(s,i)))})(await fI(t),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="firestore.googleapis.com",kR=!0;class LR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new tt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rU,this.ssl=kR}else this.host=e.host,this.ssl=e.ssl??kR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jee)throw new tt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pZ;switch(r.type){case"firstParty":return new yZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=DR.get(n);r&&(at("ComponentProvider","Removing Datastore"),DR.delete(n),r.terminate())})(this),Promise.resolve()}}function Rne(t,e,n,r={}){var f;t=nr(t,P0);const i=_g(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(wM(`https://${l}`),EM("Firestore",!0)),a.host!==rU&&a.host!==l&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:i,emulatorOptions:r};if(!Eh(u,s)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ba.MOCK_USER;else{h=OY(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new tt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ba(y)}t._authCredentials=new mZ(new W8(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs=class iU{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new iU(this.firestore,e,this._query)}},Vr=class Qv{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qv(this.firestore,e,this._key)}toJSON(){return{type:Qv._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(b0(n,Qv._jsonSchema))return new Qv(e,r||null,new mt(kn.fromString(n.referencePath)))}};Vr._jsonSchemaVersion="firestore/documentReference/1.0",Vr._jsonSchema={type:aa("string",Vr._jsonSchemaVersion),referencePath:aa("string")};let xh=class aU extends Xs{constructor(e,n,r){super(e,n,Tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new mt(e))}withConverter(e){return new aU(this.firestore,e,this._path)}};function sU(t,e,...n){if(t=sn(t),xN("collection","path",e),t instanceof P0){const r=kn.fromString(e,...n);return EO(r),new xh(t,null,r)}{if(!(t instanceof Vr||t instanceof xh))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kn.fromString(e,...n));return EO(r),new xh(t.firestore,null,r)}}function Dne(t,e){if(t=nr(t,P0),xN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(t,null,(function(r){return new yf(kn.emptyPath(),r)})(e))}function w2(t,e,...n){if(t=sn(t),arguments.length===1&&(e=_N.newId()),xN("doc","path",e),t instanceof P0){const r=kn.fromString(e,...n);return wO(r),new Vr(t,null,new mt(r))}{if(!(t instanceof Vr||t instanceof xh))throw new tt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kn.fromString(e,...n));return wO(r),new Vr(t.firestore,t instanceof xh?t.converter:null,new mt(r))}}function oU(t,e){return t=sn(t),e=sn(e),(t instanceof Vr||t instanceof xh)&&(e instanceof Vr||e instanceof xh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function lU(t,e){return t=sn(t),e=sn(e),t instanceof Xs&&e instanceof Xs&&t.firestore===e.firestore&&E0(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="AsyncQueue";class MR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XN(this,"async_queue_retry"),this._c=()=>{const r=zb();r&&at(jR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zh(e))throw e;at(jR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",FR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=eI.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&wt(47125,{Pc:FR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function FR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class kne{constructor(){this._progressObserver={},this._taskCompletionResolver=new ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lne=-1;let Yi=class extends P0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MR(e),this._firestoreClient=void 0,await e}}};function ks(t){if(t._terminated)throw new tt(Be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cU(t),t._firestoreClient}function cU(t){var r,i,a;const e=t._freezeSettings(),n=(function(l,u,f,h){return new nee(l,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nU(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ene(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}function jne(t,e){lu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return uU(t,By.provider,{build:r=>new QF(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Mne(t){lu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();uU(t,By.provider,{build:n=>new bne(n,e.cacheSizeBytes)})}function uU(t,e,n){if((t=nr(t,Yi))._firestoreClient||t._terminated)throw new tt(Be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new tt(Be.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},cU(t)}function Fne(t){if(t._initialized&&!t._terminated)throw new tt(Be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ls;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!tu.v())return Promise.resolve();const i=r+EF;await tu.delete(i)})(GN(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Une(t){return(function(n){const r=new ls;return n.asyncQueue.enqueueAndForget((async()=>sne(await hI(n),r))),r.promise})(ks(t=nr(t,Yi)))}function Bne(t){return Sne(ks(t=nr(t,Yi)))}function Vne(t){return Tne(ks(t=nr(t,Yi)))}function zne(t,e){const n=ks(t=nr(t,Yi)),r=new kne;return Pne(n,t._databaseId,e,r),r}function qne(t,e){return One(ks(t=nr(t,Yi)),e).then((n=>n?new Xs(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Ci.fromBase64String(e))}catch(n){throw new tt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(b0(e,Rs._jsonSchema))return Rs.fromBase64String(e.bytes)}}Rs._jsonSchemaVersion="firestore/bytes/1.0",Rs._jsonSchema={type:aa("string",Rs._jsonSchemaVersion),bytes:aa("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new tt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lc._jsonSchemaVersion}}static fromJSON(e){if(b0(e,lc._jsonSchema))return new lc(e.latitude,e.longitude)}}lc._jsonSchemaVersion="firestore/geoPoint/1.0",lc._jsonSchema={type:aa("string",lc._jsonSchemaVersion),latitude:aa("number"),longitude:aa("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ru._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(b0(e,ru._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ru(e.vectorValues);throw new tt(Be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ru._jsonSchemaVersion="firestore/vectorValue/1.0",ru._jsonSchema={type:aa("string",ru._jsonSchemaVersion),vectorValues:aa("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hne=/^__.*__$/;class $ne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _f(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ng(e,this.data,n,this.fieldTransforms)}}class fU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _f(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:t})}}class J_{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new J_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return E2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hU(this.Ac)&&Hne.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Gne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||I0(e)}Cc(e,n,r,i=!1){return new J_({Ac:e,methodName:n,Dc:r,path:li.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pp(t){const e=t._freezeSettings(),n=I0(t._databaseId);return new Gne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z_(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);bI("Data must be an object, but it was:",s,r);const l=mU(r,s);let u,f;if(a.merge)u=new Ao(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const y=IS(e,p,n);if(!s.contains(y))throw new tt(Be.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);vU(h,y)||h.push(y)}u=new Ao(h),f=s.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,f=s.fieldTransforms;return new $ne(new is(l),u,f)}class O0 extends dp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function dU(t,e,n){return new J_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dI extends dp{_toFieldTransform(e){return new S0(e.path,new tg)}isEqual(e){return e instanceof dI}}class pI extends dp{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=dU(this,e,!0),r=this.vc.map((a=>mp(a,n))),i=new Yd(r);return new S0(e.path,i)}isEqual(e){return e instanceof pI&&Eh(this.vc,e.vc)}}class mI extends dp{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=dU(this,e,!0),r=this.vc.map((a=>mp(a,n))),i=new Wd(r);return new S0(e.path,i)}isEqual(e){return e instanceof mI&&Eh(this.vc,e.vc)}}class gI extends dp{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ng(e.serializer,B9(e.serializer,this.Fc));return new S0(e.path,n)}isEqual(e){return e instanceof gI&&this.Fc===e.Fc}}function vI(t,e,n,r){const i=t.Cc(1,e,n);bI("Data must be an object, but it was:",i,r);const a=[],s=is.empty();qh(r,((u,f)=>{const h=_I(e,u,n);f=sn(f);const p=i.yc(h);if(f instanceof O0)a.push(h);else{const y=mp(f,p);y!=null&&(a.push(h),s.set(h,y))}}));const l=new Ao(a);return new fU(s,l,i.fieldTransforms)}function yI(t,e,n,r,i,a){const s=t.Cc(1,e,n),l=[IS(e,r,n)],u=[i];if(a.length%2!=0)throw new tt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(IS(e,a[y])),u.push(a[y+1]);const f=[],h=is.empty();for(let y=l.length-1;y>=0;--y)if(!vU(f,l[y])){const g=l[y];let E=u[y];E=sn(E);const A=s.yc(g);if(E instanceof O0)f.push(g);else{const S=mp(E,A);S!=null&&(f.push(g),h.set(g,S))}}const p=new Ao(f);return new fU(h,p,s.fieldTransforms)}function pU(t,e,n,r=!1){return mp(n,t.Cc(r?4:3,e))}function mp(t,e){if(gU(t=sn(t)))return bI("Unsupported field value:",e,t),mU(t,e);if(t instanceof dp)return(function(r,i){if(!hU(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const l of r){let u=mp(l,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=hr.fromDate(r);return{timestampValue:rg(i.serializer,a)}}if(r instanceof hr){const a=new hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rg(i.serializer,a)}}if(r instanceof lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:J9(i.serializer,r._byteString)};if(r instanceof Vr){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:UN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ru)return(function(s,l){return{mapValue:{fields:{[IN]:{stringValue:CN},[Jm]:{arrayValue:{values:s.toArray().map((f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return DN(l.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${L_(r)}`)})(t,e)}function mU(t,e){const n={};return m9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qh(t,((r,i)=>{const a=mp(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function gU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hr||t instanceof lc||t instanceof Rs||t instanceof Vr||t instanceof dp||t instanceof ru)}function bI(t,e,n){if(!gU(n)||!Q8(n)){const r=L_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function IS(t,e,n){if((e=sn(e))instanceof kh)return e._internalPath;if(typeof e=="string")return _I(t,e);throw E2("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yne=new RegExp("[~\\*/\\[\\]]");function _I(t,e,n){if(e.search(Yne)>=0)throw E2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kh(...e.split("."))._internalPath}catch{throw E2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function E2(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new tt(Be.INVALID_ARGUMENT,l+t+u)}function vU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wne extends Vy{data(){return super.data()}}function ex(t,e){return typeof e=="string"?_I(t,e):e instanceof kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new tt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xI{}class R0 extends xI{}function ah(t,e,...n){let r=[];e instanceof xI&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((u=>u instanceof wI)).length,l=a.filter((u=>u instanceof tx)).length;if(s>1||s>0&&l>0)throw new tt(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class tx extends R0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tx(e,n,r)}_apply(e){const n=this._parse(e);return _U(e._query,n),new Xs(e.firestore,e.converter,pS(e._query,n))}_parse(e){const n=pp(e.firestore);return(function(a,s,l,u,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){BR(p,h);const E=[];for(const A of p)E.push(UR(u,a,A));y={arrayValue:{values:E}}}else y=UR(u,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||BR(p,h),y=pU(l,s,p,h==="in"||h==="not-in");return Fn.create(f,h,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kne(t,e,n){const r=e,i=ex("where",t);return tx._create(i,r,n)}class wI extends xI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const l=a.getFlattenedFilters();for(const u of l)_U(s,u),s=pS(s,u)})(e._query,n),new Xs(e.firestore,e.converter,pS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class EI extends R0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new EI(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new tt(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jy(a,s)})(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new yf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Xne(t,e="asc"){const n=e,r=ex("orderBy",t);return EI._create(r,n)}class nx extends R0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new nx(e,n,r)}_apply(e){return new Xs(e.firestore,e.converter,d2(e._query,this._limit,this._limitType))}}function Qne(t){return J8("limit",t),nx._create("limit",t,"F")}function Jne(t){return J8("limitToLast",t),nx._create("limitToLast",t,"L")}class rx extends R0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new rx(e,n,r)}_apply(e){const n=bU(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(function(i,a){return new yf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function Zne(...t){return rx._create("startAt",t,!0)}function ere(...t){return rx._create("startAfter",t,!1)}class ix extends R0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ix(e,n,r)}_apply(e){const n=bU(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(function(i,a){return new yf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function tre(...t){return ix._create("endBefore",t,!1)}function nre(...t){return ix._create("endAt",t,!0)}function bU(t,e,n,r){if(n[0]=sn(n[0]),n[0]instanceof Vy)return(function(a,s,l,u,f){if(!u)throw new tt(Be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const h=[];for(const p of Dm(a))if(p.field.isKeyField())h.push($d(s,u.key));else{const y=u.data.field(p.field);if(B_(y))throw new tt(Be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const g=p.field.canonicalString();throw new tt(Be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}h.push(y)}return new Oh(h,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=pp(t.firestore);return(function(s,l,u,f,h,p){const y=s.explicitOrderBy;if(h.length>y.length)throw new tt(Be.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let E=0;E<h.length;E++){const A=h[E];if(y[E].field.isKeyField()){if(typeof A!="string")throw new tt(Be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof A}`);if(!ON(s)&&A.indexOf("/")!==-1)throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${A}' contains a slash.`);const S=s.path.child(kn.fromString(A));if(!mt.isDocumentKey(S))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const I=new mt(S);g.push($d(l,I))}else{const S=pU(u,f,A);g.push(S)}}return new Oh(g,p)})(t._query,t.firestore._databaseId,i,e,n,r)}}function UR(t,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new tt(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ON(e)&&n.indexOf("/")!==-1)throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kn.fromString(n));if(!mt.isDocumentKey(r))throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $d(t,new mt(r))}if(n instanceof Vr)return $d(t,n._key);throw new tt(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${L_(n)}.`)}function BR(t,e){if(!Array.isArray(t)||t.length===0)throw new tt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _U(t,e){const n=(function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new tt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AI{convertValue(e,n="none"){switch(Ch(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qh(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Jm].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>si(s.doubleValue)));return new ru(n)}convertGeoPoint(e){return new lc(si(e.latitude),si(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=V_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dy(e));default:return null}}convertTimestamp(e){const n=of(e);return new hr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kn.fromString(e);jt(cF(r),9688,{name:e});const i=new Ih(r.get(1),r.get(3)),a=new mt(r.popFirst(5));return i.isEqual(n)||$i(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rre extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}class Id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Il=class xU extends Vy{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ex("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xU._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:aa("string",Il._jsonSchemaVersion),bundleSource:aa("string","DocumentSnapshot"),bundleName:aa("string"),bundle:aa("string")};let py=class extends Il{data(e={}){return super.data(e)}},cc=class wU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Id(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new py(this._firestore,this._userDataWriter,r.key,r,new Id(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const u=new py(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Id(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>a||l.type!==3)).map((l=>{const u=new py(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Id(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:ire(l.type),doc:u,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wU._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_N.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function ire(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:t})}}function EU(t,e){return t instanceof Il&&e instanceof Il?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cc&&e instanceof cc&&t._firestore===e._firestore&&lU(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t){t=nr(t,Vr);const e=nr(t.firestore,Yi);return eU(ks(e),t._key).then((n=>SI(e,t,n)))}cc._jsonSchemaVersion="firestore/querySnapshot/1.0",cc._jsonSchema={type:aa("string",cc._jsonSchemaVersion),bundleSource:aa("string","QuerySnapshot"),bundleName:aa("string"),bundle:aa("string")};class gp extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}function sre(t){t=nr(t,Vr);const e=nr(t.firestore,Yi),n=ks(e),r=new gp(e);return Nne(n,t._key).then((i=>new Il(e,r,t._key,i,new Id(i!==null&&i.hasLocalMutations,!0),t.converter)))}function ore(t){t=nr(t,Vr);const e=nr(t.firestore,Yi);return eU(ks(e),t._key,{source:"server"}).then((n=>SI(e,t,n)))}function lre(t){t=nr(t,Xs);const e=nr(t.firestore,Yi),n=ks(e),r=new gp(e);return yU(t._query),tU(n,t._query).then((i=>new cc(e,r,t,i)))}function cre(t){t=nr(t,Xs);const e=nr(t.firestore,Yi),n=ks(e),r=new gp(e);return Ine(n,t._query).then((i=>new cc(e,r,t,i)))}function ure(t){t=nr(t,Xs);const e=nr(t.firestore,Yi),n=ks(e),r=new gp(e);return tU(n,t._query,{source:"server"}).then((i=>new cc(e,r,t,i)))}function VR(t,e,n){t=nr(t,Vr);const r=nr(t.firestore,Yi),i=ax(t.converter,e,n);return D0(r,[Z_(pp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function zR(t,e,n,...r){t=nr(t,Vr);const i=nr(t.firestore,Yi),a=pp(i);let s;return s=typeof(e=sn(e))=="string"||e instanceof kh?yI(a,"updateDoc",t._key,e,n,r):vI(a,"updateDoc",t._key,e),D0(i,[s.toMutation(t._key,ci.exists(!0))])}function fre(t){return D0(nr(t.firestore,Yi),[new Ig(t._key,ci.none())])}function hre(t,e){const n=nr(t.firestore,Yi),r=w2(t),i=ax(t.converter,e);return D0(n,[Z_(pp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function AU(t,...e){var u,f,h;t=sn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||NS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NS(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(f=p.error)==null?void 0:f.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let a,s,l;if(t instanceof Vr)s=nr(t.firestore,Yi),l=Tg(t._key.path),a={next:p=>{e[r]&&e[r](SI(s,t,p))},error:e[r+1],complete:e[r+2]};else{const p=nr(t,Xs);s=nr(p.firestore,Yi),l=p._query;const y=new gp(s);a={next:g=>{e[r]&&e[r](new cc(s,y,p,g))},error:e[r+1],complete:e[r+2]},yU(t._query)}return(function(y,g,E,A){const S=new X_(A),I=new iI(g,S,E);return y.asyncQueue.enqueueAndForget((async()=>tI(await cg(y),I))),()=>{S.Nu(),y.asyncQueue.enqueueAndForget((async()=>nI(await cg(y),I)))}})(ks(s),l,i,a)}function dre(t,e){return Cne(ks(t=nr(t,Yi)),NS(e)?e:{next:e})}function D0(t,e){return(function(r,i){const a=new ls;return r.asyncQueue.enqueueAndForget((async()=>nne(await hI(r),i,a))),a.promise})(ks(t),e)}function SI(t,e,n){const r=n.docs.get(e._key),i=new gp(t);return new Il(t,i,e._key,r,new Id(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mre=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pp(e)}set(e,n,r){this._verifyNotCommitted();const i=ph(e,this._firestore),a=ax(i.converter,n,r),s=Z_(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ci.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=ph(e,this._firestore);let s;return s=typeof(n=sn(n))=="string"||n instanceof kh?yI(this._dataReader,"WriteBatch.update",a._key,n,r,i):vI(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ph(e,this._firestore);return this._mutations=this._mutations.concat(new Ig(n._key,ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ph(t,e){if((t=sn(t)).firestore!==e)throw new tt(Be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=pp(e)}get(e){const n=ph(e,this._firestore),r=new rre(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return wt(24041);const a=i[0];if(a.isFoundDocument())return new Vy(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Vy(this._firestore,r,n._key,null,n.converter);throw wt(18433,{doc:a})}))}set(e,n,r){const i=ph(e,this._firestore),a=ax(i.converter,n,r),s=Z_(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=ph(e,this._firestore);let s;return s=typeof(n=sn(n))=="string"||n instanceof kh?yI(this._dataReader,"Transaction.update",a._key,n,r,i):vI(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=ph(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vre=class extends gre{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ph(e,this._firestore),r=new gp(this._firestore);return super.get(e).then((i=>new Il(this._firestore,r,n._key,i._document,new Id(!1,!1),n.converter)))}};function yre(t,e,n){t=nr(t,Yi);const r={...pre,...n};return(function(a){if(a.maxAttempts<1)throw new tt(Be.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,s,l){const u=new ls;return a.asyncQueue.enqueueAndForget((async()=>{const f=await Ane(a);new wne(a.asyncQueue,f,l,s,u).ju()})),u.promise})(ks(t),(i=>e(new vre(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(){return new O0("deleteField")}function _re(){return new dI("serverTimestamp")}function xre(...t){return new pI("arrayUnion",t)}function wre(...t){return new mI("arrayRemove",t)}function Ere(t){return new gI("increment",t)}(function(e,n=!0){(function(i){Sg=i})(Uh),Th(new su("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Yi(new gZ(r.getProvider("auth-internal")),new bZ(s,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new tt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(f.options.projectId,h)})(s,i),s);return a={useFetchStreams:n,...a},l._setSettings(a),l}),"PUBLIC").setMultipleInstances(!0)),oc(yO,bO,e),oc(yO,bO,"esm2020")})();const Are="@firebase/firestore-compat",Sre="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new tt("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function HR(){if(!eee())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}let SU=class CS{constructor(e){this._delegate=e}static fromBase64String(e){return HR(),new CS(Rs.fromBase64String(e))}static fromUint8Array(e){return qR(),new CS(Rs.fromUint8Array(e))}toBase64(){return HR(),this._delegate.toBase64()}toUint8Array(){return qR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){return Tre(t,["next","error","complete"])}function Tre(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{enableIndexedDbPersistence(e,n){return jne(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Mne(e._delegate)}clearIndexedDbPersistence(e){return Fne(e._delegate)}}class TU{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ih||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&lu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...n,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Rne(this._delegate,e,n,r)}enableNetwork(){return Bne(this._delegate)}disableNetwork(){return Vne(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,X8("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Une(this._delegate)}onSnapshotsInSync(e){return dre(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ug(this,sU(this._delegate,e))}catch(n){throw Gs(n,"collection()","Firestore.collection()")}}doc(e){try{return new Sl(this,w2(this._delegate,e))}catch(n){throw Gs(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,Dne(this._delegate,e))}catch(n){throw Gs(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return yre(this._delegate,n=>e(new NU(this,n)))}batch(){return ks(this._delegate),new IU(new mre(this._delegate,e=>D0(this._delegate,e)))}loadBundle(e){return zne(this._delegate,e)}namedQuery(e){return qne(this._delegate,e).then(n=>n?new $s(this,n):null)}}class sx extends AI{constructor(e){super(),this.firestore=e}convertBytes(e){return new SU(new Rs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Sl.forKey(n,this.firestore,null)}}function Ire(t){hZ(t)}class NU{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new sx(e)}get(e){const n=Cd(e);return this._delegate.get(n).then(r=>new zy(this._firestore,new Il(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Cd(e);return r?(TI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Cd(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Cd(e);return this._delegate.delete(n),this}}class IU{constructor(e){this._delegate=e}set(e,n,r){const i=Cd(e);return r?(TI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Cd(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Cd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Zd{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new py(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qy(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Zd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new Zd(e,new sx(e),n),i.set(n,a)),a}}Zd.INSTANCES=new WeakMap;class Sl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new sx(e)}static forPath(e,n,r){if(e.length%2!==0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sl(n,new Vr(n._delegate,r,new mt(e)))}static forKey(e,n,r){return new Sl(n,new Vr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ug(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ug(this.firestore,sU(this._delegate,e))}catch(n){throw Gs(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=sn(e),e instanceof Vr?oU(this._delegate,e):!1}set(e,n){n=TI("DocumentReference.set",n);try{return n?VR(this._delegate,e,n):VR(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?zR(this._delegate,e):zR(this._delegate,e,n,...r)}catch(i){throw Gs(i,"updateDoc()","DocumentReference.update()")}}delete(){return fre(this._delegate)}onSnapshot(...e){const n=CU(e),r=PU(e,i=>new zy(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return AU(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=sre(this._delegate):(e==null?void 0:e.source)==="server"?n=ore(this._delegate):n=are(this._delegate),n.then(r=>new zy(this.firestore,new Il(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Sl(this.firestore,e?this._delegate.withConverter(Zd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gs(t,e,n){return t.message=t.message.replace(e,n),t}function CU(t){for(const e of t)if(typeof e=="object"&&!PS(e))return e;return{}}function PU(t,e){var r,i;let n;return PS(t[0])?n=t[0]:PS(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:a=>{n.next&&n.next(e(a))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class zy{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Sl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return EU(this._delegate,e._delegate)}}class qy extends zy{data(e){const n=this._delegate.data(e);return this._delegate._converter||dZ(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class $s{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new sx(e)}where(e,n,r){try{return new $s(this.firestore,ah(this._delegate,Kne(e,n,r)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new $s(this.firestore,ah(this._delegate,Xne(e,n)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,ah(this._delegate,Qne(e)))}catch(n){throw Gs(n,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,ah(this._delegate,Jne(e)))}catch(n){throw Gs(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,ah(this._delegate,Zne(...e)))}catch(n){throw Gs(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,ah(this._delegate,ere(...e)))}catch(n){throw Gs(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,ah(this._delegate,tre(...e)))}catch(n){throw Gs(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,ah(this._delegate,nre(...e)))}catch(n){throw Gs(n,"endAt()","Query.endAt()")}}isEqual(e){return lU(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=cre(this._delegate):(e==null?void 0:e.source)==="server"?n=ure(this._delegate):n=lre(this._delegate),n.then(r=>new OS(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=CU(e),r=PU(e,i=>new OS(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return AU(this._delegate,n,r)}withConverter(e){return new $s(this.firestore,e?this._delegate.withConverter(Zd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Cre{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new qy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OS{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Cre(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new qy(this._firestore,r))})}isEqual(e){return EU(this._delegate,e._delegate)}}class ug extends $s{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sl(this.firestore,e):null}doc(e){try{return e===void 0?new Sl(this.firestore,w2(this._delegate)):new Sl(this.firestore,w2(this._delegate,e))}catch(n){throw Gs(n,"doc()","CollectionReference.doc()")}}add(e){return hre(this._delegate,e).then(n=>new Sl(this.firestore,n))}isEqual(e){return oU(this._delegate,e._delegate)}withConverter(e){return new ug(this.firestore,e?this._delegate.withConverter(Zd.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Cd(t){return nr(t,Vr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(...e){this._delegate=new kh(...e)}static documentId(){return new NI(li.keyField().canonicalString())}isEqual(e){return e=sn(e),e instanceof kh?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{static serverTimestamp(){const e=_re();return e._methodName="FieldValue.serverTimestamp",new Ad(e)}static delete(){const e=bre();return e._methodName="FieldValue.delete",new Ad(e)}static arrayUnion(...e){const n=xre(...e);return n._methodName="FieldValue.arrayUnion",new Ad(n)}static arrayRemove(...e){const n=wre(...e);return n._methodName="FieldValue.arrayRemove",new Ad(n)}static increment(e){const n=Ere(e);return n._methodName="FieldValue.increment",new Ad(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre={Firestore:TU,GeoPoint:lc,Timestamp:hr,Blob:SU,Transaction:NU,WriteBatch:IU,DocumentReference:Sl,DocumentSnapshot:zy,Query:$s,QueryDocumentSnapshot:qy,QuerySnapshot:OS,CollectionReference:ug,FieldPath:NI,FieldValue:Ad,setLogLevel:Ire,CACHE_SIZE_UNLIMITED:Lne};function Ore(t,e){t.INTERNAL.registerComponent(new su("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...Pre}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rre(t){Ore(t,(e,n)=>new TU(e,n,new Nre)),t.registerVersion(Are,Sre)}Rre(af);const Dre={apiKey:"AIzaSyB69m5pyBKWWQLho1xlyVRpT3L7nOI4UDg",authDomain:"laserspeed-pro.firebaseapp.com",projectId:"laserspeed-pro",storageBucket:"laserspeed-pro.firebasestorage.app",messagingSenderId:"989287528750",appId:"1:989287528750:web:d451ca56d6182d3186e2bf",measurementId:"G-HMKMS1Q7M8"};af.apps.length||af.initializeApp(Dre);const Fr=af.auth(),Vc=af.firestore();try{Vc.enablePersistence().catch(t=>{t.code=="failed-precondition"?console.log("Persistence failed: Multiple tabs open"):t.code=="unimplemented"&&console.log("Persistence not supported by browser")})}catch{console.log("Persistence setup skipped")}const OU=O.createContext({user:null,loading:!0,logout:async()=>{}}),k0=()=>O.useContext(OU),kre=({children:t})=>{const[e,n]=O.useState(null),[r,i]=O.useState(!0);O.useEffect(()=>Fr.onAuthStateChanged(l=>{n(l),i(!1)}),[]);const a=async()=>{await Fr.signOut()};return v.jsx(OU.Provider,{value:{user:e,loading:r,logout:a},children:t})};var ln=(t=>(t.LOGIN="LOGIN",t.DASHBOARD="DASHBOARD",t.SESSION_SETUP="SESSION_SETUP",t.LIVE_RUN="LIVE_RUN",t.ANALYSIS="ANALYSIS",t.COMPARISON="COMPARISON",t.ATHLETES="ATHLETES",t.ATHLETE_DETAIL="ATHLETE_DETAIL",t.HISTORY="HISTORY",t.SESSION_DETAIL="SESSION_DETAIL",t.SENSOR_CHECK="SENSOR_CHECK",t.SETTINGS="SETTINGS",t.LEADERBOARD="LEADERBOARD",t.ANALYTICS="ANALYTICS",t))(ln||{}),ct=(t=>(t.FREE_RUN="FREE_RUN",t.ACCELERATION="ACCELERATION",t.FLY="FLY",t.POLE_VAULT="POLE_VAULT",t.LONG_JUMP="LONG_JUMP",t.FORTY_YARD_DASH="FORTY_YARD_DASH",t.SIXTY_METER_RUN="SIXTY_METER_RUN",t))(ct||{});const Lre=460800,jre=92,M5=4,Hy={speedUnit:"kph",distanceUnit:"metric",dateFormat:"DD.MM.YYYY"},iu={speed:{mps:"m/s",kph:"km/h",mph:"mph"},distance:{metric:"m",imperial:"yd"}},Ps={[ct.FREE_RUN]:{label:"Free Run / Manual",description:"Start and stop manually."},[ct.ACCELERATION]:{label:"Acceleration Test",description:"Measure time to specific distance from stop."},[ct.FLY]:{label:"Fly Test",description:"Measure max speed segment with run-up."},[ct.POLE_VAULT]:{label:"Pole Vault Run-up",description:"Track run-up velocity and log jump height."},[ct.LONG_JUMP]:{label:"Long Jump",description:"Track approach speed and log jump distance."},[ct.FORTY_YARD_DASH]:{label:"40 Yard Dash",description:"Auto-stops at 40 yards. Time measured from start."},[ct.SIXTY_METER_RUN]:{label:"60 Meter Run",description:"Auto-stops at 60 meters. Time measured from start."}},RS=t=>{if(Array.isArray(t))return t.map(e=>RS(e));if(t!==null&&typeof t=="object"){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=RS(r))}),e}return t},Kc={async postToLeaderboard(t){if(!Fr.currentUser)throw new Error("User not authenticated");const e=RS(t);await Vc.collection("leaderboards").doc(t.id).set(e)},subscribeToLeaderboard(t,e){return Vc.collection("leaderboards").where("testType","==",t).orderBy("time","asc").limit(100).onSnapshot(n=>{const r=n.docs.map(i=>i.data());e(r)})},async deleteEntry(t){if(!Fr.currentUser)throw new Error("User not authenticated");try{await Vc.collection("leaderboards").doc(t).delete()}catch(e){throw console.error("Error deleting leaderboard entry:",e),e.code==="permission-denied"?new Error("Permission Denied: You can only delete your own entries."):e}},async getUserEntries(t){return(await Vc.collection("leaderboards").where("userId","==",t).orderBy("createdAt","desc").get()).docs.map(n=>n.data())},async getAthleteEntries(t){return(await Vc.collection("leaderboards").where("athleteId","==",t).orderBy("time","asc").get()).docs.map(n=>n.data())},async updateAthleteName(t,e,n){if(!Fr.currentUser)throw new Error("User not authenticated");try{const r=await Vc.collection("leaderboards").where("athleteId","==",t).get(),i=Vc.batch();r.docs.forEach(a=>{const s={athleteName:e};n!==void 0&&(s.athleteGender=n),i.update(a.ref,s)}),await i.commit(),console.log(`Updated ${r.docs.length} leaderboard entries for athlete ${t}`)}catch(r){throw console.error("Error updating athlete name in leaderboard:",r),r}}},$u=t=>{if(Array.isArray(t))return t.map(e=>$u(e));if(t!==null&&typeof t=="object"){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=$u(r))}),e}return t},Hs=()=>{var e;const t=(e=Fr.currentUser)==null?void 0:e.uid;if(!t)throw new Error("User not authenticated");return Vc.collection("users").doc(t)},_o={async saveSettings(t){Fr.currentUser&&await Hs().set({settings:$u(t)},{merge:!0})},async getSettings(){var e;return Fr.currentUser&&((e=(await Hs().get()).data())==null?void 0:e.settings)||Hy},async addAthlete(t){Fr.currentUser&&await Hs().collection("athletes").doc(t.id).set($u(t))},async updateAthlete(t){if(!Fr.currentUser)return;const n=(await Hs().collection("athletes").doc(t.id).get()).data();if(await Hs().collection("athletes").doc(t.id).set($u(t),{merge:!0}),n&&(n.name!==t.name||n.gender!==t.gender))try{await Kc.updateAthleteName(t.id,t.name,t.gender)}catch(r){console.error("Failed to update leaderboard entries:",r)}},async deleteAthlete(t){Fr.currentUser&&await Hs().collection("athletes").doc(t).delete()},subscribeToAthletes(t){return Fr.currentUser?Hs().collection("athletes").onSnapshot(e=>{const n=e.docs.map(r=>r.data());t(n)}):()=>{}},async createSession(t){Fr.currentUser&&await Hs().collection("sessions").doc(t.id).set($u(t))},async updateSession(t,e){Fr.currentUser&&await Hs().collection("sessions").doc(t).update($u(e))},async updateSessionAthletes(t,e){Fr.currentUser&&await Hs().collection("sessions").doc(t).update({athleteIds:e})},async finishSession(t){Fr.currentUser&&await Hs().collection("sessions").doc(t).update({status:"COMPLETED"})},async deleteSession(t){if(!Fr.currentUser)throw console.error("Cannot delete session: User not authenticated"),new Error("User not authenticated");try{console.log("Attempting to delete session:",t),await Hs().collection("sessions").doc(t).delete(),console.log("Session deleted successfully from DB")}catch(e){throw console.error("Error deleting session from DB:",e),e.code==="permission-denied"?new Error("Permission Denied: Check your Firestore Console Rules to allow delete."):e}},async addRunToSession(t,e){if(!Fr.currentUser)return;const n=Hs().collection("sessions").doc(t),r=await n.get();if(r.exists){const a=[...r.data().runs||[],$u(e)];await n.update({runs:a})}},async updateRunInSession(t,e){Fr.currentUser&&await Hs().collection("sessions").doc(t).update({runs:$u(e)})},subscribeToSessions(t){return Fr.currentUser?Hs().collection("sessions").orderBy("date","desc").onSnapshot(e=>{const n=e.docs.map(r=>r.data());t(n)}):()=>{}}},RU=O.createContext({athletes:[],sessions:[],settings:Hy,refreshSettings:async()=>{}}),Mre=()=>O.useContext(RU),Fre=({children:t})=>{const{user:e}=k0(),[n,r]=O.useState([]),[i,a]=O.useState([]),[s,l]=O.useState(Hy),u=async()=>{if(e){const f=await _o.getSettings();l(f)}};return O.useEffect(()=>{if(!e){r([]),a([]),l(Hy);return}u();const f=_o.subscribeToAthletes(r),h=_o.subscribeToSessions(a);return()=>{f(),h()}},[e]),v.jsx(RU.Provider,{value:{athletes:n,sessions:i,settings:s,refreshSettings:u},children:t})},DU=O.createContext({isOnline:!0,isSyncing:!1,pendingWrites:0}),Ure=()=>O.useContext(DU),Bre=({children:t})=>{const[e,n]=O.useState(navigator.onLine),[r,i]=O.useState(!1),[a,s]=O.useState(0);return O.useEffect(()=>{const l=()=>{console.log(" Connection restored - syncing data..."),n(!0),i(!0)},u=()=>{console.log(" Connection lost - working offline"),n(!1)};window.addEventListener("online",l),window.addEventListener("offline",u);let f=[];const h=Vc.collection("_sync_status").limit(1).onSnapshot({includeMetadataChanges:!0},y=>{y.metadata.fromCache&&navigator.onLine||i(!1)}),p=setInterval(()=>{e&&!navigator.onLine?n(!1):!e&&navigator.onLine&&(n(!0),i(!0),setTimeout(()=>i(!1),2e3))},1e3);return()=>{window.removeEventListener("online",l),window.removeEventListener("offline",u),h(),clearInterval(p),f.forEach(y=>y())}},[e]),v.jsx(DU.Provider,{value:{isOnline:e,isSyncing:r,pendingWrites:a},children:t})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zre=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$R=t=>{const e=zre(t);return e.charAt(0).toUpperCase()+e.slice(1)},kU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),qre=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},u)=>O.createElement("svg",{ref:u,...Hre,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kU("lucide",i),...!a&&!qre(l)&&{"aria-hidden":"true"},...l},[...s.map(([f,h])=>O.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement($re,{ref:a,iconNode:e,className:kU(`lucide-${Vre($R(t))}`,`lucide-${t}`,r),...i}));return n.displayName=$R(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],as=$t("activity",Gre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$y=$t("arrow-left",Yre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kre=$t("arrow-right",Wre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Qre=$t("arrow-up-right",Xre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Zre=$t("arrow-up",Jre);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],tie=$t("bot",eie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ep=$t("calendar",nie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],DS=$t("chart-no-axes-column",rie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lh=$t("check",iie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LU=$t("chevron-down",aie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oie=$t("chevron-left",sie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],my=$t("chevron-right",lie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uie=$t("chevron-up",cie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],hie=$t("chevrons-down",fie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],pie=$t("chevrons-up",die);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tp=$t("circle-alert",mie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jU=$t("circle-check",gie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],yie=$t("clipboard-pen",vie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MU=$t("clock",bie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],xie=$t("crosshair",_ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Eie=$t("download",wie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Sie=$t("ellipsis-vertical",Aie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],II=$t("file-down",Tie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],FU=$t("footprints",Nie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cie=$t("funnel",Iie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],kS=$t("git-compare",Pie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Rie=$t("globe",Oie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GR=$t("history",Die);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UU=$t("list",kie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jie=$t("log-in",Lie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YR=$t("lock",Mie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CI=$t("log-out",Fie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bie=$t("mail",Uie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],F5=$t("medal",Vie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qie=$t("message-square",zie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ox=$t("pen",Hie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],L0=$t("play",$ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gy=$t("plus",Gie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wie=$t("refresh-cw",Yie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],j0=$t("ruler",Kie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A2=$t("save",Xie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],BU=$t("search",Qie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WR=$t("settings",Jie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eae=$t("shield",Zie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],KR=$t("sparkles",tae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rae=$t("square",nae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fg=$t("target",iae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],PI=$t("timer",aae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],np=$t("trash-2",sae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],lae=$t("trending-down",oae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yy=$t("trending-up",cae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fae=$t("triangle-alert",uae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ko=$t("trophy",hae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],VU=$t("user-plus",dae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XR=$t("user",pae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dg=$t("users",mae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OI=$t("wifi-off",gae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],zU=$t("wifi",vae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fc=$t("x",yae);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hg=$t("zap",bae),_ae=({currentView:t,onChangeView:e,onLogout:n})=>{const[r,i]=O.useState(!1),a=({view:l,icon:u,label:f,mobileOnly:h=!1})=>{const p=t===l,y=`flex flex-col items-center justify-center p-2 w-full transition-colors ${p?"text-[#37352F]":"text-[#9B9A97]"}`,g=`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors select-none ${p?"bg-[#EFEFED] text-[#37352F]":"text-[#787774] hover:bg-[#EFEFED] hover:text-[#37352F]"}`;return v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>e(l),className:`md:hidden ${y} `,children:[v.jsx(u,{size:20,strokeWidth:p?2.5:2}),v.jsx("span",{className:"text-[10px] mt-1 font-medium",children:f})]}),v.jsxs("button",{onClick:()=>e(l),className:`hidden md:flex ${g}`,children:[v.jsx(u,{size:16,strokeWidth:2})," ",f]})]})},s=({href:l,icon:u,label:f})=>v.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"hidden md:flex flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors select-none text-[#787774] hover:bg-[#EFEFED] hover:text-[#37352F]",children:[v.jsx(u,{size:16,strokeWidth:2})," ",f]});return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-[#E9E9E7] flex justify-between items-center z-50 pb-safe px-2 shadow-[0_-1px_10px_rgba(0,0,0,0.02)]",children:[v.jsx(a,{view:ln.DASHBOARD,icon:as,label:"Home"}),v.jsx(a,{view:ln.LIVE_RUN,icon:hg,label:"Measure"}),v.jsx(a,{view:ln.LEADERBOARD,icon:Ko,label:"Ranks"}),v.jsx(a,{view:ln.HISTORY,icon:GR,label:"History"}),v.jsx(a,{view:ln.SETTINGS,icon:WR,label:"Settings"})]}),v.jsxs("div",{className:"hidden md:flex flex-col w-60 bg-[#F7F7F5] border-r border-[#E9E9E7] h-screen fixed left-0 top-0",children:[v.jsxs("div",{className:"p-6 flex flex-col items-center gap-3 mb-2",children:[v.jsx("div",{className:"w-20 h-20 rounded-xl shadow-sm bg-[#37352F] flex items-center justify-center overflow-hidden",children:r?v.jsx(as,{size:44,className:"text-white"}):v.jsx("img",{src:"favicon.png?v=2",alt:"Logo",className:"w-full h-full object-cover",onError:()=>i(!0)})}),v.jsx("span",{className:"font-medium text-[#37352F] tracking-tight text-lg",children:"LaserSpeed Pro"})]}),v.jsxs("nav",{className:"flex-1 flex flex-col gap-0.5 px-2",children:[v.jsx("div",{className:"px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Workspace"}),v.jsx(a,{view:ln.DASHBOARD,icon:as,label:"Dashboard"}),v.jsx(a,{view:ln.LIVE_RUN,icon:hg,label:"Measurement"}),v.jsx(a,{view:ln.HISTORY,icon:GR,label:"History"}),v.jsx(a,{view:ln.ATHLETES,icon:Dg,label:"Athletes"}),v.jsx(a,{view:ln.ANALYTICS,icon:DS,label:"Analytics"}),v.jsx("div",{className:"mt-6 px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Social"}),v.jsx(a,{view:ln.LEADERBOARD,icon:Ko,label:"Leaderboard"}),v.jsx("div",{className:"mt-6 px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Tools"}),v.jsx(a,{view:ln.SENSOR_CHECK,icon:as,label:"Sensor Check"}),v.jsx(a,{view:ln.SETTINGS,icon:WR,label:"Settings"}),v.jsx("div",{className:"mt-6 px-3 py-2 text-xs font-bold text-[#9B9A97] uppercase tracking-wider",children:"Community"}),v.jsx(s,{href:"https://laservelocitypro.userjot.com/",icon:qie,label:"Feedback"}),v.jsx(s,{href:"https://laservelocitypro.userjot.com/roadmap",icon:Yy,label:"Roadmap"})]}),v.jsx("div",{className:"p-2 border-t border-[#E9E9E7]",children:v.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-1.5 w-full rounded-md font-medium text-[#787774] hover:bg-[#EFEFED] text-sm transition-colors",children:[v.jsx(CI,{size:16})," Logout"]})})]})]})};class xae{constructor(){this.port=null,this.reader=null,this.keepReading=!1,this.onDataCallback=null,this.onStatusCallback=null}isSupported(){return"serial"in navigator}setOnData(e){this.onDataCallback=e}setOnStatus(e){this.onStatusCallback=e}async connect(){var e,n;try{if(!this.isSupported())throw new Error("Web Serial API not supported in this browser.");this.port=await navigator.serial.requestPort(),await this.port.open({baudRate:Lre,dataBits:8,stopBits:1,parity:"none"}),this.keepReading=!0,this.readLoop(),(e=this.onStatusCallback)==null||e.call(this,"Connected")}catch(r){throw console.error("Connection failed",r),(n=this.onStatusCallback)==null||n.call(this,"Connection Failed"),r}}async disconnect(){var e;this.keepReading=!1,this.reader&&await this.reader.cancel(),this.port&&await this.port.close(),this.port=null,(e=this.onStatusCallback)==null||e.call(this,"Disconnected")}async readLoop(){var n;if(!this.port||!this.port.readable)return;this.reader=this.port.readable.getReader();let e=[];try{for(;this.keepReading;){const{value:r,done:i}=await this.reader.read();if(i){this.reader.releaseLock();break}if(r){for(let a=0;a<r.length;a++)e.push(r[a]);this.processBuffer(e)}}}catch(r){console.error("Read error",r),(n=this.onStatusCallback)==null||n.call(this,"Read Error")}finally{this.reader&&this.reader.releaseLock()}}processBuffer(e){for(;e.length>=M5;){const n=e.indexOf(jre);if(n===-1){e.splice(0,e.length-1);return}if(n>0&&e.splice(0,n),e.length<M5)return;const r=e[1],i=e[2],a=e[3],l=~(r+i&255)&255;if(a===l){const u=r+(i<<8);u!==65535&&this.onDataCallback&&this.onDataCallback(u),e.splice(0,M5)}else e.splice(0,1)}}}const qc=new xae;function qU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qU(t))&&(r&&(r+=" "),r+=e);return r}var wae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function RI(t){if(typeof t!="string")return!1;var e=wae;return e.includes(t)}var Eae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function HU(t){if(typeof t!="string")return!1;var e=Eae;return e.includes(t)}function $U(t){return typeof t=="string"&&t.startsWith("data-")}function Pl(t){var e=Object.entries(t).filter(n=>{var[r]=n;return HU(r)||$U(r)});return Object.fromEntries(e)}function lx(t){if(t==null)return null;if(O.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Pl(e)}return typeof t=="object"&&!Array.isArray(t)?Pl(t):null}function fs(t){var e=Object.entries(t).filter(n=>{var[r]=n;return HU(r)||$U(r)||RI(r)});return Object.fromEntries(e)}function Aae(t){return t==null?null:O.isValidElement(t)?fs(t.props):typeof t=="object"&&!Array.isArray(t)?fs(t):null}var Sae=["children","width","height","viewBox","className","style","title","desc"];function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LS.apply(null,arguments)}function Tae(t,e){if(t==null)return{};var n,r,i=Nae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GU=O.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:u,desc:f}=t,h=Tae(t,Sae),p=a||{width:r,height:i,x:0,y:0},y=wr("recharts-surface",s);return O.createElement("svg",LS({},fs(h),{className:y,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),O.createElement("title",null,u),O.createElement("desc",null,f),n)}),Iae=["children","className"];function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(null,arguments)}function Cae(t,e){if(t==null)return{};var n,r,i=Pae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var el=O.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Cae(t,Iae),a=wr("recharts-layer",r);return O.createElement("g",jS({className:a},fs(i),{ref:e}),n)}),YU=bM(),Oae=O.createContext(null);function Ur(t){return function(){return t}}const WU=Math.cos,S2=Math.sin,dc=Math.sqrt,T2=Math.PI,cx=2*T2,MS=Math.PI,FS=2*MS,gd=1e-6,Rae=FS-gd;function KU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Dae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return KU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?KU:Dae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=r-e,f=i-n,h=s-e,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>gd)if(!(Math.abs(p*u-f*h)>gd)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,E=i-l,A=u*u+f*f,S=g*g+E*E,I=Math.sqrt(A),q=Math.sqrt(y),k=a*Math.tan((MS-Math.acos((A+y-S)/(2*I*q)))/2),B=k/q,$=k/I;Math.abs(B-1)>gd&&this._append`L${e+B*h},${n+B*p}`,this._append`A${a},${a},0,0,${+(p*g>h*E)},${this._x1=e+$*u},${this._y1=n+$*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,h=n+u,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>gd||Math.abs(this._y1-h)>gd)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%FS+FS),y>Rae?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>gd&&this._append`A${r},${r},0,${+(y>=MS)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kae(e)}function kI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XU(t){this._context=t}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ux(t){return new XU(t)}function QU(t){return t[0]}function JU(t){return t[1]}function ZU(t,e){var n=Ur(!0),r=null,i=ux,a=null,s=DI(l);t=typeof t=="function"?t:t===void 0?QU:Ur(t),e=typeof e=="function"?e:e===void 0?JU:Ur(e);function l(u){var f,h=(u=kI(u)).length,p,y=!1,g;for(r==null&&(a=i(g=s())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,f,u),+e(p,f,u));if(g)return a=null,g+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ur(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ur(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ur(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function rb(t,e,n){var r=null,i=Ur(!0),a=null,s=ux,l=null,u=DI(f);t=typeof t=="function"?t:t===void 0?QU:Ur(+t),e=typeof e=="function"?e:Ur(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JU:Ur(+n);function f(p){var y,g,E,A=(p=kI(p)).length,S,I=!1,q,k=new Array(A),B=new Array(A);for(a==null&&(l=s(q=u())),y=0;y<=A;++y){if(!(y<A&&i(S=p[y],y,p))===I)if(I=!I)g=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=y-1;E>=g;--E)l.point(k[E],B[E]);l.lineEnd(),l.areaEnd()}I&&(k[y]=+t(S,y,p),B[y]=+e(S,y,p),l.point(r?+r(S,y,p):k[y],n?+n(S,y,p):B[y]))}if(q)return l=null,q+""||null}function h(){return ZU().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ur(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ur(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ur(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ur(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ur(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ur(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ur(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(l=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=l=null:l=s(a=p),f):a},f}class eB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Lae(t){return new eB(t,!0)}function jae(t){return new eB(t,!1)}const LI={draw(t,e){const n=dc(e/T2);t.moveTo(n,0),t.arc(0,0,n,0,cx)}},Mae={draw(t,e){const n=dc(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tB=dc(1/3),Fae=tB*2,Uae={draw(t,e){const n=dc(e/Fae),r=n*tB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Bae={draw(t,e){const n=dc(e),r=-n/2;t.rect(r,r,n,n)}},Vae=.8908130915292852,nB=S2(T2/10)/S2(7*T2/10),zae=S2(cx/10)*nB,qae=-WU(cx/10)*nB,Hae={draw(t,e){const n=dc(e*Vae),r=zae*n,i=qae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=cx*a/5,l=WU(s),u=S2(s);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},U5=dc(3),$ae={draw(t,e){const n=-dc(e/(U5*3));t.moveTo(0,n*2),t.lineTo(-U5*n,-n),t.lineTo(U5*n,-n),t.closePath()}},xl=-.5,wl=dc(3)/2,US=1/dc(12),Gae=(US/2+1)*3,Yae={draw(t,e){const n=dc(e/Gae),r=n/2,i=n*US,a=r,s=n*US+n,l=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(xl*r-wl*i,wl*r+xl*i),t.lineTo(xl*a-wl*s,wl*a+xl*s),t.lineTo(xl*l-wl*u,wl*l+xl*u),t.lineTo(xl*r+wl*i,xl*i-wl*r),t.lineTo(xl*a+wl*s,xl*s-wl*a),t.lineTo(xl*l+wl*u,xl*u-wl*l),t.closePath()}};function Wae(t,e){let n=null,r=DI(i);t=typeof t=="function"?t:Ur(t||LI),e=typeof e=="function"?e:Ur(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ur(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function N2(){}function I2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rB(t){this._context=t}rB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:I2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:I2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kae(t){return new rB(t)}function iB(t){this._context=t}iB.prototype={areaStart:N2,areaEnd:N2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:I2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xae(t){return new iB(t)}function aB(t){this._context=t}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:I2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qae(t){return new aB(t)}function sB(t){this._context=t}sB.prototype={areaStart:N2,areaEnd:N2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Jae(t){return new sB(t)}function QR(t){return t<0?-1:1}function JR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(QR(a)+QR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function ZR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function B5(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function C2(t){this._context=t}C2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B5(this,this._t0,ZR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,B5(this,ZR(this,n=JR(this,t,e)),n);break;default:B5(this,this._t0,n=JR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oB(t){this._context=new lB(t)}(oB.prototype=Object.create(C2.prototype)).point=function(t,e){C2.prototype.point.call(this,e,t)};function lB(t){this._context=t}lB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Zae(t){return new C2(t)}function ese(t){return new oB(t)}function cB(t){this._context=t}cB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=eD(t),i=eD(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eD(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function tse(t){return new cB(t)}function fx(t,e){this._context=t,this._t=e}fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function nse(t){return new fx(t,.5)}function rse(t){return new fx(t,0)}function ise(t){return new fx(t,1)}function dg(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function BS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ase(t,e){return t[e]}function sse(t){const e=[];return e.key=t,e}function ose(){var t=Ur([]),e=BS,n=dg,r=ase;function i(a){var s=Array.from(t.apply(this,arguments),sse),l,u=s.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(s[l][f]=[0,+r(p,s[l].key,f,a)]).data=p;for(l=0,h=kI(e(s));l<u;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ur(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ur(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?BS:typeof a=="function"?a:Ur(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??dg,i):n},i}function lse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}dg(t,e)}}function cse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}dg(t,e)}}function use(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,u=0,f=0;l<s;++l){for(var h=t[e[l]],p=h[r][1]||0,y=h[r-1][1]||0,g=(p-y)/2,E=0;E<l;++E){var A=t[e[E]],S=A[r][1]||0,I=A[r-1][1]||0;g+=S-I}u+=p,f+=g*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,dg(t,e)}}var V5={},z5={},tD;function fse(){return tD||(tD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(z5)),z5}var q5={},nD;function uB(){return nD||(nD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(q5)),q5}var H5={},rD;function jI(){return rD||(rD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(H5)),H5}var $5={},G5={},iD;function hse(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(G5)),G5}var aD;function MI(){return aD||(aD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hse(),n=jI();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const p=i[l];f?p==="\\"&&l+1<s?(l++,u+=i[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}t.toPath=r})($5)),$5}var sD;function FI(){return sD||(sD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fse(),n=uB(),r=jI(),i=MI();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return s(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function s(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||e.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}t.get=a})(V5)),V5}var Y5,oD;function dse(){return oD||(oD=1,Y5=FI().get),Y5}var pse=dse();const hx=hu(pse);var Tl=t=>t===0?0:t>0?1:-1,tl=t=>typeof t=="number"&&t!=+t,cf=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ht=t=>(typeof t=="number"||t instanceof Number)&&!tl(t),Ol=t=>Ht(t)||typeof t=="string",mse=0,Wy=t=>{var e=++mse;return"".concat(t||"").concat(e)},jh=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ht(e)&&typeof e!="string")return r;var a;if(cf(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return tl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},fB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ia(t,e,n){return Ht(t)&&Ht(e)?t+n*(e-t):e}function hB(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):hx(r,e))===n)}var wa=t=>t===null||typeof t>"u",M0=t=>wa(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function gse(t){return t!=null}function kg(){}var vse=["type","size","sizeType"];function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(null,arguments)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){yse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xse(t,e){if(t==null)return{};var n,r,i=wse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dB={symbolCircle:LI,symbolCross:Mae,symbolDiamond:Uae,symbolSquare:Bae,symbolStar:Hae,symbolTriangle:$ae,symbolWye:Yae},Ese=Math.PI/180,Ase=t=>{var e="symbol".concat(M0(t));return dB[e]||LI},Sse=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Ese;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tse=(t,e)=>{dB["symbol".concat(M0(t))]=e},pB=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=xse(t,vse),a=cD(cD({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var l=()=>{var y=Ase(s),g=Wae().type(y).size(Sse(n,r,s)),E=g();if(E!==null)return E},{className:u,cx:f,cy:h}=a,p=fs(a);return Ht(f)&&Ht(h)&&Ht(n)?O.createElement("path",VS({},p,{className:wr("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};pB.registerSymbol=Tse;var mB=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,UI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{RI(i)&&(r[i]=(a=>n[i](n,a)))}),r},Nse=(t,e,n)=>r=>(t(e,n,r),null),Ise=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];RI(i)&&typeof a=="function"&&(r||(r={}),r[i]=Nse(a,e,n))}),r};function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){Pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Rse(t,"string");return typeof e=="symbol"?e:e+""}function Rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(t,e){var n=Cse({},t),r=e,i=Object.keys(e),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}var W5={},K5={},fD;function Dse(){return fD||(fD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}t.uniqBy=e})(K5)),K5}var X5={},hD;function gB(){return hD||(hD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(X5)),X5}var Q5={},J5={},Z5={},dD;function kse(){return dD||(dD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Z5)),Z5}var pD;function BI(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kse();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(J5)),J5}var eE={},mD;function Lse(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(eE)),eE}var gD;function jse(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BI(),n=Lse();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Q5)),Q5}var tE={},nE={},vD;function Mse(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(nE)),nE}var rE={},iE={},aE={},sE={},yD;function vB(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(sE)),sE}var oE={},bD;function yB(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(oE)),oE}var lE={},_D;function bB(){return _D||(_D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(lE)),lE}var xD;function Fse(){return xD||(xD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vB(),n=yB(),r=bB();function i(h,p,y){return typeof y!="function"?i(h,p,()=>{}):a(h,p,function g(E,A,S,I,q,k){const B=y(E,A,S,I,q,k);return B!==void 0?!!B:a(E,A,g,k)},new Map)}function a(h,p,y,g){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,y,g);case"function":return Object.keys(p).length>0?a(h,{...p},y,g):r.eq(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function s(h,p,y,g){if(p==null)return!0;if(Array.isArray(p))return u(h,p,y,g);if(p instanceof Map)return l(h,p,y,g);if(p instanceof Set)return f(h,p,y,g);const E=Object.keys(p);if(h==null)return E.length===0;if(E.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===h;g==null||g.set(p,h);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!y(h[S],p[S],S,h,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function l(h,p,y,g){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,A]of p.entries()){const S=h.get(E);if(y(S,A,E,h,p,g)===!1)return!1}return!0}function u(h,p,y,g){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let A=0;A<p.length;A++){const S=p[A];let I=!1;for(let q=0;q<h.length;q++){if(E.has(q))continue;const k=h[q];let B=!1;if(y(k,S,A,h,p,g)&&(B=!0),B){E.add(q),I=!0;break}}if(!I)return!1}return!0}function f(h,p,y,g){return p.size===0?!0:h instanceof Set?u([...h],[...p],y,g):!1}t.isMatchWith=i,t.isSetMatch=f})(aE)),aE}var wD;function _B(){return wD||(wD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fse();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(iE)),iE}var cE={},uE={},fE={},ED;function Use(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(fE)),fE}var hE={},AD;function xB(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(hE)),hE}var dE={},SD;function wB(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",g="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",q="[object Uint16Array]",k="[object Uint32Array]",B="[object BigUint64Array]",$="[object Int8Array]",K="[object Int16Array]",j="[object Int32Array]",L="[object BigInt64Array]",D="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=L,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=A,t.dateTag=l,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=G,t.functionTag=p,t.int16ArrayTag=K,t.int32ArrayTag=j,t.int8ArrayTag=$,t.mapTag=u,t.numberTag=r,t.objectTag=g,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=q,t.uint32ArrayTag=k,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=I})(dE)),dE}var pE={},TD;function Bse(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(pE)),pE}var ND;function EB(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Use(),n=xB(),r=wB(),i=yB(),a=Bse();function s(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,y,g=new Map,E=void 0){const A=E==null?void 0:E(h,p,y,g);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const S=new Array(h.length);g.set(h,S);for(let I=0;I<h.length;I++)S[I]=l(h[I],I,y,g,E);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;g.set(h,S);for(const[I,q]of h)S.set(I,l(q,I,y,g,E));return S}if(h instanceof Set){const S=new Set;g.set(h,S);for(const I of h)S.add(l(I,void 0,y,g,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,S);for(let I=0;I<h.length;I++)S[I]=l(h[I],I,y,g,E);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,S),u(S,h,y,g,E),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return g.set(h,S),u(S,h,y,g,E),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return g.set(h,S),u(S,h,y,g,E),S}if(h instanceof Error){const S=new h.constructor;return g.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,y,g,E),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return g.set(h,S),u(S,h,y,g,E),S}if(h instanceof Number){const S=new Number(h.valueOf());return g.set(h,S),u(S,h,y,g,E),S}if(h instanceof String){const S=new String(h.valueOf());return g.set(h,S),u(S,h,y,g,E),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return g.set(h,S),u(S,h,y,g,E),S}return h}function u(h,p,y=h,g,E){const A=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<A.length;S++){const I=A[S],q=Object.getOwnPropertyDescriptor(h,I);(q==null||q.writable)&&(h[I]=l(p[I],I,y,g,E))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=l,t.copyProperties=u})(uE)),uE}var ID;function Vse(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EB();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(cE)),cE}var CD;function zse(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_B(),n=Vse();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(rE)),rE}var mE={},gE={},vE={},PD;function qse(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EB(),n=wB();function r(i,a){return e.cloneDeepWith(i,(s,l,u,f)=>{const h=a==null?void 0:a(s,l,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(vE)),vE}var OD;function Hse(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qse();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(gE)),gE}var yE={},bE={},RD;function AB(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(bE)),bE}var _E={},DD;function $se(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xB();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(_E)),_E}var kD;function Gse(){return kD||(kD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uB(),n=AB(),r=$se(),i=MI();function a(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(s==null?void 0:s[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=s;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(yE)),yE}var LD;function Yse(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_B(),n=jI(),r=Hse(),i=FI(),a=Gse();function s(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):u===void 0?h===void 0:e.isMatch(h,u)}}t.matchesProperty=s})(mE)),mE}var jD;function Wse(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gB(),n=Mse(),r=zse(),i=Yse();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(tE)),tE}var MD;function Kse(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dse(),n=gB(),r=jse(),i=Wse();function a(s,l=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(l)):[]}t.uniqBy=a})(W5)),W5}var xE,FD;function Xse(){return FD||(FD=1,xE=Kse().uniqBy),xE}var Qse=Xse();const UD=hu(Qse);function Jse(t,e,n){return e===!0?UD(t,n):typeof e=="function"?UD(t,e):t}var wE={exports:{}},EE={},AE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BD;function Zse(){if(BD)return SE;BD=1;var t=bg();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function l(p,y){var g=y(),E=r({inst:{value:g,getSnapshot:y}}),A=E[0].inst,S=E[1];return a(function(){A.value=g,A.getSnapshot=y,u(A)&&S({inst:A})},[p,g,y]),i(function(){return u(A)&&S({inst:A}),p(function(){u(A)&&S({inst:A})})},[p]),s(g),g}function u(p){var y=p.getSnapshot;p=p.value;try{var g=y();return!n(p,g)}catch{return!0}}function f(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return SE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,SE}var VD;function eoe(){return VD||(VD=1,AE.exports=Zse()),AE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD;function toe(){if(zD)return EE;zD=1;var t=bg(),e=eoe();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return EE.useSyncExternalStoreWithSelector=function(f,h,p,y,g){var E=a(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function I(K){if(!q){if(q=!0,k=K,K=y(K),g!==void 0&&A.hasValue){var j=A.value;if(g(j,K))return B=j}return B=K}if(j=B,r(k,K))return j;var L=y(K);return g!==void 0&&g(j,L)?(k=K,j):(k=K,B=L)}var q=!1,k,B,$=p===void 0?null:p;return[function(){return I(h())},$===null?void 0:function(){return I($())}]},[h,p,y,g]);var S=i(f,E[0],E[1]);return s(function(){A.hasValue=!0,A.value=S},[S]),u(S),S},EE}var qD;function noe(){return qD||(qD=1,wE.exports=toe()),wE.exports}var roe=noe(),VI=O.createContext(null),ioe=t=>t,Aa=()=>{var t=O.useContext(VI);return t?t.store.dispatch:ioe},qb=()=>{},aoe=()=>qb,soe=(t,e)=>t===e;function Yt(t){var e=O.useContext(VI);return roe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:aoe,e?e.store.getState:qb,e?e.store.getState:qb,e?t:qb,soe)}function ooe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function loe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function coe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var HD=t=>Array.isArray(t)?t:[t];function uoe(t){const e=Array.isArray(t[0])?t[0]:t;return coe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function foe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var hoe=class{constructor(t){this.value=t}deref(){return this.value}},doe=typeof WeakRef<"u"?WeakRef:hoe,poe=0,$D=1;function ib(){return{s:poe,v:void 0,o:null,p:null}}function SB(t,e={}){let n=ib();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var p;let l=n;const{length:u}=arguments;for(let y=0,g=u;y<g;y++){const E=arguments[y];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=l.o;A===null&&(l.o=A=new WeakMap);const S=A.get(E);S===void 0?(l=ib(),A.set(E,l)):l=S}else{let A=l.p;A===null&&(l.p=A=new Map);const S=A.get(E);S===void 0?(l=ib(),A.set(E,l)):l=S}}const f=l;let h;if(l.s===$D)h=l.v;else if(h=t.apply(null,arguments),a++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,h)&&(h=y,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new doe(h):h}return f.s=$D,f.v=h,h}return s.clearCache=()=>{n=ib(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function moe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),ooe(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:g=SB,argsMemoizeOptions:E=[]}=h,A=HD(y),S=HD(E),I=uoe(i),q=p(function(){return a++,f.apply(null,arguments)},...A),k=g(function(){s++;const $=foe(I,arguments);return l=q.apply(null,$),l},...S);return Object.assign(k,{resultFunc:f,memoizedResultFunc:q,dependencies:I,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var He=moe(SB),goe=Object.assign((t,e=He)=>{loe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>goe}),TE={},NE={},IE={},GD;function voe(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),l=e(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};t.compareValues=n})(IE)),IE}var CE={},PE={},YD;function TB(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(PE)),PE}var WD;function yoe(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(CE)),CE}var KD;function boe(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=voe(),n=yoe(),r=MI();function i(a,s,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const f=(g,E)=>{let A=g;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},h=(g,E)=>E==null||g==null?E:typeof g=="object"&&"key"in g?Object.hasOwn(E,g.key)?E[g.key]:f(E,g.path):typeof g=="function"?g(E):Array.isArray(g)?f(E,g):typeof E=="object"?E[g]:E,p=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(E=>h(E,g))})).slice().sort((g,E)=>{for(let A=0;A<p.length;A++){const S=e.compareValues(g.criteria[A],E.criteria[A],l[A]);if(S!==0)return S}return 0}).map(g=>g.original)}t.orderBy=i})(NE)),NE}var OE={},XD;function _oe(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<a?s(h,u+1):i.push(h)}};return s(n,0),i}t.flatten=e})(OE)),OE}var RE={},QD;function NB(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AB(),n=BI(),r=vB(),i=bB();function a(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],s):!1}t.isIterateeCall=a})(RE)),RE}var JD;function xoe(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=boe(),n=_oe(),r=NB();function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(TE)),TE}var DE,ZD;function woe(){return ZD||(ZD=1,DE=xoe().sortBy),DE}var Eoe=woe();const dx=hu(Eoe);var IB=t=>t.legend.settings,Aoe=t=>t.legend.size,Soe=t=>t.legend.payload;He([Soe,IB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?dx(r,n):r});var ab=1;function Toe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>ab||Math.abs(s.left-e.left)>ab||Math.abs(s.top-e.top)>ab||Math.abs(s.width-e.width)>ab)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ns(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Noe=typeof Symbol=="function"&&Symbol.observable||"@@observable",e6=Noe,kE=()=>Math.random().toString(36).substring(7).split("").join("."),Ioe={INIT:`@@redux/INIT${kE()}`,REPLACE:`@@redux/REPLACE${kE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kE()}`},P2=Ioe;function zI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function CB(t,e,n){if(typeof t!="function")throw new Error(ns(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ns(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ns(1));return n(CB)(t,e)}let r=t,i=e,a=new Map,s=a,l=0,u=!1;function f(){s===a&&(s=new Map,a.forEach((S,I)=>{s.set(I,S)}))}function h(){if(u)throw new Error(ns(3));return i}function p(S){if(typeof S!="function")throw new Error(ns(4));if(u)throw new Error(ns(5));let I=!0;f();const q=l++;return s.set(q,S),function(){if(I){if(u)throw new Error(ns(6));I=!1,f(),s.delete(q),a=null}}}function y(S){if(!zI(S))throw new Error(ns(7));if(typeof S.type>"u")throw new Error(ns(8));if(typeof S.type!="string")throw new Error(ns(17));if(u)throw new Error(ns(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=s).forEach(q=>{q()}),S}function g(S){if(typeof S!="function")throw new Error(ns(10));r=S,y({type:P2.REPLACE})}function E(){const S=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(ns(11));function q(){const B=I;B.next&&B.next(h())}return q(),{unsubscribe:S(q)}},[e6](){return this}}}return y({type:P2.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:g,[e6]:E}}function Coe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:P2.INIT})>"u")throw new Error(ns(12));if(typeof n(void 0,{type:P2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ns(13))})}function PB(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Coe(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],y=n[p],g=s[p],E=y(g,l);if(typeof E>"u")throw l&&l.type,new Error(ns(14));f[p]=E,u=u||E!==g}return u=u||r.length!==Object.keys(s).length,u?f:s}}function O2(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Poe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(ns(15))};const s={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=t.map(u=>u(s));return a=O2(...l)(i.dispatch),{...i,dispatch:a}}}function OB(t){return zI(t)&&"type"in t&&typeof t.type=="string"}var RB=Symbol.for("immer-nothing"),t6=Symbol.for("immer-draftable"),nl=Symbol.for("immer-state");function ic(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ky=Object.getPrototypeOf;function rp(t){return!!t&&!!t[nl]}function uf(t){var e;return t?DB(t)||Array.isArray(t)||!!t[t6]||!!((e=t.constructor)!=null&&e[t6])||F0(t)||mx(t):!1}var Ooe=Object.prototype.constructor.toString(),n6=new WeakMap;function DB(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=n6.get(n);return r===void 0&&(r=Function.toString.call(n),n6.set(n,r)),r===Ooe}function R2(t,e,n=!0){px(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function px(t){const e=t[nl];return e?e.type_:Array.isArray(t)?1:F0(t)?2:mx(t)?3:0}function zS(t,e){return px(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kB(t,e,n){const r=px(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Roe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function F0(t){return t instanceof Map}function mx(t){return t instanceof Set}function vd(t){return t.copy_||t.base_}function qS(t,e){if(F0(t))return new Map(t);if(mx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=DB(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[nl];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Ky(t),r)}else{const r=Ky(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function qI(t,e=!1){return gx(t)||rp(t)||!uf(t)||(px(t)>1&&Object.defineProperties(t,{set:sb,add:sb,clear:sb,delete:sb}),Object.freeze(t),e&&Object.values(t).forEach(n=>qI(n,!0))),t}function Doe(){ic(2)}var sb={value:Doe};function gx(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var koe={};function ip(t){const e=koe[t];return e||ic(0,t),e}var Xy;function LB(){return Xy}function Loe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r6(t,e){e&&(ip("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function HS(t){$S(t),t.drafts_.forEach(joe),t.drafts_=null}function $S(t){t===Xy&&(Xy=t.parent_)}function i6(t){return Xy=Loe(Xy,t)}function joe(t){const e=t[nl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function a6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[nl].modified_&&(HS(e),ic(4)),uf(t)&&(t=D2(e,t),e.parent_||k2(e,t)),e.patches_&&ip("Patches").generateReplacementPatches_(n[nl].base_,t,e.patches_,e.inversePatches_)):t=D2(e,n,[]),HS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==RB?t:void 0}function D2(t,e,n){if(gx(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[nl];if(!i)return R2(e,(a,s)=>s6(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return k2(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),R2(s,(u,f)=>s6(t,i,a,u,f,n,l),r),k2(t,a,!1),n&&t.patches_&&ip("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function s6(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=gx(i);if(!(l&&!s)){if(rp(i)){const u=a&&e&&e.type_!==3&&!zS(e.assigned_,r)?a.concat(r):void 0,f=D2(t,i,u);if(kB(n,r,f),rp(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(uf(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;D2(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(F0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&k2(t,i)}}}function k2(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qI(e,n)}function Moe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:LB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=HI;n&&(i=[r],a=Qy);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var HI={get(t,e){if(e===nl)return t;const n=vd(t);if(!zS(n,e))return Foe(t,n,e);const r=n[e];return t.finalized_||!uf(r)?r:r===LE(t.base_,e)?(jE(t),t.copy_[e]=YS(r,t)):r},has(t,e){return e in vd(t)},ownKeys(t){return Reflect.ownKeys(vd(t))},set(t,e,n){const r=jB(vd(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=LE(vd(t),e),a=i==null?void 0:i[nl];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Roe(n,i)&&(n!==void 0||zS(t.base_,e)))return!0;jE(t),GS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,jE(t),GS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vd(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ic(11)},getPrototypeOf(t){return Ky(t.base_)},setPrototypeOf(){ic(12)}},Qy={};R2(HI,(t,e)=>{Qy[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qy.deleteProperty=function(t,e){return Qy.set.call(this,t,e,void 0)};Qy.set=function(t,e,n){return HI.set.call(this,t[0],e,n,t[0])};function LE(t,e){const n=t[nl];return(n?vd(n):t)[e]}function Foe(t,e,n){var i;const r=jB(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function jB(t,e){if(!(e in t))return;let n=Ky(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ky(n)}}function GS(t){t.modified_||(t.modified_=!0,t.parent_&&GS(t.parent_))}function jE(t){t.copy_||(t.copy_=qS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Uoe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...f){return s.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&ic(6),r!==void 0&&typeof r!="function"&&ic(7);let i;if(uf(e)){const a=i6(this),s=YS(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?HS(a):$S(a)}return r6(a,r),a6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===RB&&(i=void 0),this.autoFreeze_&&qI(i,!0),r){const a=[],s=[];ip("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else ic(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,u=>e(u,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){uf(t)||ic(8),rp(t)&&(t=tf(t));const e=i6(this),n=YS(t,void 0);return n[nl].isManual_=!0,$S(e),n}finishDraft(t,e){const n=t&&t[nl];(!n||!n.isManual_)&&ic(9);const{scope_:r}=n;return r6(r,e),a6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ip("Patches").applyPatches_;return rp(t)?r(t,e):this.produce(t,i=>r(i,e))}};function YS(t,e){const n=F0(t)?ip("MapSet").proxyMap_(t,e):mx(t)?ip("MapSet").proxySet_(t,e):Moe(t,e);return(e?e.scope_:LB()).drafts_.push(n),n}function tf(t){return rp(t)||ic(10,t),MB(t)}function MB(t){if(!uf(t)||gx(t))return t;const e=t[nl];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=qS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=qS(t,!0);return R2(n,(i,a)=>{kB(n,i,MB(a))},r),e&&(e.finalized_=!1),n}var WS=new Uoe,FB=WS.produce,Boe=WS.setUseStrictIteration.bind(WS);function UB(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Voe=UB(),zoe=UB,qoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?O2:O2.apply(null,arguments)};function Rl(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Jo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>OB(r)&&r.type===t,n}var BB=class Jv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jv.prototype)}static get[Symbol.species](){return Jv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jv(...e[0].concat(this)):new Jv(...e.concat(this))}};function o6(t){return uf(t)?FB(t,()=>{}):t}function ob(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Hoe(t){return typeof t=="boolean"}var $oe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new BB;return n&&(Hoe(n)?s.push(Voe):s.push(zoe(n.extraArgument))),s},VB="RTK_autoBatch",_a=()=>t=>({payload:t,meta:{[VB]:!0}}),l6=t=>e=>{setTimeout(e,t)},zB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:l6(10):t.type==="callback"?t.queueNotification:l6(t.timeout),f=()=>{s=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),y=r.subscribe(p);return l.add(h),()=>{y(),l.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[VB]),a=!i,a&&(s||(s=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},Goe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new BB(t);return r&&i.push(zB(typeof r=="object"?r:void 0)),i};function Yoe(t){const e=$oe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(zI(n))l=PB(n);else throw new Error(Jo(1));let u;typeof r=="function"?u=r(e):u=e();let f=O2;i&&(f=qoe({trace:!1,...typeof i=="object"&&i}));const h=Poe(...u),p=Goe(h);let y=typeof s=="function"?s(p):p();const g=f(...y);return CB(l,a,g)}function qB(t){const e={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Jo(28));if(l in e)throw new Error(Jo(29));return e[l]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}Boe(!1);function Woe(t){return typeof t=="function"}function Koe(t,e){let[n,r,i]=qB(e),a;if(Woe(t))a=()=>o6(t());else{const l=o6(t);a=()=>l}function s(l=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(rp(h)){const g=p(h,u);return g===void 0?h:g}else{if(uf(h))return FB(h,y=>p(y,u));{const y=p(h,u);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},l)}return s.getInitialState=a,s}var Xoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qoe=(t=21)=>{let e="",n=t;for(;n--;)e+=Xoe[Math.random()*64|0];return e},Joe=Symbol.for("rtk-slice-createasyncthunk");function Zoe(t,e){return`${t}/${e}`}function ele({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Joe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Jo(11));const l=(typeof i.reducers=="function"?i.reducers(nle()):i.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,$){const K=typeof B=="string"?B:B.type;if(!K)throw new Error(Jo(12));if(K in f.sliceCaseReducersByType)throw new Error(Jo(13));return f.sliceCaseReducersByType[K]=$,h},addMatcher(B,$){return f.sliceMatchers.push({matcher:B,reducer:$}),h},exposeAction(B,$){return f.actionCreators[B]=$,h},exposeCaseReducer(B,$){return f.sliceCaseReducersByName[B]=$,h}};u.forEach(B=>{const $=l[B],K={reducerName:B,type:Zoe(a,B),createNotation:typeof i.reducers=="function"};ile($)?sle(K,$,h,e):rle(K,$,h)});function p(){const[B={},$=[],K=void 0]=typeof i.extraReducers=="function"?qB(i.extraReducers):[i.extraReducers],j={...B,...f.sliceCaseReducersByType};return Koe(i.initialState,L=>{for(let D in j)L.addCase(D,j[D]);for(let D of f.sliceMatchers)L.addMatcher(D.matcher,D.reducer);for(let D of $)L.addMatcher(D.matcher,D.reducer);K&&L.addDefaultCase(K)})}const y=B=>B,g=new Map,E=new WeakMap;let A;function S(B,$){return A||(A=p()),A(B,$)}function I(){return A||(A=p()),A.getInitialState()}function q(B,$=!1){function K(L){let D=L[B];return typeof D>"u"&&$&&(D=ob(E,K,I)),D}function j(L=y){const D=ob(g,$,()=>new WeakMap);return ob(D,L,()=>{const G={};for(const[P,F]of Object.entries(i.selectors??{}))G[P]=tle(F,L,()=>ob(E,L,I),$);return G})}return{reducerPath:B,getSelectors:j,get selectors(){return j(K)},selectSlice:K}}const k={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...q(s),injectInto(B,{reducerPath:$,...K}={}){const j=$??s;return B.inject({reducerPath:j,reducer:S},K),{...k,...q(j,!0)}}};return k}}function tle(t,e,n,r){function i(a,...s){let l=e(a);return typeof l>"u"&&r&&(l=n()),t(l,...s)}return i.unwrapped=t,i}var No=ele();function nle(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function rle({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!ale(r))throw new Error(Jo(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Rl(t,s):Rl(t))}function ile(t){return t._reducerDefinitionType==="asyncThunk"}function ale(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sle({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Jo(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:u,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||lb,pending:l||lb,rejected:u||lb,settled:f||lb})}function lb(){}var ole="task",HB="listener",$B="completed",$I="cancelled",lle=`task-${$I}`,cle=`task-${$B}`,KS=`${HB}-${$I}`,ule=`${HB}-${$B}`,vx=class{constructor(t){lr(this,"name","TaskAbortError");lr(this,"message");this.code=t,this.message=`${ole} ${$I} (reason: ${t})`}},GI=(t,e)=>{if(typeof t!="function")throw new TypeError(Jo(32))},L2=()=>{},GB=(t,e=L2)=>(t.catch(e),t),YB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),jd=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Md=t=>{if(t.aborted){const{reason:e}=t;throw new vx(e)}};function WB(t,e){let n=L2;return new Promise((r,i)=>{const a=()=>i(new vx(t.reason));if(t.aborted){a();return}n=YB(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=L2})}var fle=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof vx?"cancelled":"rejected",error:n}}finally{e==null||e()}},j2=t=>e=>GB(WB(t,e).then(n=>(Md(t),n))),KB=t=>{const e=j2(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Lm}=Object,c6={},yx="listenerMiddleware",hle=(t,e)=>{const n=r=>YB(t,()=>jd(r,t.reason));return(r,i)=>{GI(r);const a=new AbortController;n(a);const s=fle(async()=>{Md(t),Md(a.signal);const l=await r({pause:j2(a.signal),delay:KB(a.signal),signal:a.signal});return Md(a.signal),l},()=>jd(a,cle));return i!=null&&i.autoJoin&&e.push(s.catch(L2)),{result:j2(t)(s),cancel(){jd(a,lle)}}}},dle=(t,e)=>{const n=async(r,i)=>{Md(e);let a=()=>{};const l=[new Promise((u,f)=>{let h=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await WB(e,Promise.race(l));return Md(e),u}finally{a()}};return(r,i)=>GB(n(r,i))},XB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Rl(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jo(21));return GI(a),{predicate:i,type:e,effect:a}},QB=Lm(t=>{const{type:e,predicate:n,effect:r}=XB(t);return{id:Qoe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jo(22))}}},{withTypes:()=>QB}),u6=(t,e)=>{const{type:n,effect:r,predicate:i}=XB(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},XS=t=>{t.pending.forEach(e=>{jd(e,KS)})},ple=(t,e)=>()=>{for(const n of e.keys())XS(n);t.clear()},f6=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},JB=Lm(Rl(`${yx}/add`),{withTypes:()=>JB}),mle=Rl(`${yx}/removeAll`),ZB=Lm(Rl(`${yx}/remove`),{withTypes:()=>ZB}),gle=(...t)=>{console.error(`${yx}/error`,...t)},U0=(t={})=>{const e=new Map,n=new Map,r=g=>{const E=n.get(g)??0;n.set(g,E+1)},i=g=>{const E=n.get(g)??1;E===1?n.delete(g):n.set(g,E-1)},{extra:a,onError:s=gle}=t;GI(s);const l=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),E=>{g.unsubscribe(),E!=null&&E.cancelActive&&XS(g)}),u=g=>{const E=u6(e,g)??QB(g);return l(E)};Lm(u,{withTypes:()=>u});const f=g=>{const E=u6(e,g);return E&&(E.unsubscribe(),g.cancelActive&&XS(E)),!!E};Lm(f,{withTypes:()=>f});const h=async(g,E,A,S)=>{const I=new AbortController,q=dle(u,I.signal),k=[];try{g.pending.add(I),r(g),await Promise.resolve(g.effect(E,Lm({},A,{getOriginalState:S,condition:(B,$)=>q(B,$).then(Boolean),take:q,delay:KB(I.signal),pause:j2(I.signal),extra:a,signal:I.signal,fork:hle(I.signal,k),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((B,$,K)=>{B!==I&&(jd(B,KS),K.delete(B))})},cancel:()=>{jd(I,KS),g.pending.delete(I)},throwIfCancelled:()=>{Md(I.signal)}})))}catch(B){B instanceof vx||f6(s,B,{raisedBy:"effect"})}finally{await Promise.all(k),jd(I,ule),i(g),g.pending.delete(I)}},p=ple(e,n);return{middleware:g=>E=>A=>{if(!OB(A))return E(A);if(JB.match(A))return u(A.payload);if(mle.match(A)){p();return}if(ZB.match(A))return f(A.payload);let S=g.getState();const I=()=>{if(S===c6)throw new Error(Jo(23));return S};let q;try{if(q=E(A),e.size>0){const k=g.getState(),B=Array.from(e.values());for(const $ of B){let K=!1;try{K=$.predicate(A,k,S)}catch(j){K=!1,f6(s,j,{raisedBy:"predicate"})}K&&h($,A,g,I)}}}finally{S=c6}return q},startListening:u,stopListening:f,clearListeners:p}};function Jo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eV=No({name:"chartLayout",initialState:vle,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:yle,setLayout:ble,setChartSize:_le,setScale:xle}=eV.actions,wle=eV.reducer;function tV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function h6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(n),!0).forEach(function(r){Ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Sle(t,"string");return typeof e=="symbol"?e:e+""}function Sle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(t,e,n){return wa(t)||wa(e)?n:Ol(e)?hx(t,e,n):typeof e=="function"?e(t):n}var Tle=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=e;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&Ht(t[a]))return Sm(Sm({},t),{},{[a]:t[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&Ht(t[s]))return Sm(Sm({},t),{},{[s]:t[s]+(i||0)})}return t},du=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",nV=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,a,s=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(e),a||s.push(n),s},rV=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:y,axisType:g}=t;if(!s)return null;var E=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,A=i==="category"&&s.bandwidth?s.bandwidth()/E:0;if(A=g==="angleAxis"&&a&&a.length>=2?Tl(a[0]-a[1])*2*A:A,p||y){var S=(p||y||[]).map((I,q)=>{var k=r?r.indexOf(I):I;return{coordinate:s(k)+A,value:I,offset:A,index:q}});return S.filter(I=>!tl(I.coordinate))}return u&&f?f.map((I,q)=>({coordinate:s(I)+A,value:I,index:q,offset:A})):s.ticks&&h!=null?s.ticks(h).map((I,q)=>({coordinate:s(I)+A,value:I,offset:A,index:q})):s.domain().map((I,q)=>({coordinate:s(I)+A,value:r?r[I]:I,index:q,offset:A}))},d6=1e-4,Nle=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-d6,a=Math.max(r[0],r[1])+d6,s=t(e[0]),l=t(e[n-1]);(s<i||s>a||l<i||l>a)&&t.domain([e[0],e[n-1]])}},Ile=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var l=tl(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1])}},Cle=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=tl(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Ple={sign:Ile,expand:lse,none:dg,silhouette:cse,wiggle:use,positive:Cle},Ole=(t,e,n)=>{var r=Ple[n],i=ose().keys(e).value((a,s)=>Number(cs(a,s,0))).order(BS).offset(r);return i(t)};function Rle(t){return t==null?void 0:String(t)}function M2(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!wa(i[e.dataKey])){var l=hB(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=cs(i,wa(s)?e.dataKey:s);return wa(u)?null:e.scale(u)}var Dle=t=>{var e=t.flat(2).filter(Ht);return[Math.min(...e),Math.max(...e)]},kle=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Lle=(t,e,n)=>{if(t!=null)return kle(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,l=s.reduce((u,f)=>{var h=tV(f,e,n),p=Dle(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},p6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=dx(e,h=>h.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var u=i[s],f=i[s-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function g6(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Sm(Sm({},e),{},{dataKey:n,payload:r,value:i,name:a})}function bx(t,e){if(t)return String(t);if(typeof e=="string")return e}var jle=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Mle=(t,e)=>e==="centric"?t.angle:t.radius,wf=t=>t.layout.width,Ef=t=>t.layout.height,Fle=t=>t.layout.scale,iV=t=>t.layout.margin,_x=He(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),xx=He(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ule="data-recharts-item-index",Ble="data-recharts-item-data-key",B0=60;function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){Vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vle(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hle=t=>t.brush.height;function $le(t){var e=xx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:B0;return n+i}return n},0)}function Gle(t){var e=xx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:B0;return n+i}return n},0)}function Yle(t){var e=_x(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Wle(t){var e=_x(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ds=He([wf,Ef,iV,Hle,$le,Gle,Yle,Wle,IB,Aoe],(t,e,n,r,i,a,s,l,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},y=cb(cb({},p),h),g=y.bottom;y.bottom+=r,y=Tle(y,u,f);var E=t-y.left-y.right,A=e-y.top-y.bottom;return cb(cb({brushBottom:g},y),{},{width:Math.max(E,0),height:Math.max(A,0)})}),Kle=He(ds,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),aV=He(wf,Ef,(t,e)=>({x:0,y:0,width:t,height:e})),Xle=O.createContext(null),ps=()=>O.useContext(Xle)!=null,wx=t=>t.brush,Ex=He([wx,ds,iV],(t,e,n)=>({height:t.height,x:Ht(t.x)?t.x:e.left,y:Ht(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ht(t.width)?t.width:e.width})),ME={},FE={},UE={},y6;function Qle(){return y6||(y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{f&&h(),A()};let y=null;const g=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},A=()=>{E(),s=void 0,l=null},S=()=>{h()},I=function(...q){if(i!=null&&i.aborted)return;s=this,l=q;const k=y==null;g(),u&&k&&h()};return I.schedule=g,I.cancel=A,I.flush=S,i==null||i.addEventListener("abort",A,{once:!0}),I}t.debounce=e})(UE)),UE}var b6;function Jle(){return b6||(b6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qle();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);s&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const y=e.debounce(function(...A){h=r.apply(this,A),p=null},i,{edges:f}),g=function(...A){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,A),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,A),h)},E=()=>(y.flush(),h);return g.cancel=y.cancel,g.flush=E,g}t.debounce=n})(FE)),FE}var _6;function Zle(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jle();function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:l})}t.throttle=n})(ME)),ME}var BE,x6;function ece(){return x6||(x6=1,BE=Zle().throttle),BE}var tce=ece();const nce=hu(tce);var F2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},sV=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,l=cf(r)?t:Number(r),u=cf(i)?e:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},rce={width:0,height:0,overflow:"visible"},ice={width:0,overflowX:"visible"},ace={height:0,overflowY:"visible"},sce={},oce=t=>{var{width:e,height:n}=t,r=cf(e),i=cf(n);return r&&i?rce:r?ice:i?ace:sce};function lce(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Br(t){return Number.isFinite(t)}function uu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(null,arguments)}function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(r){cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cce(t,e,n){return(e=uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=fce(t,"string");return typeof e=="symbol"?e:e+""}function fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oV=O.createContext({width:-1,height:-1});function hce(t){return uu(t.width)&&uu(t.height)}function lV(t){var{children:e,width:n,height:r}=t,i=O.useMemo(()=>({width:n,height:r}),[n,r]);return hce(i)?O.createElement(oV.Provider,{value:i},e):null}var YI=()=>O.useContext(oV),dce=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:y,onResize:g,style:E={}}=t,A=O.useRef(null),S=O.useRef();S.current=g,O.useImperativeHandle(e,()=>A.current);var[I,q]=O.useState({containerWidth:r.width,containerHeight:r.height}),k=O.useCallback((L,D)=>{q(G=>{var P=Math.round(L),F=Math.round(D);return G.containerWidth===P&&G.containerHeight===F?G:{containerWidth:P,containerHeight:F}})},[]);O.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return kg;var L=F=>{var V,{width:ee,height:ge}=F[0].contentRect;k(ee,ge),(V=S.current)===null||V===void 0||V.call(S,ee,ge)};h>0&&(L=nce(L,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(L),{width:G,height:P}=A.current.getBoundingClientRect();return k(G,P),D.observe(A.current),()=>{D.disconnect()}},[k,h]);var{containerWidth:B,containerHeight:$}=I;F2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:K,calculatedHeight:j}=sV(B,$,{width:i,height:a,aspect:n,maxHeight:u});return F2(K!=null&&K>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,j,i,a,s,l,n),O.createElement("div",{id:p?"".concat(p):void 0,className:wr("recharts-responsive-container",y),style:E6(E6({},E),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:u}),ref:A},O.createElement("div",{style:oce({width:i,height:a})},O.createElement(lV,{width:K,height:j},f)))}),Ax=O.forwardRef((t,e)=>{var n=YI();if(uu(n.width)&&uu(n.height))return t.children;var{width:r,height:i}=lce({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=sV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ht(a)&&Ht(s)?O.createElement(lV,{width:a,height:s},t.children):O.createElement(dce,QS({},t,{width:r,height:i,ref:e}))});function cV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var V0=()=>{var t,e=ps(),n=Yt(Kle),r=Yt(Ex),i=(t=Yt(wx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uV=()=>{var t;return(t=Yt(ds))!==null&&t!==void 0?t:pce},fV=()=>Yt(wf),hV=()=>Yt(Ef),Pr=t=>t.layout.layoutType,z0=()=>Yt(Pr),mce=()=>{var t=z0();return t!==void 0},Sx=t=>{var e=Aa(),n=ps(),{width:r,height:i}=t,a=YI(),s=r,l=i;return a&&(s=a.width>0?a.width:r,l=a.height>0?a.height:i),O.useEffect(()=>{!n&&uu(s)&&uu(l)&&e(_le({width:s,height:l}))},[e,n,s,l]),null},gce={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dV=No({name:"legend",initialState:gce,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:_a()},removeLegendPayload:{reducer(t,e){var n=tf(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:_a()}}}),{setLegendSize:B5e,setLegendSettings:V5e,addLegendPayload:vce,removeLegendPayload:yce}=dV.actions,bce=dV.reducer;function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(null,arguments)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ece(t){return Array.isArray(t)&&Ol(t[0])&&Ol(t[1])?t.join(" ~ "):t}var Ace=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:y=!1}=t,g=()=>{if(a&&a.length){var $={padding:0,margin:0},K=(l?dx(a,l):a).map((j,L)=>{if(j.type==="none")return null;var D=j.formatter||s||Ece,{value:G,name:P}=j,F=G,V=P;if(D){var ee=D(G,P,j,L,a);if(Array.isArray(ee))[F,V]=ee;else if(ee!=null)F=ee;else return null}var ge=VE({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:ge},Ol(V)?O.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ol(V)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},F),O.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:$},K)}return null},E=VE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=VE({margin:0},i),S=!wa(h),I=S?h:"",q=wr("recharts-default-tooltip",u),k=wr("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(I=p(h,a));var B=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",JS({className:q,style:E},B),O.createElement("p",{className:k,style:A},O.isValidElement(I)?I:"".concat(I)),g())},Lv="recharts-tooltip-wrapper",Sce={visibility:"hidden"};function Tce(t){var{coordinate:e,translateX:n,translateY:r}=t;return wr(Lv,{["".concat(Lv,"-right")]:Ht(n)&&e&&Ht(e.x)&&n>=e.x,["".concat(Lv,"-left")]:Ht(n)&&e&&Ht(e.x)&&n<e.x,["".concat(Lv,"-bottom")]:Ht(r)&&e&&Ht(e.y)&&r>=e.y,["".concat(Lv,"-top")]:Ht(r)&&e&&Ht(e.y)&&r<e.y})}function S6(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=t;if(a&&Ht(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var y=u[r];if(y==null)return 0;if(s[r]){var g=h,E=y;return g<E?Math.max(p,y):Math.max(h,y)}if(f==null)return 0;var A=p+l,S=y+f;return A>S?Math.max(h,y):Math.max(p,y)}function Nce(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ice(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,f,h,p;return s.height>0&&s.width>0&&n?(h=S6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),p=S6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),f=Nce({translateX:h,translateY:p,useTranslate3d:l})):f=Sce,{cssProperties:f,cssClasses:Tce({translateX:h,translateY:p,coordinate:n})}}function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ub(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZS(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Oce extends O.PureComponent{constructor(){super(...arguments),ZS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ZS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:y,viewBox:g,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:I}=this.props,{cssClasses:q,cssProperties:k}=Ice({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:A.height,width:A.width},useTranslate3d:y,viewBox:g}),B=I?{}:ub(ub({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),$=ub(ub({},B),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},E);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:q,style:$,ref:S},a)}}var Rce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vp={devToolsEnabled:!1,isSsr:Rce()},pV=()=>{var t;return(t=Yt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(null,arguments)}function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kce(t){var e=Lce(t,"string");return typeof e=="symbol"?e:e+""}function Lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C6={curveBasisClosed:Xae,curveBasisOpen:Qae,curveBasis:Kae,curveBumpX:Lae,curveBumpY:jae,curveLinearClosed:Jae,curveLinear:ux,curveMonotoneX:Zae,curveMonotoneY:ese,curveNatural:tse,curveStep:nse,curveStepAfter:ise,curveStepBefore:rse},U2=t=>Br(t.x)&&Br(t.y),P6=t=>t.base!=null&&U2(t.base)&&U2(t),jv=t=>t.x,Mv=t=>t.y,jce=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(M0(t));return(n==="curveMonotone"||n==="curveBump")&&e?C6["".concat(n).concat(e==="vertical"?"Y":"X")]:C6[n]||ux},Mce=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=jce(e,i),l=a?n.filter(U2):n,u;if(Array.isArray(r)){var f=n.map((g,E)=>I6(I6({},g),{},{base:r[E]}));i==="vertical"?u=rb().y(Mv).x1(jv).x0(g=>g.base.x):u=rb().x(jv).y1(Mv).y0(g=>g.base.y);var h=u.defined(P6).curve(s),p=a?f.filter(P6):f;return h(p)}i==="vertical"&&Ht(r)?u=rb().y(Mv).x1(jv).x0(r):Ht(r)?u=rb().x(jv).y1(Mv).y0(r):u=ZU().x(jv).y(Mv);var y=u.defined(U2).curve(s);return y(l)},gy=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Mce(t):r;return O.createElement("path",eT({},Pl(t),UI(t),{className:wr("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Fce=["x","y","top","left","width","height","className"];function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tT.apply(null,arguments)}function O6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return(e=Vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qce(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ce=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Gce=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=t,u=qce(t,Fce),f=Uce({x:e,y:n,top:r,left:i,width:a,height:s},u);return!Ht(e)||!Ht(n)||!Ht(a)||!Ht(s)||!Ht(r)||!Ht(i)?null:O.createElement("path",tT({},fs(f),{className:wr("recharts-cross",l),d:$ce(e,n,a,s,r,i)}))};function Yce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qce=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),mV=(t,e,n)=>t.map(r=>"".concat(Qce(r)," ").concat(e,"ms ").concat(n)).join(","),Jce=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jy=(t,e)=>Object.keys(e).reduce((n,r)=>D6(D6({},n),{},{[r]:t(r,e[r])}),{});function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){Zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zce(t,e,n){return(e=eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return typeof e=="symbol"?e:e+""}function tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B2=(t,e,n)=>t+(e-t)*n,nT=t=>{var{from:e,to:n}=t;return e!==n},gV=(t,e,n)=>{var r=Jy((i,a)=>{if(nT(a)){var[s,l]=t(a.from,a.to,a.velocity);return ba(ba({},a),{},{from:s,velocity:l})}return a},e);return n<1?Jy((i,a)=>nT(a)?ba(ba({},a),{},{velocity:B2(a.velocity,r[i].velocity,n),from:B2(a.from,r[i].from,n)}):a,e):gV(t,r,n-1)};function nue(t,e,n,r,i,a){var s,l=r.reduce((y,g)=>ba(ba({},y),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),u=()=>Jy((y,g)=>g.from,l),f=()=>!Object.values(l).filter(nT).length,h=null,p=y=>{s||(s=y);var g=y-s,E=g/n.dt;l=gV(n,l,E),i(ba(ba(ba({},t),e),u())),s=y,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var y;(y=h)===null||y===void 0||y()})}function rue(t,e,n,r,i,a,s){var l=null,u=i.reduce((p,y)=>ba(ba({},p),{},{[y]:[t[y],e[y]]}),{}),f,h=p=>{f||(f=p);var y=(p-f)/r,g=Jy((A,S)=>B2(...S,n(y)),u);if(a(ba(ba(ba({},t),e),g)),y<1)l=s.setTimeout(h);else{var E=Jy((A,S)=>B2(...S,n(1)),u);a(ba(ba(ba({},t),e),E))}};return()=>(l=s.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const iue=(t,e,n,r,i,a)=>{var s=Jce(t,e);return n==null?()=>(i(ba(ba({},t),e)),()=>{}):n.isStepper===!0?nue(t,e,n,s,i,a):rue(t,e,n,r,s,i,a)};var V2=1e-4,vV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],yV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),L6=(t,e)=>n=>{var r=vV(t,e);return yV(r,n)},aue=(t,e)=>n=>{var r=vV(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return yV(i,n)},sue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},oue=(t,e,n,r)=>{var i=L6(t,n),a=L6(e,r),s=aue(t,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,y=0;y<8;++y){var g=i(p)-h,E=s(p);if(Math.abs(g-h)<V2||E<V2)return a(p);p=l(p-g/E)}return a(p)};return u.isStepper=!1,u},j6=function(){return oue(...sue(...arguments))},lue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,l,u)=>{var f=-(s-l)*n,h=u*r,p=u+(f-h)*i/1e3,y=u*i/1e3+s;return Math.abs(y-l)<V2&&Math.abs(p)<V2?[l,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},cue=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j6(t);case"spring":return lue();default:if(t.split("(")[0]==="cubic-bezier")return j6(t)}return typeof t=="function"?t:null};function uue(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...f]=l;if(typeof u=="number"){i=t.setTimeout(a.bind(null,f),u);return}a(u),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class fue{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function hue(){return uue(new fue)}var due=O.createContext(hue);function pue(t,e){var n=O.useContext(due);return O.useMemo(()=>e??n(t),[t,e,n])}var mue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},M6={t:0},zE={t:1};function Tx(t){var e=hs(t,mue),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:u,children:f}=e,h=pue(e.animationId,e.animationManager),[p,y]=O.useState(n?M6:zE),g=O.useRef(null);return O.useEffect(()=>{n||y(zE)},[n]),O.useEffect(()=>{if(!n||!r)return kg;var E=iue(M6,zE,cue(a),i,y,h.getTimeoutController()),A=()=>{g.current=E()};return h.start([u,s,A,i,l]),()=>{h.stop(),g.current&&g.current(),l()}},[n,r,i,a,s,u,l,h]),f(p.t)}function Nx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(Wy(e)),r=O.useRef(t);return r.current!==t&&(n.current=Wy(e),r.current=t),n.current}var gue=["radius"],vue=["radius"];function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yue(t,e,n){return(e=bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=_ue(t,"string");return typeof e=="symbol"?e:e+""}function _ue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z2.apply(null,arguments)}function B6(t,e){if(t==null)return{};var n,r,i=xue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V6=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,y=4;p<y;p++)h[p]=i[p]>a?a:i[p];f="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+l*h[0],",").concat(e)),f+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+s*h[1])),f+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),f+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-s*h[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);f="M ".concat(t,",").concat(e+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(e,`
            L `).concat(t+n-l*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(e+s*g,`
            L `).concat(t+n,",").concat(e+r-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-l*g,",").concat(e+r,`
            L `).concat(t+l*g,",").concat(e+r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(e+r-s*g," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},z6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bV=t=>{var e=hs(t,z6),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var he=n.current.getTotalLength();he&&i(he)}catch{}},[]);var{x:a,y:s,width:l,height:u,radius:f,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:g,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=O.useRef(l),I=O.useRef(u),q=O.useRef(a),k=O.useRef(s),B=O.useMemo(()=>({x:a,y:s,width:l,height:u,radius:f}),[a,s,l,u,f]),$=Nx(B,"rectangle-");if(a!==+a||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var K=wr("recharts-rectangle",h);if(!A){var j=fs(e),{radius:L}=j,D=B6(j,gue);return O.createElement("path",z2({},D,{radius:typeof f=="number"?f:void 0,className:K,d:V6(a,s,l,u,f)}))}var G=S.current,P=I.current,F=q.current,V=k.current,ee="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),se=mV(["strokeDasharray"],y,typeof p=="string"?p:z6.animationEasing);return O.createElement(Tx,{animationId:$,key:$,canBegin:r>0,duration:y,easing:p,isActive:A,begin:g},he=>{var me=ia(G,l,he),_e=ia(P,u,he),Ue=ia(F,a,he),ne=ia(V,s,he);n.current&&(S.current=me,I.current=_e,q.current=Ue,k.current=ne);var M;E?he>0?M={transition:se,strokeDasharray:ge}:M={strokeDasharray:ee}:M={strokeDasharray:ge};var X=fs(e),{radius:Z}=X,fe=B6(X,vue);return O.createElement("path",z2({},fe,{radius:typeof f=="number"?f:void 0,className:K,d:V6(Ue,ne,me,_e,f),ref:n,style:U6(U6({},M),e.style)}))})};function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Aue(t,"string");return typeof e=="symbol"?e:e+""}function Aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q2=Math.PI/180,Sue=t=>t*180/Math.PI,ss=(t,e,n,r)=>({x:t+Math.cos(-q2*r)*n,y:e+Math.sin(-q2*r)*n}),Tue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Nue=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Iue=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=Nue({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:s,angle:Sue(u),angleInRadian:u}},Cue=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Pue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},Oue=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Iue({x:n,y:r},e),{innerRadius:s,outerRadius:l}=e;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:f}=Cue(e),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?H6(H6({},e),{},{radius:i,angle:Pue(h,e)}):null};function _V(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=ss(e,n,r,i),l=ss(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(null,arguments)}var Rue=(t,e)=>{var n=Tl(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},fb=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:u}=t,f=l*(s?1:-1)+r,h=Math.asin(l/f)/q2,p=u?i:i+a*h,y=ss(e,n,f,p),g=ss(e,n,r,p),E=u?i-a*h:i,A=ss(e,n,f*Math.cos(h*q2),E);return{center:y,circleTangency:g,lineTangency:A,theta:h}},xV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,l=Rue(a,s),u=a+l,f=ss(e,n,i,a),h=ss(e,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=ss(e,n,r,a),g=ss(e,n,r,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},Due=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:f}=t,h=Tl(f-u),{circleTangency:p,lineTangency:y,theta:g}=fb({cx:e,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:E,lineTangency:A,theta:S}=fb({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),I=l?Math.abs(u-f):Math.abs(u-f)-g-S;if(I<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):xV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var q="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:B,theta:$}=fb({cx:e,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:K,lineTangency:j,theta:L}=fb({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=l?Math.abs(u-f):Math.abs(u-f)-$-L;if(D<0&&a===0)return"".concat(q,"L").concat(e,",").concat(n,"Z");q+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,"Z")}else q+="L".concat(e,",").concat(n,"Z");return q},kue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wV=t=>{var e=hs(t,kue),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var y=wr("recharts-sector",p),g=a-i,E=jh(s,g,0,!0),A;return E>0&&Math.abs(f-h)<360?A=Due({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):A=xV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),O.createElement("path",rT({},fs(e),{className:y,d:A}))};function Lue(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(mB(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:l}=e,u=ss(r,i,a,l),f=ss(r,i,s,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return _V(e)}}var qE={},HE={},$E={},$6;function jue(){return $6||($6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TB();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})($E)),$E}var G6;function Mue(){return G6||(G6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jue();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(HE)),HE}var Y6;function Fue(){return Y6||(Y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NB(),n=Mue();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=s;return u}t.range=r})(qE)),qE}var GE,W6;function Uue(){return W6||(W6=1,GE=Fue().range),GE}var Bue=Uue();const EV=hu(Bue);function wh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WI(t){let e,n,r;t.length!==2?(e=wh,n=(l,u)=>wh(t(l),u),r=(l,u)=>t(l)-u):(e=t===wh||t===Vue?t:zue,n=t,r=t);function i(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function s(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:a}}function zue(){return 0}function AV(t){return t===null?NaN:+t}function*que(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hue=WI(wh),q0=Hue.right;WI(AV).center;class K6 extends Map{constructor(e,n=Yue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(X6(this,e))}has(e){return super.has(X6(this,e))}set(e,n){return super.set($ue(this,e),n)}delete(e){return super.delete(Gue(this,e))}}function X6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $ue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Gue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wue(t=wh){if(t===wh)return SV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Kue=Math.sqrt(50),Xue=Math.sqrt(10),Que=Math.sqrt(2);function H2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Kue?10:a>=Xue?5:a>=Que?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?H2(t,e,n*2):[l,u,f]}function iT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?H2(e,t,n):H2(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)u[f]=(a-f)/-s;else for(let f=0;f<l;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)u[f]=(i+f)/-s;else for(let f=0;f<l;++f)u[f]=(i+f)*s;return u}function aT(t,e,n){return e=+e,t=+t,n=+n,H2(t,e,n)[2]}function sT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?aT(e,t,n):aT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Q6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function J6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function TV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?SV:Wue(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),g=Math.max(n,Math.floor(e-f*p/u+y)),E=Math.min(r,Math.floor(e+(u-f)*p/u+y));TV(t,e,g,E,i)}const a=t[e];let s=n,l=r;for(Fv(t,n,e),i(t[r],a)>0&&Fv(t,n,r);s<l;){for(Fv(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Fv(t,n,l):(++l,Fv(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Fv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Jue(t,e,n){if(t=Float64Array.from(que(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return J6(t);if(e>=1)return Q6(t);var r,i=(r-1)*e,a=Math.floor(i),s=Q6(TV(t,a).subarray(0,a+1)),l=J6(t.subarray(a+1));return s+(l-s)*(i-a)}}function Zue(t,e,n=AV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function efe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ll(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Af(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oT=Symbol("implicit");function KI(){var t=new K6,e=[],n=[],r=oT;function i(a){let s=t.get(a);if(s===void 0){if(r!==oT)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new K6;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KI(e,n).unknown(r)},Ll.apply(i,arguments),i}function XI(){var t=KI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,u=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,g=i<r,E=g?i:r,A=g?r:i;a=(A-E)/Math.max(1,y-u+f*2),l&&(a=Math.floor(a)),E+=(A-E-a*(y-u))*h,s=a*(1-u),l&&(E=Math.round(E),s=Math.round(s));var S=efe(y).map(function(I){return E+a*I});return n(g?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,p()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,f=+y),p()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return XI(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},Ll.apply(p(),arguments)}function NV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return NV(e())},t}function tfe(){return NV(XI.apply(null,arguments).paddingInner(1))}function QI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function IV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function H0(){}var Zy=.7,$2=1/Zy,jm="\\s*([+-]?\\d+)\\s*",e0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nfe=/^#([0-9a-f]{3,8})$/,rfe=new RegExp(`^rgb\\(${jm},${jm},${jm}\\)$`),ife=new RegExp(`^rgb\\(${au},${au},${au}\\)$`),afe=new RegExp(`^rgba\\(${jm},${jm},${jm},${e0}\\)$`),sfe=new RegExp(`^rgba\\(${au},${au},${au},${e0}\\)$`),ofe=new RegExp(`^hsl\\(${e0},${au},${au}\\)$`),lfe=new RegExp(`^hsla\\(${e0},${au},${au},${e0}\\)$`),Z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QI(H0,t0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:e7,formatHex:e7,formatHex8:cfe,formatHsl:ufe,formatRgb:t7,toString:t7});function e7(){return this.rgb().formatHex()}function cfe(){return this.rgb().formatHex8()}function ufe(){return CV(this).formatHsl()}function t7(){return this.rgb().formatRgb()}function t0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?n7(e):n===3?new To(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rfe.exec(t))?new To(e[1],e[2],e[3],1):(e=ife.exec(t))?new To(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=afe.exec(t))?hb(e[1],e[2],e[3],e[4]):(e=sfe.exec(t))?hb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ofe.exec(t))?a7(e[1],e[2]/100,e[3]/100,1):(e=lfe.exec(t))?a7(e[1],e[2]/100,e[3]/100,e[4]):Z6.hasOwnProperty(t)?n7(Z6[t]):t==="transparent"?new To(NaN,NaN,NaN,0):null}function n7(t){return new To(t>>16&255,t>>8&255,t&255,1)}function hb(t,e,n,r){return r<=0&&(t=e=n=NaN),new To(t,e,n,r)}function ffe(t){return t instanceof H0||(t=t0(t)),t?(t=t.rgb(),new To(t.r,t.g,t.b,t.opacity)):new To}function lT(t,e,n,r){return arguments.length===1?ffe(t):new To(t,e,n,r??1)}function To(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}QI(To,lT,IV(H0,{brighter(t){return t=t==null?$2:Math.pow($2,t),new To(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zy:Math.pow(Zy,t),new To(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new To(Fd(this.r),Fd(this.g),Fd(this.b),G2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r7,formatHex:r7,formatHex8:hfe,formatRgb:i7,toString:i7}));function r7(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}`}function hfe(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}${Pd((isNaN(this.opacity)?1:this.opacity)*255)}`}function i7(){const t=G2(this.opacity);return`${t===1?"rgb(":"rgba("}${Fd(this.r)}, ${Fd(this.g)}, ${Fd(this.b)}${t===1?")":`, ${t})`}`}function G2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pd(t){return t=Fd(t),(t<16?"0":"")+t.toString(16)}function a7(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ac(t,e,n,r)}function CV(t){if(t instanceof ac)return new ac(t.h,t.s,t.l,t.opacity);if(t instanceof H0||(t=t0(t)),!t)return new ac;if(t instanceof ac)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new ac(s,l,u,t.opacity)}function dfe(t,e,n,r){return arguments.length===1?CV(t):new ac(t,e,n,r??1)}function ac(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}QI(ac,dfe,IV(H0,{brighter(t){return t=t==null?$2:Math.pow($2,t),new ac(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zy:Math.pow(Zy,t),new ac(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new To(YE(t>=240?t-240:t+120,i,r),YE(t,i,r),YE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ac(s7(this.h),db(this.s),db(this.l),G2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=G2(this.opacity);return`${t===1?"hsl(":"hsla("}${s7(this.h)}, ${db(this.s)*100}%, ${db(this.l)*100}%${t===1?")":`, ${t})`}`}}));function s7(t){return t=(t||0)%360,t<0?t+360:t}function db(t){return Math.max(0,Math.min(1,t||0))}function YE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JI=t=>()=>t;function pfe(t,e){return function(n){return t+n*e}}function mfe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gfe(t){return(t=+t)==1?PV:function(e,n){return n-e?mfe(e,n,t):JI(isNaN(e)?n:e)}}function PV(t,e){var n=e-t;return n?pfe(t,n):JI(isNaN(t)?e:t)}const o7=(function t(e){var n=gfe(e);function r(i,a){var s=n((i=lT(i)).r,(a=lT(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=PV(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function vfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function yfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Lg(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function _fe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Y2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Lg(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WE=new RegExp(cT.source,"g");function wfe(t){return function(){return t}}function Efe(t){return function(e){return t(e)+""}}function Afe(t,e){var n=cT.lastIndex=WE.lastIndex=0,r,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=cT.exec(t))&&(i=WE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Y2(r,i)})),n=WE.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?Efe(u[0].x):wfe(e):(e=u.length,function(f){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function Lg(t,e){var n=typeof e,r;return e==null||n==="boolean"?JI(e):(n==="number"?Y2:n==="string"?(r=t0(e))?(e=r,o7):Afe:e instanceof t0?o7:e instanceof Date?_fe:yfe(e)?vfe:Array.isArray(e)?bfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xfe:Y2)(t,e)}function ZI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sfe(t,e){e===void 0&&(e=t,t=Lg);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Tfe(t){return function(){return t}}function W2(t){return+t}var l7=[0,1];function Ys(t){return t}function uT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Tfe(isNaN(e)?NaN:.5)}function Nfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ife(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=uT(i,r),a=n(s,a)):(r=uT(r,i),a=n(a,s)),function(l){return a(r(l))}}function Cfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=uT(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var u=q0(t,l,1,r)-1;return a[u](i[u](l))}}function $0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ix(){var t=l7,e=l7,n=Lg,r,i,a,s=Ys,l,u,f;function h(){var y=Math.min(t.length,e.length);return s!==Ys&&(s=Nfe(t[0],t[y-1])),l=y>2?Cfe:Ife,u=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=l(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=l(e,t.map(r),Y2)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,W2),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=ZI,h()},p.clamp=function(y){return arguments.length?(s=y?!0:Ys,h()):s!==Ys},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,g){return r=y,i=g,h()}}function e3(){return Ix()(Ys,Ys)}function Pfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function K2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mg(t){return t=K2(Math.abs(t)),t?t[1]:NaN}function Ofe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Rfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Dfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n0(t){if(!(e=Dfe.exec(t)))throw new Error("invalid format: "+t);var e;return new t3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}n0.prototype=t3.prototype;function t3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}t3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kfe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var OV;function Lfe(t,e){var n=K2(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(OV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+K2(t,Math.max(0,e+a-1))[0]}function c7(t,e){var n=K2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const u7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>c7(t*100,e),r:c7,s:Lfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function f7(t){return t}var h7=Array.prototype.map,d7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jfe(t){var e=t.grouping===void 0||t.thousands===void 0?f7:Ofe(h7.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?f7:Rfe(h7.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p){p=n0(p);var y=p.fill,g=p.align,E=p.sign,A=p.symbol,S=p.zero,I=p.width,q=p.comma,k=p.precision,B=p.trim,$=p.type;$==="n"?(q=!0,$="g"):u7[$]||(k===void 0&&(k=12),B=!0,$="g"),(S||y==="0"&&g==="=")&&(S=!0,y="0",g="=");var K=A==="$"?n:A==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",j=A==="$"?r:/[%p]/.test($)?s:"",L=u7[$],D=/[defgprs%]/.test($);k=k===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function G(P){var F=K,V=j,ee,ge,se;if($==="c")V=L(P)+V,P="";else{P=+P;var he=P<0||1/P<0;if(P=isNaN(P)?u:L(Math.abs(P),k),B&&(P=kfe(P)),he&&+P==0&&E!=="+"&&(he=!1),F=(he?E==="("?E:l:E==="-"||E==="("?"":E)+F,V=($==="s"?d7[8+OV/3]:"")+V+(he&&E==="("?")":""),D){for(ee=-1,ge=P.length;++ee<ge;)if(se=P.charCodeAt(ee),48>se||se>57){V=(se===46?i+P.slice(ee+1):P.slice(ee))+V,P=P.slice(0,ee);break}}}q&&!S&&(P=e(P,1/0));var me=F.length+P.length+V.length,_e=me<I?new Array(I-me+1).join(y):"";switch(q&&S&&(P=e(_e+P,_e.length?I-V.length:1/0),_e=""),g){case"<":P=F+P+V+_e;break;case"=":P=F+_e+P+V;break;case"^":P=_e.slice(0,me=_e.length>>1)+F+P+V+_e.slice(me);break;default:P=_e+F+P+V;break}return a(P)}return G.toString=function(){return p+""},G}function h(p,y){var g=f((p=n0(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(mg(y)/3)))*3,A=Math.pow(10,-E),S=d7[8+E/3];return function(I){return g(A*I)+S}}return{format:f,formatPrefix:h}}var pb,n3,RV;Mfe({thousands:",",grouping:[3],currency:["$",""]});function Mfe(t){return pb=jfe(t),n3=pb.format,RV=pb.formatPrefix,pb}function Ffe(t){return Math.max(0,-mg(Math.abs(t)))}function Ufe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mg(e)/3)))*3-mg(Math.abs(t)))}function Bfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mg(e)-mg(t))+1}function DV(t,e,n,r){var i=sT(t,e,n),a;switch(r=n0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ufe(i,s))&&(r.precision=a),RV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Bfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ffe(i))&&(r.precision=a-(r.type==="%")*2);break}}return n3(r)}function Gh(t){var e=t.domain;return t.ticks=function(n){var r=e();return iT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return DV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],u,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=aT(s,l,n),f===u)return r[i]=s,r[a]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function kV(){var t=e3();return t.copy=function(){return $0(t,kV())},Ll.apply(t,arguments),Gh(t)}function LV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,W2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return LV(t).unknown(e)},t=arguments.length?Array.from(t,W2):[0,1],Gh(n)}function jV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function p7(t){return Math.log(t)}function m7(t){return Math.exp(t)}function Vfe(t){return-Math.log(-t)}function zfe(t){return-Math.exp(-t)}function qfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Hfe(t){return t===10?qfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $fe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function g7(t){return(e,n)=>-t(-e,n)}function r3(t){const e=t(p7,m7),n=e.domain;let r=10,i,a;function s(){return i=$fe(r),a=Hfe(r),n()[0]<0?(i=g7(i),a=g7(a),t(Vfe,zfe)):t(p7,m7),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),g=i(h),E,A;const S=l==null?10:+l;let I=[];if(!(r%1)&&g-y<S){if(y=Math.floor(y),g=Math.ceil(g),f>0){for(;y<=g;++y)for(E=1;E<r;++E)if(A=y<0?E/a(-y):E*a(y),!(A<f)){if(A>h)break;I.push(A)}}else for(;y<=g;++y)for(E=r-1;E>=1;--E)if(A=y>0?E/a(-y):E*a(y),!(A<f)){if(A>h)break;I.push(A)}I.length*2<S&&(I=iT(f,h,S))}else I=iT(y,g,Math.min(g-y,S)).map(a);return p?I.reverse():I},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=n0(u)).precision==null&&(u.trim=!0),u=n3(u)),l===1/0)return u;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},e.nice=()=>n(jV(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function MV(){const t=r3(Ix()).domain([1,10]);return t.copy=()=>$0(t,MV()).base(t.base()),Ll.apply(t,arguments),t}function v7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function y7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function i3(t){var e=1,n=t(v7(e),y7(e));return n.constant=function(r){return arguments.length?t(v7(e=+r),y7(e)):e},Gh(n)}function FV(){var t=i3(Ix());return t.copy=function(){return $0(t,FV()).constant(t.constant())},Ll.apply(t,arguments)}function b7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yfe(t){return t<0?-t*t:t*t}function a3(t){var e=t(Ys,Ys),n=1;function r(){return n===1?t(Ys,Ys):n===.5?t(Gfe,Yfe):t(b7(n),b7(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Gh(e)}function s3(){var t=a3(Ix());return t.copy=function(){return $0(t,s3()).exponent(t.exponent())},Ll.apply(t,arguments),t}function Wfe(){return s3.apply(null,arguments).exponent(.5)}function _7(t){return Math.sign(t)*t*t}function Kfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UV(){var t=e3(),e=[0,1],n=!1,r;function i(a){var s=Kfe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(_7(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,W2)).map(_7)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ll.apply(i,arguments),Gh(i)}function BV(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=Zue(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[q0(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(wh),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return BV().domain(t).range(e).unknown(r)},Ll.apply(a,arguments)}function VV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[q0(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return VV().domain([t,e]).range(i).unknown(a)},Ll.apply(Gh(s),arguments)}function zV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[q0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return zV().domain(t).range(e).unknown(n)},Ll.apply(i,arguments)}const KE=new Date,XE=new Date;function Sa(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let f;do u.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<s);return u},i.filter=a=>Sa(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(KE.setTime(+a),XE.setTime(+s),t(KE),t(XE),Math.floor(n(KE,XE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const X2=Sa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);X2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sa(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):X2);X2.range;const Qu=1e3,Nl=Qu*60,Ju=Nl*60,ff=Ju*24,o3=ff*7,x7=ff*30,QE=ff*365,Od=Sa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qu)},(t,e)=>(e-t)/Qu,t=>t.getUTCSeconds());Od.range;const l3=Sa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qu)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getMinutes());l3.range;const c3=Sa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCMinutes());c3.range;const u3=Sa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qu-t.getMinutes()*Nl)},(t,e)=>{t.setTime(+t+e*Ju)},(t,e)=>(e-t)/Ju,t=>t.getHours());u3.range;const f3=Sa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ju)},(t,e)=>(e-t)/Ju,t=>t.getUTCHours());f3.range;const G0=Sa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nl)/ff,t=>t.getDate()-1);G0.range;const Cx=Sa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ff,t=>t.getUTCDate()-1);Cx.range;const qV=Sa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ff,t=>Math.floor(t/ff));qV.range;function yp(t){return Sa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nl)/o3)}const Px=yp(0),Q2=yp(1),Xfe=yp(2),Qfe=yp(3),gg=yp(4),Jfe=yp(5),Zfe=yp(6);Px.range;Q2.range;Xfe.range;Qfe.range;gg.range;Jfe.range;Zfe.range;function bp(t){return Sa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/o3)}const Ox=bp(0),J2=bp(1),ehe=bp(2),the=bp(3),vg=bp(4),nhe=bp(5),rhe=bp(6);Ox.range;J2.range;ehe.range;the.range;vg.range;nhe.range;rhe.range;const h3=Sa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());h3.range;const d3=Sa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());d3.range;const hf=Sa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hf.range;const df=Sa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());df.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});df.range;function HV(t,e,n,r,i,a){const s=[[Od,1,Qu],[Od,5,5*Qu],[Od,15,15*Qu],[Od,30,30*Qu],[a,1,Nl],[a,5,5*Nl],[a,15,15*Nl],[a,30,30*Nl],[i,1,Ju],[i,3,3*Ju],[i,6,6*Ju],[i,12,12*Ju],[r,1,ff],[r,2,2*ff],[n,1,o3],[e,1,x7],[e,3,3*x7],[t,1,QE]];function l(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const g=p&&typeof p.range=="function"?p:u(f,h,p),E=g?g.range(f,+h+1):[];return y?E.reverse():E}function u(f,h,p){const y=Math.abs(h-f)/p,g=WI(([,,S])=>S).right(s,y);if(g===s.length)return t.every(sT(f/QE,h/QE,p));if(g===0)return X2.every(Math.max(sT(f,h,p),1));const[E,A]=s[y/s[g-1][2]<s[g][2]/y?g-1:g];return E.every(A)}return[l,u]}const[ihe,ahe]=HV(df,d3,Ox,qV,f3,c3),[she,ohe]=HV(hf,h3,Px,G0,u3,l3);function JE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ZE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lhe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,f=Bv(i),h=Vv(i),p=Bv(a),y=Vv(a),g=Bv(s),E=Vv(s),A=Bv(l),S=Vv(l),I=Bv(u),q=Vv(u),k={a:he,A:me,b:_e,B:Ue,c:null,d:N7,e:N7,f:Ohe,g:Vhe,G:qhe,H:Ihe,I:Che,j:Phe,L:$V,m:Rhe,M:Dhe,p:ne,q:M,Q:P7,s:O7,S:khe,u:Lhe,U:jhe,V:Mhe,w:Fhe,W:Uhe,x:null,X:null,y:Bhe,Y:zhe,Z:Hhe,"%":C7},B={a:X,A:Z,b:fe,B:pe,c:null,d:I7,e:I7,f:Whe,g:ide,G:sde,H:$he,I:Ghe,j:Yhe,L:YV,m:Khe,M:Xhe,p:ye,q:Pe,Q:P7,s:O7,S:Qhe,u:Jhe,U:Zhe,V:ede,w:tde,W:nde,x:null,X:null,y:rde,Y:ade,Z:ode,"%":C7},$={a:G,A:P,b:F,B:V,c:ee,d:S7,e:S7,f:Ahe,g:A7,G:E7,H:T7,I:T7,j:_he,L:Ehe,m:bhe,M:xhe,p:D,q:yhe,Q:The,s:Nhe,S:whe,u:dhe,U:phe,V:mhe,w:hhe,W:ghe,x:ge,X:se,y:A7,Y:E7,Z:vhe,"%":She};k.x=K(n,k),k.X=K(r,k),k.c=K(e,k),B.x=K(n,B),B.X=K(r,B),B.c=K(e,B);function K(de,Ce){return function(Ve){var Se=[],rt=-1,it=0,oe=de.length,Xe,Nt,yt;for(Ve instanceof Date||(Ve=new Date(+Ve));++rt<oe;)de.charCodeAt(rt)===37&&(Se.push(de.slice(it,rt)),(Nt=w7[Xe=de.charAt(++rt)])!=null?Xe=de.charAt(++rt):Nt=Xe==="e"?" ":"0",(yt=Ce[Xe])&&(Xe=yt(Ve,Nt)),Se.push(Xe),it=rt+1);return Se.push(de.slice(it,rt)),Se.join("")}}function j(de,Ce){return function(Ve){var Se=Uv(1900,void 0,1),rt=L(Se,de,Ve+="",0),it,oe;if(rt!=Ve.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(Ce&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(it=ZE(Uv(Se.y,0,1)),oe=it.getUTCDay(),it=oe>4||oe===0?J2.ceil(it):J2(it),it=Cx.offset(it,(Se.V-1)*7),Se.y=it.getUTCFullYear(),Se.m=it.getUTCMonth(),Se.d=it.getUTCDate()+(Se.w+6)%7):(it=JE(Uv(Se.y,0,1)),oe=it.getDay(),it=oe>4||oe===0?Q2.ceil(it):Q2(it),it=G0.offset(it,(Se.V-1)*7),Se.y=it.getFullYear(),Se.m=it.getMonth(),Se.d=it.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),oe="Z"in Se?ZE(Uv(Se.y,0,1)).getUTCDay():JE(Uv(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(oe+5)%7:Se.w+Se.U*7-(oe+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,ZE(Se)):JE(Se)}}function L(de,Ce,Ve,Se){for(var rt=0,it=Ce.length,oe=Ve.length,Xe,Nt;rt<it;){if(Se>=oe)return-1;if(Xe=Ce.charCodeAt(rt++),Xe===37){if(Xe=Ce.charAt(rt++),Nt=$[Xe in w7?Ce.charAt(rt++):Xe],!Nt||(Se=Nt(de,Ve,Se))<0)return-1}else if(Xe!=Ve.charCodeAt(Se++))return-1}return Se}function D(de,Ce,Ve){var Se=f.exec(Ce.slice(Ve));return Se?(de.p=h.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function G(de,Ce,Ve){var Se=g.exec(Ce.slice(Ve));return Se?(de.w=E.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function P(de,Ce,Ve){var Se=p.exec(Ce.slice(Ve));return Se?(de.w=y.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function F(de,Ce,Ve){var Se=I.exec(Ce.slice(Ve));return Se?(de.m=q.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function V(de,Ce,Ve){var Se=A.exec(Ce.slice(Ve));return Se?(de.m=S.get(Se[0].toLowerCase()),Ve+Se[0].length):-1}function ee(de,Ce,Ve){return L(de,e,Ce,Ve)}function ge(de,Ce,Ve){return L(de,n,Ce,Ve)}function se(de,Ce,Ve){return L(de,r,Ce,Ve)}function he(de){return s[de.getDay()]}function me(de){return a[de.getDay()]}function _e(de){return u[de.getMonth()]}function Ue(de){return l[de.getMonth()]}function ne(de){return i[+(de.getHours()>=12)]}function M(de){return 1+~~(de.getMonth()/3)}function X(de){return s[de.getUTCDay()]}function Z(de){return a[de.getUTCDay()]}function fe(de){return u[de.getUTCMonth()]}function pe(de){return l[de.getUTCMonth()]}function ye(de){return i[+(de.getUTCHours()>=12)]}function Pe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ce=K(de+="",k);return Ce.toString=function(){return de},Ce},parse:function(de){var Ce=j(de+="",!1);return Ce.toString=function(){return de},Ce},utcFormat:function(de){var Ce=K(de+="",B);return Ce.toString=function(){return de},Ce},utcParse:function(de){var Ce=j(de+="",!0);return Ce.toString=function(){return de},Ce}}}var w7={"-":"",_:" ",0:"0"},qa=/^\s*\d+/,che=/^%/,uhe=/[\\^$*+?|[\]().{}]/g;function rr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function fhe(t){return t.replace(uhe,"\\$&")}function Bv(t){return new RegExp("^(?:"+t.map(fhe).join("|")+")","i")}function Vv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hhe(t,e,n){var r=qa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dhe(t,e,n){var r=qa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function phe(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mhe(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ghe(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function E7(t,e,n){var r=qa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function A7(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vhe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yhe(t,e,n){var r=qa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function bhe(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S7(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _he(t,e,n){var r=qa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T7(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xhe(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function whe(t,e,n){var r=qa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ehe(t,e,n){var r=qa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ahe(t,e,n){var r=qa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function She(t,e,n){var r=che.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function The(t,e,n){var r=qa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nhe(t,e,n){var r=qa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function N7(t,e){return rr(t.getDate(),e,2)}function Ihe(t,e){return rr(t.getHours(),e,2)}function Che(t,e){return rr(t.getHours()%12||12,e,2)}function Phe(t,e){return rr(1+G0.count(hf(t),t),e,3)}function $V(t,e){return rr(t.getMilliseconds(),e,3)}function Ohe(t,e){return $V(t,e)+"000"}function Rhe(t,e){return rr(t.getMonth()+1,e,2)}function Dhe(t,e){return rr(t.getMinutes(),e,2)}function khe(t,e){return rr(t.getSeconds(),e,2)}function Lhe(t){var e=t.getDay();return e===0?7:e}function jhe(t,e){return rr(Px.count(hf(t)-1,t),e,2)}function GV(t){var e=t.getDay();return e>=4||e===0?gg(t):gg.ceil(t)}function Mhe(t,e){return t=GV(t),rr(gg.count(hf(t),t)+(hf(t).getDay()===4),e,2)}function Fhe(t){return t.getDay()}function Uhe(t,e){return rr(Q2.count(hf(t)-1,t),e,2)}function Bhe(t,e){return rr(t.getFullYear()%100,e,2)}function Vhe(t,e){return t=GV(t),rr(t.getFullYear()%100,e,2)}function zhe(t,e){return rr(t.getFullYear()%1e4,e,4)}function qhe(t,e){var n=t.getDay();return t=n>=4||n===0?gg(t):gg.ceil(t),rr(t.getFullYear()%1e4,e,4)}function Hhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rr(e/60|0,"0",2)+rr(e%60,"0",2)}function I7(t,e){return rr(t.getUTCDate(),e,2)}function $he(t,e){return rr(t.getUTCHours(),e,2)}function Ghe(t,e){return rr(t.getUTCHours()%12||12,e,2)}function Yhe(t,e){return rr(1+Cx.count(df(t),t),e,3)}function YV(t,e){return rr(t.getUTCMilliseconds(),e,3)}function Whe(t,e){return YV(t,e)+"000"}function Khe(t,e){return rr(t.getUTCMonth()+1,e,2)}function Xhe(t,e){return rr(t.getUTCMinutes(),e,2)}function Qhe(t,e){return rr(t.getUTCSeconds(),e,2)}function Jhe(t){var e=t.getUTCDay();return e===0?7:e}function Zhe(t,e){return rr(Ox.count(df(t)-1,t),e,2)}function WV(t){var e=t.getUTCDay();return e>=4||e===0?vg(t):vg.ceil(t)}function ede(t,e){return t=WV(t),rr(vg.count(df(t),t)+(df(t).getUTCDay()===4),e,2)}function tde(t){return t.getUTCDay()}function nde(t,e){return rr(J2.count(df(t)-1,t),e,2)}function rde(t,e){return rr(t.getUTCFullYear()%100,e,2)}function ide(t,e){return t=WV(t),rr(t.getUTCFullYear()%100,e,2)}function ade(t,e){return rr(t.getUTCFullYear()%1e4,e,4)}function sde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vg(t):vg.ceil(t),rr(t.getUTCFullYear()%1e4,e,4)}function ode(){return"+0000"}function C7(){return"%"}function P7(t){return+t}function O7(t){return Math.floor(+t/1e3)}var cm,KV,XV;lde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lde(t){return cm=lhe(t),KV=cm.format,cm.parse,XV=cm.utcFormat,cm.utcParse,cm}function cde(t){return new Date(t)}function ude(t){return t instanceof Date?+t:+new Date(+t)}function p3(t,e,n,r,i,a,s,l,u,f){var h=e3(),p=h.invert,y=h.domain,g=f(".%L"),E=f(":%S"),A=f("%I:%M"),S=f("%I %p"),I=f("%a %d"),q=f("%b %d"),k=f("%B"),B=f("%Y");function $(K){return(u(K)<K?g:l(K)<K?E:s(K)<K?A:a(K)<K?S:r(K)<K?i(K)<K?I:q:n(K)<K?k:B)(K)}return h.invert=function(K){return new Date(p(K))},h.domain=function(K){return arguments.length?y(Array.from(K,ude)):y().map(cde)},h.ticks=function(K){var j=y();return t(j[0],j[j.length-1],K??10)},h.tickFormat=function(K,j){return j==null?$:f(j)},h.nice=function(K){var j=y();return(!K||typeof K.range!="function")&&(K=e(j[0],j[j.length-1],K??10)),K?y(jV(j,K)):h},h.copy=function(){return $0(h,p3(t,e,n,r,i,a,s,l,u,f))},h}function fde(){return Ll.apply(p3(she,ohe,hf,h3,Px,G0,u3,l3,Od,KV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hde(){return Ll.apply(p3(ihe,ahe,df,d3,Ox,Cx,f3,c3,Od,XV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rx(){var t=0,e=1,n,r,i,a,s=Ys,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(y){var g,E;return arguments.length?([g,E]=y,s=p(g,E),f):[s(0),s(1)]}}return f.range=h(Lg),f.rangeRound=h(ZI),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Yh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QV(){var t=Gh(Rx()(Ys));return t.copy=function(){return Yh(t,QV())},Af.apply(t,arguments)}function JV(){var t=r3(Rx()).domain([1,10]);return t.copy=function(){return Yh(t,JV()).base(t.base())},Af.apply(t,arguments)}function ZV(){var t=i3(Rx());return t.copy=function(){return Yh(t,ZV()).constant(t.constant())},Af.apply(t,arguments)}function m3(){var t=a3(Rx());return t.copy=function(){return Yh(t,m3()).exponent(t.exponent())},Af.apply(t,arguments)}function dde(){return m3.apply(null,arguments).exponent(.5)}function ez(){var t=[],e=Ys;function n(r){if(r!=null&&!isNaN(r=+r))return e((q0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Jue(t,a/r))},n.copy=function(){return ez(e).domain(t)},Af.apply(n,arguments)}function Dx(){var t=0,e=.5,n=1,r=1,i,a,s,l,u,f=Ys,h,p=!1,y;function g(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-a)*(r*A<r*a?l:u),f(p?Math.max(0,Math.min(1,A)):A))}g.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),a=h(e=+e),s=h(n=+n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(A){return arguments.length?(p=!!A,g):p},g.interpolator=function(A){return arguments.length?(f=A,g):f};function E(A){return function(S){var I,q,k;return arguments.length?([I,q,k]=S,f=Sfe(A,[I,q,k]),g):[f(0),f(.5),f(1)]}}return g.range=E(Lg),g.rangeRound=E(ZI),g.unknown=function(A){return arguments.length?(y=A,g):y},function(A){return h=A,i=A(t),a=A(e),s=A(n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g}}function tz(){var t=Gh(Dx()(Ys));return t.copy=function(){return Yh(t,tz())},Af.apply(t,arguments)}function nz(){var t=r3(Dx()).domain([.1,1,10]);return t.copy=function(){return Yh(t,nz()).base(t.base())},Af.apply(t,arguments)}function rz(){var t=i3(Dx());return t.copy=function(){return Yh(t,rz()).constant(t.constant())},Af.apply(t,arguments)}function g3(){var t=a3(Dx());return t.copy=function(){return Yh(t,g3()).exponent(t.exponent())},Af.apply(t,arguments)}function pde(){return g3.apply(null,arguments).exponent(.5)}const Zv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:XI,scaleDiverging:tz,scaleDivergingLog:nz,scaleDivergingPow:g3,scaleDivergingSqrt:pde,scaleDivergingSymlog:rz,scaleIdentity:LV,scaleImplicit:oT,scaleLinear:kV,scaleLog:MV,scaleOrdinal:KI,scalePoint:tfe,scalePow:s3,scaleQuantile:BV,scaleQuantize:VV,scaleRadial:UV,scaleSequential:QV,scaleSequentialLog:JV,scaleSequentialPow:m3,scaleSequentialQuantile:ez,scaleSequentialSqrt:dde,scaleSequentialSymlog:ZV,scaleSqrt:Wfe,scaleSymlog:FV,scaleThreshold:zV,scaleTime:fde,scaleUtc:hde,tickFormat:DV},Symbol.toStringTag,{value:"Module"}));var Wh=t=>t.chartData,mde=He([Wh],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),kx=(t,e,n,r)=>r?mde(t):Wh(t);function ap(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Br(e)&&Br(n))return!0}return!1}function R7(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function iz(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Br(n))i=n;else if(typeof n=="function")return;if(Br(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ap(s))return s}}function gde(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ap(r))return R7(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,l;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ht(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&p6.test(i)){var u=p6.exec(i);if(u==null||e==null)s=void 0;else{var f=+u[1];s=e[0]-f}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(l=Math.max(...e));else if(Ht(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&m6.test(a)){var h=m6.exec(a);if(h==null||e==null)l=void 0;else{var p=+h[1];l=e[1]+p}}else l=e==null?void 0:e[1];var y=[s,l];if(ap(y))return e==null?y:R7(y,e,n)}}}var jg=1e9,vde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},y3,ui=!0,Dl="[DecimalError] ",Ud=Dl+"Invalid argument: ",v3=Dl+"Exponent out of range: ",Mg=Math.floor,yd=Math.pow,yde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yo,Ua=1e7,Yr=7,az=9007199254740991,Z2=Mg(az/Yr),Pt={};Pt.absoluteValue=Pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pt.comparedTo=Pt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Pt.decimalPlaces=Pt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Yr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pt.dividedBy=Pt.div=function(t){return nf(this,new this.constructor(t))};Pt.dividedToIntegerBy=Pt.idiv=function(t){var e=this,n=e.constructor;return jr(nf(e,new n(t),0,1),n.precision)};Pt.equals=Pt.eq=function(t){return!this.cmp(t)};Pt.exponent=function(){return sa(this)};Pt.greaterThan=Pt.gt=function(t){return this.cmp(t)>0};Pt.greaterThanOrEqualTo=Pt.gte=function(t){return this.cmp(t)>=0};Pt.isInteger=Pt.isint=function(){return this.e>this.d.length-2};Pt.isNegative=Pt.isneg=function(){return this.s<0};Pt.isPositive=Pt.ispos=function(){return this.s>0};Pt.isZero=function(){return this.s===0};Pt.lessThan=Pt.lt=function(t){return this.cmp(t)<0};Pt.lessThanOrEqualTo=Pt.lte=function(t){return this.cmp(t)<1};Pt.logarithm=Pt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yo))throw Error(Dl+"NaN");if(n.s<1)throw Error(Dl+(n.s?"NaN":"-Infinity"));return n.eq(Yo)?new r(0):(ui=!1,e=nf(r0(n,a),r0(t,a),a),ui=!0,jr(e,i))};Pt.minus=Pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lz(e,t):sz(e,(t.s=-t.s,t))};Pt.modulo=Pt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Dl+"NaN");return n.s?(ui=!1,e=nf(n,t,0,1).times(t),ui=!0,n.minus(e)):jr(new r(n),i)};Pt.naturalExponential=Pt.exp=function(){return oz(this)};Pt.naturalLogarithm=Pt.ln=function(){return r0(this)};Pt.negated=Pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pt.plus=Pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sz(e,t):lz(e,(t.s=-t.s,t))};Pt.precision=Pt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ud+t);if(e=sa(i)+1,r=i.d.length-1,n=r*Yr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pt.squareRoot=Pt.sqrt=function(){var t,e,n,r,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Dl+"NaN")}for(t=sa(l),ui=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Zc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(nf(l,a,s+2)).times(.5),Zc(a.d).slice(0,s)===(e=Zc(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(jr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return ui=!0,jr(r,n)};Pt.times=Pt.mul=function(t){var e,n,r,i,a,s,l,u,f,h=this,p=h.constructor,y=h.d,g=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,u=y.length,f=g.length,u<f&&(a=y,y=g,g=a,s=u,u=f,f=s),a=[],s=u+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+g[r]*y[i-r-1]+e,a[i--]=l%Ua|0,e=l/Ua|0;a[i]=(a[i]+e)%Ua|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ui?jr(t,p.precision):t};Pt.toDecimalPlaces=Pt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fu(t,0,jg),e===void 0?e=r.rounding:fu(e,0,8),jr(n,t+sa(n)+1,e))};Pt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=sp(r,!0):(fu(t,0,jg),e===void 0?e=i.rounding:fu(e,0,8),r=jr(new i(r),t+1,e),n=sp(r,!0,t+1)),n};Pt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?sp(i):(fu(t,0,jg),e===void 0?e=a.rounding:fu(e,0,8),r=jr(new a(i),t+sa(i)+1,e),n=sp(r.abs(),!1,t+sa(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Pt.toInteger=Pt.toint=function(){var t=this,e=t.constructor;return jr(new e(t),sa(t)+1,e.rounding)};Pt.toNumber=function(){return+this};Pt.toPower=Pt.pow=function(t){var e,n,r,i,a,s,l=this,u=l.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(Yo);if(l=new u(l),!l.s){if(t.s<1)throw Error(Dl+"Infinity");return l}if(l.eq(Yo))return l;if(r=u.precision,t.eq(Yo))return jr(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=h<0?-h:h)<=az){for(i=new u(Yo),e=Math.ceil(r/Yr+4),ui=!1;n%2&&(i=i.times(l),k7(i.d,e)),n=Mg(n/2),n!==0;)l=l.times(l),k7(l.d,e);return ui=!0,t.s<0?new u(Yo).div(i):jr(i,r)}}else if(a<0)throw Error(Dl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,ui=!1,i=t.times(r0(l,r+f)),ui=!0,i=oz(i),i.s=a,i};Pt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=sa(i),r=sp(i,n<=a.toExpNeg||n>=a.toExpPos)):(fu(t,1,jg),e===void 0?e=a.rounding:fu(e,0,8),i=jr(new a(i),t,e),n=sa(i),r=sp(i,t<=n||n<=a.toExpNeg,t)),r};Pt.toSignificantDigits=Pt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fu(t,1,jg),e===void 0?e=r.rounding:fu(e,0,8)),jr(new r(n),t,e)};Pt.toString=Pt.valueOf=Pt.val=Pt.toJSON=Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sa(t),n=t.constructor;return sp(t,e<=n.toExpNeg||e>=n.toExpPos)};function sz(t,e){var n,r,i,a,s,l,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),ui?jr(e,p):e;if(u=t.d,f=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=s,l=u.length),s=Math.ceil(p/Yr),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/Ua|0,u[a]%=Ua;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,ui?jr(e,p):e}function fu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ud+t)}function Zc(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Yr-r.length,n&&(a+=lh(n)),a+=r;s=t[e],r=s+"",n=Yr-r.length,n&&(a+=lh(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var nf=(function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%Ua|0,s=a/Ua|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ua+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,u,f,h,p,y,g,E,A,S,I,q,k,B,$,K,j,L,D=r.constructor,G=r.s==i.s?1:-1,P=r.d,F=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Dl+"Division by zero");for(u=r.e-i.e,j=F.length,$=P.length,g=new D(G),E=g.d=[],f=0;F[f]==(P[f]||0);)++f;if(F[f]>(P[f]||0)&&--u,a==null?q=a=D.precision:s?q=a+(sa(r)-sa(i))+1:q=a,q<0)return new D(0);if(q=q/Yr+2|0,f=0,j==1)for(h=0,F=F[0],q++;(f<$||h)&&q--;f++)k=h*Ua+(P[f]||0),E[f]=k/F|0,h=k%F|0;else{for(h=Ua/(F[0]+1)|0,h>1&&(F=t(F,h),P=t(P,h),j=F.length,$=P.length),B=j,A=P.slice(0,j),S=A.length;S<j;)A[S++]=0;L=F.slice(),L.unshift(0),K=F[0],F[1]>=Ua/2&&++K;do h=0,l=e(F,A,j,S),l<0?(I=A[0],j!=S&&(I=I*Ua+(A[1]||0)),h=I/K|0,h>1?(h>=Ua&&(h=Ua-1),p=t(F,h),y=p.length,S=A.length,l=e(p,A,y,S),l==1&&(h--,n(p,j<y?L:F,y))):(h==0&&(l=h=1),p=F.slice()),y=p.length,y<S&&p.unshift(0),n(A,p,S),l==-1&&(S=A.length,l=e(F,A,j,S),l<1&&(h++,n(A,j<S?L:F,S))),S=A.length):l===0&&(h++,A=[0]),E[f++]=h,l&&A[0]?A[S++]=P[B]||0:(A=[P[B]],S=1);while((B++<$||A[0]!==void 0)&&q--)}return E[0]||E.shift(),g.e=u,jr(g,s?a+sa(g)+1:a)}})();function oz(t,e){var n,r,i,a,s,l,u=0,f=0,h=t.constructor,p=h.precision;if(sa(t)>16)throw Error(v3+sa(t));if(!t.s)return new h(Yo);for(ui=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(yd(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(Yo),h.precision=l;;){if(i=jr(i.times(t),l),n=n.times(++u),s=a.plus(nf(i,n,l)),Zc(s.d).slice(0,l)===Zc(a.d).slice(0,l)){for(;f--;)a=jr(a.times(a),l);return h.precision=p,e==null?(ui=!0,jr(a,p)):a}a=s}}function sa(t){for(var e=t.e*Yr,n=t.d[0];n>=10;n/=10)e++;return e}function eA(t,e,n){if(e>t.LN10.sd())throw ui=!0,n&&(t.precision=n),Error(Dl+"LN10 precision limit exceeded");return jr(new t(t.LN10),e)}function lh(t){for(var e="";t--;)e+="0";return e}function r0(t,e){var n,r,i,a,s,l,u,f,h,p=1,y=10,g=t,E=g.d,A=g.constructor,S=A.precision;if(g.s<1)throw Error(Dl+(g.s?"NaN":"-Infinity"));if(g.eq(Yo))return new A(0);if(e==null?(ui=!1,f=S):f=e,g.eq(10))return e==null&&(ui=!0),eA(A,f);if(f+=y,A.precision=f,n=Zc(E),r=n.charAt(0),a=sa(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Zc(g.d),r=n.charAt(0),p++;a=sa(g),r>1?(g=new A("0."+n),a++):g=new A(r+"."+n.slice(1))}else return u=eA(A,f+2,S).times(a+""),g=r0(new A(r+"."+n.slice(1)),f-y).plus(u),A.precision=S,e==null?(ui=!0,jr(g,S)):g;for(l=s=g=nf(g.minus(Yo),g.plus(Yo),f),h=jr(g.times(g),f),i=3;;){if(s=jr(s.times(h),f),u=l.plus(nf(s,new A(i),f)),Zc(u.d).slice(0,f)===Zc(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(eA(A,f+2,S).times(a+""))),l=nf(l,new A(p),f),A.precision=S,e==null?(ui=!0,jr(l,S)):l;l=u,i+=2}}function D7(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mg(n/Yr),t.d=[],r=(n+1)%Yr,n<0&&(r+=Yr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Yr;r<i;)t.d.push(+e.slice(r,r+=Yr));e=e.slice(r),r=Yr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ui&&(t.e>Z2||t.e<-Z2))throw Error(v3+n)}else t.s=0,t.e=0,t.d=[0];return t}function jr(t,e,n){var r,i,a,s,l,u,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Yr,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Yr),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=Yr,i=r-Yr+s}if(n!==void 0&&(a=yd(10,s-i-1),l=f/a%10|0,u=e<0||p[h+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/yd(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=sa(t),p.length=1,e=e-a-1,p[0]=yd(10,(Yr-e%Yr)%Yr),t.e=Mg(-e/Yr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=yd(10,Yr-r),p[h]=i>0?(f/yd(10,s-i)%yd(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==Ua&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Ua)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(ui&&(t.e>Z2||t.e<-Z2))throw Error(v3+sa(t));return t}function lz(t,e){var n,r,i,a,s,l,u,f,h,p,y=t.constructor,g=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ui?jr(e,g):e;if(u=t.d,p=e.d,r=e.e,f=t.e,u=u.slice(),s=f-r,s){for(h=s<0,h?(n=u,s=-s,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(g/Yr),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}s=0}for(h&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=Ua-1;--u[a],u[i]+=Ua}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,ui?jr(e,g):e):new y(0)}function sp(t,e,n){var r,i=sa(t),a=Zc(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+lh(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+lh(-i-1)+a,n&&(r=n-s)>0&&(a+=lh(r))):i>=s?(a+=lh(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+lh(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=lh(r))),t.s<0?"-"+a:a}function k7(t,e){if(t.length>e)return t.length=e,!0}function cz(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ud+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return D7(s,a.toString())}else if(typeof a!="string")throw Error(Ud+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,yde.test(a))D7(s,a);else throw Error(Ud+a)}if(i.prototype=Pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=cz,i.config=i.set=bde,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bde(t){if(!t||typeof t!="object")throw Error(Dl+"Object expected");var e,n,r,i=["precision",1,jg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mg(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ud+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ud+n+": "+r);return this}var y3=cz(vde);Yo=new y3(1);const yr=y3;var _de=t=>t,uz={},fz=t=>t===uz,L7=t=>function e(){return arguments.length===0||arguments.length===1&&fz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},hz=(t,e)=>t===1?e:L7(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==uz).length;return a>=t?e(...r):hz(t-a,L7(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=r.map(h=>fz(h)?l.shift():h);return e(...f,...l)}))}),Lx=t=>hz(t.length,t),fT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},xde=Lx((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),wde=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return _de;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,u)=>u(l),a(...arguments))}},hT=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),dz=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((s,l)=>{var u;return s===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function pz(t){var e;return t===0?e=1:e=Math.floor(new yr(t).abs().log(10).toNumber())+1,e}function mz(t,e,n){for(var r=new yr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Lx((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Lx((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Lx((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var gz=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},vz=(t,e,n)=>{if(t.lte(0))return new yr(0);var r=pz(t.toNumber()),i=new yr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new yr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return e?new yr(u.toNumber()):new yr(Math.ceil(u.toNumber()))},Ede=(t,e,n)=>{var r=new yr(1),i=new yr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new yr(10).pow(pz(t)-1),i=new yr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new yr(Math.floor(t)))}else t===0?i=new yr(Math.floor((e-1)/2)):n||(i=new yr(Math.floor(t)));var s=Math.floor((e-1)/2),l=wde(xde(u=>i.add(new yr(u-s).mul(r)).toNumber()),fT);return l(0,e)},yz=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var s=vz(new yr(n).sub(e).div(r-1),i,a),l;e<=0&&n>=0?l=new yr(0):(l=new yr(e).add(n).div(2),l=l.sub(new yr(l).mod(s)));var u=Math.ceil(l.sub(e).div(s).toNumber()),f=Math.ceil(new yr(n).sub(l).div(s).toNumber()),h=u+f+1;return h>r?yz(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:s,tickMin:l.sub(new yr(u).mul(s)),tickMax:l.add(new yr(f).mul(s))})};function Ade(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,l]=gz([e,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...fT(0,r-1).map(()=>1/0)]:[...fT(0,r-1).map(()=>-1/0),l];return e>n?hT(u):u}if(s===l)return Ede(s,r,i);var{step:f,tickMin:h,tickMax:p}=yz(s,l,a,i,0),y=mz(h,p.add(new yr(.1).mul(f)),f);return e>n?hT(y):y}function Sde(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=gz([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var l=Math.max(e,2),u=vz(new yr(s).sub(a).div(l-1),i,0),f=[...mz(new yr(a),new yr(s),u),s];return i===!1&&(f=f.map(h=>Math.round(h))),n>r?hT(f):f}var Tde=dz(Ade),Nde=dz(Sde),Ide=t=>t.rootProps.barCategoryGap,jx=t=>t.rootProps.stackOffset,b3=t=>t.options.chartName,_3=t=>t.rootProps.syncId,bz=t=>t.rootProps.syncMethod,x3=t=>t.options.eventEmitter,Cde=t=>t.rootProps.baseValue,os={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$o={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Pde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yu.angleAxisId,includeHidden:!1,name:void 0,reversed:Yu.reversed,scale:Yu.scale,tick:Yu.tick,tickCount:void 0,ticks:void 0,type:Yu.type,unit:void 0},Ode={allowDataOverflow:$o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$o.scale,tick:$o.tick,tickCount:$o.tickCount,ticks:void 0,type:$o.type,unit:void 0},Rde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yu.scale,tick:Yu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Dde={allowDataOverflow:$o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$o.scale,tick:$o.tick,tickCount:$o.tickCount,ticks:void 0,type:"category",unit:void 0},w3=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Rde:Pde,E3=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Dde:Ode,Fx=t=>t.polarOptions,A3=He([wf,Ef,ds],Tue),_z=He([Fx,A3],(t,e)=>{if(t!=null)return jh(t.innerRadius,e,0)}),xz=He([Fx,A3],(t,e)=>{if(t!=null)return jh(t.outerRadius,e,e*.8)}),kde=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},wz=He([Fx],kde);He([w3,wz],Mx);var Ez=He([A3,_z,xz],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});He([E3,Ez],Mx);var Az=He([Pr,Fx,_z,xz,wf,Ef],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:f}=e;return{cx:jh(s,i,i/2),cy:jh(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Ta=(t,e)=>e,Ux=(t,e,n)=>n;function S3(t){return t==null?void 0:t.id}function Sz(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=S3(l);f.forEach((p,y)=>{var g=a==null||i?y:String(cs(p,a,null)),E=cs(p,l.dataKey,0),A;s.has(g)?A=s.get(g):A={},Object.assign(A,{[h]:E}),s.set(g,A)})}}),Array.from(s.values())}function T3(t){return t.stackId!=null&&t.dataKey!=null}var Bx=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Vx(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Lde(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Na=t=>{var e=Pr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Fg=t=>t.tooltip.settings.axisId;function j7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j7(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return(e=Mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dT=[0,"auto"],zo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Tz=(t,e)=>t.cartesianAxis.xAxis[e],pu=(t,e)=>{var n=Tz(t,e);return n??zo},qo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:B0},Nz=(t,e)=>t.cartesianAxis.yAxis[e],mu=(t,e)=>{var n=Nz(t,e);return n??qo},Ude={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},N3=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ude},Qs=(t,e,n)=>{switch(e){case"xAxis":return pu(t,n);case"yAxis":return mu(t,n);case"zAxis":return N3(t,n);case"angleAxis":return w3(t,n);case"radiusAxis":return E3(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bde=(t,e,n)=>{switch(e){case"xAxis":return pu(t,n);case"yAxis":return mu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Y0=(t,e,n)=>{switch(e){case"xAxis":return pu(t,n);case"yAxis":return mu(t,n);case"angleAxis":return w3(t,n);case"radiusAxis":return E3(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Iz=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Cz(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var I3=t=>t.graphicalItems.cartesianItems,Vde=He([Ta,Ux],Cz),Pz=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),W0=He([I3,Qs,Vde],Pz,{memoizeOptions:{resultEqualityCheck:Vx}}),Oz=He([W0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(T3)),Rz=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),zde=He([W0],Rz),Dz=t=>t.map(e=>e.data).filter(Boolean).flat(1),qde=He([W0],Dz,{memoizeOptions:{resultEqualityCheck:Vx}}),kz=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},C3=He([qde,kx],kz),Lz=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:cs(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:cs(i,r)}))):t.map(r=>({value:r})),zx=He([C3,Qs,W0],Lz);function jz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Hb(t){if(Ol(t)||t instanceof Date){var e=Number(t);if(Br(e))return e}}function M7(t){if(Array.isArray(t)){var e=[Hb(t[0]),Hb(t[1])];return ap(e)?e:void 0}var n=Hb(t);if(n!=null)return[n,n]}function pf(t){return t.map(Hb).filter(gse)}function Hde(t,e,n){return!n||typeof e!="number"||tl(e)?[]:n.length?pf(n.flatMap(r=>{var i=cs(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Br(a)||!Br(s)))return[e-a,e+s]})):[]}var Ia=t=>{var e=Na(t),n=Fg(t);return Y0(t,e,n)},Mz=He([Ia],t=>t==null?void 0:t.dataKey),$de=He([Oz,kx,Ia],Sz),Fz=(t,e,n)=>{var r={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,u=l.map(S3);return[s,{stackedData:Ole(t,u,n),graphicalItems:l}]}))},pT=He([$de,Oz,jx],Fz),Uz=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Lle(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Gde=He([Qs],t=>t.allowDataOverflow),P3=t=>{var e;if(t==null||!("domain"in t))return dT;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=pf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dT},Bz=He([Qs],P3),Vz=He([Bz,Gde],iz),Yde=He([pT,Wh,Ta,Vz],Uz,{memoizeOptions:{resultEqualityCheck:Bx}}),O3=t=>t.errorBars,Wde=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>jz(n,r)),t_=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},zz=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(I=>jz(i,I)),y=cs(l,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey),g=Hde(l,y,p);if(g.length>=2){var E=Math.min(...g),A=Math.max(...g);(a==null||E<a)&&(a=E),(s==null||A>s)&&(s=A)}var S=M7(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(l=>{var u=M7(cs(l,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Br(a)&&Br(s))return[a,s]},Kde=He([C3,Qs,zde,O3,Ta],zz,{memoizeOptions:{resultEqualityCheck:Bx}});function Xde(t){var{value:e}=t;if(Ol(e)||e instanceof Date)return e}var Qde=(t,e,n)=>{var r=t.map(Xde).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&fB(r))?EV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},qz=t=>t.referenceElements.dots,Ug=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Jde=He([qz,Ta,Ux],Ug),Hz=t=>t.referenceElements.areas,Zde=He([Hz,Ta,Ux],Ug),$z=t=>t.referenceElements.lines,epe=He([$z,Ta,Ux],Ug),Gz=(t,e)=>{var n=pf(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tpe=He(Jde,Ta,Gz),Yz=(t,e)=>{var n=pf(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},npe=He([Zde,Ta],Yz);function rpe(t){var e;if(t.x!=null)return pf([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:pf(n)}function ipe(t){var e;if(t.y!=null)return pf([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:pf(n)}var Wz=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?rpe(r):ipe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ape=He([epe,Ta],Wz),spe=He(tpe,ape,npe,(t,e,n)=>t_(t,n,e)),Kz=(t,e,n,r,i,a,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",f=u?t_(r,a,i):t_(a,i);return gde(e,f,t.allowDataOverflow)},ope=He([Qs,Bz,Vz,Yde,Kde,spe,Pr,Ta],Kz,{memoizeOptions:{resultEqualityCheck:Bx}}),lpe=[0,1],Xz=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=t,f=du(e,a);if(f&&l==null){var h;return EV(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return u==="category"?Qde(r,t,f):i==="expand"?lpe:s}},R3=He([Qs,Pr,C3,zx,jx,Ta,ope],Xz),Qz=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(M0(a));return l in Zv?l:"point"}}},K0=He([Qs,Pr,Iz,b3,Ta],Qz);function cpe(t){if(t!=null){if(t in Zv)return Zv[t]();var e="scale".concat(M0(t));if(e in Zv)return Zv[e]()}}function D3(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=cpe(e);if(i!=null){var a=i.domain(n).range(r);return Nle(a),a}}}var Jz=(t,e,n)=>{var r=P3(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ap(t))return Tde(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ap(t))return Nde(t,e.tickCount,e.allowDecimals)}},k3=He([R3,Y0,K0],Jz),Zz=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ap(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return e},upe=He([Qs,R3,k3,Ta],Zz),fpe=He(zx,Qs,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(pf(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),eq=He(fpe,Pr,Ide,ds,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Br(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=jh(n,t*a),l=t*a/2;return l-s-(l-s)/a*s}return 0}),hpe=(t,e)=>{var n=pu(t,e);return n==null||typeof n.padding!="string"?0:eq(t,"xAxis",e,n.padding)},dpe=(t,e)=>{var n=mu(t,e);return n==null||typeof n.padding!="string"?0:eq(t,"yAxis",e,n.padding)},ppe=He(pu,hpe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),mpe=He(mu,dpe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),gpe=He([ds,ppe,Ex,wx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),vpe=He([ds,Pr,mpe,Ex,wx,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),X0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return gpe(t,n,r);case"yAxis":return vpe(t,n,r);case"zAxis":return(i=N3(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return wz(t);case"radiusAxis":return Ez(t,n);default:return}},tq=He([Qs,X0],Mx),Mh=He([Qs,K0,upe,tq],D3);He([W0,O3,Ta],Wde);function nq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var qx=(t,e)=>e,Hx=(t,e,n)=>n,ype=He(_x,qx,Hx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nq)),bpe=He(xx,qx,Hx,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(nq)),rq=(t,e)=>({width:t.width,height:e.height}),_pe=(t,e)=>{var n=typeof e.width=="number"?e.width:B0;return{width:n,height:t.height}},xpe=He(ds,pu,rq),wpe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Epe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ape=He(Ef,ds,ype,qx,Hx,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=rq(e,l);s==null&&(s=wpe(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),a}),Spe=He(wf,ds,bpe,qx,Hx,(t,e,n,r,i)=>{var a={},s;return n.forEach(l=>{var u=_pe(e,l);s==null&&(s=Epe(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),a}),Tpe=(t,e)=>{var n=pu(t,e);if(n!=null)return Ape(t,n.orientation,n.mirror)},Npe=He([ds,pu,Tpe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ipe=(t,e)=>{var n=mu(t,e);if(n!=null)return Spe(t,n.orientation,n.mirror)},Cpe=He([ds,mu,Ipe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Ppe=He(ds,mu,(t,e)=>{var n=typeof e.width=="number"?e.width:B0;return{width:n,height:t.height}}),iq=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=du(t,r),u=e.map(f=>f.value);if(s&&l&&a==="category"&&i&&fB(u))return u}},L3=He([Pr,zx,Qs,Ta],iq),aq=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=du(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(l=>l.value)}},j3=He([Pr,zx,Y0,Ta],aq),F7=He([Pr,Bde,K0,Mh,L3,j3,X0,k3,Ta],(t,e,n,r,i,a,s,l,u)=>{if(e!=null){var f=du(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:s,realScaleType:n,scale:r}}}),Ope=(t,e,n,r,i,a,s,l,u)=>{if(!(e==null||r==null)){var f=du(t,u),{type:h,ticks:p,tickCount:y}=e,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/g:0;E=u==="angleAxis"&&a!=null&&a.length>=2?Tl(a[0]-a[1])*2*E:E;var A=p||i;if(A){var S=A.map((I,q)=>{var k=s?s.indexOf(I):I;return{index:q,coordinate:r(k)+E,value:I,offset:E}});return S.filter(I=>Br(I.coordinate))}return f&&l?l.map((I,q)=>({coordinate:r(I)+E,value:I,index:q,offset:E})).filter(I=>Br(I.coordinate)):r.ticks?r.ticks(y).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,q)=>({coordinate:r(I)+E,value:s?s[I]:I,index:q,offset:E}))}},sq=He([Pr,Y0,K0,Mh,k3,X0,L3,j3,Ta],Ope),Rpe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=du(t,s),{tickCount:u}=e,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Tl(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},$x=He([Pr,Y0,Mh,X0,L3,j3,Ta],Rpe),Gx=He(Qs,Mh,(t,e)=>{if(!(t==null||e==null))return e_(e_({},t),{},{scale:e})}),Dpe=He([Qs,K0,R3,tq],D3);He((t,e,n)=>N3(t,n),Dpe,(t,e)=>{if(!(t==null||e==null))return e_(e_({},t),{},{scale:e})});var kpe=He([Pr,_x,xx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oq=t=>t.options.defaultTooltipEventType,lq=t=>t.options.validateTooltipEventTypes;function cq(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function M3(t,e){var n=oq(t),r=lq(t);return cq(e,n,r)}function Lpe(t){return Yt(e=>M3(e,t))}var uq=(t,e)=>{var n,r=Number(e);if(!(tl(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},jpe=t=>t.tooltip.settings,fh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Mpe={itemInteraction:{click:fh,hover:fh},axisInteraction:{click:fh,hover:fh},keyboardInteraction:fh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fq=No({name:"tooltip",initialState:Mpe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:_a()},removeTooltipEntrySettings:{reducer(t,e){var n=tf(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:_a()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Fpe,removeTooltipEntrySettings:Upe,setTooltipSettingsState:Bpe,setActiveMouseOverItemIndex:Vpe,mouseLeaveItem:z5e,mouseLeaveChart:hq,setActiveClickItemIndex:q5e,setMouseOverAxisIndex:dq,setMouseClickAxisIndex:zpe,setSyncInteraction:mT,setKeyboardInteraction:gT}=fq.actions,qpe=fq.reducer;function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){Hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hpe(t,e,n){return(e=$pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=Gpe(t,"string");return typeof e=="symbol"?e:e+""}function Gpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ype(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Wpe(t){return t.index!=null}var pq=(t,e,n,r)=>{if(e==null)return fh;var i=Ype(t,e,n);if(i==null)return fh;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Wpe(i)){if(a)return mb(mb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return mb(mb({},fh),{},{coordinate:i.coordinate})},F3=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Br(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},mq=(t,e,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var u=s[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},gq=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Q0=t=>t.options.tooltipPayloadSearcher,Bg=t=>t.tooltip;function B7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B7(Object(n),!0).forEach(function(r){Kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kpe(t,e,n){return(e=Xpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xpe(t){var e=Qpe(t,"string");return typeof e=="symbol"?e:e+""}function Qpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jpe(t,e){return t??e}var vq=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((y,g)=>{var E,{dataDefinedOnItem:A,settings:S}=g,I=Jpe(A,l),q=Array.isArray(I)?tV(I,f,h):I,k=(E=S==null?void 0:S.dataKey)!==null&&E!==void 0?E:r,B=S==null?void 0:S.nameKey,$;if(r&&Array.isArray(q)&&!Array.isArray(q[0])&&s==="axis"?$=hB(q,r,i):$=a(q,e,u,B),Array.isArray($))$.forEach(j=>{var L=V7(V7({},S),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});y.push(g6({tooltipEntrySettings:L,dataKey:j.dataKey,payload:j.payload,value:cs(j.payload,j.dataKey),name:j.name}))});else{var K;y.push(g6({tooltipEntrySettings:S,dataKey:k,payload:$,value:cs($,k),name:(K=cs($,B))!==null&&K!==void 0?K:S==null?void 0:S.name}))}return y},p)}},U3=He([Ia,Pr,Iz,b3,Na],Qz),Zpe=He([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),eme=He([Na,Fg],Cz),J0=He([Zpe,Ia,eme],Pz,{memoizeOptions:{resultEqualityCheck:Vx}}),tme=He([J0],t=>t.filter(T3)),nme=He([J0],Dz,{memoizeOptions:{resultEqualityCheck:Vx}}),Vg=He([nme,Wh],kz),rme=He([tme,Wh,Ia],Sz),B3=He([Vg,Ia,J0],Lz),yq=He([Ia],P3),ime=He([Ia],t=>t.allowDataOverflow),bq=He([yq,ime],iz),ame=He([J0],t=>t.filter(T3)),sme=He([rme,ame,jx],Fz),ome=He([sme,Wh,Na,bq],Uz),lme=He([J0],Rz),cme=He([Vg,Ia,lme,O3,Na],zz,{memoizeOptions:{resultEqualityCheck:Bx}}),ume=He([qz,Na,Fg],Ug),fme=He([ume,Na],Gz),hme=He([Hz,Na,Fg],Ug),dme=He([hme,Na],Yz),pme=He([$z,Na,Fg],Ug),mme=He([pme,Na],Wz),gme=He([fme,mme,dme],t_),vme=He([Ia,yq,bq,ome,cme,gme,Pr,Na],Kz),_q=He([Ia,Pr,Vg,B3,jx,Na,vme],Xz),yme=He([_q,Ia,U3],Jz),bme=He([Ia,_q,yme,Na],Zz),xq=t=>{var e=Na(t),n=Fg(t),r=!1;return X0(t,e,n,r)},wq=He([Ia,xq],Mx),Eq=He([Ia,U3,bme,wq],D3),_me=He([Pr,B3,Ia,Na],iq),xme=He([Pr,B3,Ia,Na],aq),wme=(t,e,n,r,i,a,s,l)=>{if(e){var{type:u}=e,f=du(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Tl(i[0]-i[1])*2*p:p,f&&s?s.map((y,g)=>({coordinate:r(y)+p,value:y,index:g,offset:p})):r.domain().map((y,g)=>({coordinate:r(y)+p,value:a?a[y]:y,index:g,offset:p}))}}},Sf=He([Pr,Ia,U3,Eq,xq,_me,xme,Na],wme),V3=He([oq,lq,jpe],(t,e,n)=>cq(n.shared,t,e)),Aq=t=>t.tooltip.settings.trigger,z3=t=>t.tooltip.settings.defaultIndex,Yx=He([Bg,V3,Aq,z3],pq),i0=He([Yx,Vg],F3),Sq=He([Sf,i0],uq),Eme=He([Yx],t=>{if(t)return t.dataKey}),Tq=He([Bg,V3,Aq,z3],gq),Ame=He([wf,Ef,Pr,ds,Sf,z3,Tq,Q0],mq),Sme=He([Yx,Ame],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Tme=He([Yx],t=>t.active),Nme=He([Tq,i0,Wh,Mz,Sq,Q0,V3],vq),Ime=He([Nme],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return(e=Pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Ome(t,"string");return typeof e=="symbol"?e:e+""}function Ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rme=()=>Yt(Ia),Dme=()=>{var t=Rme(),e=Yt(Sf),n=Yt(Eq);return pg(!t||!n?void 0:q7(q7({},t),{},{scale:n}),e)};function H7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H7(Object(n),!0).forEach(function(r){kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e,n){return(e=Lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lme(t){var e=jme(t,"string");return typeof e=="symbol"?e:e+""}function jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mme=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Fme=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return um(um(um({},r),ss(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:u}=r;return um(um(um({},r),ss(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ume(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var Nq=(t,e,n,r,i)=>{var a,s=-1,l=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,y=void 0;if(Tl(h-f)!==Tl(p-h)){var g=[];if(Tl(p-h)===Tl(i[1]-i[0])){y=p;var E=h+i[1]-i[0];g[0]=Math.min(E,(E+f)/2),g[1]=Math.max(E,(E+f)/2)}else{y=f;var A=p+i[1]-i[0];g[0]=Math.min(h,(A+h)/2),g[1]=Math.max(h,(A+h)/2)}var S=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>S[0]&&t<=S[1]||t>=g[0]&&t<=g[1]){({index:s}=n[u]);break}}else{var I=Math.min(f,p),q=Math.max(f,p);if(t>(I+h)/2&&t<=(q+h)/2){({index:s}=n[u]);break}}}else if(e){for(var k=0;k<l;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<l-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===l-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:s}=e[k]);break}}return s},Iq=()=>Yt(b3),q3=(t,e)=>e,Cq=(t,e,n)=>n,H3=(t,e,n,r)=>r,Bme=He(Sf,t=>dx(t,e=>e.coordinate)),$3=He([Bg,q3,Cq,H3],pq),Pq=He([$3,Vg],F3),Vme=(t,e,n)=>{if(e!=null){var r=Bg(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Oq=He([Bg,q3,Cq,H3],gq),n_=He([wf,Ef,Pr,ds,Sf,H3,Oq,Q0],mq),zme=He([$3,n_],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Rq=He([Sf,Pq],uq),qme=He([Oq,Pq,Wh,Mz,Rq,Q0,q3],vq),Hme=He([$3],t=>({isActive:t.active,activeIndex:t.index})),$me=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Ume(t,s)){var l=jle(t,e),u=Nq(l,a,i,n,r),f=Mme(e,i,u,t);return{activeIndex:String(u),activeCoordinate:f}}},Gme=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var l=Oue(t,n);if(l){var u=Mle(l,e),f=Nq(u,s,a,r,i),h=Fme(e,a,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},Yme=(t,e,n,r,i,a,s,l)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?$me(t,e,r,i,a,s,l):Gme(t,e,n,r,i,a,s)},Wme=He(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Kme=He(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(os)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Lde}});function $7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(n),!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return(e=Qme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qme(t){var e=Jme(t,"string");return typeof e=="symbol"?e:e+""}function Jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zme={},ege={zIndexMap:Object.values(os).reduce((t,e)=>G7(G7({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Zme)},tge=new Set(Object.values(os));function nge(t){return tge.has(t)}var Dq=No({name:"zIndex",initialState:ege,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:_a()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!nge(n)&&delete t.zIndexMap[n])},prepare:_a()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:_a()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:_a()}}}),{registerZIndexPortal:rge,unregisterZIndexPortal:ige,registerZIndexPortalId:age,unregisterZIndexPortalId:sge}=Dq.actions,oge=Dq.reducer;function pc(t){var{zIndex:e,children:n}=t,r=mce(),i=r&&e!==void 0&&e!==0,a=ps(),s=Aa();O.useLayoutEffect(()=>i?(s(rge({zIndex:e})),()=>{s(ige({zIndex:e}))}):kg,[s,e,i]);var l=Yt(f=>Wme(f,e,a));if(!i)return n;if(!l)return null;var u=document.getElementById(l);return u?YU.createPortal(n,u):null}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(null,arguments)}function Y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y7(Object(n),!0).forEach(function(r){lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lge(t,e,n){return(e=cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=uge(t,"string");return typeof e=="symbol"?e:e+""}function uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fge(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return O.isValidElement(e)?O.cloneElement(e,r):O.createElement(n,r)}function hge(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:f,chartName:h}=t,p=n,y=r,g=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var E,A,S;if(h==="ScatterChart")E=p,A=Gce,S=os.cursorLine;else if(h==="BarChart")E=Yce(l,p,a,s),A=bV,S=os.cursorRectangle;else if(l==="radial"&&mB(p)){var{cx:I,cy:q,radius:k,startAngle:B,endAngle:$}=_V(p);E={cx:I,cy:q,startAngle:B,endAngle:$,innerRadius:k,outerRadius:k},A=wV,S=os.cursorLine}else E={points:Lue(l,p,a)},A=gy,S=os.cursorLine;var K=typeof u=="object"&&"className"in u?u.className:void 0,j=gb(gb(gb(gb({stroke:"#ccc",pointerEvents:"none"},a),E),lx(u)),{},{payload:y,payloadIndex:g,className:wr("recharts-tooltip-cursor",K)});return O.createElement(pc,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},O.createElement(fge,{cursor:u,cursorComp:A,cursorProps:j}))}function dge(t){var e=Dme(),n=uV(),r=z0(),i=Iq();return e==null||n==null||r==null||i==null?null:O.createElement(hge,vT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var kq=O.createContext(null),pge=()=>O.useContext(kq),tA={exports:{}},W7;function mge(){return W7||(W7=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||u,y),E=n?n+f:f;return u._events[E]?u._events[E].fn?u._events[E]=[u._events[E],g]:u._events[E].push(g):(u._events[E]=g,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,g=p.length,E=new Array(g);y<g;y++)E[y]=p[y].fn;return E},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,y,g,E){var A=n?n+f:f;if(!this._events[A])return!1;var S=this._events[A],I=arguments.length,q,k;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,y),!0;case 5:return S.fn.call(S.context,h,p,y,g),!0;case 6:return S.fn.call(S.context,h,p,y,g,E),!0}for(k=1,q=new Array(I-1);k<I;k++)q[k-1]=arguments[k];S.fn.apply(S.context,q)}else{var B=S.length,$;for(k=0;k<B;k++)switch(S[k].once&&this.removeListener(f,S[k].fn,void 0,!0),I){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,h);break;case 3:S[k].fn.call(S[k].context,h,p);break;case 4:S[k].fn.call(S[k].context,h,p,y);break;default:if(!q)for($=1,q=new Array(I-1);$<I;$++)q[$-1]=arguments[$];S[k].fn.apply(S[k].context,q)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,y){var g=n?n+f:f;if(!this._events[g])return this;if(!h)return s(this,g),this;var E=this._events[g];if(E.fn)E.fn===h&&(!y||E.once)&&(!p||E.context===p)&&s(this,g);else{for(var A=0,S=[],I=E.length;A<I;A++)(E[A].fn!==h||y&&!E[A].once||p&&E[A].context!==p)&&S.push(E[A]);S.length?this._events[g]=S.length===1?S[0]:S:s(this,g)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(tA)),tA.exports}var gge=mge();const vge=hu(gge);var a0=new vge,yT="recharts.syncEvent.tooltip",K7="recharts.syncEvent.brush";function Lq(t,e){if(e){var n=Number.parseInt(e,10);if(!tl(n))return t==null?void 0:t[n]}}var yge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jq=No({name:"options",initialState:yge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bge=jq.reducer,{createEventEmitter:_ge}=jq.actions;function xge(t){return t.tooltip.syncInteraction}var wge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Mq=No({name:"chartData",initialState:wge,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:X7,setDataStartEndIndexes:Ege,setComputedData:H5e}=Mq.actions,Age=Mq.reducer,Sge=["x","y"];function Q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=Nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cge(t,e){if(t==null)return{};var n,r,i=Pge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oge(){var t=Yt(_3),e=Yt(x3),n=Aa(),r=Yt(bz),i=Yt(Sf),a=z0(),s=V0(),l=Yt(u=>u.rootProps.className);O.useEffect(()=>{if(t==null)return kg;var u=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var y;if(s&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:E,y:A}=g,S=Cge(g,Sge),{x:I,y:q,width:k,height:B}=h.payload.sourceViewBox,$=fm(fm({},S),{},{x:s.x+(k?(E-I)/k:0)*s.width,y:s.y+(B?(A-q)/B:0)*s.height});n(fm(fm({},h),{},{payload:fm(fm({},h.payload),{},{coordinate:$})}))}else n(h);return}if(i!=null){var K;if(typeof r=="function"){var j={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=r(i,j);K=i[L]}else r==="value"&&(K=i.find(se=>String(se.value)===h.payload.label));var{coordinate:D}=h.payload;if(K==null||h.payload.active===!1||D==null||s==null){n(mT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:G,y:P}=D,F=Math.min(G,s.x+s.width),V=Math.min(P,s.y+s.height),ee={x:a==="horizontal"?K.coordinate:F,y:a==="horizontal"?V:K.coordinate},ge=mT({active:h.payload.active,coordinate:ee,dataKey:h.payload.dataKey,index:String(K.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(ge)}}};return a0.on(yT,u),()=>{a0.off(yT,u)}},[l,n,e,t,r,i,a,s])}function Rge(){var t=Yt(_3),e=Yt(x3),n=Aa();O.useEffect(()=>{if(t==null)return kg;var r=(i,a,s)=>{e!==s&&t===i&&n(Ege(a))};return a0.on(K7,r),()=>{a0.off(K7,r)}},[n,e,t])}function Dge(){var t=Aa();O.useEffect(()=>{t(_ge())},[t]),Oge(),Rge()}function kge(t,e,n,r,i,a){var s=Yt(g=>Vme(g,t,e)),l=Yt(x3),u=Yt(_3),f=Yt(bz),h=Yt(xge),p=h==null?void 0:h.active,y=V0();O.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=mT({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});a0.emit(yT,u,g,l)}},[p,n,s,i,r,l,u,f,a,y])}function J7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J7(Object(n),!0).forEach(function(r){Lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lge(t,e,n){return(e=jge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=Mge(t,"string");return typeof e=="symbol"?e:e+""}function Mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fge(t){return t.dataKey}function Uge(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(Ace,e)}var ek=[],Bge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!vp.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wx(t){var e,n,r=hs(t,Bge),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:y,position:g,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:I,shared:q,trigger:k,defaultIndex:B,portal:$,axisId:K}=r,j=Aa(),L=typeof B=="number"?String(B):B;O.useEffect(()=>{j(Bpe({shared:q,trigger:k,axisId:K,active:i,defaultIndex:L}))},[j,q,k,K,i,L]);var D=V0(),G=pV(),P=Lpe(q),{activeIndex:F,isActive:V}=(e=Yt(ye=>Hme(ye,P,k,L)))!==null&&e!==void 0?e:{},ee=Yt(ye=>qme(ye,P,k,L)),ge=Yt(ye=>Rq(ye,P,k,L)),se=Yt(ye=>zme(ye,P,k,L)),he=ee,me=pge(),_e=(n=i??V)!==null&&n!==void 0?n:!1,[Ue,ne]=Toe([he,_e]),M=P==="axis"?ge:void 0;kge(P,k,se,M,F,_e);var X=$??me;if(X==null||D==null||P==null)return null;var Z=he??ek;_e||(Z=ek),f&&Z.length&&(Z=Jse(Z.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),y,Fge));var fe=Z.length>0,pe=O.createElement(Oce,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:_e,coordinate:se,hasPayload:fe,offset:p,position:g,reverseDirection:E,useTranslate3d:A,viewBox:D,wrapperStyle:S,lastBoundingBox:Ue,innerRef:ne,hasPortalFromProps:!!$},Uge(u,Z7(Z7({},r),{},{payload:Z,label:M,active:_e,activeIndex:F,coordinate:se,accessibilityLayer:G})));return O.createElement(O.Fragment,null,YU.createPortal(pe,X),_e&&O.createElement(dge,{cursor:I,tooltipEventType:P,coordinate:se,payload:Z,index:F}))}function Vge(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hge{constructor(e){Vge(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){Gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gge(t,e,n){return(e=Yge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yge(t){var e=Wge(t,"string");return typeof e=="symbol"?e:e+""}function Wge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kge={cacheSize:2e3,enableCache:!0},Fq=$ge({},Kge),nk=new Hge(Fq.cacheSize),Xge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rk="recharts_measurement_span";function Qge(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var ik=(t,e)=>{try{var n=document.getElementById(rk);n||(n=document.createElement("span"),n.setAttribute("id",rk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Xge,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vp.isSsr)return{width:0,height:0};if(!Fq.enableCache)return ik(e,n);var r=Qge(e,n),i=nk.get(r);if(i)return i;var a=ik(e,n);return nk.set(r,a),a},ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Uq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eve=Object.keys(Uq),Tm="NaN";function tve(t,e){return t*Uq[e]}class xo{static parse(e){var n,[,r,i]=(n=Zge.exec(e))!==null&&n!==void 0?n:[];return new xo(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,tl(e)&&(this.unit=""),n!==""&&!Jge.test(n)&&(this.num=NaN,this.unit=""),eve.includes(n)&&(this.num=tve(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new xo(NaN,""):new xo(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xo(NaN,""):new xo(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xo(NaN,""):new xo(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xo(NaN,""):new xo(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return tl(this.num)}}function Bq(t){if(t.includes(Tm))return Tm;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=ak.exec(e))!==null&&n!==void 0?n:[],s=xo.parse(r??""),l=xo.parse(a??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Tm;e=e.replace(ak,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,y]=(f=sk.exec(e))!==null&&f!==void 0?f:[],g=xo.parse(h??""),E=xo.parse(y??""),A=p==="+"?g.add(E):g.subtract(E);if(A.isNaN())return Tm;e=e.replace(sk,A.toString())}return e}var ok=/\(([^()]*)\)/;function nve(t){for(var e=t,n;(n=ok.exec(e))!=null;){var[,r]=n;e=e.replace(ok,Bq(r))}return e}function rve(t){var e=t.replace(/\s+/g,"");return e=nve(e),e=Bq(e),e}function ive(t){try{return rve(t)}catch{return Tm}}function nA(t){var e=ive(t.slice(5,-1));return e===Tm?"":e}var ave=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sve=["dx","dy","angle","className","breakAll"];function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(null,arguments)}function lk(t,e){if(t==null)return{};var n,r,i=ove(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ove(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vq=/[ \f\n\r\t\v\u2028\u2029]+/,zq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];wa(e)||(n?i=e.toString().split(""):i=e.toString().split(Vq));var a=i.map(l=>({word:l,width:vy(l,r).width})),s=n?0:vy("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function lve(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var qq=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(e==null||r||u.width+l+n<Number(e)))u.words.push(s),u.width+=l+n;else{var f={words:[s],width:l};i.push(f)}return i},[]),Hq=t=>t.reduce((e,n)=>e.width>n.width?e:n),cve="",ck=(t,e,n,r,i,a,s,l)=>{var u=t.slice(0,e),f=zq({breakAll:n,style:r,children:u+cve});if(!f)return[!1,[]];var h=qq(f.wordsWithComputedWidth,a,s,l),p=h.length>i||Hq(h).width>Number(a);return[p,h]},uve=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:u}=t,f=Ht(a),h=String(s),p=qq(e,r,n,i);if(!f||i)return p;var y=p.length>a||Hq(p).width>Number(r);if(!y)return p;for(var g=0,E=h.length-1,A=0,S;g<=E&&A<=h.length-1;){var I=Math.floor((g+E)/2),q=I-1,[k,B]=ck(h,q,u,l,a,r,n,i),[$]=ck(h,I,u,l,a,r,n,i);if(!k&&!$&&(g=I+1),k&&$&&(E=I-1),!k&&$){S=B;break}A++}return S||p},uk=t=>{var e=wa(t)?[]:t.toString().split(Vq);return[{words:e,width:void 0}]},fve=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!vp.isSsr){var l,u,f=zq({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return uk(r);return uve({breakAll:a,children:r,maxLines:s,style:i},l,u,e,!!n)}return uk(r)},$q="#808080",hve={breakAll:!1,capHeight:"0.71em",fill:$q,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},G3=O.forwardRef((t,e)=>{var n=hs(t,hve),{x:r,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=lk(n,ave),y=O.useMemo(()=>fve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:E,angle:A,className:S,breakAll:I}=p,q=lk(p,sve);if(!Ol(r)||!Ol(i)||y.length===0)return null;var k=Number(r)+(Ht(g)?g:0),B=Number(i)+(Ht(E)?E:0);if(!Br(k)||!Br(B))return null;var $;switch(h){case"start":$=nA("calc(".concat(s,")"));break;case"middle":$=nA("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:$=nA("calc(".concat(y.length-1," * -").concat(a,")"));break}var K=[];if(u){var j=y[0].width,{width:L}=p;K.push("scale(".concat(Ht(L)&&Ht(j)?L/j:1,")"))}return A&&K.push("rotate(".concat(A,", ").concat(k,", ").concat(B,")")),K.length&&(q.transform=K.join(" ")),O.createElement("text",bT({},fs(q),{ref:e,x:k,y:B,className:wr("recharts-text",S),textAnchor:f,fill:l.includes("url")?$q:l}),y.map((D,G)=>{var P=D.words.join(I?"":" ");return O.createElement("tspan",{x:k,dy:G===0?$:a,key:"".concat(P,"-").concat(G)},P)}))});G3.displayName="Text";var dve=["labelRef"];function pve(t,e){if(t==null)return{};var n,r,i=mve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gve(t,e,n){return(e=vve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=yve(t,"string");return typeof e=="symbol"?e:e+""}function yve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(null,arguments)}var Gq=O.createContext(null),Yq=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:l}=t,u=O.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return O.createElement(Gq.Provider,{value:u},l)},Wq=()=>{var t=O.useContext(Gq),e=V0();return t||cV(e)},bve=O.createContext(null),_ve=()=>{var t=O.useContext(bve),e=Yt(Az);return t||e},xve=t=>{var{value:e,formatter:n}=t,r=wa(t.children)?e:t.children;return typeof n=="function"?n(r):r},Y3=t=>t!=null&&typeof t=="function",wve=(t,e)=>{var n=Tl(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Eve=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:y,clockWise:g}=i,E=(f+h)/2,A=wve(p,y),S=A>=0?1:-1,I,q;switch(e){case"insideStart":I=p+S*a,q=g;break;case"insideEnd":I=y-S*a,q=!g;break;case"end":I=y+S*a,q=g;break;default:throw new Error("Unsupported position ".concat(e))}q=A<=0?q:!q;var k=ss(l,u,E,I),B=ss(l,u,E,I+(q?1:-1)*359),$="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(q?0:1,`,
    `).concat(B.x,",").concat(B.y),K=wa(t.id)?Wy("recharts-radial-line-"):t.id;return O.createElement("text",Wu({},r,{dominantBaseline:"central",className:wr("recharts-radial-bar-label",s)}),O.createElement("defs",null,O.createElement("path",{id:K,d:$})),O.createElement("textPath",{xlinkHref:"#".concat(K)},n))},Ave=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:u}=t,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=ss(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x:g,y:E}=ss(r,i,y,f);return{x:g,y:E,textAnchor:"middle",verticalAnchor:"middle"}},_T=t=>"cx"in t&&Ht(t.cx),Sve=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!_T(n)&&(a=n);var{x:s,y:l,upperWidth:u,lowerWidth:f,height:h}=e,p=s,y=s+(u-f)/2,g=(p+y)/2,E=(u+f)/2,A=p+u/2,S=h>=0?1:-1,I=S*r,q=S>0?"end":"start",k=S>0?"start":"end",B=u>=0?1:-1,$=B*r,K=B>0?"end":"start",j=B>0?"start":"end";if(i==="top"){var L={x:p+u/2,y:l-I,textAnchor:"middle",verticalAnchor:q};return Vi(Vi({},L),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var D={x:y+f/2,y:l+h+I,textAnchor:"middle",verticalAnchor:k};return Vi(Vi({},D),a?{height:Math.max(a.y+a.height-(l+h),0),width:f}:{})}if(i==="left"){var G={x:g-$,y:l+h/2,textAnchor:K,verticalAnchor:"middle"};return Vi(Vi({},G),a?{width:Math.max(G.x-a.x,0),height:h}:{})}if(i==="right"){var P={x:g+E+$,y:l+h/2,textAnchor:j,verticalAnchor:"middle"};return Vi(Vi({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:h}:{})}var F=a?{width:E,height:h}:{};return i==="insideLeft"?Vi({x:g+$,y:l+h/2,textAnchor:j,verticalAnchor:"middle"},F):i==="insideRight"?Vi({x:g+E-$,y:l+h/2,textAnchor:K,verticalAnchor:"middle"},F):i==="insideTop"?Vi({x:p+u/2,y:l+I,textAnchor:"middle",verticalAnchor:k},F):i==="insideBottom"?Vi({x:y+f/2,y:l+h-I,textAnchor:"middle",verticalAnchor:q},F):i==="insideTopLeft"?Vi({x:p+$,y:l+I,textAnchor:j,verticalAnchor:k},F):i==="insideTopRight"?Vi({x:p+u-$,y:l+I,textAnchor:K,verticalAnchor:k},F):i==="insideBottomLeft"?Vi({x:y+$,y:l+h-I,textAnchor:j,verticalAnchor:q},F):i==="insideBottomRight"?Vi({x:y+f-$,y:l+h-I,textAnchor:K,verticalAnchor:q},F):i&&typeof i=="object"&&(Ht(i.x)||cf(i.x))&&(Ht(i.y)||cf(i.y))?Vi({x:s+jh(i.x,E),y:l+jh(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):Vi({x:A,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Tve={offset:5,zIndex:os.label};function ch(t){var e=hs(t,Tve),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:u,labelRef:f}=e,h=_ve(),p=Wq(),y=r==="center"?p:h??p,g,E,A;if(n==null?g=y:_T(n)?g=n:g=cV(n),!g||wa(i)&&wa(a)&&!O.isValidElement(s)&&typeof s!="function")return null;var S=Vi(Vi({},e),{},{viewBox:g});if(O.isValidElement(s)){var{labelRef:I}=S,q=pve(S,dve);return O.cloneElement(s,q)}if(typeof s=="function"){if(E=O.createElement(s,S),O.isValidElement(E))return E}else E=xve(e);var k=fs(e);if(_T(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Eve(e,r,E,k,g);A=Ave(g,e.offset,e.position)}else A=Sve(e,g);return O.createElement(pc,{zIndex:e.zIndex},O.createElement(G3,Wu({ref:f,className:wr("recharts-label",l)},k,A,{textAnchor:lve(k.textAnchor)?k.textAnchor:A.textAnchor,breakAll:u}),E))}ch.displayName="Label";var Nve=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?O.createElement(ch,Wu({key:"label-implicit"},r)):Ol(t)?O.createElement(ch,Wu({key:"label-implicit",value:t},r)):O.isValidElement(t)?t.type===ch?O.cloneElement(t,Vi({key:"label-implicit"},r)):O.createElement(ch,Wu({key:"label-implicit",content:t},r)):Y3(t)?O.createElement(ch,Wu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?O.createElement(ch,Wu({},t,{key:"label-implicit"},r)):null};function Kq(t){var{label:e,labelRef:n}=t,r=Wq();return Nve(e,r,n)||null}var rA={},iA={},hk;function Ive(){return hk||(hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(iA)),iA}var aA={},dk;function Cve(){return dk||(dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(aA)),aA}var pk;function Pve(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ive(),n=Cve(),r=BI();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(rA)),rA}var sA,mk;function Ove(){return mk||(mk=1,sA=Pve().last),sA}var Rve=Ove();const Dve=hu(Rve);var kve=["valueAccessor"],Lve=["dataKey","clockWise","id","textBreakAll","zIndex"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(null,arguments)}function gk(t,e){if(t==null)return{};var n,r,i=jve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mve=t=>Array.isArray(t.value)?Dve(t.value):t.value,Xq=O.createContext(void 0),Qq=Xq.Provider,Jq=O.createContext(void 0);Jq.Provider;function Fve(){return O.useContext(Xq)}function Uve(){return O.useContext(Jq)}function $b(t){var{valueAccessor:e=Mve}=t,n=gk(t,kve),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:l}=n,u=gk(n,Lve),f=Fve(),h=Uve(),p=f||h;return!p||!p.length?null:O.createElement(pc,{zIndex:l??os.label},O.createElement(el,{className:"recharts-label-list"},p.map((y,g)=>{var E,A=wa(r)?e(y,g):cs(y&&y.payload,r),S=wa(a)?{}:{id:"".concat(a,"-").concat(g)};return O.createElement(ch,r_({key:"label-".concat(g)},fs(y),u,S,{fill:(E=n.fill)!==null&&E!==void 0?E:y.fill,parentViewBox:y.parentViewBox,value:A,textBreakAll:s,viewBox:y.viewBox,index:g,zIndex:0}))})))}$b.displayName="LabelList";function Zq(t){var{label:e}=t;return e?e===!0?O.createElement($b,{key:"labelList-implicit"}):O.isValidElement(e)||Y3(e)?O.createElement($b,{key:"labelList-implicit",content:e}):typeof e=="object"?O.createElement($b,r_({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xT.apply(null,arguments)}var eH=t=>{var{cx:e,cy:n,r,className:i}=t,a=wr("recharts-dot",i);return Ht(e)&&Ht(n)&&Ht(r)?O.createElement("circle",xT({},Pl(t),UI(t),{className:a,cx:e,cy:n,r})):null},Bve={radiusAxis:{},angleAxis:{}},tH=No({name:"polarAxis",initialState:Bve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:$5e,removeRadiusAxis:G5e,addAngleAxis:Y5e,removeAngleAxis:W5e}=tH.actions,Vve=tH.reducer,W3=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,oA={},vk;function zve(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(oA)),oA}var lA,yk;function qve(){return yk||(yk=1,lA=zve().isPlainObject),lA}var Hve=qve();const $ve=hu(Hve);function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return(e=Yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}var xk=(t,e,n,r,i)=>{var a=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+i),s+="L ".concat(t+n-a/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Kve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xve=t=>{var e=hs(t,Kve),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=e,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,y=O.useRef(null),[g,E]=O.useState(-1),A=O.useRef(i),S=O.useRef(a),I=O.useRef(s),q=O.useRef(n),k=O.useRef(r),B=Nx(t,"trapezoid-");if(O.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ee=y.current.getTotalLength();ee&&E(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var $=wr("recharts-trapezoid",l);if(!p)return O.createElement("g",null,O.createElement("path",i_({},fs(e),{className:$,d:xk(n,r,i,a,s)})));var K=A.current,j=S.current,L=I.current,D=q.current,G=k.current,P="0px ".concat(g===-1?1:g,"px"),F="".concat(g,"px 0px"),V=mV(["strokeDasharray"],f,u);return O.createElement(Tx,{animationId:B,key:B,canBegin:g>0,duration:f,easing:u,isActive:p,begin:h},ee=>{var ge=ia(K,i,ee),se=ia(j,a,ee),he=ia(L,s,ee),me=ia(D,n,ee),_e=ia(G,r,ee);y.current&&(A.current=ge,S.current=se,I.current=he,q.current=me,k.current=_e);var Ue=ee>0?{transition:V,strokeDasharray:F}:{strokeDasharray:P};return O.createElement("path",i_({},fs(e),{className:$,d:xk(me,_e,ge,se,he),ref:y,style:_k(_k({},Ue),e.style)}))})},Qve=["option","shapeType","propTransformer","activeClassName","isActive"];function Jve(t,e){if(t==null)return{};var n,r,i=Zve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rye(t,e){return a_(a_({},e),t)}function iye(t,e){return t==="symbols"}function Ek(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(bV,n);case"trapezoid":return O.createElement(Xve,n);case"sector":return O.createElement(wV,n);case"symbols":if(iye(e))return O.createElement(pB,n);break;case"curve":return O.createElement(gy,n);default:return null}}function aye(t){return O.isValidElement(t)?t.props:t}function sye(t){var{option:e,shapeType:n,propTransformer:r=rye,activeClassName:i="recharts-active-shape",isActive:a}=t,s=Jve(t,Qve),l;if(O.isValidElement(e))l=O.cloneElement(e,a_(a_({},s),aye(e)));else if(typeof e=="function")l=e(s);else if($ve(e)&&typeof e!="boolean"){var u=r(e,s);l=O.createElement(Ek,{shapeType:n,elementProps:u})}else{var f=s;l=O.createElement(Ek,{shapeType:n,elementProps:f})}return a?O.createElement(el,{className:i},l):l}function nH(t){var{fn:e,args:n}=t,r=Aa(),i=ps();return O.useLayoutEffect(()=>{if(!i){var a=e(n);return r(Fpe(a)),()=>{r(Upe(a))}}},[e,n,r,i]),null}function rH(t){var{legendPayload:e}=t,n=Aa(),r=ps();return O.useLayoutEffect(()=>r?kg:(n(vce(e)),()=>{n(yce(e))}),[n,r,e]),null}var cA,oye=()=>{var[t]=O.useState(()=>Wy("uid-"));return t},lye=(cA=dY.useId)!==null&&cA!==void 0?cA:oye;function iH(t,e){var n=lye();return e||(t?"".concat(t,"-").concat(n):n)}var cye=O.createContext(void 0),aH=t=>{var{id:e,type:n,children:r}=t,i=iH("recharts-".concat(n),e);return O.createElement(cye.Provider,{value:i},r(i))},uye={cartesianItems:[],polarItems:[]},sH=No({name:"graphicalItems",initialState:uye,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:_a()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=tf(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:_a()},removeCartesianGraphicalItem:{reducer(t,e){var n=tf(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:_a()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:_a()},removePolarGraphicalItem:{reducer(t,e){var n=tf(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:_a()}}}),{addCartesianGraphicalItem:fye,replaceCartesianGraphicalItem:hye,removeCartesianGraphicalItem:dye,addPolarGraphicalItem:K5e,removePolarGraphicalItem:X5e}=sH.actions,pye=sH.reducer;function oH(t){var e=Aa(),n=O.useRef(null);return O.useLayoutEffect(()=>{n.current===null?e(fye(t)):n.current!==t&&e(hye({prev:n.current,next:t})),n.current=t},[e,t]),O.useLayoutEffect(()=>()=>{n.current&&(e(dye(n.current)),n.current=null)},[e]),null}var mye=["points"];function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gye(t,e,n){return(e=vye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=yye(t,"string");return typeof e=="symbol"?e:e+""}function yye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(null,arguments)}function bye(t,e){if(t==null)return{};var n,r,i=_ye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xye(t){var{option:e,dotProps:n,className:r}=t;if(O.isValidElement(e))return O.cloneElement(e,n);if(typeof e=="function")return e(n);var i=wr(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,l=bye(a,mye);return O.createElement(eH,s_({},l,{className:i}))}function wye(t,e){return t==null?!1:e?!0:t.length===1}function lH(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:u,zIndex:f=os.scatter}=t;if(!wye(e,n))return null;var h=W3(n),p=Aae(n),y=e.map((E,A)=>{var S,I,q=uA(uA(uA({r:3},s),p),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(I=E.y)!==null&&I!==void 0?I:void 0,dataKey:a,value:E.value,payload:E.payload,points:e});return O.createElement(xye,{key:"dot-".concat(A),option:n,dotProps:q,className:i})}),g={};return l&&u!=null&&(g.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),O.createElement(pc,{zIndex:f},O.createElement(el,s_({className:r},g),y))}function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){Eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eye(t,e,n){return(e=Aye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aye(t){var e=Sye(t,"string");return typeof e=="symbol"?e:e+""}function Sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tye={xAxis:{},yAxis:{},zAxis:{}},cH=No({name:"cartesianAxis",initialState:Tye,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:_a()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:_a()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:_a()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:_a()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:_a()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:_a()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=Tk(Tk({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Nye,removeXAxis:Iye,addYAxis:Cye,removeYAxis:Pye,addZAxis:Q5e,removeZAxis:J5e,updateYAxisWidth:Oye}=cH.actions,Rye=cH.reducer,Dye=He([ds],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),kye=He([Dye,wf,Ef],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Kx=()=>Yt(kye),Lye=()=>Yt(Ime);function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){jye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jye(t,e,n){return(e=Mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mye(t){var e=Fye(t,"string");return typeof e=="symbol"?e:e+""}function Fye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uye=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=fA(fA(fA({},s),lx(i)),UI(i)),u;return O.isValidElement(i)?u=O.cloneElement(i,l):typeof i=="function"?u=i(l):u=O.createElement(eH,l),O.createElement(el,{className:"recharts-active-dot"},u)};function wT(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:a=os.activeDot}=t,s=Yt(i0),l=Lye();if(e==null||l==null)return null;var u=e.find(f=>l.includes(f.payload));return wa(u)?null:O.createElement(pc,{zIndex:a},O.createElement(Uye,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r}))}var Bye={},uH=No({name:"errorBars",initialState:Bye,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Z5e,replaceErrorBar:eEe,removeErrorBar:tEe}=uH.actions,Vye=uH.reducer,zye=["children"];function qye(t,e){if(t==null)return{};var n,r,i=Hye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Gye=O.createContext($ye);function Yye(t){var{children:e}=t,n=qye(t,zye);return O.createElement(Gye.Provider,{value:n},e)}function K3(t,e){var n,r,i=Yt(f=>pu(f,t)),a=Yt(f=>mu(f,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:zo.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:qo.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function fH(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Kx(),{needClipX:a,needClipY:s,needClip:l}=K3(e,n);if(!l||!i)return null;var{x:u,y:f,width:h,height:p}=i;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:a?u:u-h/2,y:s?f:f-p/2,width:a?h:h*2,height:s?p:p*2}))}var Wye=t=>{var{chartData:e}=t,n=Aa(),r=ps();return O.useEffect(()=>r?()=>{}:(n(X7(e)),()=>{n(X7(void 0))}),[e,n,r]),null},Ik={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hH=No({name:"brush",initialState:Ik,reducers:{setBrushSettings(t,e){return e.payload==null?Ik:e.payload}}}),{setBrushSettings:nEe}=hH.actions,Kye=hH.reducer;function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){dH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dH(t,e,n){return(e=Xye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xye(t){var e=Qye(t,"string");return typeof e=="symbol"?e:e+""}function Qye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jye=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},Zye=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return Jye({x:e,y:n},{x:r,y:i})};class Xx{static create(e){return new Xx(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}dH(Xx,"EPS",1e-4);var e0e=t=>{var e=Object.keys(t).reduce((n,r)=>vb(vb({},n),{},{[r]:Xx.create(t[r])}),{});return vb(vb({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[s,l]=a;return[s,e[s].apply(l,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function t0e(t){return(t%180+180)%180}var n0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=t0e(i),s=a*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},r0e={dots:[],areas:[],lines:[]},pH=No({name:"referenceElements",initialState:r0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=tf(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=tf(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=tf(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:rEe,removeDot:iEe,addArea:aEe,removeArea:sEe,addLine:i0e,removeLine:a0e}=pH.actions,s0e=pH.reducer,mH=O.createContext(void 0),o0e=t=>{var{children:e}=t,[n]=O.useState("".concat(Wy("recharts"),"-clip")),r=Kx();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return O.createElement(mH.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:a,height:l,width:s}))),e)},l0e=()=>O.useContext(mH);function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){c0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c0e(t,e,n){return(e=u0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=f0e(t,"string");return typeof e=="symbol"?e:e+""}function f0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(null,arguments)}var h0e=(t,e)=>{var n;if(O.isValidElement(t))n=O.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!Br(e.x1)||!Br(e.y1)||!Br(e.x2)||!Br(e.y2))return null;n=O.createElement("line",o_({},e,{className:"recharts-reference-line-line"}))}return n},d0e=(t,e,n,r,i,a)=>{var{x:s,width:l}=a,u=i.y.apply(t,{position:n});if(tl(u)||e==="discard"&&!i.y.isInRange(u))return null;var f=[{x:s+l,y:u},{x:s,y:u}];return r==="left"?f.reverse():f},p0e=(t,e,n,r,i,a)=>{var{y:s,height:l}=a,u=i.x.apply(t,{position:n});if(tl(u)||e==="discard"&&!i.x.isInRange(u))return null;var f=[{x:u,y:s+l},{x:u,y:s}];return r==="top"?f.reverse():f},m0e=(t,e,n,r)=>{var i=t.map(a=>r.apply(a,{position:n}));return e==="discard"&&i.some(a=>!r.isInRange(a))?null:i},g0e=(t,e,n,r,i,a)=>{var{x:s,y:l,segment:u,ifOverflow:f}=a,h=Ol(s),p=Ol(l);return p?d0e(l,f,n,i,t,e):h?p0e(s,f,n,r,t,e):u!=null&&u.length===2?m0e(u,f,n,t):null};function v0e(t){var e=Aa();return O.useEffect(()=>(e(i0e(t)),()=>{e(a0e(t))})),null}function y0e(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:a}=t,s=ps(),l=l0e(),u=Yt(K=>pu(K,e)),f=Yt(K=>mu(K,n)),h=Yt(K=>Mh(K,"xAxis",e,s)),p=Yt(K=>Mh(K,"yAxis",n,s)),y=V0();if(!l||!y||u==null||f==null||h==null||p==null)return null;var g=e0e({x:h,y:p}),E=g0e(g,y,t.position,u.orientation,f.orientation,t);if(!E)return null;var[{x:A,y:S},{x:I,y:q}]=E,k=a==="hidden"?"url(#".concat(l,")"):void 0,B=Ok(Ok({clipPath:k},fs(t)),{},{x1:A,y1:S,x2:I,y2:q}),$=Zye({x1:A,y1:S,x2:I,y2:q});return O.createElement(pc,{zIndex:t.zIndex},O.createElement(el,{className:wr("recharts-reference-line",i)},h0e(r,B),O.createElement(Yq,o_({},$,{lowerWidth:$.width,upperWidth:$.width}),O.createElement(Kq,{label:t.label}),t.children)))}var b0e={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:os.line};function s0(t){var e=hs(t,b0e);return O.createElement(O.Fragment,null,O.createElement(v0e,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),O.createElement(y0e,e))}s0.displayName="ReferenceLine";function yg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function gH(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function _0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return n0e(r,n)}function x0e(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:l}=t;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function l_(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function w0e(t,e){return gH(t,e+1)}function E0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=e,u=0,f=1,h=s,p=function(){var E=r==null?void 0:r[u];if(E===void 0)return{v:gH(r,f)};var A=u,S,I=()=>(S===void 0&&(S=n(E,A)),S),q=E.coordinate,k=u===0||l_(t,q,I,h,l);k||(u=0,h=s,f+=1),k&&(h=q+t*(I()/2+i),u+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){A0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e,n){return(e=S0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0e(t){var e=T0e(t,"string");return typeof e=="symbol"?e:e+""}function T0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N0e(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=e,{end:u}=e,f=function(y){var g=a[y],E,A=()=>(E===void 0&&(E=n(g,y)),E);if(y===s-1){var S=t*(g.coordinate+t*A()/2-u);a[y]=g=Is(Is({},g),{},{tickCoord:S>0?g.coordinate-S*t:g.coordinate})}else a[y]=g=Is(Is({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var I=l_(t,g.tickCoord,A,l,u);I&&(u=g.tickCoord-t*(A()/2+i),a[y]=Is(Is({},g),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return a}function I0e(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:u,end:f}=e;if(a){var h=r[l-1],p=n(h,l-1),y=t*(h.coordinate+t*p/2-f);if(s[l-1]=h=Is(Is({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var g=l_(t,h.tickCoord,()=>p,u,f);g&&(f=h.tickCoord-t*(p/2+i),s[l-1]=Is(Is({},h),{},{isShow:!0}))}}for(var E=a?l-1:l,A=function(q){var k=s[q],B,$=()=>(B===void 0&&(B=n(k,q)),B);if(q===0){var K=t*(k.coordinate-t*$()/2-u);s[q]=k=Is(Is({},k),{},{tickCoord:K<0?k.coordinate-K*t:k.coordinate})}else s[q]=k=Is(Is({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var j=l_(t,k.tickCoord,$,u,f);j&&(u=k.tickCoord+t*($()/2+i),s[q]=Is(Is({},k),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return s}function X3(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Ht(u)||vp.isSsr){var y;return(y=w0e(i,Ht(u)?u:0))!==null&&y!==void 0?y:[]}var g=[],E=l==="top"||l==="bottom"?"width":"height",A=h&&E==="width"?vy(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(k,B)=>{var $=typeof f=="function"?f(k.value,B):k.value;return E==="width"?_0e(vy($,{fontSize:e,letterSpacing:n}),A,p):vy($,{fontSize:e,letterSpacing:n})[E]},I=i.length>=2?Tl(i[1].coordinate-i[0].coordinate):1,q=x0e(a,I,E);return u==="equidistantPreserveStart"?E0e(I,q,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?g=I0e(I,q,S,i,s,u==="preserveStartEnd"):g=N0e(I,q,S,i,s),g.filter(k=>k.isShow))}var C0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=s+u+l+(n?r:0);return Math.round(f)}return 0},P0e=["axisLine","width","height","className","hide","ticks","axisType"],O0e=["viewBox"],R0e=["viewBox"];function ET(t,e){if(t==null)return{};var n,r,i=D0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function D0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(null,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){k0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k0e(t,e,n){return(e=L0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0e(t){var e=j0e(t,"string");return typeof e=="symbol"?e:e+""}function j0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:os.axis};function M0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:u}=t;if(!l)return null;var f=ra(ra(ra({},u),Pl(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=ra(ra({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=ra(ra({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return O.createElement("line",op({},f,{className:wr("recharts-cartesian-axis-line",hx(l,"className"))}))}function F0e(t,e,n,r,i,a,s,l,u){var f,h,p,y,g,E,A=l?-1:1,S=t.tickSize||s,I=Ht(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,y=n+ +!l*i,p=y-A*S,E=p-A*u,g=I;break;case"left":p=y=t.coordinate,h=e+ +!l*r,f=h-A*S,g=f-A*u,E=I;break;case"right":p=y=t.coordinate,h=e+ +l*r,f=h+A*S,g=f+A*u,E=I;break;default:f=h=t.coordinate,y=n+ +l*i,p=y+A*S,E=p+A*u,g=I;break}return{line:{x1:f,y1:p,x2:h,y2:y},tick:{x:g,y:E}}}function U0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function B0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function V0e(t){var{option:e,tickProps:n,value:r}=t,i,a=wr(n.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))i=O.cloneElement(e,ra(ra({},n),{},{className:a}));else if(typeof e=="function")i=e(ra(ra({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=wr(s,e==null?void 0:e.className)),i=O.createElement(G3,op({},n,{className:s}),r)}return i}var z0e=O.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:u,tickTextProps:f,orientation:h,mirror:p,x:y,y:g,width:E,height:A,tickSize:S,tickMargin:I,fontSize:q,letterSpacing:k,getTicksConfig:B,events:$,axisType:K}=t,j=X3(ra(ra({},B),{},{ticks:n}),q,k),L=U0e(h,p),D=B0e(h,p),G=Pl(B),P=lx(r),F={};typeof i=="object"&&(F=i);var V=ra(ra({},G),{},{fill:"none"},F),ee=j.map(he=>ra({entry:he},F0e(he,y,g,E,A,h,S,p,I))),ge=ee.map(he=>{var{entry:me,line:_e}=he;return O.createElement(el,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},i&&O.createElement("line",op({},V,_e,{className:wr("recharts-cartesian-axis-tick-line",hx(i,"className"))})))}),se=ee.map((he,me)=>{var{entry:_e,tick:Ue}=he,ne=ra(ra(ra(ra({textAnchor:L,verticalAnchor:D},G),{},{stroke:"none",fill:a},P),Ue),{},{index:me,payload:_e,visibleTicksCount:j.length,tickFormatter:s,padding:u},f);return O.createElement(el,op({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(_e.value,"-").concat(_e.coordinate,"-").concat(_e.tickCoord)},Ise($,_e,me)),r&&O.createElement(V0e,{option:r,tickProps:ne,value:"".concat(typeof s=="function"?s(_e.value,me):_e.value).concat(l||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(K,"-ticks")},se.length>0&&O.createElement(pc,{zIndex:os.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(K,"-tick-labels"),ref:e},se)),ge.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(K,"-tick-lines")},ge))}),q0e=O.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l,axisType:u}=t,f=ET(t,P0e),[h,p]=O.useState(""),[y,g]=O.useState(""),E=O.useRef(null);O.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return C0e({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=O.useCallback(S=>{if(S){var I=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=I;var q=I[0];if(q){var k=window.getComputedStyle(q),B=k.fontSize,$=k.letterSpacing;(B!==h||$!==y)&&(p(B),g($))}}},[h,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:O.createElement(pc,{zIndex:t.zIndex},O.createElement(el,{className:wr("recharts-cartesian-axis",a)},O.createElement(M0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Pl(t)}),O.createElement(z0e,{ref:A,axisType:u,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),O.createElement(Yq,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},O.createElement(Kq,{label:t.label,labelRef:t.labelRef}),t.children)))}),H0e=O.memo(q0e,(t,e)=>{var{viewBox:n}=t,r=ET(t,O0e),{viewBox:i}=e,a=ET(e,R0e);return yg(n,i)&&yg(r,a)}),J3=O.forwardRef((t,e)=>{var n=hs(t,Q3);return O.createElement(H0e,op({},n,{ref:e}))});J3.displayName="CartesianAxis";var $0e=["x1","y1","x2","y2","key"],G0e=["offset"],Y0e=["xAxisId","yAxisId"],W0e=["xAxisId","yAxisId"];function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){K0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e,n){return(e=X0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=Q0e(t,"string");return typeof e=="symbol"?e:e+""}function Q0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd.apply(null,arguments)}function c_(t,e){if(t==null)return{};var n,r,i=J0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=t;return O.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vH(t){var{option:e,lineItemProps:n}=t,r;if(O.isValidElement(e))r=O.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:l,y2:u,key:f}=n,h=c_(n,$0e),p=(i=Pl(h))!==null&&i!==void 0?i:{},{offset:y}=p,g=c_(p,G0e);r=O.createElement("line",Rd({},g,{x1:a,y1:s,x2:l,y2:u,fill:"none",key:f}))}return r}function e1e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=c_(t,Y0e),u=i.map((f,h)=>{var p=Os(Os({},l),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return O.createElement(vH,{key:"line-".concat(h),option:r,lineItemProps:p})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function t1e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,l=c_(t,W0e),u=i.map((f,h)=>{var p=Os(Os({},l),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return O.createElement(vH,{option:r,lineItemProps:p,key:"line-".concat(h)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function n1e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length||l==null)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var g=!f[y+1],E=g?i+s-p:f[y+1]-p;if(E<=0)return null;var A=y%e.length;return O.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:E,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function r1e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var g=!f[y+1],E=g?i+s-p:f[y+1]-p;if(E<=0)return null;var A=y%n.length;return O.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:E,height:l,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var i1e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return nV(X3(Os(Os(Os({},Q3),n),{},{ticks:rV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},a1e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return nV(X3(Os(Os(Os({},Q3),n),{},{ticks:rV(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},s1e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:os.grid};function Z0(t){var e=fV(),n=hV(),r=uV(),i=Os(Os({},hs(t,s1e)),{},{x:Ht(t.x)?t.x:r.left,y:Ht(t.y)?t.y:r.top,width:Ht(t.width)?t.width:r.width,height:Ht(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:g}=i,E=ps(),A=Yt(D=>F7(D,"xAxis",a,E)),S=Yt(D=>F7(D,"yAxis",s,E));if(!uu(f)||!uu(h)||!Ht(l)||!Ht(u))return null;var I=i.verticalCoordinatesGenerator||i1e,q=i.horizontalCoordinatesGenerator||a1e,{horizontalPoints:k,verticalPoints:B}=i;if((!k||!k.length)&&typeof q=="function"){var $=y&&y.length,K=q({yAxis:S?Os(Os({},S),{},{ticks:$?y:S.ticks}):void 0,width:e??f,height:n??h,offset:r},$?!0:p);F2(Array.isArray(K),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(k=K)}if((!B||!B.length)&&typeof I=="function"){var j=g&&g.length,L=I({xAxis:A?Os(Os({},A),{},{ticks:j?g:A.ticks}):void 0,width:e??f,height:n??h,offset:r},j?!0:p);F2(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(B=L)}return O.createElement(pc,{zIndex:i.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(Z0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(n1e,Rd({},i,{horizontalPoints:k})),O.createElement(r1e,Rd({},i,{verticalPoints:B})),O.createElement(e1e,Rd({},i,{offset:r,horizontalPoints:k,xAxis:A,yAxis:S})),O.createElement(t1e,Rd({},i,{offset:r,verticalPoints:B,xAxis:A,yAxis:S}))))}Z0.displayName="CartesianGrid";var yH=(t,e,n,r)=>Gx(t,"xAxis",e,r),bH=(t,e,n,r)=>$x(t,"xAxis",e,r),_H=(t,e,n,r)=>Gx(t,"yAxis",n,r),xH=(t,e,n,r)=>$x(t,"yAxis",n,r),o1e=He([Pr,yH,_H,bH,xH],(t,e,n,r,i)=>du(t,"xAxis")?pg(e,r,!1):pg(n,i,!1)),l1e=(t,e,n,r,i)=>i;function c1e(t){return t.type==="line"}var u1e=He([I3,l1e],(t,e)=>t.filter(c1e).find(n=>n.id===e)),f1e=He([Pr,yH,_H,bH,xH,u1e,o1e,kx],(t,e,n,r,i,a,s,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=l;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:p,data:y}=a,g;if(y!=null&&y.length>0?g=y:g=u==null?void 0:u.slice(f,h+1),g!=null)return O1e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:g})}});function wH(t){var e=lx(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var h1e=["id"],d1e=["type","layout","connectNulls","needClip","shape"],p1e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(null,arguments)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return(e=g1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=v1e(t,"string");return typeof e=="symbol"?e:e+""}function v1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z3(t,e){if(t==null)return{};var n,r,i=y1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b1e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:bx(n,e),payload:t}]};function _1e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:bx(s,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var EH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function x1e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var w1e=(t,e,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return EH(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,l=[],u=0,f=0;u<n.length;f+=n[u],++u)if(f+n[u]>a){l=[...n.slice(0,u),a-f];break}var h=l.length%2===0?[0,s]:[s];return[...x1e(n,i),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function E1e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:l}=r,u=Z3(r,h1e),f=Pl(u);return O.createElement(lH,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:e})}function A1e(t){var{showLabels:e,children:n,points:r}=t,i=O.useMemo(()=>r==null?void 0:r.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hc(Hc({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return O.createElement(Qq,{value:e?i:void 0},n)}function jk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:l,connectNulls:u,needClip:f,shape:h}=a,p=Z3(a,d1e),y=Hc(Hc({},fs(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:l,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return O.createElement(O.Fragment,null,(r==null?void 0:r.length)>1&&O.createElement(sye,o0({shapeType:"curve",option:h},y,{pathRef:n})),O.createElement(E1e,{points:r,clipPathId:e,props:a}))}function S1e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function T1e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:y,width:g,height:E,onAnimationEnd:A,onAnimationStart:S}=n,I=i.current,q=Nx(n,"recharts-line-"),[k,B]=O.useState(!1),$=!k,K=O.useCallback(()=>{typeof A=="function"&&A(),B(!1)},[A]),j=O.useCallback(()=>{typeof S=="function"&&S(),B(!0)},[S]),L=S1e(r.current),D=a.current;return O.createElement(A1e,{points:s,showLabels:$},n.children,O.createElement(Tx,{animationId:q,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:K,onAnimationStart:j,key:q},G=>{var P=ia(D,L+D,G),F=Math.min(P,L),V;if(u)if(l){var ee="".concat(l).split(/[,\s]+/gim).map(he=>parseFloat(he));V=w1e(F,L,ee)}else V=EH(L,F);else V=l==null?void 0:String(l);if(I){var ge=I.length/s.length,se=G===1?s:s.map((he,me)=>{var _e=Math.floor(me*ge);if(I[_e]){var Ue=I[_e];return Hc(Hc({},he),{},{x:ia(Ue.x,he.x,G),y:ia(Ue.y,he.y,G)})}return y?Hc(Hc({},he),{},{x:ia(g*2,he.x,G),y:ia(E/2,he.y,G)}):Hc(Hc({},he),{},{x:he.x,y:he.y})});return i.current=se,O.createElement(jk,{props:n,points:se,clipPathId:e,pathRef:r,strokeDasharray:V})}return G>0&&L>0&&(i.current=s,a.current=F),O.createElement(jk,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:V})}),O.createElement(Zq,{label:n.label}))}function N1e(t){var{clipPathId:e,props:n}=t,r=O.useRef(null),i=O.useRef(0),a=O.useRef(null);return O.createElement(T1e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var I1e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:cs(t.payload,e)}};class C1e extends O.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:l,left:u,width:f,height:h,id:p,needClip:y,zIndex:g}=this.props;if(e)return null;var E=wr("recharts-line",i),A=p,{r:S,strokeWidth:I}=wH(n),q=W3(n),k=S*2+I;return O.createElement(pc,{zIndex:g},O.createElement(el,{className:E},y&&O.createElement("defs",null,O.createElement(fH,{clipPathId:A,xAxisId:a,yAxisId:s}),!q&&O.createElement("clipPath",{id:"clipPath-dots-".concat(A)},O.createElement("rect",{x:u-k/2,y:l-k/2,width:f+k,height:h+k}))),O.createElement(Yye,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:I1e,errorBarOffset:0},O.createElement(N1e,{props:this.props,clipPathId:A}))),O.createElement(wT,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var AH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!vp.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:os.line};function P1e(t){var e=hs(t,AH),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,hide:f,isAnimationActive:h,label:p,legendType:y,xAxisId:g,yAxisId:E,id:A}=e,S=Z3(e,p1e),{needClip:I}=K3(g,E),q=Kx(),k=z0(),B=ps(),$=Yt(G=>f1e(G,g,E,B,A));if(k!=="horizontal"&&k!=="vertical"||$==null||q==null)return null;var{height:K,width:j,x:L,y:D}=q;return O.createElement(C1e,o0({},S,{id:A,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:f,label:p,legendType:y,xAxisId:g,yAxisId:E,points:$,layout:k,height:K,width:j,left:L,top:D,needClip:I}))}function O1e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:u}=t;return u.map((f,h)=>{var p=cs(f,s);if(e==="horizontal"){var y=M2({axis:n,ticks:i,bandSize:l,entry:f,index:h}),g=wa(p)?null:r.scale(p);return{x:y,y:g,value:p,payload:f}}var E=wa(p)?null:n.scale(p),A=M2({axis:r,ticks:a,bandSize:l,entry:f,index:h});return E==null||A==null?null:{x:E,y:A,value:p,payload:f}}).filter(Boolean)}function R1e(t){var e=hs(t,AH),n=ps();return O.createElement(aH,{id:e.id,type:"line"},r=>O.createElement(O.Fragment,null,O.createElement(rH,{legendPayload:b1e(e)}),O.createElement(nH,{fn:_1e,args:e}),O.createElement(oH,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),O.createElement(P1e,o0({},e,{id:r}))))}var e4=O.memo(R1e);e4.displayName="Line";var SH=(t,e,n,r)=>Gx(t,"xAxis",e,r),TH=(t,e,n,r)=>$x(t,"xAxis",e,r),NH=(t,e,n,r)=>Gx(t,"yAxis",n,r),IH=(t,e,n,r)=>$x(t,"yAxis",n,r),D1e=He([Pr,SH,NH,TH,IH],(t,e,n,r,i)=>du(t,"xAxis")?pg(e,r,!1):pg(n,i,!1)),k1e=(t,e,n,r,i)=>i,CH=He([I3,k1e],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),L1e=(t,e,n,r,i)=>{var a,s=CH(t,e,n,r,i);if(s!=null){var l=Pr(t),u=du(l,"xAxis"),f;if(u?f=pT(t,"yAxis",n,r):f=pT(t,"xAxis",e,r),f!=null){var{stackId:h}=s,p=S3(s);if(!(h==null||p==null)){var y=(a=f[h])===null||a===void 0?void 0:a.stackedData;return y==null?void 0:y.find(g=>g.key===p)}}}},j1e=He([Pr,SH,NH,TH,IH,L1e,kx,D1e,CH,Cde],(t,e,n,r,i,a,s,l,u,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=s;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:g}=u,E;if(g&&g.length>0?E=g:E=h==null?void 0:h.slice(p,y+1),E!=null)return tbe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:E,chartBaseValue:f,bandSize:l})}}),M1e=["id"],F1e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Bd(){return Bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(null,arguments)}function PH(t,e){if(t==null)return{};var n,r,i=U1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function U1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){B1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1e(t,e,n){return(e=V1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V1e(t){var e=z1e(t,"string");return typeof e=="symbol"?e:e+""}function z1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u_(t,e){return t&&t!=="none"?t:e}var q1e=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:u_(r,i),value:bx(n,e),payload:t}]};function H1e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:bx(s,e),hide:l,type:t.tooltipType,color:u_(r,a),unit:u}}}function $1e(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,l=Pl(r);return O.createElement(lH,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:e})}function G1e(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,l,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Nm(Nm({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return O.createElement(Qq,{value:e?i:void 0},n)}function Fk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:l,stroke:u,connectNulls:f,isRange:h}=a,{id:p}=a,y=PH(a,M1e),g=Pl(y),E=fs(y);return O.createElement(O.Fragment,null,(e==null?void 0:e.length)>1&&O.createElement(el,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},O.createElement(gy,Bd({},E,{id:p,points:e,connectNulls:f,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&O.createElement(gy,Bd({},g,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:e})),u!=="none"&&h&&O.createElement(gy,Bd({},g,{className:"recharts-area-curve",layout:s,type:l,connectNulls:f,fill:"none",points:n}))),O.createElement($1e,{points:e,props:y,clipPathId:i}))}function Y1e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Br(a)||!Br(s))return null;var l=e*Math.abs(a-s),u=Math.max(...r.map(f=>f.x||0));return Ht(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),Ht(u)?O.createElement("rect",{x:0,y:a<s?a:a-l,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function W1e(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Br(a)||!Br(s))return null;var l=e*Math.abs(a-s),u=Math.max(...r.map(f=>f.y||0));return Ht(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),Ht(u)?O.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function K1e(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?O.createElement(Y1e,{alpha:e,points:r,baseLine:i,strokeWidth:a}):O.createElement(W1e,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function X1e(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:y,onAnimationEnd:g}=r,E=Nx(r,"recharts-area-"),[A,S]=O.useState(!1),I=!A,q=O.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),k=O.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),B=i.current,$=a.current;return O.createElement(G1e,{showLabels:I,points:s},r.children,O.createElement(Tx,{animationId:E,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:q,onAnimationStart:k,key:E},K=>{if(B){var j=B.length/s.length,L=K===1?s:s.map((G,P)=>{var F=Math.floor(P*j);if(B[F]){var V=B[F];return Nm(Nm({},G),{},{x:ia(V.x,G.x,K),y:ia(V.y,G.y,K)})}return G}),D;return Ht(l)?D=ia($,l,K):wa(l)||tl(l)?D=ia($,0,K):D=l.map((G,P)=>{var F=Math.floor(P*j);if(Array.isArray($)&&$[F]){var V=$[F];return Nm(Nm({},G),{},{x:ia(V.x,G.x,K),y:ia(V.y,G.y,K)})}return G}),K>0&&(i.current=L,a.current=D),O.createElement(Fk,{points:L,baseLine:D,needClip:e,clipPathId:n,props:r})}return K>0&&(i.current=s,a.current=l),O.createElement(el,null,u&&O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(n)},O.createElement(K1e,{alpha:K,points:s,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),O.createElement(el,{clipPath:"url(#animationClipPath-".concat(n,")")},O.createElement(Fk,{points:s,baseLine:l,needClip:e,clipPathId:n,props:r})))}),O.createElement(Zq,{label:r.label}))}function Q1e(t){var{needClip:e,clipPathId:n,props:r}=t,i=O.useRef(null),a=O.useRef();return O.createElement(X1e,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class J1e extends O.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:l,xAxisId:u,yAxisId:f,width:h,height:p,id:y,baseLine:g,zIndex:E}=this.props;if(e)return null;var A=wr("recharts-area",i),S=y,{r:I,strokeWidth:q}=wH(n),k=W3(n),B=I*2+q;return O.createElement(pc,{zIndex:E},O.createElement(el,{className:A},l&&O.createElement("defs",null,O.createElement(fH,{clipPathId:S,xAxisId:u,yAxisId:f}),!k&&O.createElement("clipPath",{id:"clipPath-dots-".concat(S)},O.createElement("rect",{x:s-B/2,y:a-B/2,width:h+B,height:p+B}))),O.createElement(Q1e,{needClip:l,clipPathId:S,props:this.props})),O.createElement(wT,{points:r,mainColor:u_(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&O.createElement(wT,{points:g,mainColor:u_(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var OH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!vp.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:os.area};function Z1e(t){var e,n=hs(t,OH),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:u,fill:f,fillOpacity:h,hide:p,isAnimationActive:y,legendType:g,stroke:E,xAxisId:A,yAxisId:S}=n,I=PH(n,F1e),q=z0(),k=Iq(),{needClip:B}=K3(A,S),$=ps(),{points:K,isRange:j,baseLine:L}=(e=Yt(ee=>j1e(ee,A,S,$,t.id)))!==null&&e!==void 0?e:{},D=Kx();if(q!=="horizontal"&&q!=="vertical"||D==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:G,width:P,x:F,y:V}=D;return!K||!K.length?null:O.createElement(J1e,Bd({},I,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:L,connectNulls:l,dot:u,fill:f,fillOpacity:h,height:G,hide:p,layout:q,isAnimationActive:y,isRange:j,legendType:g,needClip:B,points:K,stroke:E,width:P,left:F,top:V,xAxisId:A,yAxisId:S}))}var ebe=(t,e,n,r,i)=>{var a=n??e;if(Ht(a))return a;var s=t==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function tbe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:y,bandSize:g}=t,E=i&&i.length,A=ebe(a,s,n,l,u),S=a==="horizontal",I=!1,q=f.map((B,$)=>{var K;E?K=i[h+$]:(K=cs(B,r),Array.isArray(K)?I=!0:K=[A,K]);var j=K[1]==null||E&&!e&&cs(B,r)==null;return S?{x:M2({axis:l,ticks:p,bandSize:g,entry:B,index:$}),y:j?null:u.scale(K[1]),value:K,payload:B}:{x:j?null:l.scale(K[1]),y:M2({axis:u,ticks:y,bandSize:g,entry:B,index:$}),value:K,payload:B}}),k;return E||I?k=q.map(B=>{var $=Array.isArray(B.value)?B.value[0]:null;return S?{x:B.x,y:$!=null&&B.y!=null?u.scale($):null,payload:B.payload}:{x:$!=null?l.scale($):null,y:B.y,payload:B.payload}}):k=S?u.scale(A):l.scale(A),{points:q,baseLine:k,isRange:I}}function nbe(t){var e=hs(t,OH),n=ps();return O.createElement(aH,{id:e.id,type:"area"},r=>O.createElement(O.Fragment,null,O.createElement(rH,{legendPayload:q1e(e)}),O.createElement(nH,{fn:H1e,args:e}),O.createElement(oH,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Rle(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),O.createElement(Z1e,Bd({},e,{id:r}))))}var t4=O.memo(nbe);t4.displayName="Area";var rbe=["dangerouslySetInnerHTML","ticks"],ibe=["id"],abe=["domain"],sbe=["domain"];function AT(){return AT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AT.apply(null,arguments)}function f_(t,e){if(t==null)return{};var n,r,i=obe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function obe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lbe(t){var e=Aa();return O.useLayoutEffect(()=>(e(Nye(t)),()=>{e(Iye(t))}),[t,e]),null}var cbe=t=>{var{xAxisId:e,className:n}=t,r=Yt(aV),i=ps(),a="xAxis",s=Yt(S=>Mh(S,a,e,i)),l=Yt(S=>sq(S,a,e,i)),u=Yt(S=>xpe(S,e)),f=Yt(S=>Npe(S,e)),h=Yt(S=>Tz(S,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=t,g=f_(t,rbe),{id:E}=h,A=f_(h,ibe);return O.createElement(J3,AT({},g,A,{scale:s,x:f.x,y:f.y,width:u.width,height:u.height,className:wr("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},ube={allowDataOverflow:zo.allowDataOverflow,allowDecimals:zo.allowDecimals,allowDuplicatedCategory:zo.allowDuplicatedCategory,height:zo.height,hide:!1,mirror:zo.mirror,orientation:zo.orientation,padding:zo.padding,reversed:zo.reversed,scale:zo.scale,tickCount:zo.tickCount,type:zo.type,xAxisId:0},fbe=t=>{var e,n,r,i,a,s=hs(t,ube);return O.createElement(O.Fragment,null,O.createElement(lbe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),O.createElement(cbe,s))},hbe=(t,e)=>{var{domain:n}=t,r=f_(t,abe),{domain:i}=e,a=f_(e,sbe);return yg(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yg({domain:n},{domain:i}):!1},e1=O.memo(fbe,hbe);e1.displayName="XAxis";var dbe=["dangerouslySetInnerHTML","ticks"],pbe=["id"],mbe=["domain"],gbe=["domain"];function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ST.apply(null,arguments)}function h_(t,e){if(t==null)return{};var n,r,i=vbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ybe(t){var e=Aa();return O.useLayoutEffect(()=>(e(Cye(t)),()=>{e(Pye(t))}),[t,e]),null}var bbe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=O.useRef(null),s=O.useRef(null),l=Yt(aV),u=ps(),f=Aa(),h="yAxis",p=Yt($=>Mh($,h,e,u)),y=Yt($=>Ppe($,e)),g=Yt($=>Cpe($,e)),E=Yt($=>sq($,h,e,u)),A=Yt($=>Nz($,e));if(O.useLayoutEffect(()=>{if(!(r!=="auto"||!y||Y3(i)||O.isValidElement(i)||A==null)){var $=a.current;if($){var K=$.getCalculatedWidth();Math.round(y.width)!==Math.round(K)&&f(Oye({id:e,width:K}))}}},[E,y,f,i,e,r,A]),y==null||g==null||A==null)return null;var{dangerouslySetInnerHTML:S,ticks:I}=t,q=h_(t,dbe),{id:k}=A,B=h_(A,pbe);return O.createElement(J3,ST({},q,B,{ref:a,labelRef:s,scale:p,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:wr("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:E,axisType:h}))},_be={allowDataOverflow:qo.allowDataOverflow,allowDecimals:qo.allowDecimals,allowDuplicatedCategory:qo.allowDuplicatedCategory,hide:!1,mirror:qo.mirror,orientation:qo.orientation,padding:qo.padding,reversed:qo.reversed,scale:qo.scale,tickCount:qo.tickCount,type:qo.type,width:qo.width,yAxisId:0},xbe=t=>{var e,n,r,i,a,s=hs(t,_be);return O.createElement(O.Fragment,null,O.createElement(ybe,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),O.createElement(bbe,s))},wbe=(t,e)=>{var{domain:n}=t,r=h_(t,mbe),{domain:i}=e,a=h_(e,gbe);return yg(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yg({domain:n},{domain:i}):!1},t1=O.memo(xbe,wbe);t1.displayName="YAxis";var hA={exports:{}},dA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function Ebe(){if(Uk)return dA;Uk=1;var t=bg();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return dA.useSyncExternalStoreWithSelector=function(u,f,h,p,y){var g=i(null);if(g.current===null){var E={hasValue:!1,value:null};g.current=E}else E=g.current;g=s(function(){function S($){if(!I){if(I=!0,q=$,$=p($),y!==void 0&&E.hasValue){var K=E.value;if(y(K,$))return k=K}return k=$}if(K=k,n(q,$))return K;var j=p($);return y!==void 0&&y(K,j)?(q=$,K):(q=$,k=j)}var I=!1,q,k,B=h===void 0?null:h;return[function(){return S(f())},B===null?void 0:function(){return S(B())}]},[f,h,p,y]);var A=r(u,g[0],g[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),l(A),A},dA}var Bk;function Abe(){return Bk||(Bk=1,hA.exports=Ebe()),hA.exports}Abe();function Sbe(t){t()}function Tbe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Sbe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Vk={notify(){},get:()=>[]};function Nbe(t,e){let n,r=Vk,i=0,a=!1;function s(A){h();const S=r.subscribe(A);let I=!1;return()=>{I||(I=!0,S(),p())}}function l(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(u),r=Tbe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Vk)}function y(){a||(a=!0,h())}function g(){a&&(a=!1,p())}const E={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:y,tryUnsubscribe:g,getListeners:()=>r};return E}var Ibe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cbe=Ibe(),Pbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Obe=Pbe(),Rbe=()=>Cbe||Obe?O.useLayoutEffect:O.useEffect,Dbe=Rbe(),pA=Symbol.for("react-redux-context"),mA=typeof globalThis<"u"?globalThis:{};function kbe(){if(!O.createContext)return{};const t=mA[pA]??(mA[pA]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var Lbe=kbe();function jbe(t){const{children:e,context:n,serverState:r,store:i}=t,a=O.useMemo(()=>{const u=Nbe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=O.useMemo(()=>i.getState(),[i]);Dbe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=n||Lbe;return O.createElement(l.Provider,{value:a},e)}var Mbe=jbe,Fbe=(t,e)=>e,n4=He([Fbe,Pr,Az,Na,wq,Sf,Bme,ds],Yme),r4=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},RH=Rl("mouseClick"),DH=U0();DH.startListening({actionCreator:RH,effect:(t,e)=>{var n=t.payload,r=n4(e.getState(),r4(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(zpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var TT=Rl("mouseMove"),kH=U0();kH.startListening({actionCreator:TT,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=M3(r,r.tooltip.settings.shared),a=n4(r,r4(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(dq({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(hq()))}});var zk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},LH=No({name:"rootProps",initialState:zk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),Ube=LH.reducer,{updateOptions:Bbe}=LH.actions,jH=No({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:oEe}=jH.actions,Vbe=jH.reducer,MH=Rl("keyDown"),FH=Rl("focus"),i4=U0();i4.startListening({actionCreator:MH,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(F3(i,Vg(n))),l=Sf(n);if(a==="Enter"){var u=n_(n,"axis","hover",String(i.index));e.dispatch(gT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=kpe(n),h=f==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,y=s+p*h;if(!(l==null||y>=l.length||y<0)){var g=n_(n,"axis","hover",String(y));e.dispatch(gT({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});i4.startListening({actionCreator:FH,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=n_(n,"axis","hover",String(a));e.dispatch(gT({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Al=Rl("externalEvent"),UH=U0();UH.startListening({actionCreator:Al,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Sme(n),activeDataKey:Eme(n),activeIndex:i0(n),activeLabel:Sq(n),activeTooltipIndex:i0(n),isTooltipActive:Tme(n)};t.payload.handler(r,t.payload.reactEvent)}}});var zbe=He([Bg],t=>t.tooltipItemPayloads),qbe=He([zbe,Q0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),BH=Rl("touchMove"),VH=U0();VH.startListening({actionCreator:BH,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=M3(r,r.tooltip.settings.shared);if(i==="axis"){var a=n4(r,r4({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(dq({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Ule),h=(s=u.getAttribute(Ble))!==null&&s!==void 0?s:void 0,p=qbe(e.getState(),f,h);e.dispatch(Vpe({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}}});var Hbe=PB({brush:Kye,cartesianAxis:Rye,chartData:Age,errorBars:Vye,graphicalItems:pye,layout:wle,legend:bce,options:bge,polarAxis:Vve,polarOptions:Vbe,referenceElements:s0e,rootProps:Ube,tooltip:qpe,zIndex:oge}),$be=function(e){return Yoe({reducer:Hbe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([DH.middleware,kH.middleware,i4.middleware,UH.middleware,VH.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(zB({type:"raf"}))},devTools:vp.devToolsEnabled})};function Gbe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ps(),a=O.useRef(null);if(i)return n;a.current==null&&(a.current=$be(e));var s=VI;return O.createElement(Mbe,{context:s,store:a.current},n)}function Ybe(t){var{layout:e,margin:n}=t,r=Aa(),i=ps();return O.useEffect(()=>{i||(r(ble(e)),r(yle(n)))},[r,i,e,n]),null}function Wbe(t){var e=Aa();return O.useEffect(()=>{e(Bbe(t))},[e,t]),null}function qk(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=iH("".concat(r).concat(e)),a=Aa();return O.useLayoutEffect(()=>(a(age({zIndex:e,elementId:i,isPanorama:n})),()=>{a(sge({zIndex:e,isPanorama:n}))}),[a,e,i,n]),O.createElement("g",{id:i})}function Hk(t){var{children:e,isPanorama:n}=t,r=Yt(Kme);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return O.createElement(O.Fragment,null,i.map(s=>O.createElement(qk,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>O.createElement(qk,{key:s,zIndex:s,isPanorama:n})))}var Kbe=["children"];function Xbe(t,e){if(t==null)return{};var n,r,i=Qbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(null,arguments)}var Jbe={width:"100%",height:"100%",display:"block"},Zbe=O.forwardRef((t,e)=>{var n=fV(),r=hV(),i=pV();if(!uu(n)||!uu(r))return null;var{children:a,otherAttributes:s,title:l,desc:u}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),O.createElement(GU,d_({},s,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:Jbe,ref:e}),a)}),e2e=t=>{var{children:e}=t,n=Yt(Ex);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return O.createElement(GU,{width:r,height:i,x:s,y:a},e)},$k=O.forwardRef((t,e)=>{var{children:n}=t,r=Xbe(t,Kbe),i=ps();return i?O.createElement(e2e,null,O.createElement(Hk,{isPanorama:!0},n)):O.createElement(Zbe,d_({ref:e},r),O.createElement(Hk,{isPanorama:!1},n))});function t2e(){var t=Aa(),[e,n]=O.useState(null),r=Yt(Fle);return O.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Br(a)&&a!==r&&t(xle(a))}},[e,t,r]),n}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){r2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r2e(t,e,n){return(e=i2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i2e(t){var e=a2e(t,"string");return typeof e=="symbol"?e:e+""}function a2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(null,arguments)}var s2e=()=>(Dge(),null);function p_(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var o2e=O.forwardRef((t,e)=>{var n,r,i=O.useRef(null),[a,s]=O.useState({containerWidth:p_((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:p_((r=t.style)===null||r===void 0?void 0:r.height)}),l=O.useCallback((f,h)=>{s(p=>{var y=Math.round(f),g=Math.round(h);return p.containerWidth===y&&p.containerHeight===g?p:{containerWidth:y,containerHeight:g}})},[]),u=O.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var y=E=>{var{width:A,height:S}=E[0].contentRect;l(A,S)},g=new ResizeObserver(y);g.observe(f),i.current=g}},[e,l]);return O.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[l]),O.createElement(O.Fragment,null,O.createElement(Sx,{width:a.containerWidth,height:a.containerHeight}),O.createElement("div",lp({ref:u},t)))}),l2e=O.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=O.useState({containerWidth:p_(n),containerHeight:p_(r)}),s=O.useCallback((u,f)=>{a(h=>{var p=Math.round(u),y=Math.round(f);return h.containerWidth===p&&h.containerHeight===y?h:{containerWidth:p,containerHeight:y}})},[]),l=O.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();s(f,h)}},[e,s]);return O.createElement(O.Fragment,null,O.createElement(Sx,{width:i.containerWidth,height:i.containerHeight}),O.createElement("div",lp({ref:l},t)))}),c2e=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return O.createElement(O.Fragment,null,O.createElement(Sx,{width:n,height:r}),O.createElement("div",lp({ref:e},t)))}),u2e=O.forwardRef((t,e)=>{var{width:n,height:r}=t;return cf(n)||cf(r)?O.createElement(l2e,lp({},t,{ref:e})):O.createElement(c2e,lp({},t,{ref:e}))});function f2e(t){return t===!0?o2e:u2e}var h2e=O.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:g,onTouchMove:E,onTouchStart:A,style:S,width:I,responsive:q,dispatchTouchEvents:k=!0}=t,B=O.useRef(null),$=Aa(),[K,j]=O.useState(null),[L,D]=O.useState(null),G=t2e(),P=YI(),F=(P==null?void 0:P.width)>0?P.width:I,V=(P==null?void 0:P.height)>0?P.height:i,ee=O.useCallback(de=>{G(de),typeof e=="function"&&e(de),j(de),D(de),de!=null&&(B.current=de)},[G,e,j,D]),ge=O.useCallback(de=>{$(RH(de)),$(Al({handler:a,reactEvent:de}))},[$,a]),se=O.useCallback(de=>{$(TT(de)),$(Al({handler:f,reactEvent:de}))},[$,f]),he=O.useCallback(de=>{$(hq()),$(Al({handler:h,reactEvent:de}))},[$,h]),me=O.useCallback(de=>{$(TT(de)),$(Al({handler:p,reactEvent:de}))},[$,p]),_e=O.useCallback(()=>{$(FH())},[$]),Ue=O.useCallback(de=>{$(MH(de.key))},[$]),ne=O.useCallback(de=>{$(Al({handler:s,reactEvent:de}))},[$,s]),M=O.useCallback(de=>{$(Al({handler:l,reactEvent:de}))},[$,l]),X=O.useCallback(de=>{$(Al({handler:u,reactEvent:de}))},[$,u]),Z=O.useCallback(de=>{$(Al({handler:y,reactEvent:de}))},[$,y]),fe=O.useCallback(de=>{$(Al({handler:A,reactEvent:de}))},[$,A]),pe=O.useCallback(de=>{k&&$(BH(de)),$(Al({handler:E,reactEvent:de}))},[$,k,E]),ye=O.useCallback(de=>{$(Al({handler:g,reactEvent:de}))},[$,g]),Pe=f2e(q);return O.createElement(kq.Provider,{value:K},O.createElement(Oae.Provider,{value:L},O.createElement(Pe,{width:F??(S==null?void 0:S.width),height:V??(S==null?void 0:S.height),className:wr("recharts-wrapper",r),style:n2e({position:"relative",cursor:"default",width:F,height:V},S),onClick:ge,onContextMenu:ne,onDoubleClick:M,onFocus:_e,onKeyDown:Ue,onMouseDown:X,onMouseEnter:se,onMouseLeave:he,onMouseMove:me,onMouseUp:Z,onTouchEnd:ye,onTouchMove:pe,onTouchStart:fe,ref:ee},O.createElement(s2e,null),n)))}),d2e=["width","height","responsive","children","className","style","compact","title","desc"];function p2e(t,e){if(t==null)return{};var n,r,i=m2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g2e=O.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:l,compact:u,title:f,desc:h}=t,p=p2e(t,d2e),y=Pl(p);return u?O.createElement(O.Fragment,null,O.createElement(Sx,{width:n,height:r}),O.createElement($k,{otherAttributes:y,title:f,desc:h},a)):O.createElement(h2e,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement($k,{otherAttributes:y,title:f,desc:h,ref:e},O.createElement(o0e,null,a)))});function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(null,arguments)}var v2e={top:5,right:5,bottom:5,left:5},y2e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:v2e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},zH=O.forwardRef(function(e,n){var r,i=hs(e.categoricalChartProps,y2e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return O.createElement(Gbe,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},O.createElement(Wye,{chartData:f.data}),O.createElement(Ybe,{layout:i.layout,margin:i.margin}),O.createElement(Wbe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),O.createElement(g2e,NT({},i,{ref:n})))}),b2e=["axis"],qH=O.forwardRef((t,e)=>O.createElement(zH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:b2e,tooltipPayloadSearcher:Lq,categoricalChartProps:t,ref:e})),_2e=["axis"],HH=O.forwardRef((t,e)=>O.createElement(zH,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_2e,tooltipPayloadSearcher:Lq,categoricalChartProps:t,ref:e}));const gA=(t,e)=>e==="kph"?t*3.6:e==="mph"?t*2.23694:t,x2e=(t,e)=>e==="imperial"?t*1.09361:t,w2e=(t,e,n,r,i)=>{if(t.length<2)return null;const a=s=>{const l=t.findIndex(p=>p.distance>=s);if(l===-1||l===0)return null;const u=t[l-1],f=t[l],h=(s-u.distance)/(f.distance-u.distance);return u.timestamp+h*(f.timestamp-u.timestamp)};if(e===ct.ACCELERATION){const s=a(n);return s?(s/1e3).toFixed(3)+"s":null}if(e===ct.FLY){const s=a(r),l=a(r+i);if(s&&l)return((l-s)/1e3).toFixed(3)+"s"}if(e===ct.FORTY_YARD_DASH){const s=a(36.576);return s?(s/1e3).toFixed(3)+"s":null}if(e===ct.SIXTY_METER_RUN){const s=a(60);return s?(s/1e3).toFixed(3)+"s":null}return null},E2e=({activeSession:t,availableAthletes:e,allAthletes:n,settings:r,initialTestType:i,onSaveSession:a,onUpdateRun:s,onEndSession:l,onViewRun:u,onUpdateSessionAthletes:f,onCreateAthlete:h})=>{var ms;const[p,y]=O.useState(((ms=e[0])==null?void 0:ms.id)||""),[g,E]=O.useState(!1),[A,S]=O.useState(!1),[I,q]=O.useState([]),[k,B]=O.useState("Ready"),[$,K]=O.useState(null),[j,L]=O.useState(null),[D,G]=O.useState(!1),[P,F]=O.useState(null),[V,ee]=O.useState(0),[ge,se]=O.useState(!1),[he,me]=O.useState(!1),[_e,Ue]=O.useState([]),[ne,M]=O.useState(""),[X,Z]=O.useState(!1),[fe,pe]=O.useState(!1),[ye,Pe]=O.useState(""),[de,Ce]=O.useState(null),[Ve,Se]=O.useState(""),[rt,it]=O.useState(""),[oe,Xe]=O.useState(null),[Nt,yt]=O.useState(!1),[qe,dt]=O.useState(""),[vt,Ut]=O.useState(""),[Rt,cn]=O.useState("Male"),[fn,Jt]=O.useState(""),[gn,st]=O.useState(""),ft=O.useRef(!1),Et=O.useRef(null),[Fe,wn]=O.useState(i||ct.FREE_RUN),[Bt,It]=O.useState(30),[Mt,nn]=O.useState(20),[_t,un]=O.useState(10),[xt,Vt]=O.useState(null),[Tn,ht]=O.useState(!1),gt=O.useRef(0),Kt=O.useRef(0),Gn=O.useRef(0),Mr=O.useRef([]);O.useEffect(()=>{e.length>0&&!e.find(nt=>nt.id===p)&&y(e[0].id)},[e,p]),O.useEffect(()=>{ft.current=A},[A]),O.useEffect(()=>{ge&&(Ue(t.athleteIds),M(""),Z(!1))},[ge,t.athleteIds]);const oa=O.useCallback(nt=>{const rn=nt/100;if(ee(rn),!ft.current)return;const Qn=performance.now()-gt.current,ur=(Qn-Gn.current)/1e3;let gs=0;ur>0&&Gn.current>0&&(gs=(rn-Kt.current)/ur,gs=Math.max(0,Math.min(gs,15)));const Jr={timestamp:Qn,distance:rn,speed:gs};Mr.current.push(Jr),q(la=>[...la,Jr]),Kt.current=rn,Gn.current=Qn;let Yn=!1;Fe===ct.ACCELERATION&&rn>=Bt&&(Yn=!0),Fe===ct.FLY&&rn>=Mt+_t&&(Yn=!0),(Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP)&&xt&&rn>=xt&&(Yn=!0),Fe===ct.FORTY_YARD_DASH&&rn>=36.576&&(Yn=!0),Fe===ct.SIXTY_METER_RUN&&rn>=60&&(Yn=!0),Yn&&Ri()},[Fe,Bt,Mt,_t,xt]);O.useEffect(()=>{Et.current=oa},[oa]),O.useEffect(()=>(qc.setOnData(oa),qc.setOnStatus(B),()=>{$&&clearInterval($)}),[oa,$]);const fi=async()=>{var nt;if(g)await qc.disconnect(),E(!1);else try{await qc.connect(),E(!0)}catch(rn){console.error(rn),(nt=rn.message)!=null&&nt.includes("Permissions policy")?alert("Connection Blocked: The browser's permission policy prevented the Serial connection. Please ensure this app is running in a secure context (HTTPS) or a compatible environment."):rn.name==="NotFoundError"||alert("Failed to connect: "+(rn.message||"Unknown error"))}},zt=()=>{if(!g)if($)clearInterval($),K(null),B("Ready"),A&&Ri();else{B("Demo Mode Active");let nt=0,rn=0,dr=0,Qn=0;const ur=window.setInterval(()=>{if(!ft.current){const vs=(Math.random()-.5)*.1;Et.current&&Et.current(4e3+vs*100),nt=0;return}nt===0&&(nt=performance.now(),rn=.15+Math.random()*.25,dr=9+Math.random()*3,Qn=1+Math.random()*.6);const Jr=(performance.now()-nt)/1e3;let Yn=0;if(Jr>rn){const vs=Jr-rn;Yn=dr*(vs-Qn*(1-Math.exp(-vs/Qn))),Yn+=(Math.random()-.5)*.02}(Fe===ct.LONG_JUMP||Fe===ct.POLE_VAULT)&&Yn>45&&(Yn=45),Fe===ct.FORTY_YARD_DASH&&Yn>40&&(Yn=40),Fe===ct.SIXTY_METER_RUN&&Yn>65&&(Yn=65);const la=Math.floor(Math.max(0,Yn*100));Et.current&&Et.current(la)},20);K(ur)}},Ls=()=>{q([]),Mr.current=[],gt.current=performance.now(),Kt.current=0,Gn.current=0,L(null),pe(!1),yt(!1),S(!0),B("Recording...")},Ri=()=>{S(!1),B("Finished"),yt(!0);const nt=w2e(Mr.current,Fe,Bt,Mt,_t);if(nt&&L(nt),Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP){if(Mr.current.length>0){const rn=Math.max(...Mr.current.map(dr=>dr.distance));Xe(rn)}else Xe(null);pe(!0)}},Di=()=>{if(!p)return;const nt={type:Fe,targetDistance:Fe===ct.ACCELERATION?Bt:void 0,runUpDistance:Fe===ct.FLY?Mt:void 0,flyDistance:Fe===ct.FLY?_t:void 0,boardLocation:xt||void 0},rn={id:Date.now().toString(),athleteId:p,date:new Date().toISOString(),data:I,config:nt,notes:Ve||void 0};(Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP)&&ye&&(rn.jumpResult={resultMetric:Number(ye),successful:Fe===ct.POLE_VAULT&&de!==null?de:void 0,boardLocation:xt||void 0,takeoffLocation:oe||void 0,stepCount:rt?Number(rt):void 0}),a(rn),q([]),L(null),Pe(""),it(""),Se(""),Ce(null),pe(!1),yt(!1),B("Ready")},ki=()=>{q([]),L(null),Pe(""),it(""),Se(""),Ce(null),pe(!1),yt(!1),B("Ready")},Xn=nt=>{_e.includes(nt)?Ue(_e.filter(rn=>rn!==nt)):Ue([..._e,nt])},cr=nt=>{if(nt.preventDefault(),!qe)return;const rn={id:Date.now().toString(),name:qe,email:vt||void 0,gender:Rt,dob:fn||void 0,primaryEvent:gn||void 0};h(rn),Ue(dr=>[...dr,rn.id]),dt(""),Ut(""),Jt(""),st(""),Z(!1)},Xr=()=>{f(_e),se(!1)},Li=()=>{Vt(V),B(`Board Set at ${V.toFixed(2)}m`),me(!1)},hi=nt=>{Ce(rn=>rn===nt?null:nt)},Vn=I.length>0?I[I.length-1].speed:0,ir=I.length>0?I[I.length-1].distance:0,Qr=gA(Vn,r.speedUnit),Wi=x2e(ir,r.distanceUnit),Ca=n.filter(nt=>nt.name.toLowerCase().includes(ne.toLowerCase())),Js=zT.useMemo(()=>xt?I.map(nt=>({...nt,relativeDist:-(xt-nt.distance)})):I,[I,xt]),Ha=Fe===ct.POLE_VAULT||Fe===ct.LONG_JUMP,ji=!A&&Ha;return v.jsxs("div",{className:"flex h-full gap-6 relative",children:[he&&v.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[100]",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center border border-[#E9E9E7] animate-in zoom-in-95",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"w-16 h-16 bg-[#F7F7F5] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#E9E9E7]",children:v.jsx(xie,{size:32,className:"text-[#37352F]"})}),v.jsx("h3",{className:"text-2xl font-serif font-bold text-[#37352F]",children:"Calibrate Takeoff"}),v.jsxs("p",{className:"text-sm text-[#787774] mt-2",children:["Stand at the takeoff board/box. ",v.jsx("br",{}),"The laser should be pointing at you."]})]}),v.jsxs("div",{className:"bg-[#37352F] text-white rounded-lg p-8 mb-6 shadow-inner",children:[v.jsxs("div",{className:"text-6xl font-mono font-bold tracking-tighter",children:[V.toFixed(2),v.jsx("span",{className:"text-2xl text-gray-400",children:"m"})]}),v.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mt-2 animate-pulse",children:"Live Laser Reading"})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-3 rounded text-[#787774] font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:Li,className:"flex-[2] py-3 bg-[#37352F] text-white rounded font-medium shadow-sm hover:bg-[#2F2F2F] transition-colors flex items-center justify-center gap-2",children:[v.jsx(Lh,{size:18})," Set as Board"]})]})]})}),ge&&v.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-[100]",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl m-4 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5] rounded-t-lg",children:[v.jsx("h3",{className:"font-serif font-bold text-[#37352F] text-lg",children:"Manage Session Athletes"}),v.jsx("button",{onClick:()=>se(!1),className:"p-1 hover:bg-[#E9E9E7] rounded",children:v.jsx(fc,{size:20})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(BU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),v.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search athletes...",value:ne,onChange:nt=>M(nt.target.value),className:"w-full pl-9 pr-4 py-2 bg-[#F7F7F5] border border-[#E9E9E7] rounded text-sm focus:outline-none focus:border-[#37352F]"})]}),v.jsxs("button",{onClick:()=>Z(!X),className:"px-4 py-2 bg-[#37352F] text-white rounded text-sm font-medium flex items-center gap-2",children:[v.jsx(Gy,{size:16})," New"]})]}),X&&v.jsx("div",{className:"bg-[#F7F7F5] p-4 rounded border border-[#E9E9E7] mb-4",children:v.jsxs("form",{onSubmit:cr,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsx("input",{placeholder:"Full Name *",required:!0,value:qe,onChange:nt=>dt(nt.target.value),className:"bg-white border border-[#E9E9E7] rounded p-2 text-xs outline-none"}),v.jsx("button",{type:"submit",className:"col-span-2 bg-[#37352F] text-white px-3 py-1.5 rounded text-xs font-medium",children:"Create"})]})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Ca.map(nt=>v.jsxs("div",{onClick:()=>Xn(nt.id),className:`flex items-center p-2 rounded cursor-pointer border ${_e.includes(nt.id)?"bg-green-50 border-green-200":"bg-white border-transparent"}`,children:[v.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center mr-3 ${_e.includes(nt.id)?"bg-green-500 border-green-500":"border-[#E9E9E7]"}`,children:_e.includes(nt.id)&&v.jsx(Lh,{size:12,className:"text-white"})}),v.jsx("div",{className:"text-sm font-medium",children:nt.name})]},nt.id))})]}),v.jsxs("div",{className:"p-4 border-t border-[#E9E9E7] flex justify-end gap-3",children:[v.jsx("button",{onClick:()=>se(!1),className:"px-4 py-2 text-sm text-[#787774] hover:bg-[#F7F7F5] rounded",children:"Cancel"}),v.jsx("button",{onClick:Xr,className:"px-6 py-2 text-sm bg-[#37352F] text-white rounded",children:"Update Session"})]})]})}),v.jsxs("div",{className:"flex-1 flex flex-col max-w-5xl mx-auto w-full",children:[v.jsxs("div",{className:"mb-4 bg-white sticky top-0 z-10 pt-2",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-[#787774] font-bold uppercase tracking-wider mb-1",children:"Active Session"}),v.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:t.name})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>G(!D),className:"md:hidden p-2 border rounded text-[#787774]",children:v.jsx(UU,{size:16})}),!g&&v.jsx("button",{onClick:zt,className:`px-3 py-1.5 text-sm rounded border transition-colors ${$?"bg-yellow-50 border-yellow-200 text-yellow-700":"bg-white border-[#E9E9E7] text-[#37352F] hover:bg-[#F7F7F5]"}`,children:$?"Stop Demo":"Demo Mode"}),v.jsx("button",{onClick:fi,className:`px-3 py-1.5 text-sm rounded border flex items-center gap-2 transition-colors ${g?"bg-red-50 border-red-200 text-red-700":"bg-[#37352F] border-[#37352F] text-white hover:bg-[#2F2F2F]"}`,children:g?v.jsx(v.Fragment,{children:v.jsx(OI,{size:14})}):v.jsxs(v.Fragment,{children:[v.jsx(zU,{size:14})," Connect"]})}),v.jsx("button",{onClick:l,className:"px-3 py-1.5 text-sm rounded border border-[#E9E9E7] text-[#37352F] hover:bg-red-50 hover:text-red-600 transition-colors ml-2 font-medium",children:"Finish"})]})]}),v.jsxs("div",{className:"flex overflow-x-auto pb-2 gap-3 no-scrollbar items-center mb-2",children:[e.map(nt=>v.jsxs("button",{onClick:()=>y(nt.id),className:`flex-shrink-0 flex items-center gap-3 pl-2 pr-4 py-2 rounded-full border transition-all ${nt.id===p?"bg-[#37352F] text-white border-[#37352F] shadow-sm":"bg-white border-[#E9E9E7] text-[#37352F] hover:bg-[#F7F7F5]"}`,children:[v.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${nt.id===p?"bg-white text-[#37352F]":"bg-[#F7F7F5] text-[#787774]"}`,children:nt.name.charAt(0)}),v.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:nt.name})]},nt.id)),v.jsx("button",{onClick:()=>se(!0),className:"flex-shrink-0 w-10 h-10 rounded-full bg-[#F7F7F5] border border-[#E9E9E7] flex items-center justify-center text-[#787774] hover:bg-[#EFEFED] transition-colors",children:v.jsx(Gy,{size:18})})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("button",{onClick:()=>ht(!Tn),className:"flex items-center gap-2 text-[#37352F] hover:bg-[#F7F7F5] px-3 py-1.5 rounded transition-colors border border-transparent hover:border-[#E9E9E7]",children:[v.jsx("span",{className:"font-bold text-lg font-serif",children:Ps[Fe].label}),v.jsx(LU,{size:16,className:`text-[#9B9A97] transition-transform ${Tn?"rotate-180":""}`})]}),(Fe===ct.LONG_JUMP||Fe===ct.POLE_VAULT)&&v.jsxs("button",{onClick:()=>me(!0),className:`flex items-center gap-2 border px-3 py-1.5 rounded text-xs transition-colors ${xt?"bg-green-50 border-green-200 text-green-700":"bg-white border-[#E9E9E7] hover:bg-[#F7F7F5]"}`,children:[v.jsx(fg,{size:12})," ",xt?"Reset Board":"Calibrate Board"]})]}),Tn&&v.jsxs("div",{className:"mt-3 p-4 bg-[#F7F7F5] border border-[#E9E9E7] rounded-lg animate-in slide-in-from-top-2",children:[v.jsx("h3",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-3",children:"Test Configuration"}),v.jsxs("div",{className:"flex flex-wrap gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Measurement Type"}),v.jsx("select",{value:Fe,onChange:nt=>wn(nt.target.value),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F] min-w-[200px]",children:Object.entries(Ps).map(([nt,rn])=>v.jsx("option",{value:nt,children:rn.label},nt))})]}),Fe===ct.ACCELERATION&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Target Distance (m)"}),v.jsx("input",{type:"number",value:Bt,onChange:nt=>It(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-24 outline-none focus:border-[#37352F]"})]}),Fe===ct.FLY&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Run Up (m)"}),v.jsx("input",{type:"number",value:Mt,onChange:nt=>nn(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-24 outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Fly Zone (m)"}),v.jsx("input",{type:"number",value:_t,onChange:nt=>un(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-24 outline-none focus:border-[#37352F]"})]})]}),(Fe===ct.LONG_JUMP||Fe===ct.POLE_VAULT)&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-[#37352F] mb-1",children:"Board Location (m)"}),v.jsx("input",{type:"number",value:xt||"",placeholder:"Not set",onChange:nt=>Vt(Number(nt.target.value)),className:"bg-white border border-[#E9E9E7] rounded px-3 py-2 text-sm w-28 outline-none focus:border-[#37352F]"}),v.jsx("div",{className:"text-[10px] text-[#9B9A97] mt-1",children:"Or use Calibrate button"})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{className:"p-6 border border-[#E9E9E7] rounded bg-white shadow-sm flex flex-col items-center justify-center",children:[v.jsx("span",{className:"text-[#9B9A97] text-xs uppercase font-medium mb-1",children:"Speed"}),v.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-[#37352F] tabular-nums",children:[Qr.toFixed(1)," ",v.jsx("span",{className:"text-lg text-[#9B9A97] font-normal",children:iu.speed[r.speedUnit]})]})]}),v.jsxs("div",{className:"p-6 border border-[#E9E9E7] rounded bg-white shadow-sm flex flex-col items-center justify-center",children:[v.jsx("span",{className:"text-[#9B9A97] text-xs uppercase font-medium mb-1",children:"Distance"}),v.jsxs("div",{className:"text-4xl md:text-5xl font-bold text-[#37352F] tabular-nums",children:[Wi.toFixed(2)," ",v.jsx("span",{className:"text-lg text-[#9B9A97] font-normal",children:iu.distance[r.distanceUnit]})]})]})]}),v.jsx("div",{className:"flex-1 border border-[#E9E9E7] rounded bg-white p-4 relative min-h-[250px] shadow-sm mb-6",children:v.jsx(Ax,{width:"100%",height:"100%",children:v.jsxs(HH,{data:Js,children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"colorSpeed",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:"#37352F",stopOpacity:.1}),v.jsx("stop",{offset:"95%",stopColor:"#37352F",stopOpacity:0})]})}),v.jsx(Z0,{strokeDasharray:"3 3",stroke:"#E9E9E7",vertical:!1}),v.jsx(e1,{dataKey:xt?"relativeDist":"distance",type:"number",unit:"m",domain:["auto","auto"],tickLine:!1,axisLine:!1,tick:{fill:"#9B9A97",fontSize:12}}),v.jsx(t1,{tickLine:!1,axisLine:!1,tick:{fill:"#9B9A97",fontSize:12}}),v.jsx(Wx,{contentStyle:{backgroundColor:"#FFFFFF",borderColor:"#E9E9E7"},formatter:nt=>gA(Number(nt),r.speedUnit).toFixed(2)}),xt&&v.jsx(s0,{x:0,stroke:"#10B981",strokeDasharray:"3 3",label:{value:"TAKEOFF",fill:"#10B981",fontSize:10,position:"insideTop"}}),v.jsx(t4,{type:"monotone",dataKey:"speed",stroke:"#37352F",strokeWidth:2,fill:"url(#colorSpeed)",isAnimationActive:!1})]})})}),fe?v.jsxs("div",{className:"bg-white rounded-lg border border-[#E9E9E7] shadow-md p-6 animate-in slide-in-from-bottom-4 fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-[#E9E9E7] pb-4",children:[v.jsx("h3",{className:"text-xl font-serif font-bold text-[#37352F]",children:"Log Result"}),Fe===ct.POLE_VAULT&&v.jsxs("div",{className:"flex bg-[#F7F7F5] rounded p-1 border border-[#E9E9E7]",children:[v.jsx("button",{onClick:()=>hi(!0),className:`px-4 py-1.5 rounded text-sm font-bold transition-all ${de===!0?"bg-green-500 text-white shadow-sm":"text-[#9B9A97] hover:text-[#37352F]"}`,children:"MAKE"}),v.jsx("button",{onClick:()=>hi(!1),className:`px-4 py-1.5 rounded text-sm font-bold transition-all ${de===!1?"bg-red-500 text-white shadow-sm":"text-[#9B9A97] hover:text-[#37352F]"}`,children:"MISS"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:[Fe===ct.POLE_VAULT?"Bar Height":"Distance"," (m)"]}),v.jsx("input",{autoFocus:!0,type:"number",step:"0.01",value:ye,onChange:nt=>Pe(nt.target.value),placeholder:"0.00",className:"w-full text-3xl font-serif font-bold text-[#37352F] placeholder-gray-200 border-b border-[#E9E9E7] pb-2 outline-none focus:border-[#37352F] bg-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Step Count"}),v.jsxs("div",{className:"relative",children:[v.jsx(FU,{className:"absolute left-0 top-2 text-[#9B9A97]",size:20}),v.jsx("input",{type:"number",value:rt,onChange:nt=>it(nt.target.value),placeholder:"e.g. 16",className:"w-full pl-8 text-xl font-mono text-[#37352F] placeholder-gray-200 border-b border-[#E9E9E7] pb-2 outline-none focus:border-[#37352F] bg-transparent"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Notes"}),v.jsx("textarea",{value:Ve,onChange:nt=>Se(nt.target.value),placeholder:"Wind, technique...",className:"w-full text-sm text-[#37352F] border-b border-[#E9E9E7] pb-2 outline-none focus:border-[#37352F] bg-transparent resize-none h-[42px]"})]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("button",{onClick:ki,className:"flex-1 py-3 rounded text-[#787774] font-medium hover:bg-[#F7F7F5] transition-colors flex items-center justify-center gap-2",children:[v.jsx(np,{size:16})," Discard"]}),v.jsxs("button",{onClick:Di,className:"flex-[2] py-3 bg-[#37352F] text-white rounded font-medium shadow-sm hover:bg-[#2F2F2F] transition-colors flex items-center justify-center gap-2",children:[v.jsx(A2,{size:16})," Save Log"]})]})]}):v.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F7F7F5] rounded-md border border-[#E9E9E7]",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-red-500 animate-pulse":"bg-[#9B9A97]"}`}),v.jsx("span",{className:"text-sm font-mono text-[#787774]",children:k})]}),v.jsx("div",{className:"flex gap-3 items-center",children:A?v.jsxs("button",{onClick:Ri,className:"bg-white border border-red-200 text-red-600 px-8 py-2.5 rounded hover:bg-red-50 transition-colors font-medium flex items-center gap-2 shadow-sm",children:[v.jsx(rae,{size:16,fill:"currentColor"})," Stop"]}):v.jsxs(v.Fragment,{children:[Nt&&!ji?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative w-64 mr-2",children:[v.jsx(yie,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:14}),v.jsx("input",{type:"text",value:Ve,onChange:nt=>Se(nt.target.value),placeholder:"Add note...",className:"w-full pl-8 pr-3 py-2 rounded border border-[#E9E9E7] text-sm focus:outline-none focus:border-[#37352F]"})]}),v.jsxs("button",{onClick:Di,className:"bg-[#37352F] text-white px-4 py-2.5 rounded hover:bg-black transition-colors font-medium flex items-center gap-2 shadow-sm text-sm",children:[v.jsx(A2,{size:14})," Save"]}),v.jsx("button",{onClick:ki,className:"text-[#787774] hover:text-red-600 px-2 py-2 transition-colors",children:v.jsx(np,{size:16})}),v.jsx("div",{className:"w-px h-6 bg-[#E9E9E7] mx-1"})]}):v.jsxs("button",{onClick:Ls,disabled:!g&&!$,className:"bg-[#37352F] text-white px-8 py-2.5 rounded hover:bg-black disabled:opacity-50 transition-colors font-medium flex items-center gap-2 shadow-sm",children:[v.jsx(L0,{size:16,fill:"currentColor"})," Start Run"]}),ji&&v.jsx("button",{onClick:()=>pe(!0),className:"px-4 py-2 border border-[#E9E9E7] bg-white rounded hover:bg-[#F7F7F5] text-sm text-[#37352F] font-medium",children:"Log Result"})]})})]})]}),v.jsxs("div",{className:`w-80 flex-shrink-0 border-l border-[#E9E9E7] bg-[#F7F7F5] flex flex-col ${D?"fixed inset-0 z-50 bg-white md:relative md:bg-[#F7F7F5] md:z-auto":"hidden md:flex"}`,children:[v.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] flex justify-between items-center",children:[v.jsx("h3",{className:"font-bold font-serif text-[#37352F]",children:"Session Log"}),v.jsx("button",{onClick:()=>G(!1),className:"md:hidden",children:v.jsx(CI,{size:16})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:t.runs.length===0?v.jsx("div",{className:"text-center p-8 text-[#9B9A97] text-sm italic",children:"No runs yet."}):t.runs.map((nt,rn)=>{const dr=e.find(Qn=>Qn.id===nt.athleteId)||n.find(Qn=>Qn.id===nt.athleteId);return v.jsxs("div",{className:"bg-white border border-[#E9E9E7] p-3 rounded hover:border-[#37352F] transition-colors relative group",children:[v.jsxs("div",{className:"flex justify-between items-start mb-1",children:[v.jsxs("span",{className:"font-bold text-xs text-[#9B9A97]",children:["#",t.runs.length-rn]}),v.jsx("span",{className:"text-[10px] text-[#9B9A97]",children:new Date(nt.date).toLocaleTimeString()})]}),v.jsxs("div",{className:"font-medium text-[#37352F] mb-1 flex items-center gap-2",children:[v.jsx("span",{onClick:()=>u(nt),className:"cursor-pointer hover:underline",children:dr==null?void 0:dr.name}),v.jsx("button",{onClick:Qn=>{Qn.stopPropagation(),F(nt.id)},className:"text-[#9B9A97] opacity-0 group-hover:opacity-100 hover:text-[#37352F] p-1",children:v.jsx(ox,{size:10})})]}),v.jsxs("div",{onClick:()=>u(nt),className:"flex justify-between items-end cursor-pointer",children:[v.jsx("span",{className:"text-xs bg-[#F7F7F5] px-1.5 py-0.5 rounded border border-[#E9E9E7]",children:nt.config.type===ct.POLE_VAULT?"PV":nt.config.type===ct.LONG_JUMP?"LJ":nt.config.type}),v.jsx("div",{className:"text-right",children:nt.jumpResult?v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsxs("span",{className:`font-bold text-sm ${nt.jumpResult.successful===!1?"text-red-600":"text-[#37352F]"}`,children:[nt.jumpResult.resultMetric,"m ",nt.jumpResult.successful===!1&&"(X)"]}),nt.jumpResult.stepCount&&v.jsxs("span",{className:"text-[10px] text-[#9B9A97]",children:[nt.jumpResult.stepCount," steps"]})]}):v.jsxs("span",{className:"font-mono font-bold text-[#37352F]",children:[gA(Math.max(...nt.data.map(Qn=>Qn.speed)),r.speedUnit).toFixed(1)," ",iu.speed[r.speedUnit]]})})]})]},nt.id)})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yk||(Yk={}));var Wk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Wk||(Wk={}));var Kk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Kk||(Kk={}));var Xk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xk||(Xk={}));var Qk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qk||(Qk={}));var Jk;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jk||(Jk={}));var Zk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Zk||(Zk={}));var eL;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eL||(eL={}));var tL;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tL||(tL={}));var nL;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(nL||(nL={}));var rL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rL||(rL={}));var iL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(iL||(iL={}));var aL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(aL||(aL={}));var sL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(sL||(sL={}));var oL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(oL||(oL={}));var lL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lL||(lL={}));var cL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cL||(cL={}));var uL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(uL||(uL={}));var fL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fL||(fL={}));var hL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(hL||(hL={}));var dL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dL||(dL={}));var pL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pL||(pL={}));var mL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mL||(mL={}));var gL;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(gL||(gL={}));var vL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(vL||(vL={}));var yL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yL||(yL={}));var bL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(bL||(bL={}));var _L;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_L||(_L={}));var xL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xL||(xL={}));var wL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wL||(wL={}));var EL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(EL||(EL={}));var AL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(AL||(AL={}));var SL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(SL||(SL={}));var TL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(TL||(TL={}));var NL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(NL||(NL={}));var IL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(IL||(IL={}));var CL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(CL||(CL={}));var PL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(PL||(PL={}));var OL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(OL||(OL={}));var RL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(RL||(RL={}));var DL;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(DL||(DL={}));var kL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kL||(kL={}));var LL;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(LL||(LL={}));var jL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(jL||(jL={}));var ML;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ML||(ML={}));var FL;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(FL||(FL={}));var UL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UL||(UL={}));var BL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(BL||(BL={}));var VL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(VL||(VL={}));var zL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zL||(zL={}));var qL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(qL||(qL={}));var HL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(HL||(HL={}));var $L;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($L||($L={}));var GL;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(GL||(GL={}));var YL;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(YL||(YL={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var WL;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(WL||(WL={}));class A2e{constructor(){this.ai=null}hasKey(){return!1}async analyzeRun(e,n){if(!this.ai)return"API Key not configured. Cannot generate AI analysis.";const r=Math.max(1,Math.floor(n.length/50)),i=n.filter((s,l)=>l%r===0).map(s=>({t:s.timestamp/1e3,s:s.speed.toFixed(2),d:s.distance.toFixed(1)})),a=`
      You are an elite sprint coach. Analyze the following sprint data for athlete ${e.name}.
      
      Data Format: JSON Array of {t: time(s), s: speed(m/s), d: distance(m)}.
      Data: ${JSON.stringify(i)}

      Please provide a concise analysis in 3 bullet points:
      1. Acceleration Phase: How quickly did they reach peak velocity?
      2. Max Velocity: What was the top speed and was it maintained?
      3. Speed Endurance/Deceleration: Did they slow down significantly at the end?
      
      End with 1 specific actionable drill to improve.
      Keep the tone encouraging but professional.
    `;try{return(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:a})).text||"No analysis generated."}catch(s){return console.error("Gemini Analysis Failed:",s),"Failed to generate analysis. Please check internet connection."}}}const S2e=new A2e,T2e=({isOpen:t,testType:e,athleteName:n,athleteGender:r,time:i,onClose:a,onConfirm:s})=>{const[l,u]=O.useState(!1),[f,h]=O.useState(!1);if(!t)return null;const p=g=>{switch(g){case"FORTY_YARD_DASH":return"40 Yard Dash";case"ACCELERATION_30M":return"30m Acceleration";case"FLY_30M":return"30m Flying";case"SIXTY_METER_RUN":return"60m Run";default:return g}},y=async()=>{if(l){h(!0);try{await s(),u(!1),a()}catch(g){console.error("Failed to post to leaderboard:",g)}finally{h(!1)}}};return v.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[v.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5]",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ko,{className:"text-[#37352F]",size:24}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:"Post to Leaderboard"}),v.jsx("p",{className:"text-xs text-[#787774]",children:"Share this result publicly"})]})]}),v.jsx("button",{onClick:a,className:"p-1 hover:bg-[#E9E9E7] rounded text-[#787774] hover:text-[#37352F] transition-colors",children:v.jsx(fc,{size:20})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4 border border-[#E9E9E7]",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Test Type"}),v.jsx("div",{className:"text-sm font-medium text-[#37352F]",children:p(e)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Athlete"}),v.jsxs("div",{className:"text-sm font-medium text-[#37352F]",children:[n,r&&v.jsxs("span",{className:"text-[#9B9A97] ml-2",children:["(",r,")"]})]})]})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-[#E9E9E7]",children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Time"}),v.jsxs("div",{className:"text-3xl font-bold text-[#37352F]",children:[i.toFixed(3),"s"]})]})]}),v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[v.jsx(tp,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-blue-900 mb-1",children:"Public Leaderboard"}),v.jsx("p",{className:"text-xs text-blue-800",children:"This result will be publicly visible on the global leaderboard. Anyone can view the athlete's name, gender, time, and date. You can delete this entry at any time."})]})]}),v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:l,onChange:g=>u(g.target.checked),className:"mt-1 w-4 h-4 rounded border-[#E9E9E7] text-[#37352F] focus:ring-[#37352F]"}),v.jsx("span",{className:"text-sm text-[#37352F]",children:"I confirm that this result is accurate and can be publicly displayed on the leaderboard."})]}),v.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[v.jsx("button",{onClick:a,className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:y,disabled:!l||f,className:"bg-[#37352F] text-white px-6 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[v.jsx(Ko,{size:16}),f?"Posting...":"Post to Leaderboard"]})]})]})]})})},hm=(t,e)=>e==="kph"?t*3.6:e==="mph"?t*2.23694:t,yb=(t,e)=>e==="imperial"?t*1.09361:t,N2e=(t,e)=>{const n=new Date(t),r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear();return e==="DD.MM.YYYY"?`${r}.${i}.${a}`:e==="YYYY-MM-DD"?`${a}-${i}-${r}`:`${i}.${r}.${a}`},El=(t,e)=>{const n=t.findIndex(u=>u.distance>=e);if(n===-1)return null;if(n===0)return{t:t[0].timestamp,v:t[0].speed};const r=t[n],i=t[n-1],a=(e-i.distance)/(r.distance-i.distance),s=i.timestamp+a*(r.timestamp-i.timestamp),l=i.speed+a*(r.speed-i.speed);return{t:s,v:l}},I2e=({session:t,athlete:e,settings:n,allSessions:r,onBack:i,onCompare:a})=>{const[s,l]=O.useState((t==null?void 0:t.aiFeedback)||null),[u,f]=O.useState(!1),[h,p]=O.useState(!1),[y,g]=O.useState([]),[E,A]=O.useState(!1),[S,I]=O.useState(null),[q,k]=O.useState(null),[B,$]=O.useState(null),[K,j]=O.useState(!1),{user:L}=k0(),D=O.useMemo(()=>{if(!t)return null;const{data:M,config:X}=t;if(M.length===0)return null;let Z=0,fe=0,pe=0;M.forEach(Xe=>{Xe.speed>Z&&(Z=Xe.speed,fe=Xe.timestamp,pe=Xe.distance)});const ye=M[M.length-1].distance,Pe=M[M.length-1].timestamp,de=[],Ce=10;let Ve=0,Se=0;for(;Ve+Ce<=ye+5;){const Xe=Ve+Ce;if(Xe>ye&&Xe-ye>2)break;const Nt=El(M,Xe);if(Nt){const yt=Nt.t,qe=(yt-Se)/1e3,dt=Ce/qe;de.push({start:Ve,end:Xe,time:qe,cumTime:yt/1e3,velocity:dt}),Se=yt,Ve=Xe}else break}let rt=null;if(X.type===ct.FLY&&X.runUpDistance&&X.flyDistance){const Xe=X.runUpDistance,Nt=X.runUpDistance+X.flyDistance,yt=El(M,Xe),qe=El(M,Nt);if(yt&&qe){const dt=(qe.t-yt.t)/1e3,vt=X.flyDistance/dt;rt={duration:dt,avgSpeed:vt,startZone:Xe,endZone:Nt}}}let it=null;if(X.type===ct.ACCELERATION&&X.targetDistance){const Xe=El(M,X.targetDistance);Xe&&(it={duration:Xe.t/1e3,dist:X.targetDistance})}let oe=null;if((X.type===ct.POLE_VAULT||X.type===ct.LONG_JUMP)&&X.boardLocation){const Xe=X.boardLocation,Nt=El(M,Xe-10),yt=El(M,Xe-5),qe=El(M,Xe);oe={v10m:Nt?Nt.v:null,v5m:yt?yt.v:null,vTakeoff:qe?qe.v:null}}return{maxSpeed:Z,maxSpeedTime:fe,maxSpeedDist:pe,totalDist:ye,totalTime:Pe,splits:de,flyResult:rt,accelResult:it,approachMetrics:oe}},[t]),G=O.useMemo(()=>{if(!t)return[];if(t.config.boardLocation){const M=t.config.boardLocation;return t.data.map(X=>({...X,relativeDist:-(M-X.distance)}))}return t.data},[t]),P=O.useMemo(()=>{if(!t)return[];const M=[];return r.forEach(X=>{X.runs.forEach(Z=>{Z.id!==t.id&&Z.config.type===t.config.type&&M.push({run:Z,sessionName:X.name})})}),M},[t,r]),F=M=>{if(y.find(X=>X.id===M.id))g(y.filter(X=>X.id!==M.id));else{if(y.length>=3)return;g([...y,M])}},V=()=>{y.length>0&&a([t,...y])},ee=()=>{if(!t)return{eligible:!1,type:null,time:null};const{config:M,data:X}=t;if(M.type===ct.FORTY_YARD_DASH){const Z=El(X,36.576);if(Z)return{eligible:!0,type:"FORTY_YARD_DASH",time:Z.t/1e3}}if(M.type===ct.SIXTY_METER_RUN){const Z=El(X,60);if(Z)return{eligible:!0,type:"SIXTY_METER_RUN",time:Z.t/1e3}}if(M.type===ct.ACCELERATION&&M.targetDistance===30){const Z=El(X,30);if(Z)return{eligible:!0,type:"ACCELERATION_30M",time:Z.t/1e3}}if(M.type===ct.FLY&&M.flyDistance===30&&M.runUpDistance){const Z=El(X,M.runUpDistance),fe=El(X,M.runUpDistance+30);if(Z&&fe)return{eligible:!0,type:"FLY_30M",time:(fe.t-Z.t)/1e3}}return{eligible:!1,type:null,time:null}},ge=()=>{const M=ee();M.eligible&&M.type&&M.time!==null&&(k(M.type),I(M.time),A(!0))},se=async()=>{if(!t||!e||!L||!q||S===null){console.error("Missing required data for leaderboard post:",{session:!!t,athlete:!!e,user:!!L,leaderboardType:q,leaderboardTime:S});return}try{const M={id:`${t.id}_${q}`,testType:q,athleteId:e.id,athleteName:e.name,athleteGender:e.gender,userId:L.uid,postedBy:"coach",time:S,date:t.date,sessionId:t.id,runId:t.id,createdAt:new Date().toISOString()};console.log("Posting to leaderboard:",M),await Kc.postToLeaderboard(M),console.log("Successfully posted to leaderboard!"),j(!0),$({message:"Successfully posted to leaderboard!",type:"success"}),setTimeout(()=>$(null),4e3)}catch(M){throw console.error("Error posting to leaderboard:",M),$({message:"Failed to post: "+(M.message||"Unknown error"),type:"error"}),setTimeout(()=>$(null),5e3),M}};O.useEffect(()=>{(async()=>{if(!t||!L)return;const X=ee();if(!(!X.eligible||!X.type))try{const Z=`${t.id}_${X.type}`,pe=(await Kc.getUserEntries(L.uid)).some(ye=>ye.id===Z);j(pe)}catch(Z){console.error("Error checking leaderboard status:",Z)}})()},[t,L]);const he=O.useMemo(()=>ee(),[t]);if(!t||!e||!D)return null;const me=async()=>{f(!0);const M=await S2e.analyzeRun(e,t.data);l(M),f(!1)},_e=hm(D.maxSpeed,n.speedUnit),Ue=iu.speed[n.speedUnit],ne=iu.distance[n.distanceUnit];return v.jsxs("div",{className:"flex flex-col h-full max-w-5xl mx-auto pb-10 relative",children:[B&&v.jsxs("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-[110] px-6 py-3 rounded-lg shadow-lg text-sm font-medium animate-in slide-in-from-top-2 fade-in flex items-center gap-2 ${B.type==="error"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:[B.type==="success"?v.jsx(Ko,{size:18,className:"flex-shrink-0"}):v.jsx(fc,{size:18,className:"flex-shrink-0"}),B.message]}),h&&v.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg flex flex-col max-h-[80vh]",children:[v.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] flex justify-between items-center",children:[v.jsx("h3",{className:"font-serif font-bold text-[#37352F]",children:"Compare Runs"}),v.jsx("button",{onClick:()=>p(!1),children:v.jsx(fc,{size:20})})]}),v.jsx("div",{className:"p-4 bg-[#F7F7F5] border-b border-[#E9E9E7]",children:v.jsx("p",{className:"text-xs text-[#787774]",children:"Select up to 3 other runs to compare with."})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[P.length===0&&v.jsx("p",{className:"text-center text-sm text-gray-400 py-8",children:"No other compatible runs found."}),P.map(({run:M,sessionName:X})=>{const Z=!!y.find(pe=>pe.id===M.id),fe=Math.max(...M.data.map(pe=>pe.speed));return v.jsx("div",{onClick:()=>F(M),className:`p-3 rounded border cursor-pointer transition-all ${Z?"bg-blue-50 border-blue-300 shadow-sm":"bg-white border-[#E9E9E7] hover:border-[#37352F]"}`,children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-[#37352F] text-sm",children:X}),v.jsxs("div",{className:"text-xs text-[#9B9A97]",children:[new Date(M.date).toLocaleDateString(),"  ",M.jumpResult?`${M.jumpResult.resultMetric}m`:`${hm(fe,n.speedUnit).toFixed(1)} ${Ue}`]})]}),v.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${Z?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:Z&&v.jsx(Lh,{size:12,className:"text-white"})})]})},M.id)})]}),v.jsxs("div",{className:"p-4 border-t border-[#E9E9E7] flex justify-end gap-3",children:[v.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded text-[#787774] hover:bg-[#F7F7F5] text-sm",children:"Cancel"}),v.jsxs("button",{onClick:V,disabled:y.length===0,className:"px-6 py-2 bg-[#37352F] text-white rounded text-sm font-medium disabled:opacity-50 flex items-center gap-2",children:[v.jsx(kS,{size:14})," Compare (",y.length,")"]})]})]})}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:i,className:"text-[#787774] hover:text-[#37352F] flex items-center gap-2 text-sm mb-4 transition-colors",children:[v.jsx($y,{size:16})," Back to History"]}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-baseline gap-3",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F]",children:e.name}),v.jsx("span",{className:"text-[#9B9A97] font-medium",children:N2e(t.date,n.dateFormat)})]}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx("span",{className:"bg-[#F7F7F5] text-[#787774] text-xs px-2 py-1 rounded border border-[#E9E9E7]",children:t.config.type===ct.FLY?"Fly Test":t.config.type===ct.POLE_VAULT?"Pole Vault":t.config.type===ct.LONG_JUMP?"Long Jump":"Run"}),t.config.boardLocation&&v.jsxs("span",{className:"bg-green-50 text-green-700 text-xs px-2 py-1 rounded border border-green-100 flex items-center gap-1",children:[v.jsx(fg,{size:10})," Calibrated Run"]})]})]}),v.jsxs("div",{className:"flex gap-3",children:[he.eligible&&v.jsx("button",{onClick:K?void 0:ge,disabled:K,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors shadow-sm ${K?"bg-green-100 text-green-700 border border-green-300 cursor-default":"bg-[#37352F] text-white hover:bg-[#2F2F2F]"}`,children:K?v.jsxs(v.Fragment,{children:[v.jsx(Lh,{size:18})," Posted to Leaderboard"]}):v.jsxs(v.Fragment,{children:[v.jsx(Ko,{size:18})," Post to Leaderboard"]})}),v.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-[#E9E9E7] rounded-lg text-[#37352F] font-medium hover:bg-[#F7F7F5] transition-colors shadow-sm",children:[v.jsx(kS,{size:18})," Compare Run"]})]})]})]}),v.jsx(T2e,{isOpen:E,testType:q||"",athleteName:e.name,athleteGender:e.gender,time:S||0,onClose:()=>A(!1),onConfirm:se}),t.config.type===ct.FLY&&D.flyResult&&v.jsxs("div",{className:"mb-8 p-6 bg-[#37352F] text-white rounded-lg shadow-md flex flex-col md:flex-row items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Fly Zone Time"}),v.jsxs("div",{className:"text-5xl font-bold font-mono tracking-tighter",children:[D.flyResult.duration.toFixed(3),v.jsx("span",{className:"text-2xl text-gray-400",children:"s"})]})]}),v.jsxs("div",{className:"mt-4 md:mt-0 text-right",children:[v.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Avg Fly Velo"}),v.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:[hm(D.flyResult.avgSpeed,n.speedUnit).toFixed(2)," ",v.jsx("span",{className:"text-base font-normal text-gray-400",children:Ue})]})]})]}),(t.config.type===ct.POLE_VAULT||t.config.type===ct.LONG_JUMP)&&t.jumpResult&&v.jsxs("div",{className:"mb-8 p-6 bg-[#37352F] text-white rounded-lg shadow-md flex flex-col md:flex-row justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:t.config.type===ct.POLE_VAULT?"Bar Height":"Distance Jumped"}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsxs("div",{className:"text-5xl font-bold font-mono tracking-tighter",children:[t.jumpResult.resultMetric.toFixed(2),v.jsx("span",{className:"text-2xl text-gray-400",children:"m"})]}),t.jumpResult.successful===!1&&v.jsx("span",{className:"text-red-400 font-bold text-xl",children:"(MISS)"})]})]}),v.jsxs("div",{className:"flex gap-8 mt-4 md:mt-0",children:[t.jumpResult.stepCount&&v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Steps"}),v.jsxs("div",{className:"text-3xl font-bold flex items-center gap-2 justify-end",children:[v.jsx(FU,{size:20,className:"text-gray-400"})," ",t.jumpResult.stepCount]})]}),D.approachMetrics&&D.approachMetrics.v10m&&v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"V @ 10m Out"}),v.jsxs("div",{className:"text-3xl font-bold",children:[hm(D.approachMetrics.v10m,n.speedUnit).toFixed(1)," ",v.jsx("span",{className:"text-sm font-normal text-gray-400",children:Ue})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-px bg-[#E9E9E7] border border-[#E9E9E7] rounded-lg overflow-hidden mb-8 shadow-sm",children:[v.jsxs("div",{className:"bg-white p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[v.jsx(hg,{size:14})," ",v.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Peak Velo"})]}),v.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[_e.toFixed(2)," ",v.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:Ue})]})]}),v.jsxs("div",{className:"bg-white p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[v.jsx(j0,{size:14})," ",v.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Dist to Peak"})]}),v.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[t.config.boardLocation?yb(D.maxSpeedDist-t.config.boardLocation,n.distanceUnit).toFixed(1):yb(D.maxSpeedDist,n.distanceUnit).toFixed(1)," ",v.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:ne})]})]}),v.jsxs("div",{className:"bg-white p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[v.jsx(PI,{size:14})," ",v.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Time to Peak"})]}),v.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[(D.maxSpeedTime/1e3).toFixed(2)," ",v.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:"s"})]})]}),v.jsxs("div",{className:"bg-white p-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1 text-[#9B9A97]",children:[v.jsx(as,{size:14})," ",v.jsx("span",{className:"text-xs uppercase font-bold tracking-wider",children:"Total Dist"})]}),v.jsxs("p",{className:"text-2xl font-bold text-[#37352F]",children:[yb(D.totalDist,n.distanceUnit).toFixed(2)," ",v.jsx("span",{className:"text-sm font-normal text-[#9B9A97]",children:ne})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[v.jsxs("div",{className:"lg:col-span-2 bg-white border border-[#E9E9E7] rounded-lg p-6 h-96 shadow-sm",children:[v.jsx("h3",{className:"text-sm font-bold text-[#37352F] font-serif mb-6",children:"Velocity Profile"}),v.jsx(Ax,{width:"100%",height:"100%",children:v.jsxs(HH,{data:G,children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"gradSpeed",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:"#37352F",stopOpacity:.1}),v.jsx("stop",{offset:"95%",stopColor:"#37352F",stopOpacity:0})]})}),v.jsx(Z0,{strokeDasharray:"3 3",stroke:"#F7F7F5",vertical:!1}),v.jsx(e1,{dataKey:t.config.boardLocation?"relativeDist":"distance",type:"number",unit:"m",domain:["auto","auto"],tickFormatter:M=>yb(M,n.distanceUnit).toFixed(0),stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12},label:t.config.boardLocation?{value:"Distance from Takeoff (m)",position:"insideBottom",offset:-5,fontSize:10}:void 0}),v.jsx(t1,{stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12}}),v.jsx(Wx,{contentStyle:{backgroundColor:"#fff",borderColor:"#E9E9E7",color:"#37352F"},labelFormatter:M=>t.config.boardLocation?`At ${Number(M).toFixed(2)}m from takeoff`:`Distance: ${Number(M).toFixed(2)}m`,formatter:M=>[hm(M,n.speedUnit).toFixed(2)+" "+Ue,"Speed"]}),t.config.boardLocation&&v.jsx(s0,{x:0,stroke:"#10B981",strokeDasharray:"3 3",label:{value:"Board",fill:"#10B981",fontSize:10,position:"top"}}),v.jsx(s0,{y:D.maxSpeed,stroke:"#E16259",strokeDasharray:"3 3",label:{value:"Peak",fill:"#E16259",fontSize:10,position:"right"}}),v.jsx(t4,{type:"monotone",dataKey:"speed",stroke:"#37352F",strokeWidth:2,fill:"url(#gradSpeed)",isAnimationActive:!1})]})})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-[#E9E9E7] bg-[#F7F7F5]",children:v.jsx("h3",{className:"text-sm font-bold text-[#37352F] font-serif",children:"Notes & Splits"})}),t.notes&&v.jsxs("div",{className:"p-4 border-b border-[#E9E9E7] bg-yellow-50/50 text-sm italic text-[#37352F]",children:['"',t.notes,'"']}),v.jsx("div",{className:"overflow-y-auto flex-1",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-[#9B9A97] text-xs border-b border-[#E9E9E7]",children:[v.jsxs("th",{className:"px-4 py-2 text-left font-normal",children:["Dist (",ne,")"]}),v.jsxs("th",{className:"px-4 py-2 text-right font-normal",children:["V",v.jsx("sub",{children:"avg"})]})]})}),v.jsx("tbody",{className:"divide-y divide-[#E9E9E7]",children:D.splits.map((M,X)=>v.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[v.jsxs("td",{className:"px-4 py-2 font-medium text-[#37352F]",children:[M.start,"-",M.end]}),v.jsx("td",{className:"px-4 py-2 text-right font-mono text-[#787774]",children:hm(M.velocity,n.speedUnit).toFixed(1)})]},X))})]})})]})]}),v.jsxs("div",{className:"bg-[#F7F7F5] border border-[#E9E9E7] rounded-lg p-6",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#37352F]",children:[v.jsx(tie,{size:20}),v.jsx("h3",{className:"font-serif font-bold",children:"AI Coach Analysis"})]}),!s&&v.jsxs("button",{onClick:me,disabled:u,className:"flex items-center gap-2 text-xs font-medium bg-white border border-[#E9E9E7] px-3 py-1.5 rounded hover:bg-[#EFEFED] transition-colors text-[#37352F]",children:[u?v.jsx(KR,{className:"animate-spin",size:14}):v.jsx(KR,{size:14}),u?"Generating...":"Analyze with Gemini"]})]}),s?v.jsx("div",{className:"prose prose-sm max-w-none text-[#37352F] leading-relaxed whitespace-pre-line font-sans",children:s}):v.jsx("p",{className:"text-[#9B9A97] text-sm italic",children:"Run analysis to get technical feedback on acceleration and speed maintenance."})]})]})},C2e=({allAthletes:t,onStartSession:e,onAddAthlete:n,onCancel:r,testType:i})=>{const[a,s]=O.useState(`Session - ${new Date().toLocaleDateString()}`),[l,u]=O.useState([]),[f,h]=O.useState(!1),[p,y]=O.useState(""),[g,E]=O.useState(""),[A,S]=O.useState("Male"),[I,q]=O.useState(""),[k,B]=O.useState(""),$=j=>{l.includes(j)?u(l.filter(L=>L!==j)):u([...l,j])},K=j=>{if(j.preventDefault(),!p)return;const L={id:Date.now().toString(),name:p,email:g||void 0,gender:A,dob:I||void 0,primaryEvent:k||void 0};n(L),u(D=>[...D,L.id]),y(""),E(""),q(""),B(""),h(!1)};return v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"New Training Session"}),v.jsx("p",{className:"text-[#787774]",children:"Select athletes and configure your session."}),i&&v.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-50 border border-blue-200 rounded-lg px-3 py-2",children:[v.jsx(fg,{size:16,className:"text-blue-600"}),v.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Test Type: ",Ps[i].label]})]})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg p-6 shadow-sm mb-6",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Session Name"}),v.jsx("input",{type:"text",value:a,onChange:j=>s(j.target.value),className:"w-full text-lg font-medium text-[#37352F] border-b border-[#E9E9E7] pb-2 focus:border-[#37352F] outline-none transition-colors bg-transparent"})]}),v.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[v.jsxs("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase",children:["Select Athletes (",l.length,")"]}),v.jsxs("button",{onClick:()=>h(!0),className:"text-xs flex items-center gap-1 text-[#37352F] font-medium hover:bg-[#F7F7F5] px-2 py-1 rounded",children:[v.jsx(Gy,{size:12})," Add New"]})]}),f&&v.jsxs("div",{className:"mb-6 bg-[#F7F7F5] p-4 rounded border border-[#E9E9E7]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("span",{className:"text-sm font-bold text-[#37352F]",children:"New Athlete Profile"}),v.jsx("button",{onClick:()=>h(!1),children:v.jsx(fc,{size:14})})]}),v.jsxs("form",{onSubmit:K,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"col-span-2",children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Full Name *"}),v.jsx("input",{autoFocus:!0,placeholder:"e.g. John Doe",value:p,onChange:j=>y(j.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Email"}),v.jsx("input",{placeholder:"john@example.com",value:g,onChange:j=>E(j.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Primary Event"}),v.jsx("input",{placeholder:"e.g. 100m",value:k,onChange:j=>B(j.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Gender"}),v.jsxs("select",{value:A,onChange:j=>S(j.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:"Male",children:"Male"}),v.jsx("option",{value:"Female",children:"Female"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Date of Birth"}),v.jsx("input",{type:"date",value:I,onChange:j=>q(j.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsx("div",{className:"col-span-2 flex justify-end mt-2",children:v.jsx("button",{type:"submit",className:"bg-[#37352F] text-white px-4 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors",children:"Add Athlete"})})]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:t.map(j=>{const L=l.includes(j.id);return v.jsxs("div",{onClick:()=>$(j.id),className:`flex items-center p-3 rounded cursor-pointer border transition-all ${L?"bg-[#F7F7F5] border-[#37352F] shadow-sm":"bg-white border-[#E9E9E7] hover:bg-gray-50"}`,children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center mr-3 ${L?"bg-[#37352F] border-[#37352F]":"border-[#9B9A97]"}`,children:L&&v.jsx(Lh,{size:10,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-[#37352F]",children:j.name}),v.jsxs("div",{className:"text-xs text-[#9B9A97]",children:[j.primaryEvent?j.primaryEvent:"Athlete",j.gender?`  ${j.gender.charAt(0)}`:""]})]})]},j.id)})})]}),v.jsxs("div",{className:"flex justify-end gap-3",children:[v.jsx("button",{onClick:r,className:"px-6 py-2 rounded text-[#787774] font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:()=>e(a,l),disabled:l.length===0,className:"bg-[#37352F] text-white px-8 py-2 rounded font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center gap-2 shadow-sm",children:["Start Session ",v.jsx(Dg,{size:16})]})]})]})},P2e=({size:t=24})=>v.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5.5"}),v.jsx("line",{x1:"12",y1:"6.5",x2:"12",y2:"17.5"}),v.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),v.jsx("line",{x1:"10",y1:"10",x2:"14",y2:"10"}),v.jsx("line",{x1:"10",y1:"14",x2:"14",y2:"14"})]}),O2e=({onSelectType:t})=>{const e=[{type:ct.FREE_RUN,icon:as,color:"text-gray-600"},{type:ct.ACCELERATION,icon:PI,color:"text-blue-600"},{type:ct.FLY,icon:hg,color:"text-yellow-600"},{type:ct.FORTY_YARD_DASH,icon:P2e,color:"text-orange-600"},{type:ct.SIXTY_METER_RUN,icon:fg,color:"text-red-600"},{type:ct.POLE_VAULT,icon:Qre,color:"text-purple-600"},{type:ct.LONG_JUMP,icon:j0,color:"text-green-600"}];return v.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-0",children:[v.jsxs("div",{className:"mb-8 border-b border-[#E9E9E7] pb-6",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Measurement Mode"}),v.jsx("p",{className:"text-[#787774]",children:"Select a test protocol to begin a new training session."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(({type:n,icon:r,color:i})=>v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 hover:shadow-md transition-all cursor-pointer group relative overflow-hidden",onClick:()=>t(n),children:[v.jsx("div",{className:`absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${i}`,children:v.jsx(r,{size:100})}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("div",{className:`w-12 h-12 rounded-lg bg-[#F7F7F5] flex items-center justify-center mb-4 ${i} group-hover:scale-110 transition-transform duration-300`,children:v.jsx(r,{size:24})}),v.jsx("h3",{className:"text-lg font-bold text-[#37352F] mb-1",children:Ps[n].label}),v.jsx("p",{className:"text-sm text-[#9B9A97] mb-6 min-h-[40px]",children:Ps[n].description}),v.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium bg-[#37352F] text-white px-4 py-2 rounded-lg group-hover:bg-black transition-colors w-full justify-center",children:[v.jsx(L0,{size:14,fill:"currentColor"})," Start Session"]})]})]},n))})]})},R2e=({settings:t,onUpdateSettings:e,onLogout:n,userEmail:r})=>{const[i,a]=O.useState(t),[s,l]=O.useState(!1);O.useEffect(()=>{a(t),l(!1)},[t]);const u=(p,y)=>{const g={...i,[p]:y};a(g);const E=JSON.stringify(g)!==JSON.stringify(t);l(E)},f=()=>{e(i)},h=()=>{a(t),l(!1)};return v.jsxs("div",{className:"max-w-2xl mx-auto pb-24 relative",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Settings"}),v.jsx("p",{className:"text-[#787774]",children:"Manage your preferences and account."})]}),v.jsxs("section",{className:"mb-8",children:[v.jsxs("h3",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-4 tracking-wider flex items-center gap-2",children:[v.jsx(Rie,{size:14})," Region & Units"]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg divide-y divide-[#E9E9E7] overflow-hidden shadow-sm",children:[v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#F7F7F5] transition-colors",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"Speed Unit"}),v.jsx("div",{className:"text-xs text-[#9B9A97]",children:"Unit for velocity charts and live display."})]}),v.jsx("div",{className:"flex bg-[#F7F7F5] rounded p-1 border border-[#E9E9E7]",children:["mps","kph","mph"].map(p=>v.jsx("button",{onClick:()=>u("speedUnit",p),className:`px-3 py-1 rounded text-xs font-medium transition-all ${i.speedUnit===p?"bg-white text-[#37352F] shadow-sm":"text-[#9B9A97] hover:text-[#787774]"}`,children:p==="mps"?"m/s":p==="kph"?"km/h":"mph"},p))})]}),v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#F7F7F5] transition-colors",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"Distance Unit"}),v.jsx("div",{className:"text-xs text-[#9B9A97]",children:"Metric (Meters) or Imperial (Yards)."})]}),v.jsx("div",{className:"flex bg-[#F7F7F5] rounded p-1 border border-[#E9E9E7]",children:["metric","imperial"].map(p=>v.jsx("button",{onClick:()=>u("distanceUnit",p),className:`px-3 py-1 rounded text-xs font-medium transition-all ${i.distanceUnit===p?"bg-white text-[#37352F] shadow-sm":"text-[#9B9A97] hover:text-[#787774]"}`,children:p==="metric"?"Meters":"Yards"},p))})]}),v.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-[#F7F7F5] transition-colors",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"Date Format"}),v.jsx("div",{className:"text-xs text-[#9B9A97]",children:"Display format for history logs."})]}),v.jsxs("select",{value:i.dateFormat,onChange:p=>u("dateFormat",p.target.value),className:"bg-[#F7F7F5] border border-[#E9E9E7] text-[#37352F] text-xs rounded px-2 py-1 outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:"MM.DD.YYYY",children:"MM.DD.YYYY"}),v.jsx("option",{value:"DD.MM.YYYY",children:"DD.MM.YYYY"}),v.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]}),v.jsxs("section",{className:"mb-8",children:[v.jsxs("h3",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-4 tracking-wider flex items-center gap-2",children:[v.jsx(XR,{size:14})," Account"]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg divide-y divide-[#E9E9E7] overflow-hidden shadow-sm",children:[v.jsxs("div",{className:"p-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-[#F7F7F5] rounded-full flex items-center justify-center text-[#37352F] border border-[#E9E9E7]",children:v.jsx(XR,{size:20})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"Current User"}),v.jsx("div",{className:"text-xs text-[#9B9A97]",children:r})]})]}),v.jsx("button",{className:"text-xs bg-white border border-[#E9E9E7] px-3 py-1.5 rounded text-[#37352F] hover:bg-[#F7F7F5]",children:"Edit Profile"})]}),v.jsxs("div",{className:"p-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#37352F]",children:[v.jsx(eae,{size:16,className:"text-[#9B9A97]"}),v.jsx("span",{className:"text-sm",children:"Password & Security"})]}),v.jsx("button",{className:"text-xs text-[#9B9A97] hover:text-[#37352F] hover:underline",children:"Change"})]})]})]}),v.jsx("div",{className:"flex justify-center mt-12",children:v.jsxs("button",{onClick:n,className:"text-red-600 text-sm font-medium flex items-center gap-2 px-4 py-2 hover:bg-red-50 rounded transition-colors",children:[v.jsx(CI,{size:16})," Log Out"]})}),s&&v.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-[#37352F] text-white p-4 rounded-lg shadow-xl flex items-center gap-6 animate-in slide-in-from-bottom-4 z-50 w-[90%] max-w-md justify-between border border-[#787774]",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(tp,{size:16,className:"text-yellow-400"}),v.jsx("span",{className:"text-sm font-medium",children:"Unsaved changes"})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:h,className:"px-3 py-1.5 hover:bg-white/10 rounded text-xs font-medium transition-colors text-gray-300 hover:text-white",children:"Discard"}),v.jsxs("button",{onClick:f,className:"px-4 py-1.5 bg-white text-[#37352F] rounded text-xs font-bold hover:bg-gray-100 transition-colors flex items-center gap-1 shadow-sm",children:[v.jsx(A2,{size:14})," Save Changes"]})]})]})]})},D2e=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=O.useState(""),[a,s]=O.useState(""),[l,u]=O.useState("Male"),[f,h]=O.useState(""),[p,y]=O.useState(""),[g,E]=O.useState(!1);if(!t)return null;const A=async S=>{if(S.preventDefault(),!r)return;E(!0);const I={id:Date.now().toString(),name:r,email:a||void 0,gender:l,dob:f||void 0,primaryEvent:p||void 0};await n(I),i(""),s(""),h(""),y(""),u("Male"),E(!1),e()};return v.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[v.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5]",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:"New Athlete"}),v.jsx("p",{className:"text-xs text-[#787774]",children:"Add a new profile to your database."})]}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-[#E9E9E7] rounded text-[#787774] hover:text-[#37352F] transition-colors",children:v.jsx(fc,{size:20})})]}),v.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Full Name *"}),v.jsx("input",{autoFocus:!0,required:!0,placeholder:"e.g. Usain Bolt",value:r,onChange:S=>i(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F] transition-colors"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Gender"}),v.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:"Male",children:"Male"}),v.jsx("option",{value:"Female",children:"Female"}),v.jsx("option",{value:"Other",children:"Other"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Date of Birth"}),v.jsx("input",{type:"date",value:f,onChange:S=>h(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Primary Event"}),v.jsx("input",{placeholder:"e.g. 100m",value:p,onChange:S=>y(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Email (Optional)"}),v.jsx("input",{type:"email",placeholder:"athlete@example.com",value:a,onChange:S=>s(S.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),v.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[v.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{type:"submit",disabled:g||!r,className:"bg-[#37352F] text-white px-6 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center gap-2",children:[v.jsx(VU,{size:16}),g?"Saving...":"Add Athlete"]})]})]})]})})},k2e=({isOpen:t,athlete:e,onClose:n,onSave:r})=>{const[i,a]=O.useState(""),[s,l]=O.useState(""),[u,f]=O.useState("Male"),[h,p]=O.useState(""),[y,g]=O.useState(""),[E,A]=O.useState(""),[S,I]=O.useState(!1);if(O.useEffect(()=>{var k;e&&(a(e.name),l(e.email||""),f(e.gender||"Male"),p(e.dob||""),g(e.primaryEvent||""),A(((k=e.pb100m)==null?void 0:k.toString())||""))},[e]),!t||!e)return null;const q=async k=>{if(k.preventDefault(),!i)return;I(!0);const B={...e,name:i,email:s||void 0,gender:u,dob:h||void 0,primaryEvent:y||void 0,pb100m:E?parseFloat(E):void 0};await r(B),I(!1),n()};return v.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[v.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] flex justify-between items-center bg-[#F7F7F5]",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F]",children:"Edit Athlete"}),v.jsx("p",{className:"text-xs text-[#787774]",children:"Update athlete information."})]}),v.jsx("button",{onClick:n,className:"p-1 hover:bg-[#E9E9E7] rounded text-[#787774] hover:text-[#37352F] transition-colors",children:v.jsx(fc,{size:20})})]}),v.jsxs("form",{onSubmit:q,className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Full Name *"}),v.jsx("input",{autoFocus:!0,required:!0,placeholder:"e.g. Usain Bolt",value:i,onChange:k=>a(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F] transition-colors"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Gender"}),v.jsxs("select",{value:u,onChange:k=>f(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:"Male",children:"Male"}),v.jsx("option",{value:"Female",children:"Female"}),v.jsx("option",{value:"Other",children:"Other"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Date of Birth"}),v.jsx("input",{type:"date",value:h,onChange:k=>p(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Primary Event"}),v.jsx("input",{placeholder:"e.g. 100m",value:y,onChange:k=>g(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"100m PB (seconds)"}),v.jsx("input",{type:"number",step:"0.01",placeholder:"e.g. 10.55",value:E,onChange:k=>A(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-[10px] font-bold text-[#9B9A97] uppercase mb-1",children:"Email (Optional)"}),v.jsx("input",{type:"email",placeholder:"athlete@example.com",value:s,onChange:k=>l(k.target.value),className:"w-full bg-white text-[#37352F] border border-[#E9E9E7] rounded px-3 py-2 text-sm outline-none focus:border-[#37352F]"})]}),v.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[v.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{type:"submit",disabled:S||!i,className:"bg-[#37352F] text-white px-6 py-2 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center gap-2",children:[v.jsx(A2,{size:16}),S?"Saving...":"Save Changes"]})]})]})]})})},L2e="modulepreload",j2e=function(t){return"/"+t},KL={},vA=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(n.map(f=>{if(f=j2e(f),f in KL)return;KL[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":L2e,h||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((g,E)=>{y.addEventListener("load",g),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function br(t){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}var hc=Uint8Array,Xo=Uint16Array,a4=Int32Array,s4=new hc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o4=new hc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),XL=new hc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$H=function(t,e){for(var n=new Xo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new a4(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},GH=$H(s4,2),M2e=GH.b,IT=GH.r;M2e[28]=258,IT[258]=28;var F2e=$H(o4,0),QL=F2e.r,CT=new Xo(32768);for(var Kr=0;Kr<32768;++Kr){var sh=(Kr&43690)>>1|(Kr&21845)<<1;sh=(sh&52428)>>2|(sh&13107)<<2,sh=(sh&61680)>>4|(sh&3855)<<4,CT[Kr]=((sh&65280)>>8|(sh&255)<<8)>>1}var yy=(function(t,e,n){for(var r=t.length,i=0,a=new Xo(e);i<r;++i)t[i]&&++a[t[i]-1];var s=new Xo(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(n){l=new Xo(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],h=e-t[i],p=s[t[i]-1]++<<h,y=p|(1<<h)-1;p<=y;++p)l[CT[p]>>u]=f}else for(l=new Xo(r),i=0;i<r;++i)t[i]&&(l[i]=CT[s[t[i]-1]++]>>15-t[i]);return l}),cp=new hc(288);for(var Kr=0;Kr<144;++Kr)cp[Kr]=8;for(var Kr=144;Kr<256;++Kr)cp[Kr]=9;for(var Kr=256;Kr<280;++Kr)cp[Kr]=7;for(var Kr=280;Kr<288;++Kr)cp[Kr]=8;var m_=new hc(32);for(var Kr=0;Kr<32;++Kr)m_[Kr]=5;var U2e=yy(cp,9,0),B2e=yy(m_,5,0),YH=function(t){return(t+7)/8|0},V2e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new hc(t.subarray(e,n))},qu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},zv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},yA=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:KH,l:0};if(i==1){var s=new hc(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function($,K){return $.f-K.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],f=0,h=1,p=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};h!=i-1;)l=n[n[f].f<n[p].f?f++:p++],u=n[f!=h&&n[f].f<n[p].f?f++:p++],n[h++]={s:-1,f:l.f+u.f,l,r:u};for(var y=a[0].s,r=1;r<i;++r)a[r].s>y&&(y=a[r].s);var g=new Xo(y+1),E=PT(n[h-1],g,0);if(E>e){var r=0,A=0,S=E-e,I=1<<S;for(a.sort(function(K,j){return g[j.s]-g[K.s]||K.f-j.f});r<i;++r){var q=a[r].s;if(g[q]>e)A+=I-(1<<E-g[q]),g[q]=e;else break}for(A>>=S;A>0;){var k=a[r].s;g[k]<e?A-=1<<e-g[k]++-1:++r}for(;r>=0&&A;--r){var B=a[r].s;g[B]==e&&(--g[B],++A)}E=e}return{t:new hc(g),l:E}},PT=function(t,e,n){return t.s==-1?Math.max(PT(t.l,e,n+1),PT(t.r,e,n+1)):e[t.s]=n},JL=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Xo(++e),r=0,i=t[0],a=1,s=function(u){n[r++]=u},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[l]}return{c:n.subarray(0,r),n:e}},qv=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},WH=function(t,e,n){var r=n.length,i=YH(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},ZL=function(t,e,n,r,i,a,s,l,u,f,h){qu(e,h++,n),++i[256];for(var p=yA(i,15),y=p.t,g=p.l,E=yA(a,15),A=E.t,S=E.l,I=JL(y),q=I.c,k=I.n,B=JL(A),$=B.c,K=B.n,j=new Xo(19),L=0;L<q.length;++L)++j[q[L]&31];for(var L=0;L<$.length;++L)++j[$[L]&31];for(var D=yA(j,7),G=D.t,P=D.l,F=19;F>4&&!G[XL[F-1]];--F);var V=f+5<<3,ee=qv(i,cp)+qv(a,m_)+s,ge=qv(i,y)+qv(a,A)+s+14+3*F+qv(j,G)+2*j[16]+3*j[17]+7*j[18];if(u>=0&&V<=ee&&V<=ge)return WH(e,h,t.subarray(u,u+f));var se,he,me,_e;if(qu(e,h,1+(ge<ee)),h+=2,ge<ee){se=yy(y,g,0),he=y,me=yy(A,S,0),_e=A;var Ue=yy(G,P,0);qu(e,h,k-257),qu(e,h+5,K-1),qu(e,h+10,F-4),h+=14;for(var L=0;L<F;++L)qu(e,h+3*L,G[XL[L]]);h+=3*F;for(var ne=[q,$],M=0;M<2;++M)for(var X=ne[M],L=0;L<X.length;++L){var Z=X[L]&31;qu(e,h,Ue[Z]),h+=G[Z],Z>15&&(qu(e,h,X[L]>>5&127),h+=X[L]>>12)}}else se=U2e,he=cp,me=B2e,_e=m_;for(var L=0;L<l;++L){var fe=r[L];if(fe>255){var Z=fe>>18&31;zv(e,h,se[Z+257]),h+=he[Z+257],Z>7&&(qu(e,h,fe>>23&31),h+=s4[Z]);var pe=fe&31;zv(e,h,me[pe]),h+=_e[pe],pe>3&&(zv(e,h,fe>>5&8191),h+=o4[pe])}else zv(e,h,se[fe]),h+=he[fe]}return zv(e,h,se[256]),h+he[256]},z2e=new a4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KH=new hc(0),q2e=function(t,e,n,r,i,a){var s=a.z||t.length,l=new hc(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),f=a.l,h=(a.r||0)&7;if(e){h&&(u[0]=a.r>>3);for(var p=z2e[e-1],y=p>>13,g=p&8191,E=(1<<n)-1,A=a.p||new Xo(32768),S=a.h||new Xo(E+1),I=Math.ceil(n/3),q=2*I,k=function(it){return(t[it]^t[it+1]<<I^t[it+2]<<q)&E},B=new a4(25e3),$=new Xo(288),K=new Xo(32),j=0,L=0,D=a.i||0,G=0,P=a.w||0,F=0;D+2<s;++D){var V=k(D),ee=D&32767,ge=S[V];if(A[ee]=ge,S[V]=ee,P<=D){var se=s-D;if((j>7e3||G>24576)&&(se>423||!f)){h=ZL(t,u,0,B,$,K,L,G,F,D-F,h),G=j=L=0,F=D;for(var he=0;he<286;++he)$[he]=0;for(var he=0;he<30;++he)K[he]=0}var me=2,_e=0,Ue=g,ne=ee-ge&32767;if(se>2&&V==k(D-ne))for(var M=Math.min(y,se)-1,X=Math.min(32767,D),Z=Math.min(258,se);ne<=X&&--Ue&&ee!=ge;){if(t[D+me]==t[D+me-ne]){for(var fe=0;fe<Z&&t[D+fe]==t[D+fe-ne];++fe);if(fe>me){if(me=fe,_e=ne,fe>M)break;for(var pe=Math.min(ne,fe-2),ye=0,he=0;he<pe;++he){var Pe=D-ne+he&32767,de=A[Pe],Ce=Pe-de&32767;Ce>ye&&(ye=Ce,ge=Pe)}}}ee=ge,ge=A[ee],ne+=ee-ge&32767}if(_e){B[G++]=268435456|IT[me]<<18|QL[_e];var Ve=IT[me]&31,Se=QL[_e]&31;L+=s4[Ve]+o4[Se],++$[257+Ve],++K[Se],P=D+me,++j}else B[G++]=t[D],++$[t[D]]}}for(D=Math.max(D,P);D<s;++D)B[G++]=t[D],++$[t[D]];h=ZL(t,u,f,B,$,K,L,G,F,D-F,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=S,a.p=A,a.i=D,a.w=P)}else{for(var D=a.w||0;D<s+f;D+=65535){var rt=D+65535;rt>=s&&(u[h/8|0]=f,rt=s),h=WH(u,h+1,t.subarray(D,rt))}a.i=s}return V2e(l,0,r+YH(h)+i)},XH=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},H2e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new hc(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return q2e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},QH=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},$2e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=XH();i.p(e.dictionary),QH(t,2,i.d())}};function OT(t,e){e||(e={});var n=XH();n.p(t);var r=H2e(t,e,e.dictionary?6:2,4);return $2e(r,e),QH(r,r.length-4,n.d()),r}var G2e=typeof TextDecoder<"u"&&new TextDecoder,Y2e=0;try{G2e.decode(KH,{stream:!0}),Y2e=1}catch{}function W2e(t){if(Array.isArray(t))return t}function K2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,i=h}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function X2e(t,e){if(t){if(typeof t=="string")return ej(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ej(t,e):void 0}}function Q2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tj(t,e){return W2e(t)||K2e(t,e)||X2e(t,e)||Q2e()}function nj(t,e="utf8"){return new TextDecoder(e).decode(t)}const J2e=new TextEncoder;function Z2e(t){return J2e.encode(t)}const e_e=1024*8,t_e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),bA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l4{constructor(e=e_e,n={}){lr(this,"buffer");lr(this,"byteLength");lr(this,"byteOffset");lr(this,"length");lr(this,"offset");lr(this,"lastWrittenByte");lr(this,"littleEndian");lr(this,"_data");lr(this,"_mark");lr(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof l4)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=bA[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===t_e&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const u=new bA[n](l.buffer);return this.offset+=r,u.reverse(),u}const s=new bA[n](a);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return nj(this.readBytes(e))}decodeText(e=1,n="utf8"){return nj(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Z2e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zg(t){let e=t.length;for(;--e>=0;)t[e]=0}const n_e=3,r_e=258,JH=29,i_e=256,a_e=i_e+1+JH,ZH=30,s_e=512,o_e=new Array((a_e+2)*2);zg(o_e);const l_e=new Array(ZH*2);zg(l_e);const c_e=new Array(s_e);zg(c_e);const u_e=new Array(r_e-n_e+1);zg(u_e);const f_e=new Array(JH);zg(f_e);const h_e=new Array(ZH);zg(h_e);const d_e=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var RT=d_e;const p_e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},m_e=new Uint32Array(p_e()),g_e=(t,e,n,r)=>{const i=m_e,a=r+n;t^=-1;for(let s=r;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Fc=g_e,DT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},e$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const v_e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var y_e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)v_e(n,r)&&(t[r]=n[r])}}return t},b_e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let s=t[r];n.set(s,i),i+=s.length}return n},t$={assign:y_e,flattenChunks:b_e};let n$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n$=!1}const l0=new Uint8Array(256);for(let t=0;t<256;t++)l0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;l0[254]=l0[254]=1;var __e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,s=t.length,l=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const x_e=(t,e)=>{if(e<65534&&t.subarray&&n$)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var w_e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){a[i++]=s;continue}let l=l0[s];if(l>4){a[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|t[r++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return x_e(a,i)},E_e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+l0[t[n]]>e?n:e},kT={string2buf:__e,buf2string:w_e,utf8border:E_e};function A_e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S_e=A_e;const bb=16209,T_e=16191;var N_e=function(e,n){let r,i,a,s,l,u,f,h,p,y,g,E,A,S,I,q,k,B,$,K,j,L,D,G;const P=e.state;r=e.next_in,D=e.input,i=r+(e.avail_in-5),a=e.next_out,G=e.output,s=a-(n-e.avail_out),l=a+(e.avail_out-257),u=P.dmax,f=P.wsize,h=P.whave,p=P.wnext,y=P.window,g=P.hold,E=P.bits,A=P.lencode,S=P.distcode,I=(1<<P.lenbits)-1,q=(1<<P.distbits)-1;e:do{E<15&&(g+=D[r++]<<E,E+=8,g+=D[r++]<<E,E+=8),k=A[g&I];t:for(;;){if(B=k>>>24,g>>>=B,E-=B,B=k>>>16&255,B===0)G[a++]=k&65535;else if(B&16){$=k&65535,B&=15,B&&(E<B&&(g+=D[r++]<<E,E+=8),$+=g&(1<<B)-1,g>>>=B,E-=B),E<15&&(g+=D[r++]<<E,E+=8,g+=D[r++]<<E,E+=8),k=S[g&q];n:for(;;){if(B=k>>>24,g>>>=B,E-=B,B=k>>>16&255,B&16){if(K=k&65535,B&=15,E<B&&(g+=D[r++]<<E,E+=8,E<B&&(g+=D[r++]<<E,E+=8)),K+=g&(1<<B)-1,K>u){e.msg="invalid distance too far back",P.mode=bb;break e}if(g>>>=B,E-=B,B=a-s,K>B){if(B=K-B,B>h&&P.sane){e.msg="invalid distance too far back",P.mode=bb;break e}if(j=0,L=y,p===0){if(j+=f-B,B<$){$-=B;do G[a++]=y[j++];while(--B);j=a-K,L=G}}else if(p<B){if(j+=f+p-B,B-=p,B<$){$-=B;do G[a++]=y[j++];while(--B);if(j=0,p<$){B=p,$-=B;do G[a++]=y[j++];while(--B);j=a-K,L=G}}}else if(j+=p-B,B<$){$-=B;do G[a++]=y[j++];while(--B);j=a-K,L=G}for(;$>2;)G[a++]=L[j++],G[a++]=L[j++],G[a++]=L[j++],$-=3;$&&(G[a++]=L[j++],$>1&&(G[a++]=L[j++]))}else{j=a-K;do G[a++]=G[j++],G[a++]=G[j++],G[a++]=G[j++],$-=3;while($>2);$&&(G[a++]=G[j++],$>1&&(G[a++]=G[j++]))}}else if((B&64)===0){k=S[(k&65535)+(g&(1<<B)-1)];continue n}else{e.msg="invalid distance code",P.mode=bb;break e}break}}else if((B&64)===0){k=A[(k&65535)+(g&(1<<B)-1)];continue t}else if(B&32){P.mode=T_e;break e}else{e.msg="invalid literal/length code",P.mode=bb;break e}break}}while(r<i&&a<l);$=E>>3,r-=$,E-=$<<3,g&=(1<<E)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<l?257+(l-a):257-(a-l),P.hold=g,P.bits=E};const dm=15,rj=852,ij=592,aj=0,_A=1,sj=2,I_e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),C_e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),P_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),O_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),R_e=(t,e,n,r,i,a,s,l)=>{const u=l.bits;let f=0,h=0,p=0,y=0,g=0,E=0,A=0,S=0,I=0,q=0,k,B,$,K,j,L=null,D;const G=new Uint16Array(dm+1),P=new Uint16Array(dm+1);let F=null,V,ee,ge;for(f=0;f<=dm;f++)G[f]=0;for(h=0;h<r;h++)G[e[n+h]]++;for(g=u,y=dm;y>=1&&G[y]===0;y--);if(g>y&&(g=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<y&&G[p]===0;p++);for(g<p&&(g=p),S=1,f=1;f<=dm;f++)if(S<<=1,S-=G[f],S<0)return-1;if(S>0&&(t===aj||y!==1))return-1;for(P[1]=0,f=1;f<dm;f++)P[f+1]=P[f]+G[f];for(h=0;h<r;h++)e[n+h]!==0&&(s[P[e[n+h]]++]=h);if(t===aj?(L=F=s,D=20):t===_A?(L=I_e,F=C_e,D=257):(L=P_e,F=O_e,D=0),q=0,h=0,f=p,j=a,E=g,A=0,$=-1,I=1<<g,K=I-1,t===_A&&I>rj||t===sj&&I>ij)return 1;for(;;){V=f-A,s[h]+1<D?(ee=0,ge=s[h]):s[h]>=D?(ee=F[s[h]-D],ge=L[s[h]-D]):(ee=96,ge=0),k=1<<f-A,B=1<<E,p=B;do B-=k,i[j+(q>>A)+B]=V<<24|ee<<16|ge|0;while(B!==0);for(k=1<<f-1;q&k;)k>>=1;if(k!==0?(q&=k-1,q+=k):q=0,h++,--G[f]===0){if(f===y)break;f=e[n+s[h]]}if(f>g&&(q&K)!==$){for(A===0&&(A=g),j+=p,E=f-A,S=1<<E;E+A<y&&(S-=G[E+A],!(S<=0));)E++,S<<=1;if(I+=1<<E,t===_A&&I>rj||t===sj&&I>ij)return 1;$=q&K,i[$]=g<<24|E<<16|j-a|0}}return q!==0&&(i[j+q]=f-A<<24|64<<16|0),l.bits=g,0};var by=R_e;const D_e=0,r$=1,i$=2,{Z_FINISH:oj,Z_BLOCK:k_e,Z_TREES:_b,Z_OK:up,Z_STREAM_END:L_e,Z_NEED_DICT:j_e,Z_STREAM_ERROR:kl,Z_DATA_ERROR:a$,Z_MEM_ERROR:s$,Z_BUF_ERROR:M_e,Z_DEFLATED:lj}=e$,Qx=16180,cj=16181,uj=16182,fj=16183,hj=16184,dj=16185,pj=16186,mj=16187,gj=16188,vj=16189,g_=16190,Hu=16191,xA=16192,yj=16193,wA=16194,bj=16195,_j=16196,xj=16197,wj=16198,xb=16199,wb=16200,Ej=16201,Aj=16202,Sj=16203,Tj=16204,Nj=16205,EA=16206,Ij=16207,Cj=16208,ai=16209,o$=16210,l$=16211,F_e=852,U_e=592,B_e=15,V_e=B_e,Pj=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function z_e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _p=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Qx||e.mode>l$?1:0},c$=t=>{if(_p(t))return kl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Qx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(F_e),e.distcode=e.distdyn=new Int32Array(U_e),e.sane=1,e.back=-1,up},u$=t=>{if(_p(t))return kl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,c$(t)},f$=(t,e)=>{let n;if(_p(t))return kl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?kl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,u$(t))},h$=(t,e)=>{if(!t)return kl;const n=new z_e;t.state=n,n.strm=t,n.window=null,n.mode=Qx;const r=f$(t,e);return r!==up&&(t.state=null),r},q_e=t=>h$(t,V_e);let Oj=!0,AA,SA;const H_e=t=>{if(Oj){AA=new Int32Array(512),SA=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(by(r$,t.lens,0,288,AA,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;by(i$,t.lens,0,32,SA,0,t.work,{bits:5}),Oj=!1}t.lencode=AA,t.lenbits=9,t.distcode=SA,t.distbits=5},d$=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},$_e=(t,e)=>{let n,r,i,a,s,l,u,f,h,p,y,g,E,A,S=0,I,q,k,B,$,K,j,L;const D=new Uint8Array(4);let G,P;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_p(t)||!t.output||!t.input&&t.avail_in!==0)return kl;n=t.state,n.mode===Hu&&(n.mode=xA),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,f=n.hold,h=n.bits,p=l,y=u,L=up;e:for(;;)switch(n.mode){case Qx:if(n.wrap===0){n.mode=xA;break}for(;h<16;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=f&255,D[1]=f>>>8&255,n.check=Fc(n.check,D,2,0),f=0,h=0,n.mode=cj;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ai;break}if((f&15)!==lj){t.msg="unknown compression method",n.mode=ai;break}if(f>>>=4,h-=4,j=(f&15)+8,n.wbits===0&&(n.wbits=j),j>15||j>n.wbits){t.msg="invalid window size",n.mode=ai;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?vj:Hu,f=0,h=0;break;case cj:for(;h<16;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(n.flags=f,(n.flags&255)!==lj){t.msg="unknown compression method",n.mode=ai;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ai;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,n.check=Fc(n.check,D,2,0)),f=0,h=0,n.mode=uj;case uj:for(;h<32;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,D[2]=f>>>16&255,D[3]=f>>>24&255,n.check=Fc(n.check,D,4,0)),f=0,h=0,n.mode=fj;case fj:for(;h<16;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,n.check=Fc(n.check,D,2,0)),f=0,h=0,n.mode=hj;case hj:if(n.flags&1024){for(;h<16;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(D[0]=f&255,D[1]=f>>>8&255,n.check=Fc(n.check,D,2,0)),f=0,h=0}else n.head&&(n.head.extra=null);n.mode=dj;case dj:if(n.flags&1024&&(g=n.length,g>l&&(g=l),g&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+g),j)),n.flags&512&&n.wrap&4&&(n.check=Fc(n.check,r,g,a)),l-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=pj;case pj:if(n.flags&2048){if(l===0)break e;g=0;do j=r[a+g++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j));while(j&&g<l);if(n.flags&512&&n.wrap&4&&(n.check=Fc(n.check,r,g,a)),l-=g,a+=g,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=mj;case mj:if(n.flags&4096){if(l===0)break e;g=0;do j=r[a+g++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j));while(j&&g<l);if(n.flags&512&&n.wrap&4&&(n.check=Fc(n.check,r,g,a)),l-=g,a+=g,j)break e}else n.head&&(n.head.comment=null);n.mode=gj;case gj:if(n.flags&512){for(;h<16;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ai;break}f=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Hu;break;case vj:for(;h<32;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}t.adler=n.check=Pj(f),f=0,h=0,n.mode=g_;case g_:if(n.havedict===0)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=f,n.bits=h,j_e;t.adler=n.check=1,n.mode=Hu;case Hu:if(e===k_e||e===_b)break e;case xA:if(n.last){f>>>=h&7,h-=h&7,n.mode=EA;break}for(;h<3;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}switch(n.last=f&1,f>>>=1,h-=1,f&3){case 0:n.mode=yj;break;case 1:if(H_e(n),n.mode=xb,e===_b){f>>>=2,h-=2;break e}break;case 2:n.mode=_j;break;case 3:t.msg="invalid block type",n.mode=ai}f>>>=2,h-=2;break;case yj:for(f>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ai;break}if(n.length=f&65535,f=0,h=0,n.mode=wA,e===_b)break e;case wA:n.mode=bj;case bj:if(g=n.length,g){if(g>l&&(g=l),g>u&&(g=u),g===0)break e;i.set(r.subarray(a,a+g),s),l-=g,a+=g,u-=g,s+=g,n.length-=g;break}n.mode=Hu;break;case _j:for(;h<14;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(n.nlen=(f&31)+257,f>>>=5,h-=5,n.ndist=(f&31)+1,f>>>=5,h-=5,n.ncode=(f&15)+4,f>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ai;break}n.have=0,n.mode=xj;case xj:for(;n.have<n.ncode;){for(;h<3;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}n.lens[F[n.have++]]=f&7,f>>>=3,h-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},L=by(D_e,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,L){t.msg="invalid code lengths set",n.mode=ai;break}n.have=0,n.mode=wj;case wj:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[f&(1<<n.lenbits)-1],I=S>>>24,q=S>>>16&255,k=S&65535,!(I<=h);){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(k<16)f>>>=I,h-=I,n.lens[n.have++]=k;else{if(k===16){for(P=I+2;h<P;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(f>>>=I,h-=I,n.have===0){t.msg="invalid bit length repeat",n.mode=ai;break}j=n.lens[n.have-1],g=3+(f&3),f>>>=2,h-=2}else if(k===17){for(P=I+3;h<P;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}f>>>=I,h-=I,j=0,g=3+(f&7),f>>>=3,h-=3}else{for(P=I+7;h<P;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}f>>>=I,h-=I,j=0,g=11+(f&127),f>>>=7,h-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ai;break}for(;g--;)n.lens[n.have++]=j}}if(n.mode===ai)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ai;break}if(n.lenbits=9,G={bits:n.lenbits},L=by(r$,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,L){t.msg="invalid literal/lengths set",n.mode=ai;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},L=by(i$,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,L){t.msg="invalid distances set",n.mode=ai;break}if(n.mode=xb,e===_b)break e;case xb:n.mode=wb;case wb:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=f,n.bits=h,N_e(t,y),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,f=n.hold,h=n.bits,n.mode===Hu&&(n.back=-1);break}for(n.back=0;S=n.lencode[f&(1<<n.lenbits)-1],I=S>>>24,q=S>>>16&255,k=S&65535,!(I<=h);){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(q&&(q&240)===0){for(B=I,$=q,K=k;S=n.lencode[K+((f&(1<<B+$)-1)>>B)],I=S>>>24,q=S>>>16&255,k=S&65535,!(B+I<=h);){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}f>>>=B,h-=B,n.back+=B}if(f>>>=I,h-=I,n.back+=I,n.length=k,q===0){n.mode=Nj;break}if(q&32){n.back=-1,n.mode=Hu;break}if(q&64){t.msg="invalid literal/length code",n.mode=ai;break}n.extra=q&15,n.mode=Ej;case Ej:if(n.extra){for(P=n.extra;h<P;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Aj;case Aj:for(;S=n.distcode[f&(1<<n.distbits)-1],I=S>>>24,q=S>>>16&255,k=S&65535,!(I<=h);){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if((q&240)===0){for(B=I,$=q,K=k;S=n.distcode[K+((f&(1<<B+$)-1)>>B)],I=S>>>24,q=S>>>16&255,k=S&65535,!(B+I<=h);){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}f>>>=B,h-=B,n.back+=B}if(f>>>=I,h-=I,n.back+=I,q&64){t.msg="invalid distance code",n.mode=ai;break}n.offset=k,n.extra=q&15,n.mode=Sj;case Sj:if(n.extra){for(P=n.extra;h<P;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ai;break}n.mode=Tj;case Tj:if(u===0)break e;if(g=y-u,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ai;break}g>n.wnext?(g-=n.wnext,E=n.wsize-g):E=n.wnext-g,g>n.length&&(g=n.length),A=n.window}else A=i,E=s-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do i[s++]=A[E++];while(--g);n.length===0&&(n.mode=wb);break;case Nj:if(u===0)break e;i[s++]=n.length,u--,n.mode=wb;break;case EA:if(n.wrap){for(;h<32;){if(l===0)break e;l--,f|=r[a++]<<h,h+=8}if(y-=u,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Fc(n.check,i,y,s-y):RT(n.check,i,y,s-y)),y=u,n.wrap&4&&(n.flags?f:Pj(f))!==n.check){t.msg="incorrect data check",n.mode=ai;break}f=0,h=0}n.mode=Ij;case Ij:if(n.wrap&&n.flags){for(;h<32;){if(l===0)break e;l--,f+=r[a++]<<h,h+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ai;break}f=0,h=0}n.mode=Cj;case Cj:L=L_e;break e;case ai:L=a$;break e;case o$:return s$;case l$:default:return kl}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=f,n.bits=h,(n.wsize||y!==t.avail_out&&n.mode<ai&&(n.mode<EA||e!==oj))&&d$(t,t.output,t.next_out,y-t.avail_out),p-=t.avail_in,y-=t.avail_out,t.total_in+=p,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Fc(n.check,i,y,t.next_out-y):RT(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Hu?128:0)+(n.mode===xb||n.mode===wA?256:0),(p===0&&y===0||e===oj)&&L===up&&(L=M_e),L},G_e=t=>{if(_p(t))return kl;let e=t.state;return e.window&&(e.window=null),t.state=null,up},Y_e=(t,e)=>{if(_p(t))return kl;const n=t.state;return(n.wrap&2)===0?kl:(n.head=e,e.done=!1,up)},W_e=(t,e)=>{const n=e.length;let r,i,a;return _p(t)||(r=t.state,r.wrap!==0&&r.mode!==g_)?kl:r.mode===g_&&(i=1,i=RT(i,e,n,0),i!==r.check)?a$:(a=d$(t,e,n,n),a?(r.mode=o$,s$):(r.havedict=1,up))};var K_e=u$,X_e=f$,Q_e=c$,J_e=q_e,Z_e=h$,exe=$_e,txe=G_e,nxe=Y_e,rxe=W_e,ixe="pako inflate (from Nodeca project)",Gu={inflateReset:K_e,inflateReset2:X_e,inflateResetKeep:Q_e,inflateInit:J_e,inflateInit2:Z_e,inflate:exe,inflateEnd:txe,inflateGetHeader:nxe,inflateSetDictionary:rxe,inflateInfo:ixe};function axe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sxe=axe;const p$=Object.prototype.toString,{Z_NO_FLUSH:oxe,Z_FINISH:lxe,Z_OK:c0,Z_STREAM_END:TA,Z_NEED_DICT:NA,Z_STREAM_ERROR:cxe,Z_DATA_ERROR:Rj,Z_MEM_ERROR:uxe}=e$;function n1(t){this.options=t$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S_e,this.strm.avail_out=0;let n=Gu.inflateInit2(this.strm,e.windowBits);if(n!==c0)throw new Error(DT[n]);if(this.header=new sxe,Gu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=kT.string2buf(e.dictionary):p$.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Gu.inflateSetDictionary(this.strm,e.dictionary),n!==c0)))throw new Error(DT[n])}n1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?lxe:oxe,p$.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Gu.inflate(n,s),a===NA&&i&&(a=Gu.inflateSetDictionary(n,i),a===c0?a=Gu.inflate(n,s):a===Rj&&(a=NA));n.avail_in>0&&a===TA&&n.state.wrap>0&&t[n.next_in]!==0;)Gu.inflateReset(n),a=Gu.inflate(n,s);switch(a){case cxe:case Rj:case NA:case uxe:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===TA))if(this.options.to==="string"){let u=kT.utf8border(n.output,n.next_out),f=n.next_out-u,h=kT.buf2string(n.output,u);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(u,u+f),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===c0&&l===0)){if(a===TA)return a=Gu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};n1.prototype.onData=function(t){this.chunks.push(t)};n1.prototype.onEnd=function(t){t===c0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function fxe(t,e){const n=new n1(e);if(n.push(t),n.err)throw n.msg||DT[n.err];return n.result}var hxe=n1,dxe=fxe,pxe={Inflate:hxe,inflate:dxe};const{Inflate:mxe,inflate:gxe}=pxe;var Dj=mxe,vxe=gxe;const m$=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;m$[t]=e}const kj=4294967295;function yxe(t,e,n){let r=t;for(let i=0;i<n;i++)r=m$[(r^e[i])&255]^r>>>8;return r}function bxe(t,e){return(yxe(kj,t,e)^kj)>>>0}function Lj(t,e,n){const r=t.readUint32(),i=bxe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function g$(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function v$(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function y$(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function b$(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function _$(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+_xe(e[a-i],n[a],n[a-i])&255}}function _xe(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),s=Math.abs(r-n);return i<=a&&i<=s?t:a<=s?e:n}function xxe(t,e,n,r,i,a){switch(t){case 0:g$(e,n,i);break;case 1:v$(e,n,i,a);break;case 2:y$(e,n,r,i);break;case 3:b$(e,n,r,i,a);break;case 4:_$(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wxe=new Uint16Array([255]),Exe=new Uint8Array(wxe.buffer),Axe=Exe[0]===255;function Sxe(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,u=new Uint8Array(r*n*l);let f=0;for(let h=0;h<7;h++){const p=s[h],y=Math.ceil((n-p.x)/p.xStep),g=Math.ceil((r-p.y)/p.yStep);if(y<=0||g<=0)continue;const E=y*l,A=new Uint8Array(E);for(let S=0;S<g;S++){const I=e[f++],q=e.subarray(f,f+E);f+=E;const k=new Uint8Array(E);xxe(I,q,k,A,E,l),A.set(k);for(let B=0;B<y;B++){const $=p.x+B*p.xStep,K=p.y+S*p.yStep;if(!($>=n||K>=r))for(let j=0;j<l;j++)u[(K*n+$)*l+j]=k[B*l+j]}}}if(a===16){const h=new Uint16Array(u.buffer);if(Axe)for(let p=0;p<h.length;p++)h[p]=Txe(h[p]);return h}else return u}function Txe(t){return(t&255)<<8|t>>8&255}const Nxe=new Uint16Array([255]),Ixe=new Uint8Array(Nxe.buffer),Cxe=Ixe[0]===255,Pxe=new Uint8Array(0);function jj(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*n),u=new Uint8Array(r*l);let f=Pxe,h=0,p,y;for(let g=0;g<r;g++){switch(p=e.subarray(h+1,h+1+l),y=u.subarray(g*l,(g+1)*l),e[h]){case 0:g$(p,y,l);break;case 1:v$(p,y,l,s);break;case 2:y$(p,y,f,l);break;case 3:b$(p,y,f,l,s);break;case 4:_$(p,y,f,l,s);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}f=y,h+=l+1}if(a===16){const g=new Uint16Array(u.buffer);if(Cxe)for(let E=0;E<g.length;E++)g[E]=Oxe(g[E]);return g}else return u}function Oxe(t){return(t&255)<<8|t>>8&255}const Gb=Uint8Array.of(137,80,78,71,13,10,26,10);function Mj(t){if(!Rxe(t.readBytes(Gb.length)))throw new Error("wrong PNG signature")}function Rxe(t){if(t.length<Gb.length)return!1;for(let e=0;e<Gb.length;e++)if(t[e]!==Gb[e])return!1;return!0}const Dxe="tEXt",kxe=0,x$=new TextDecoder("latin1");function Lxe(t){if(Mxe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const jxe=/^[\u0000-\u00FF]*$/;function Mxe(t){if(!jxe.test(t))throw new Error("invalid latin1 text")}function Fxe(t,e,n){const r=w$(e);t[r]=Uxe(e,n-r.length-1)}function w$(t){for(t.mark();t.readByte()!==kxe;);const e=t.offset;t.reset();const n=x$.decode(t.readBytes(e-t.offset-1));return t.skip(1),Lxe(n),n}function Uxe(t,e){return x$.decode(t.readBytes(e))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},IA={UNKNOWN:-1,DEFLATE:0},Fj={UNKNOWN:-1,ADAPTIVE:0},CA={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Eb={NONE:0,BACKGROUND:1,PREVIOUS:2},PA={SOURCE:0,OVER:1};class Bxe extends l4{constructor(n,r={}){super(n);lr(this,"_checkCrc");lr(this,"_inflator");lr(this,"_png");lr(this,"_apng");lr(this,"_end");lr(this,"_hasPalette");lr(this,"_palette");lr(this,"_hasTransparency");lr(this,"_transparency");lr(this,"_compressionMethod");lr(this,"_filterMethod");lr(this,"_interlaceMethod");lr(this,"_colorType");lr(this,"_isAnimated");lr(this,"_numberOfFrames");lr(this,"_numberOfPlays");lr(this,"_frames");lr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Dj,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=IA.UNKNOWN,this._filterMethod=Fj.UNKNOWN,this._interlaceMethod=CA.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Mj(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Mj(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Dxe:Fxe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Lj(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Lj(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Vxe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Vo.GREYSCALE:i=1;break;case Vo.TRUECOLOUR:i=3;break;case Vo.INDEXED_COLOUR:i=1;break;case Vo.GREYSCALE_ALPHA:i=2;break;case Vo.TRUECOLOUR_ALPHA:i=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==IA.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=w$(this),i=this.readUint8();if(i!==IA.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:vxe(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=jj({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Eb.NONE:break;case Eb.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const l=(a*n.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)i.data[l+u]=0}break;case Eb.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,l)=>{const u=((s+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,f=(s*r.width+l)*this._png.channels;return{index:u,frameIndex:f}};switch(r.blendOp){case PA.SOURCE:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:u,frameIndex:f}=a(s,l);for(let h=0;h<this._png.channels;h++)n.data[u+h]=r.data[f+h]}break;case PA.OVER:for(let s=0;s<r.height;s++)for(let l=0;l<r.width;l++){const{index:u,frameIndex:f}=a(s,l);for(let h=0;h<this._png.channels;h++){const p=r.data[f+this._png.channels-1]/i,y=h%(this._png.channels-1)===0?1:r.data[f+h],g=Math.floor(p*y+(1-p)*n.data[u+h]);n.data[u+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Fj.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===CA.NO_INTERLACE)this._png.data=jj({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===CA.ADAM7)this._png.data=Sxe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Eb.NONE,blendOp:PA.SOURCE,data:n}),this._inflator=new Dj,this._writingDataChunks=!1}}function Vxe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Uj;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Uj||(Uj={}));function zxe(t,e){return new Bxe(t,e).decode()}var pn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function OA(){pn.console&&typeof pn.console.log=="function"&&pn.console.log.apply(pn.console,arguments)}var Lr={log:OA,warn:function(t){pn.console&&(typeof pn.console.warn=="function"?pn.console.warn.apply(pn.console,arguments):OA.call(null,arguments))},error:function(t){pn.console&&(typeof pn.console.error=="function"?pn.console.error.apply(pn.console,arguments):OA(t))}};function RA(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){bd(r.response,e,n)},r.onerror=function(){Lr.error("could not download file")},r.send()}function Bj(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ab(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var bd=pn.saveAs||((typeof window>"u"?"undefined":br(window))!=="object"||window!==pn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=pn.URL||pn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Bj(i.href)?RA(t,e,n):Ab(i,i.target="_blank"):Ab(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ab(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Bj(t))RA(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ab(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:br(a)!=="object"&&(Lr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return RA(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(pn.HTMLElement)||pn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":br(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(t)}else{var u=pn.URL||pn.webkitURL,f=u.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function E$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}var Yb=pn.atob.bind(pn),Vj=pn.btoa.bind(pn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function DA(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=As(n,r,i,a,e[0],7,-680876936),a=As(a,n,r,i,e[1],12,-389564586),i=As(i,a,n,r,e[2],17,606105819),r=As(r,i,a,n,e[3],22,-1044525330),n=As(n,r,i,a,e[4],7,-176418897),a=As(a,n,r,i,e[5],12,1200080426),i=As(i,a,n,r,e[6],17,-1473231341),r=As(r,i,a,n,e[7],22,-45705983),n=As(n,r,i,a,e[8],7,1770035416),a=As(a,n,r,i,e[9],12,-1958414417),i=As(i,a,n,r,e[10],17,-42063),r=As(r,i,a,n,e[11],22,-1990404162),n=As(n,r,i,a,e[12],7,1804603682),a=As(a,n,r,i,e[13],12,-40341101),i=As(i,a,n,r,e[14],17,-1502002290),n=Ss(n,r=As(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ss(a,n,r,i,e[6],9,-1069501632),i=Ss(i,a,n,r,e[11],14,643717713),r=Ss(r,i,a,n,e[0],20,-373897302),n=Ss(n,r,i,a,e[5],5,-701558691),a=Ss(a,n,r,i,e[10],9,38016083),i=Ss(i,a,n,r,e[15],14,-660478335),r=Ss(r,i,a,n,e[4],20,-405537848),n=Ss(n,r,i,a,e[9],5,568446438),a=Ss(a,n,r,i,e[14],9,-1019803690),i=Ss(i,a,n,r,e[3],14,-187363961),r=Ss(r,i,a,n,e[8],20,1163531501),n=Ss(n,r,i,a,e[13],5,-1444681467),a=Ss(a,n,r,i,e[2],9,-51403784),i=Ss(i,a,n,r,e[7],14,1735328473),n=Ts(n,r=Ss(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ts(a,n,r,i,e[8],11,-2022574463),i=Ts(i,a,n,r,e[11],16,1839030562),r=Ts(r,i,a,n,e[14],23,-35309556),n=Ts(n,r,i,a,e[1],4,-1530992060),a=Ts(a,n,r,i,e[4],11,1272893353),i=Ts(i,a,n,r,e[7],16,-155497632),r=Ts(r,i,a,n,e[10],23,-1094730640),n=Ts(n,r,i,a,e[13],4,681279174),a=Ts(a,n,r,i,e[0],11,-358537222),i=Ts(i,a,n,r,e[3],16,-722521979),r=Ts(r,i,a,n,e[6],23,76029189),n=Ts(n,r,i,a,e[9],4,-640364487),a=Ts(a,n,r,i,e[12],11,-421815835),i=Ts(i,a,n,r,e[15],16,530742520),n=Ns(n,r=Ts(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ns(a,n,r,i,e[7],10,1126891415),i=Ns(i,a,n,r,e[14],15,-1416354905),r=Ns(r,i,a,n,e[5],21,-57434055),n=Ns(n,r,i,a,e[12],6,1700485571),a=Ns(a,n,r,i,e[3],10,-1894986606),i=Ns(i,a,n,r,e[10],15,-1051523),r=Ns(r,i,a,n,e[1],21,-2054922799),n=Ns(n,r,i,a,e[8],6,1873313359),a=Ns(a,n,r,i,e[15],10,-30611744),i=Ns(i,a,n,r,e[6],15,-1560198380),r=Ns(r,i,a,n,e[13],21,1309151649),n=Ns(n,r,i,a,e[4],6,-145523070),a=Ns(a,n,r,i,e[11],10,-1120210379),i=Ns(i,a,n,r,e[2],15,718787259),r=Ns(r,i,a,n,e[9],21,-343485551),t[0]=mh(n,t[0]),t[1]=mh(r,t[1]),t[2]=mh(i,t[2]),t[3]=mh(a,t[3])}function Jx(t,e,n,r,i,a){return e=mh(mh(e,t),mh(r,a)),mh(e<<i|e>>>32-i,n)}function As(t,e,n,r,i,a,s){return Jx(e&n|~e&r,t,e,i,a,s)}function Ss(t,e,n,r,i,a,s){return Jx(e&r|n&~r,t,e,i,a,s)}function Ts(t,e,n,r,i,a,s){return Jx(e^n^r,t,e,i,a,s)}function Ns(t,e,n,r,i,a,s){return Jx(n^(e|~r),t,e,i,a,s)}function A$(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)DA(r,qxe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(DA(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,DA(r,i),r}function qxe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var zj="0123456789abcdef".split("");function Hxe(t){for(var e="",n=0;n<4;n++)e+=zj[t>>8*n+4&15]+zj[t>>8*n&15];return e}function $xe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function LT(t){return A$(t).map($xe).join("")}var Gxe=(function(t){for(var e=0;e<t.length;e++)t[e]=Hxe(t[e]);return t.join("")})(A$("hello"))!="5d41402abc4b2a76b9719d911017c592";function mh(t,e){if(Gxe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jT(t,e){var n,r,i,a;if(t!==n){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var h=l[u];f=(f+h+s.charCodeAt(u))%256,l[u]=l[f],l[f]=h}n=t,r=l}else l=r;var p=e.length,y=0,g=0,E="";for(u=0;u<p;u++)g=(g+(h=l[y=(y+1)%256]))%256,l[y]=l[g],l[g]=h,s=l[(l[y]+l[g])%256],E+=String.fromCharCode(e.charCodeAt(u)^s);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qj={print:4,modify:8,copy:16,"annot-forms":32};function wm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(qj.perm!==void 0)throw new Error("Invalid permission: "+l);i+=qj[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=LT(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=jT(this.encryptionKey,this.padding)}function Em(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function Hj(t){if(br(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,r)}catch(l){pn.console&&Lr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function v_(t){if(!(this instanceof v_))return new v_(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function S$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Sd(t,e,n,r,i){if(!(this instanceof Sd))return new Sd(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,S$.call(this,r,i)}function Im(t,e,n,r,i){if(!(this instanceof Im))return new Im(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,S$.call(this,r,i)}function qt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,f="S",h=null;br(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),f=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=Hj;var E="1.3",A=g.__private__.getPdfVersion=function(){return E};g.__private__.setPdfVersion=function(N){E=N};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return S};var I=g.__private__.getPageFormat=function(N){return S[N]};i=i||"a4";var q="compat",k="advanced",B=q;function $(){this.saveGraphicsState(),oe(new zt(Et,0,0,-Et,0,Fs()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),f="n",B=k}function K(){this.restoreGraphicsState(),f="S",B=q}var j=g.__private__.combineFontStyleAndFontWeight=function(N,Y){if(N=="bold"&&Y=="normal"||N=="bold"&&Y==400||N=="normal"&&Y=="italic"||N=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(N=Y==400||Y==="normal"?N==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||N!=="normal"?(Y==700?"bold":Y)+""+N:"bold"),N};g.advancedAPI=function(N){var Y=B===q;return Y&&$.call(this),typeof N!="function"||(N(this),Y&&K.call(this)),this},g.compatAPI=function(N){var Y=B===k;return Y&&K.call(this),typeof N!="function"||(N(this),Y&&$.call(this)),this},g.isAdvancedAPI=function(){return B===k};var L,D=function(N){if(B!==k)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=g.roundToPrecision=g.__private__.roundToPrecision=function(N,Y){var ce=e||Y;if(isNaN(N)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ce).replace(/0+$/,"")};L=g.hpf=g.__private__.hpf=typeof u=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,u)}:u==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var P=g.f2=g.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},F=g.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},V=g.scale=g.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return B===q?N*Et:B===k?N:void 0},ee=function(N){return V((function(Y){return B===q?Fs()-Y:B===k?Y:void 0})(N))};g.__private__.setPrecision=g.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var ge,se="00000000000000000000000000000000",he=g.__private__.getFileId=function(){return se},me=g.__private__.setFileId=function(N){return se=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Or=new wm(h.userPermissions,h.userPassword,h.ownerPassword,se)),se};g.setFileId=function(N){return me(N),this},g.getFileId=function(){return he()};var _e=g.__private__.convertDateToPDFDate=function(N){var Y=N.getTimezoneOffset(),ce=Y<0?"+":"-",be=Math.floor(Math.abs(Y/60)),Ae=Math.abs(Y%60),Ye=[ce,Z(be),"'",Z(Ae),"'"].join("");return["D:",N.getFullYear(),Z(N.getMonth()+1),Z(N.getDate()),Z(N.getHours()),Z(N.getMinutes()),Z(N.getSeconds()),Ye].join("")},Ue=g.__private__.convertPDFDateToDate=function(N){var Y=parseInt(N.substr(2,4),10),ce=parseInt(N.substr(6,2),10)-1,be=parseInt(N.substr(8,2),10),Ae=parseInt(N.substr(10,2),10),Ye=parseInt(N.substr(12,2),10),et=parseInt(N.substr(14,2),10);return new Date(Y,ce,be,Ae,Ye,et,0)},ne=g.__private__.setCreationDate=function(N){var Y;if(N===void 0&&(N=new Date),N instanceof Date)Y=_e(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=N}return ge=Y},M=g.__private__.getCreationDate=function(N){var Y=ge;return N==="jsDate"&&(Y=Ue(ge)),Y};g.setCreationDate=function(N){return ne(N),this},g.getCreationDate=function(N){return M(N)};var X,Z=g.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},fe=g.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},pe=0,ye=[],Pe=[],de=0,Ce=[],Ve=[],Se=!1,rt=Pe;g.__private__.setCustomOutputDestination=function(N){Se=!0,rt=N};var it=function(N){Se||(rt=N)};g.__private__.resetCustomOutputDestination=function(){Se=!1,rt=Pe};var oe=g.__private__.out=function(N){return N=N.toString(),de+=N.length+1,rt.push(N),rt},Xe=g.__private__.write=function(N){return oe(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Nt=g.__private__.getArrayBuffer=function(N){for(var Y=N.length,ce=new ArrayBuffer(Y),be=new Uint8Array(ce);Y--;)be[Y]=N.charCodeAt(Y);return ce},yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return yt};var qe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(N){return qe=B===k?N/Et:N,this};var dt,vt=g.__private__.getFontSize=g.getFontSize=function(){return B===q?qe:qe*Et},Ut=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(N){return Ut=N,this},g.__private__.getR2L=g.getR2L=function(){return Ut};var Rt,cn=g.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))dt=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');dt=N}else dt=parseInt(N,10)};g.__private__.getZoomMode=function(){return dt};var fn,Jt=g.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Rt=N};g.__private__.getPageMode=function(){return Rt};var gn=g.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');fn=N};g.__private__.getLayoutMode=function(){return fn},g.__private__.setDisplayMode=g.setDisplayMode=function(N,Y,ce){return cn(N),gn(Y),Jt(ce),this};var st={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(N){if(Object.keys(st).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return st[N]},g.__private__.getDocumentProperties=function(){return st},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(N){for(var Y in st)st.hasOwnProperty(Y)&&N[Y]&&(st[Y]=N[Y]);return this},g.__private__.setDocumentProperty=function(N,Y){if(Object.keys(st).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return st[N]=Y};var ft,Et,Fe,wn,Bt,It={},Mt={},nn=[],_t={},un={},xt={},Vt={},Tn=null,ht=0,gt=[],Kt=new Hj(g),Gn=t.hotfixes||[],Mr={},oa={},fi=[],zt=function N(Y,ce,be,Ae,Ye,et){if(!(this instanceof N))return new N(Y,ce,be,Ae,Ye,et);isNaN(Y)&&(Y=1),isNaN(ce)&&(ce=0),isNaN(be)&&(be=0),isNaN(Ae)&&(Ae=1),isNaN(Ye)&&(Ye=0),isNaN(et)&&(et=0),this._matrix=[Y,ce,be,Ae,Ye,et]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(N)},zt.prototype.multiply=function(N){var Y=N.sx*this.sx+N.shy*this.shx,ce=N.sx*this.shy+N.shy*this.sy,be=N.shx*this.sx+N.sy*this.shx,Ae=N.shx*this.shy+N.sy*this.sy,Ye=N.tx*this.sx+N.ty*this.shx+this.tx,et=N.tx*this.shy+N.ty*this.sy+this.ty;return new zt(Y,ce,be,Ae,Ye,et)},zt.prototype.decompose=function(){var N=this.sx,Y=this.shy,ce=this.shx,be=this.sy,Ae=this.tx,Ye=this.ty,et=Math.sqrt(N*N+Y*Y),Tt=(N/=et)*ce+(Y/=et)*be;ce-=N*Tt,be-=Y*Tt;var Dt=Math.sqrt(ce*ce+be*be);return Tt/=Dt,N*(be/=Dt)<Y*(ce/=Dt)&&(N=-N,Y=-Y,Tt=-Tt,et=-et),{scale:new zt(et,0,0,Dt,0,0),translate:new zt(1,0,0,1,Ae,Ye),rotate:new zt(N,Y,-Y,N,0,0),skew:new zt(1,0,Tt,1,0,0)}},zt.prototype.toString=function(N){return this.join(" ")},zt.prototype.inversed=function(){var N=this.sx,Y=this.shy,ce=this.shx,be=this.sy,Ae=this.tx,Ye=this.ty,et=1/(N*be-Y*ce),Tt=be*et,Dt=-Y*et,Zt=-ce*et,Wt=N*et;return new zt(Tt,Dt,Zt,Wt,-Tt*Ae-Zt*Ye,-Dt*Ae-Wt*Ye)},zt.prototype.applyToPoint=function(N){var Y=N.x*this.sx+N.y*this.shx+this.tx,ce=N.x*this.shy+N.y*this.sy+this.ty;return new Xi(Y,ce)},zt.prototype.applyToRectangle=function(N){var Y=this.applyToPoint(N),ce=this.applyToPoint(new Xi(N.x+N.w,N.y+N.h));return new eo(Y.x,Y.y,ce.x-Y.x,ce.y-Y.y)},zt.prototype.clone=function(){var N=this.sx,Y=this.shy,ce=this.shx,be=this.sy,Ae=this.tx,Ye=this.ty;return new zt(N,Y,ce,be,Ae,Ye)},g.Matrix=zt;var Ls=g.matrixMult=function(N,Y){return Y.multiply(N)},Ri=new zt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ri;var Di=function(N,Y){if(!un[N]){var ce=(Y instanceof Sd?"Sh":"P")+(Object.keys(_t).length+1).toString(10);Y.id=ce,un[N]=ce,_t[ce]=Y,Kt.publish("addPattern",Y)}};g.ShadingPattern=Sd,g.TilingPattern=Im,g.addShadingPattern=function(N,Y){return D("addShadingPattern()"),Di(N,Y),this},g.beginTilingPattern=function(N){D("beginTilingPattern()"),to(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},g.endTilingPattern=function(N,Y){D("endTilingPattern()"),Y.stream=Ve[X].join(`
`),Di(N,Y),Kt.publish("endTilingPattern",Y),fi.pop().restore()};var ki,Xn=g.__private__.newObject=function(){var N=cr();return Xr(N,!0),N},cr=g.__private__.newObjectDeferred=function(){return pe++,ye[pe]=function(){return de},pe},Xr=function(N,Y){return Y=typeof Y=="boolean"&&Y,ye[N]=de,Y&&oe(N+" 0 obj"),N},Li=g.__private__.newAdditionalObject=function(){var N={objId:cr(),content:""};return Ce.push(N),N},hi=cr(),Vn=cr(),ir=g.__private__.decodeColorString=function(N){var Y=N.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ce=parseFloat(Y[0]);Y=[ce,ce,ce,"r"]}for(var be="#",Ae=0;Ae<3;Ae++)be+=("0"+Math.floor(255*parseFloat(Y[Ae])).toString(16)).slice(-2);return be},Qr=g.__private__.encodeColorString=function(N){var Y;typeof N=="string"&&(N={ch1:N});var ce=N.ch1,be=N.ch2,Ae=N.ch3,Ye=N.ch4,et=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var Tt=new E$(ce);if(Tt.ok)ce=Tt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Dt=parseInt(ce.substr(1),16);ce=Dt>>16&255,be=Dt>>8&255,Ae=255&Dt}if(be===void 0||Ye===void 0&&ce===be&&be===Ae)Y=typeof ce=="string"?ce+" "+et[0]:N.precision===2?P(ce/255)+" "+et[0]:F(ce/255)+" "+et[0];else if(Ye===void 0||br(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",et[1]].join(" ");Y=typeof ce=="string"?[ce,be,Ae,et[1]].join(" "):N.precision===2?[P(ce/255),P(be/255),P(Ae/255),et[1]].join(" "):[F(ce/255),F(be/255),F(Ae/255),et[1]].join(" ")}else Y=typeof ce=="string"?[ce,be,Ae,Ye,et[2]].join(" "):N.precision===2?[P(ce),P(be),P(Ae),P(Ye),et[2]].join(" "):[F(ce),F(be),F(Ae),F(Ye),et[2]].join(" ");return Y},Wi=g.__private__.getFilters=function(){return s},Ca=g.__private__.putStream=function(N){var Y=(N=N||{}).data||"",ce=N.filters||Wi(),be=N.alreadyAppliedFilters||[],Ae=N.addLength1||!1,Ye=Y.length,et=N.objectId,Tt=function(R){return R};if(h!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Tt=Or.encryptor(et,0));var Dt={};ce===!0&&(ce=["FlateEncode"]);var Zt=N.additionalKeyValues||[],Wt=(Dt=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(Y,ce):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(Dt.data.length!==0&&(Zt.push({key:"Length",value:Dt.data.length}),Ae===!0&&Zt.push({key:"Length1",value:Ye})),Wt.length!=0)if(Wt.split("/").length-1==1)Zt.push({key:"Filter",value:Wt});else{Zt.push({key:"Filter",value:"["+Wt+"]"});for(var In=0;In<Zt.length;In+=1)if(Zt[In].key==="DecodeParms"){for(var Er=[],fr=0;fr<Dt.reverseChain.split("/").length-1;fr+=1)Er.push("null");Er.push(Zt[In].value),Zt[In].value="["+Er.join(" ")+"]"}}oe("<<");for(var _=0;_<Zt.length;_++)oe("/"+Zt[_].key+" "+Zt[_].value);oe(">>"),Dt.data.length!==0&&(oe("stream"),oe(Tt(Dt.data)),oe("endstream"))},Js=g.__private__.putPage=function(N){var Y=N.number,ce=N.data,be=N.objId,Ae=N.contentsObjId;Xr(be,!0),oe("<</Type /Page"),oe("/Parent "+N.rootDictionaryObjId+" 0 R"),oe("/Resources "+N.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(L(N.mediaBox.bottomLeftX))+" "+parseFloat(L(N.mediaBox.bottomLeftY))+" "+L(N.mediaBox.topRightX)+" "+L(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&oe("/CropBox ["+L(N.cropBox.bottomLeftX)+" "+L(N.cropBox.bottomLeftY)+" "+L(N.cropBox.topRightX)+" "+L(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&oe("/BleedBox ["+L(N.bleedBox.bottomLeftX)+" "+L(N.bleedBox.bottomLeftY)+" "+L(N.bleedBox.topRightX)+" "+L(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&oe("/TrimBox ["+L(N.trimBox.bottomLeftX)+" "+L(N.trimBox.bottomLeftY)+" "+L(N.trimBox.topRightX)+" "+L(N.trimBox.topRightY)+"]"),N.artBox!==null&&oe("/ArtBox ["+L(N.artBox.bottomLeftX)+" "+L(N.artBox.bottomLeftY)+" "+L(N.artBox.topRightX)+" "+L(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&oe("/UserUnit "+N.userUnit),Kt.publish("putPage",{objId:be,pageContext:gt[Y],pageNumber:Y,page:ce}),oe("/Contents "+Ae+" 0 R"),oe(">>"),oe("endobj");var Ye=ce.join(`
`);return B===k&&(Ye+=`
Q`),Xr(Ae,!0),Ca({data:Ye,filters:Wi(),objectId:Ae}),oe("endobj"),be},Ha=g.__private__.putPages=function(){var N,Y,ce=[];for(N=1;N<=ht;N++)gt[N].objId=cr(),gt[N].contentsObjId=cr();for(N=1;N<=ht;N++)ce.push(Js({number:N,data:Ve[N],objId:gt[N].objId,contentsObjId:gt[N].contentsObjId,mediaBox:gt[N].mediaBox,cropBox:gt[N].cropBox,bleedBox:gt[N].bleedBox,trimBox:gt[N].trimBox,artBox:gt[N].artBox,userUnit:gt[N].userUnit,rootDictionaryObjId:hi,resourceDictionaryObjId:Vn}));Xr(hi,!0),oe("<</Type /Pages");var be="/Kids [";for(Y=0;Y<ht;Y++)be+=ce[Y]+" 0 R ";oe(be+"]"),oe("/Count "+ht),oe(">>"),oe("endobj"),Kt.publish("postPutPages")},ji=function(N){Kt.publish("putFont",{font:N,out:oe,newObject:Xn,putStream:Ca}),N.isAlreadyPutted!==!0&&(N.objectNumber=Xn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Em(N.postScriptName)),oe("/Subtype /Type1"),typeof N.encoding=="string"&&oe("/Encoding /"+N.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ms=function(N){N.objectNumber=Xn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[L(N.x),L(N.y),L(N.x+N.width),L(N.y+N.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ce=N.pages[1].join(`
`);Ca({data:ce,additionalKeyValues:Y,objectId:N.objectNumber}),oe("endobj")},nt=function(N,Y){Y||(Y=21);var ce=Xn(),be=(function(et,Tt){var Dt,Zt=[],Wt=1/(Tt-1);for(Dt=0;Dt<1;Dt+=Wt)Zt.push(Dt);if(Zt.push(1),et[0].offset!=0){var In={offset:0,color:et[0].color};et.unshift(In)}if(et[et.length-1].offset!=1){var Er={offset:1,color:et[et.length-1].color};et.push(Er)}for(var fr="",_=0,R=0;R<Zt.length;R++){for(Dt=Zt[R];Dt>et[_+1].offset;)_++;var H=et[_].offset,ie=(Dt-H)/(et[_+1].offset-H),Ne=et[_].color,je=et[_+1].color;fr+=fe(Math.round((1-ie)*Ne[0]+ie*je[0]).toString(16))+fe(Math.round((1-ie)*Ne[1]+ie*je[1]).toString(16))+fe(Math.round((1-ie)*Ne[2]+ie*je[2]).toString(16))}return fr.trim()})(N.colors,Y),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+Y+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ca({data:be,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),oe("endobj"),N.objectNumber=Xn(),oe("<< /ShadingType "+N.type),oe("/ColorSpace /DeviceRGB");var Ye="/Coords ["+L(parseFloat(N.coords[0]))+" "+L(parseFloat(N.coords[1]))+" ";N.type===2?Ye+=L(parseFloat(N.coords[2]))+" "+L(parseFloat(N.coords[3])):Ye+=L(parseFloat(N.coords[2]))+" "+L(parseFloat(N.coords[3]))+" "+L(parseFloat(N.coords[4]))+" "+L(parseFloat(N.coords[5])),oe(Ye+="]"),N.matrix&&oe("/Matrix ["+N.matrix.toString()+"]"),oe("/Function "+ce+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},rn=function(N,Y){var ce=cr(),be=Xn();Y.push({resourcesOid:ce,objectOid:be}),N.objectNumber=be;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+N.boundingBox.map(L).join(" ")+"]"}),Ae.push({key:"XStep",value:L(N.xStep)}),Ae.push({key:"YStep",value:L(N.yStep)}),Ae.push({key:"Resources",value:ce+" 0 R"}),N.matrix&&Ae.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Ca({data:N.stream,additionalKeyValues:Ae,objectId:N.objectNumber}),oe("endobj")},dr=function(N){for(var Y in N.objectNumber=Xn(),oe("<<"),N)switch(Y){case"opacity":oe("/ca "+P(N[Y]));break;case"stroke-opacity":oe("/CA "+P(N[Y]))}oe(">>"),oe("endobj")},Qn=function(N){Xr(N.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Y in oe("/Font <<"),It)It.hasOwnProperty(Y)&&(p===!1||p===!0&&y.hasOwnProperty(Y))&&oe("/"+Y+" "+It[Y].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(_t).length>0){for(var Y in oe("/Shading <<"),_t)_t.hasOwnProperty(Y)&&_t[Y]instanceof Sd&&_t[Y].objectNumber>=0&&oe("/"+Y+" "+_t[Y].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),oe(">>")}})(),(function(Y){if(Object.keys(_t).length>0){for(var ce in oe("/Pattern <<"),_t)_t.hasOwnProperty(ce)&&_t[ce]instanceof g.TilingPattern&&_t[ce].objectNumber>=0&&_t[ce].objectNumber<Y&&oe("/"+ce+" "+_t[ce].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),oe(">>")}})(N.objectOid),(function(){if(Object.keys(xt).length>0){var Y;for(Y in oe("/ExtGState <<"),xt)xt.hasOwnProperty(Y)&&xt[Y].objectNumber>=0&&oe("/"+Y+" "+xt[Y].objectNumber+" 0 R");Kt.publish("putGStateDict"),oe(">>")}})(),(function(){for(var Y in oe("/XObject <<"),Mr)Mr.hasOwnProperty(Y)&&Mr[Y].objectNumber>=0&&oe("/"+Y+" "+Mr[Y].objectNumber+" 0 R");Kt.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},ur=function(N){Mt[N.fontName]=Mt[N.fontName]||{},Mt[N.fontName][N.fontStyle]=N.id},gs=function(N,Y,ce,be,Ae){var Ye={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:N,fontName:Y,fontStyle:ce,encoding:be,isStandardFont:Ae||!1,metadata:{}};return Kt.publish("addFont",{font:Ye,instance:this}),It[Ye.id]=Ye,ur(Ye),Ye.id},Jr=g.__private__.pdfEscape=g.pdfEscape=function(N,Y){return(function(ce,be){var Ae,Ye,et,Tt,Dt,Zt,Wt,In,Er;if(et=(be=be||{}).sourceEncoding||"Unicode",Dt=be.outputEncoding,(be.autoencode||Dt)&&It[ft].metadata&&It[ft].metadata[et]&&It[ft].metadata[et].encoding&&(Tt=It[ft].metadata[et].encoding,!Dt&&It[ft].encoding&&(Dt=It[ft].encoding),!Dt&&Tt.codePages&&(Dt=Tt.codePages[0]),typeof Dt=="string"&&(Dt=Tt[Dt]),Dt)){for(Wt=!1,Zt=[],Ae=0,Ye=ce.length;Ae<Ye;Ae++)(In=Dt[ce.charCodeAt(Ae)])?Zt.push(String.fromCharCode(In)):Zt.push(ce[Ae]),Zt[Ae].charCodeAt(0)>>8&&(Wt=!0);ce=Zt.join("")}for(Ae=ce.length;Wt===void 0&&Ae!==0;)ce.charCodeAt(Ae-1)>>8&&(Wt=!0),Ae--;if(!Wt)return ce;for(Zt=be.noBOM?[]:[254,255],Ae=0,Ye=ce.length;Ae<Ye;Ae++){if((Er=(In=ce.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(Er),Zt.push(In-(Er<<8))}return String.fromCharCode.apply(void 0,Zt)})(N,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yn=g.__private__.beginPage=function(N){Ve[++ht]=[],gt[ht]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},vc(ht),it(Ve[X])},la=function(N,Y){var ce,be,Ae;switch(n=Y||n,typeof N=="string"&&(ce=I(N.toLowerCase()),Array.isArray(ce)&&(be=ce[0],Ae=ce[1])),Array.isArray(N)&&(be=N[0]*Et,Ae=N[1]*Et),isNaN(be)&&(be=i[0],Ae=i[1]),(be>14400||Ae>14400)&&(Lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ae=Math.min(14400,Ae)),i=[be,Ae],n.substr(0,1)){case"l":Ae>be&&(i=[Ae,be]);break;case"p":be>Ae&&(i=[Ae,be])}Yn(i),Xt(Oa),oe(Ga),Wa!==0&&oe(Wa+" J"),pi!==0&&oe(pi+" j"),Kt.publish("addPage",{pageNumber:ht})},vs=function(N){N>0&&N<=ht&&(Ve.splice(N,1),gt.splice(N,1),ht--,X>ht&&(X=ht),this.setPage(X))},vc=function(N){N>0&&N<=ht&&(X=N)},yc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ve.length-1},vu=function(N,Y,ce){var be,Ae=void 0;return ce=ce||{},N=N!==void 0?N:It[ft].fontName,Y=Y!==void 0?Y:It[ft].fontStyle,be=N.toLowerCase(),Mt[be]!==void 0&&Mt[be][Y]!==void 0?Ae=Mt[be][Y]:Mt[N]!==void 0&&Mt[N][Y]!==void 0?Ae=Mt[N][Y]:ce.disableWarning===!1&&Lr.warn("Unable to look up font label for font '"+N+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ae||ce.noFallback||(Ae=Mt.times[Y])==null&&(Ae=Mt.times.normal),Ae},$a=g.__private__.putInfo=function(){var N=Xn(),Y=function(be){return be};for(var ce in h!==null&&(Y=Or.encryptor(N,0)),oe("<<"),oe("/Producer ("+Jr(Y("jsPDF "+qt.version))+")"),st)st.hasOwnProperty(ce)&&st[ce]&&oe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Jr(Y(st[ce]))+")");oe("/CreationDate ("+Jr(Y(ge))+")"),oe(">>"),oe("endobj")},Ki=g.__private__.putCatalog=function(N){var Y=(N=N||{}).rootDictionaryObjId||hi;switch(Xn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+Y+" 0 R"),dt||(dt="fullwidth"),dt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+dt;ce.substr(ce.length-1)==="%"&&(dt=parseInt(dt)/100),typeof dt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+P(dt)+"]")}switch(fn||(fn="continuous"),fn){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Rt&&oe("/PageMode /"+Rt),Kt.publish("putCatalog"),oe(">>"),oe("endobj")},Zr=g.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(pe+1)),oe("/Root "+pe+" 0 R"),oe("/Info "+(pe-1)+" 0 R"),h!==null&&oe("/Encrypt "+Or.oid+" 0 R"),oe("/ID [ <"+se+"> <"+se+"> ]"),oe(">>")},Nn=g.__private__.putHeader=function(){oe("%PDF-"+E),oe("%")},Co=g.__private__.putXRef=function(){var N="0000000000";oe("xref"),oe("0 "+(pe+1)),oe("0000000000 65535 f ");for(var Y=1;Y<=pe;Y++)typeof ye[Y]=="function"?oe((N+ye[Y]()).slice(-10)+" 00000 n "):ye[Y]!==void 0?oe((N+ye[Y]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ys=g.__private__.buildDocument=function(){var N;pe=0,de=0,Pe=[],ye=[],Ce=[],hi=cr(),Vn=cr(),it(Pe),Kt.publish("buildDocument"),Nn(),Ha(),(function(){Kt.publish("putAdditionalObjects");for(var ce=0;ce<Ce.length;ce++){var be=Ce[ce];Xr(be.objId,!0),oe(be.content),oe("endobj")}Kt.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var ce in It)It.hasOwnProperty(ce)&&(p===!1||p===!0&&y.hasOwnProperty(ce))&&ji(It[ce])})(),(function(){var ce;for(ce in xt)xt.hasOwnProperty(ce)&&dr(xt[ce])})(),(function(){for(var ce in Mr)Mr.hasOwnProperty(ce)&&ms(Mr[ce])})(),(function(ce){var be;for(be in _t)_t.hasOwnProperty(be)&&(_t[be]instanceof Sd?nt(_t[be]):_t[be]instanceof Im&&rn(_t[be],ce))})(N),Kt.publish("putResources"),N.forEach(Qn),Qn({resourcesOid:Vn,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),h!==null&&(Or.oid=Xn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Or.v),oe("/R "+Or.r),oe("/U <"+Or.toHexString(Or.U)+">"),oe("/O <"+Or.toHexString(Or.O)+">"),oe("/P "+Or.P),oe(">>"),oe("endobj")),$a(),Ki();var Y=de;return Co(),Zr(),oe("startxref"),oe(""+Y),oe("%%EOF"),it(Ve[X]),Pe.join(`
`)},Ln=g.__private__.getBlob=function(N){return new Blob([Nt(N)],{type:"application/pdf"})},rl=g.output=g.__private__.output=(ki=function(N,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",N){case void 0:return ys();case"save":g.save(Y.filename);break;case"arraybuffer":return Nt(ys());case"blob":return Ln(ys());case"bloburi":case"bloburl":if(pn.URL!==void 0&&typeof pn.URL.createObjectURL=="function")return pn.URL&&pn.URL.createObjectURL(Ln(ys()))||void 0;Lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",be=ys();try{ce=Vj(be)}catch{ce=Vj(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ae=Y.pdfObjectUrl,Ye="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Tt=pn.open();return Tt!==null&&Tt.document.write(et),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Zt=pn.open();if(Zt!==null){Zt.document.write(Dt);var Wt=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=Y.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Er=pn.open();if(Er!==null&&(Er.document.write(In),Er.document.title=Y.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return pn.document.location.href=this.output("datauristring",Y);default:return null}},ki.foo=function(){try{return ki.apply(this,arguments)}catch(ce){var N=ce.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var Y="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ce.message;if(!pn.console)throw new Error(Y);pn.console.error(Y,ce),pn.alert&&alert(Y)}},ki.foo.bar=ki,ki.foo),di=function(N){return Array.isArray(Gn)===!0&&Gn.indexOf(N)>-1};switch(r){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=di("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Et=r}var Or=null;ne(),me();var ei=g.__private__.getPageInfo=g.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[N].objId,pageNumber:N,pageContext:gt[N]}},jl=g.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in gt)if(gt[Y].objId===N)break;return ei(Y)},Tf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:gt[X].objId,pageNumber:X,pageContext:gt[X]}};g.addPage=function(){return la.apply(this,arguments),this},g.setPage=function(){return vc.apply(this,arguments),it.call(this,Ve[X]),this},g.insertPage=function(N){return this.addPage(),this.movePage(X,N),this},g.movePage=function(N,Y){var ce,be;if(N>Y){ce=Ve[N],be=gt[N];for(var Ae=N;Ae>Y;Ae--)Ve[Ae]=Ve[Ae-1],gt[Ae]=gt[Ae-1];Ve[Y]=ce,gt[Y]=be,this.setPage(Y)}else if(N<Y){ce=Ve[N],be=gt[N];for(var Ye=N;Ye<Y;Ye++)Ve[Ye]=Ve[Ye+1],gt[Ye]=gt[Ye+1];Ve[Y]=ce,gt[Y]=be,this.setPage(Y)}return this},g.deletePage=function(){return vs.apply(this,arguments),this},g.__private__.text=g.text=function(N,Y,ce,be,Ae){var Ye,et,Tt,Dt,Zt,Wt,In,Er,fr,_=(be=be||{}).scope||this;if(typeof N=="number"&&typeof Y=="number"&&(typeof ce=="string"||Array.isArray(ce))){var R=ce;ce=Y,Y=N,N=R}if(arguments[3]instanceof zt==0?(Tt=arguments[4],Dt=arguments[5],br(In=arguments[3])==="object"&&In!==null||(typeof Tt=="string"&&(Dt=Tt,Tt=null),typeof In=="string"&&(Dt=In,In=null),typeof In=="number"&&(Tt=In,In=null),be={flags:In,angle:Tt,align:Dt})):(D("The transform parameter of text() with a Matrix value"),fr=Ae),isNaN(Y)||isNaN(ce)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return _;var H,ie="",Ne=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Ro,je=_.internal.scaleFactor;function ut(Wn){return Wn=Wn.split("	").join(Array(be.TabLen||9).join(" ")),Jr(Wn,In)}function hn(Wn){for(var Un,Sr=Wn.concat(),gi=[],ml=Sr.length;ml--;)typeof(Un=Sr.shift())=="string"?gi.push(Un):Array.isArray(Wn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?gi.push(Un[0]):gi.push([Un[0],Un[1],Un[2]]);return gi}function Ar(Wn,Un){var Sr;if(typeof Wn=="string")Sr=Un(Wn)[0];else if(Array.isArray(Wn)){for(var gi,ml,jo=Wn.concat(),Su=[],Qh=jo.length;Qh--;)typeof(gi=jo.shift())=="string"?Su.push(Un(gi)[0]):Array.isArray(gi)&&typeof gi[0]=="string"&&(ml=Un(gi[0],gi[1],gi[2]),Su.push([ml[0],ml[1],ml[2]]));Sr=Su}return Sr}var An=!1,Zn=!0;if(typeof N=="string")An=!0;else if(Array.isArray(N)){var Qi=N.concat();et=[];for(var ua,pr=Qi.length;pr--;)(typeof(ua=Qi.shift())!="string"||Array.isArray(ua)&&typeof ua[0]!="string")&&(Zn=!1);An=Zn}if(An===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var fa=qe/_.internal.scaleFactor,Us=fa*(Ne-1);switch(be.baseline){case"bottom":ce-=Us;break;case"top":ce+=fa-Us;break;case"hanging":ce+=fa-2*Us;break;case"middle":ce+=fa/2-Us}if((Wt=be.maxWidth||0)>0&&(typeof N=="string"?N=_.splitTextToSize(N,Wt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Wn,Un){return Wn.concat(_.splitTextToSize(Un,Wt))},[]))),Ye={text:N,x:Y,y:ce,options:be,mutex:{pdfEscape:Jr,activeFontKey:ft,fonts:It,activeFontSize:qe}},Kt.publish("preProcessText",Ye),N=Ye.text,Tt=(be=Ye.options).angle,fr instanceof zt==0&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,be.rotationDirection===0&&(Tt=-Tt),B===k&&(Tt=-Tt);var ll=Math.cos(Tt),cl=Math.sin(Tt);fr=new zt(ll,cl,-cl,ll,0,0)}else Tt&&Tt instanceof zt&&(fr=Tt);B!==k||fr||(fr=Ri),(Zt=be.charSpace||Ya)!==void 0&&(ie+=L(V(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=be.horizontalScale)!==void 0&&(ie+=L(100*Er)+` Tz
`),be.lang;var Xa=-1,Vl=be.renderingMode!==void 0?be.renderingMode:be.stroke,Nf=_.internal.getCurrentPageInfo().pageContext;switch(Vl){case 0:case!1:case"fill":Xa=0;break;case 1:case!0:case"stroke":Xa=1;break;case 2:case"fillThenStroke":Xa=2;break;case 3:case"invisible":Xa=3;break;case 4:case"fillAndAddForClipping":Xa=4;break;case 5:case"strokeAndAddPathForClipping":Xa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xa=6;break;case 7:case"addToPathForClipping":Xa=7}var Kh=Nf.usedRenderingMode!==void 0?Nf.usedRenderingMode:-1;Xa!==-1?ie+=Xa+` Tr
`:Kh!==-1&&(ie+=`0 Tr
`),Xa!==-1&&(Nf.usedRenderingMode=Xa),Dt=be.align||"left";var Bs,ko=qe*Ne,zl=_.internal.pageSize.getWidth(),Xh=It[ft];Zt=be.charSpace||Ya,Wt=be.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},be.flags);var Lo=[],Ac=function(Wn){return _.getStringUnitWidth(Wn,{font:Xh,charSpace:Zt,fontSize:qe,doKerning:!1})*qe/je};if(Object.prototype.toString.call(N)==="[object Array]"){var _s;et=hn(N),Dt!=="left"&&(Bs=et.map(Ac));var Qa,ul=0;if(Dt==="right"){Y-=Bs[0],N=[],pr=et.length;for(var fl=0;fl<pr;fl++)fl===0?(Qa=Fi(Y),_s=xi(ce)):(Qa=V(ul-Bs[fl]),_s=-ko),N.push([et[fl],Qa,_s]),ul=Bs[fl]}else if(Dt==="center"){Y-=Bs[0]/2,N=[],pr=et.length;for(var ql=0;ql<pr;ql++)ql===0?(Qa=Fi(Y),_s=xi(ce)):(Qa=V((ul-Bs[ql])/2),_s=-ko),N.push([et[ql],Qa,_s]),ul=Bs[ql]}else if(Dt==="left"){N=[],pr=et.length;for(var If=0;If<pr;If++)N.push(et[If])}else if(Dt==="justify"&&Xh.encoding==="Identity-H"){N=[],pr=et.length,Wt=Wt!==0?Wt:zl;for(var Cf=0,mi=0;mi<pr;mi++)if(_s=mi===0?xi(ce):-ko,Qa=mi===0?Fi(Y):Cf,mi<pr-1){var wp=V((Wt-Bs[mi])/(et[mi].split(" ").length-1)),hl=et[mi].split(" ");N.push([hl[0]+" ",Qa,_s]),Cf=0;for(var dl=1;dl<hl.length;dl++){var ha=(Ac(hl[dl-1]+" "+hl[dl])-Ac(hl[dl]))*je+wp;dl==hl.length-1?N.push([hl[dl],ha,0]):N.push([hl[dl]+" ",ha,0]),Cf-=ha}}else N.push([et[mi],Qa,_s]);N.push(["",Cf,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],pr=et.length,Wt=Wt!==0?Wt:zl,mi=0;mi<pr;mi++){_s=mi===0?xi(ce):-ko,Qa=mi===0?Fi(Y):0;var Hl=et[mi].split(" ").length-1,Pf=Hl>0?(Wt-Bs[mi])/Hl:0;mi<pr-1?Lo.push(L(V(Pf))):Lo.push(0),N.push([et[mi],Qa,_s])}}}(typeof be.R2L=="boolean"?be.R2L:Ut)===!0&&(N=Ar(N,function(Wn,Un,Sr){return[Wn.split("").reverse().join(""),Un,Sr]})),Ye={text:N,x:Y,y:ce,options:be,mutex:{pdfEscape:Jr,activeFontKey:ft,fonts:It,activeFontSize:qe}},Kt.publish("postProcessText",Ye),N=Ye.text,H=Ye.mutex.isHex||!1;var Of=It[ft].encoding;Of!=="WinAnsiEncoding"&&Of!=="StandardEncoding"||(N=Ar(N,function(Wn,Un,Sr){return[ut(Wn),Un,Sr]})),et=hn(N),N=[];for(var $l,Gl,pl,Au=Array.isArray(et[0])?1:0,Vs="",Yl=function(Wn,Un,Sr){var gi="";return Sr instanceof zt?(Sr=typeof be.angle=="number"?Ls(Sr,new zt(1,0,0,1,Wn,Un)):Ls(new zt(1,0,0,1,Wn,Un),Sr),B===k&&(Sr=Ls(new zt(1,0,0,-1,0,0),Sr)),gi=Sr.join(" ")+` Tm
`):gi=L(Wn)+" "+L(Un)+` Td
`,gi},Ra=0;Ra<et.length;Ra++){switch(Vs="",Au){case 1:pl=(H?"<":"(")+et[Ra][0]+(H?">":")"),$l=parseFloat(et[Ra][1]),Gl=parseFloat(et[Ra][2]);break;case 0:pl=(H?"<":"(")+et[Ra]+(H?">":")"),$l=Fi(Y),Gl=xi(ce)}Lo!==void 0&&Lo[Ra]!==void 0&&(Vs=Lo[Ra]+` Tw
`),Ra===0?N.push(Vs+Yl($l,Gl,fr)+pl):Au===0?N.push(Vs+pl):Au===1&&N.push(Vs+Yl($l,Gl,fr)+pl)}N=Au===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var io=`BT
/`;return io+=ft+" "+qe+` Tf
`,io+=L(qe*Ne)+` TL
`,io+=Ms+`
`,io+=ie,io+=N,oe(io+="ET"),y[ft]=!0,_};var yu=g.__private__.clip=g.clip=function(N){return oe(N==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return yu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return oe("n"),this};var ca=g.__private__.isValidStyle=function(N){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(Y=!0),Y};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(N){return ca(N)&&(f=N),this};var bu=g.__private__.getStyle=g.getStyle=function(N){var Y=f;switch(N){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=N}return Y},Po=g.close=function(){return oe("h"),this};g.stroke=function(){return oe("S"),this},g.fill=function(N){return Mi("f",N),this},g.fillEvenOdd=function(N){return Mi("f*",N),this},g.fillStroke=function(N){return Mi("B",N),this},g.fillStrokeEvenOdd=function(N){return Mi("B*",N),this};var Mi=function(N,Y){br(Y)==="object"?xu(Y,N):oe(N)},il=function(N){N===null||B===k&&N===void 0||(N=bu(N),oe(N))};function _u(N,Y,ce,be,Ae){var Ye=new Im(Y||this.boundingBox,ce||this.xStep,be||this.yStep,this.gState,Ae||this.matrix);Ye.stream=this.stream;var et=N+"$$"+this.cloneIndex+++"$$";return Di(et,Ye),Ye}var xu=function(N,Y){var ce=un[N.key],be=_t[ce];if(be instanceof Sd)oe("q"),oe(bc(Y)),be.gState&&g.setGState(be.gState),oe(N.matrix.toString()+" cm"),oe("/"+ce+" sh"),oe("Q");else if(be instanceof Im){var Ae=new zt(1,0,0,-1,0,Fs());N.matrix&&(Ae=Ae.multiply(N.matrix||Ri),ce=_u.call(be,N.key,N.boundingBox,N.xStep,N.yStep,Ae).id),oe("q"),oe("/Pattern cs"),oe("/"+ce+" scn"),be.gState&&g.setGState(be.gState),oe(Y),oe("Q")}},bc=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_c=g.moveTo=function(N,Y){return oe(L(V(N))+" "+L(ee(Y))+" m"),this},Oo=g.lineTo=function(N,Y){return oe(L(V(N))+" "+L(ee(Y))+" l"),this},Pa=g.curveTo=function(N,Y,ce,be,Ae,Ye){return oe([L(V(N)),L(ee(Y)),L(V(ce)),L(ee(be)),L(V(Ae)),L(ee(Ye)),"c"].join(" ")),this};g.__private__.line=g.line=function(N,Y,ce,be,Ae){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||!ca(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return B===q?this.lines([[ce-N,be-Y]],N,Y,[1,1],Ae||"S"):this.lines([[ce-N,be-Y]],N,Y,[1,1]).stroke()},g.__private__.lines=g.lines=function(N,Y,ce,be,Ae,Ye){var et,Tt,Dt,Zt,Wt,In,Er,fr,_,R,H,ie;if(typeof N=="number"&&(ie=ce,ce=Y,Y=N,N=ie),be=be||[1,1],Ye=Ye||!1,isNaN(Y)||isNaN(ce)||!Array.isArray(N)||!Array.isArray(be)||!ca(Ae)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_c(Y,ce),et=be[0],Tt=be[1],Zt=N.length,R=Y,H=ce,Dt=0;Dt<Zt;Dt++)(Wt=N[Dt]).length===2?(R=Wt[0]*et+R,H=Wt[1]*Tt+H,Oo(R,H)):(In=Wt[0]*et+R,Er=Wt[1]*Tt+H,fr=Wt[2]*et+R,_=Wt[3]*Tt+H,R=Wt[4]*et+R,H=Wt[5]*Tt+H,Pa(In,Er,fr,_,R,H));return Ye&&Po(),il(Ae),this},g.path=function(N){for(var Y=0;Y<N.length;Y++){var ce=N[Y],be=ce.c;switch(ce.op){case"m":_c(be[0],be[1]);break;case"l":Oo(be[0],be[1]);break;case"c":Pa.apply(this,be);break;case"h":Po()}}return this},g.__private__.rect=g.rect=function(N,Y,ce,be,Ae){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||!ca(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return B===q&&(be=-be),oe([L(V(N)),L(ee(Y)),L(V(ce)),L(V(be)),"re"].join(" ")),il(Ae),this},g.__private__.triangle=g.triangle=function(N,Y,ce,be,Ae,Ye,et){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||isNaN(Ae)||isNaN(Ye)||!ca(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-N,be-Y],[Ae-ce,Ye-be],[N-Ae,Y-Ye]],N,Y,[1,1],et,!0),this},g.__private__.roundedRect=g.roundedRect=function(N,Y,ce,be,Ae,Ye,et){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||isNaN(Ae)||isNaN(Ye)||!ca(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ce),Ye=Math.min(Ye,.5*be),this.lines([[ce-2*Ae,0],[Ae*Tt,0,Ae,Ye-Ye*Tt,Ae,Ye],[0,be-2*Ye],[0,Ye*Tt,-Ae*Tt,Ye,-Ae,Ye],[2*Ae-ce,0],[-Ae*Tt,0,-Ae,-Ye*Tt,-Ae,-Ye],[0,2*Ye-be],[0,-Ye*Tt,Ae*Tt,-Ye,Ae,-Ye]],N+Ae,Y,[1,1],et,!0),this},g.__private__.ellipse=g.ellipse=function(N,Y,ce,be,Ae){if(isNaN(N)||isNaN(Y)||isNaN(ce)||isNaN(be)||!ca(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*ce,et=4/3*(Math.SQRT2-1)*be;return _c(N+ce,Y),Pa(N+ce,Y-et,N+Ye,Y-be,N,Y-be),Pa(N-Ye,Y-be,N-ce,Y-et,N-ce,Y),Pa(N-ce,Y+et,N-Ye,Y+be,N,Y+be),Pa(N+Ye,Y+be,N+ce,Y+et,N+ce,Y),il(Ae),this},g.__private__.circle=g.circle=function(N,Y,ce,be){if(isNaN(N)||isNaN(Y)||isNaN(ce)||!ca(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,Y,ce,ce,be)},g.setFont=function(N,Y,ce){return ce&&(Y=j(Y,ce)),ft=vu(N,Y,{disableWarning:!1}),this};var js=g.__private__.getFont=g.getFont=function(){return It[vu.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var N,Y,ce={};for(N in Mt)if(Mt.hasOwnProperty(N))for(Y in ce[N]=[],Mt[N])Mt[N].hasOwnProperty(Y)&&ce[N].push(Y);return ce},g.addFont=function(N,Y,ce,be,Ae){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(ce=j(ce,be)),gs.call(this,N,Y,ce,Ae=Ae||"Identity-H")};var Ro,Oa=t.lineWidth||.200025,al=g.__private__.getLineWidth=g.getLineWidth=function(){return Oa},Xt=g.__private__.setLineWidth=g.setLineWidth=function(N){return Oa=N,oe(L(V(N))+" w"),this};g.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(N,Y){if(N=N||[],Y=Y||0,isNaN(Y)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ce){return L(V(ce))}).join(" "),Y=L(V(Y)),oe("["+N+"] "+Y+" d"),this};var Ml=g.__private__.getLineHeight=g.getLineHeight=function(){return qe*Ro};g.__private__.getLineHeight=g.getLineHeight=function(){return qe*Ro};var xc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Ro=N),this},sl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ro};xc(t.lineHeight);var Fi=g.__private__.getHorizontalCoordinate=function(N){return V(N)},xi=g.__private__.getVerticalCoordinate=function(N){return B===k?N:gt[X].mediaBox.topRightY-gt[X].mediaBox.bottomLeftY-V(N)},Fl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(N){return L(Fi(N))},Jn=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(N){return L(xi(N))},Ga=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ir(Ga)},g.__private__.setStrokeColor=g.setDrawColor=function(N,Y,ce,be){return Ga=Qr({ch1:N,ch2:Y,ch3:ce,ch4:be,pdfColorType:"draw",precision:2}),oe(Ga),this};var Ul=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ir(Ul)},g.__private__.setFillColor=g.setFillColor=function(N,Y,ce,be){return Ul=Qr({ch1:N,ch2:Y,ch3:ce,ch4:be,pdfColorType:"fill",precision:2}),oe(Ul),this};var Ms=t.textColor||"0 g",wu=g.__private__.getTextColor=g.getTextColor=function(){return ir(Ms)};g.__private__.setTextColor=g.setTextColor=function(N,Y,ce,be){return Ms=Qr({ch1:N,ch2:Y,ch3:ce,ch4:be,pdfColorType:"text",precision:3}),this};var Ya=t.charSpace,Do=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ya||0)};g.__private__.setCharSpace=g.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ya=N,this};var Wa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(N){var Y=g.CapJoinStyles[N];if(Y===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wa=Y,oe(Y+" J"),this};var pi=0;g.__private__.setLineJoin=g.setLineJoin=function(N){var Y=g.CapJoinStyles[N];if(Y===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pi=Y,oe(Y+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(L(V(N))+" M"),this},g.GState=v_,g.setGState=function(N){(N=typeof N=="string"?xt[Vt[N]]:Zs(null,N)).equals(Tn)||(oe("/"+N.id+" gs"),Tn=N)};var Zs=function(N,Y){if(!N||!Vt[N]){var ce=!1;for(var be in xt)if(xt.hasOwnProperty(be)&&xt[be].equals(Y)){ce=!0;break}if(ce)Y=xt[be];else{var Ae="GS"+(Object.keys(xt).length+1).toString(10);xt[Ae]=Y,Y.id=Ae}return N&&(Vt[N]=Y.id),Kt.publish("addGState",Y),Y}};g.addGState=function(N,Y){return Zs(N,Y),this},g.saveGraphicsState=function(){return oe("q"),nn.push({key:ft,size:qe,color:Ms}),this},g.restoreGraphicsState=function(){oe("Q");var N=nn.pop();return ft=N.key,qe=N.size,Ms=N.color,Tn=null,this},g.setCurrentTransformationMatrix=function(N){return oe(N.toString()+" cm"),this},g.comment=function(N){return oe("#"+N),this};var Xi=function(N,Y){var ce=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Ye){isNaN(Ye)||(ce=parseFloat(Ye))}});var be=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Ye){isNaN(Ye)||(be=parseFloat(Ye))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(Ye){Ae=Ye.toString()}}),this},eo=function(N,Y,ce,be){Xi.call(this,N,Y),this.type="rect";var Ae=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(et){isNaN(et)||(Ae=parseFloat(et))}});var Ye=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(et){isNaN(et)||(Ye=parseFloat(et))}}),this},ol=function(){this.page=ht,this.currentPage=X,this.pages=Ve.slice(0),this.pagesContext=gt.slice(0),this.x=Fe,this.y=wn,this.matrix=Bt,this.width=bs(X),this.height=wc(X),this.outputDestination=rt,this.id="",this.objectNumber=-1};ol.prototype.restore=function(){ht=this.page,X=this.currentPage,gt=this.pagesContext,Ve=this.pages,Fe=this.x,wn=this.y,Bt=this.matrix,Bl(X,this.width),Ka(X,this.height),rt=this.outputDestination};var to=function(N,Y,ce,be,Ae){fi.push(new ol),ht=X=0,Ve=[],Fe=N,wn=Y,Bt=Ae,Yn([ce,be])};for(var no in g.beginFormObject=function(N,Y,ce,be,Ae){return to(N,Y,ce,be,Ae),this},g.endFormObject=function(N){return(function(Y){if(oa[Y])fi.pop().restore();else{var ce=new ol,be="Xo"+(Object.keys(Mr).length+1).toString(10);ce.id=be,oa[Y]=be,Mr[be]=ce,Kt.publish("addFormObject",ce),fi.pop().restore()}})(N),this},g.doFormObject=function(N,Y){var ce=Mr[oa[N]];return oe("q"),oe(Y.toString()+" cm"),oe("/"+ce.id+" Do"),oe("Q"),this},g.getFormObject=function(N){var Y=Mr[oa[N]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},g.save=function(N,Y){return N=N||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(bd(Ln(ys()),N),typeof bd.unload=="function"&&pn.setTimeout&&setTimeout(bd.unload,911),this):new Promise(function(ce,be){try{var Ae=bd(Ln(ys()),N);typeof bd.unload=="function"&&pn.setTimeout&&setTimeout(bd.unload,911),ce(Ae)}catch(Ye){be(Ye.message)}})},qt.API)qt.API.hasOwnProperty(no)&&(no==="events"&&qt.API.events.length?(function(N,Y){var ce,be,Ae;for(Ae=Y.length-1;Ae!==-1;Ae--)ce=Y[Ae][0],be=Y[Ae][1],N.subscribe.apply(N,[ce].concat(typeof be=="function"?[be]:be))})(Kt,qt.API.events):g[no]=qt.API[no]);function bs(N){return gt[N].mediaBox.topRightX-gt[N].mediaBox.bottomLeftX}function Bl(N,Y){gt[N].mediaBox.topRightX=Y+gt[N].mediaBox.bottomLeftX}function wc(N){return gt[N].mediaBox.topRightY-gt[N].mediaBox.bottomLeftY}function Ka(N,Y){gt[N].mediaBox.topRightY=Y+gt[N].mediaBox.bottomLeftY}var ro=g.getPageWidth=function(N){return bs(N=N||X)/Et},Eu=g.setPageWidth=function(N,Y){Bl(N,Y*Et)},Fs=g.getPageHeight=function(N){return wc(N=N||X)/Et},Ec=g.setPageHeight=function(N,Y){Ka(N,Y*Et)};return g.internal={pdfEscape:Jr,getStyle:bu,getFont:js,getFontSize:vt,getCharSpace:Do,getTextColor:wu,getLineHeight:Ml,getLineHeightFactor:sl,getLineWidth:al,write:Xe,getHorizontalCoordinate:Fi,getVerticalCoordinate:xi,getCoordinateString:Fl,getVerticalCoordinateString:Jn,collections:{},newObject:Xn,newAdditionalObject:Li,newObjectDeferred:cr,newObjectDeferredBegin:Xr,getFilters:Wi,putStream:Ca,events:Kt,scaleFactor:Et,pageSize:{getWidth:function(){return ro(X)},setWidth:function(N){Eu(X,N)},getHeight:function(){return Fs(X)},setHeight:function(N){Ec(X,N)}},encryptionOptions:h,encryption:Or,getEncryptor:function(N){return h!==null?Or.encryptor(N,0):function(Y){return Y}},output:rl,getNumberOfPages:yc,get pages(){return Ve},out:oe,f2:P,f3:F,getPageInfo:ei,getPageInfoByObjId:jl,getCurrentPageInfo:Tf,getPDFVersion:A,Point:Xi,Rectangle:eo,Matrix:zt,hasHotfix:di},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ro(X)},set:function(N){Eu(X,N)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Fs(X)},set:function(N){Ec(X,N)},enumerable:!0,configurable:!0}),(function(N){for(var Y=0,ce=yt.length;Y<ce;Y++){var be=gs.call(this,N[Y][0],N[Y][1],N[Y][2],yt[Y][3],!0);p===!1&&(y[be]=!0);var Ae=N[Y][0].split("-");ur({id:be,fontName:Ae[0],fontStyle:Ae[1]||""})}Kt.publish("addFonts",{fonts:It,dictionary:Mt})}).call(g,yt),ft="F1",la(i,n),Kt.publish("initialized"),g}wm.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},wm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},wm.prototype.processOwnerPassword=function(t,e){return jT(LT(e).substr(0,5),t)},wm.prototype.encryptor=function(t,e){var n=LT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return jT(n,r)}},v_.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||br(t)!==br(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},qt.API={events:[]},qt.version="3.0.4";var Ii=qt.API,c4=1,xp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(t){return t.toFixed(2)},oh=function(t){return t.toFixed(5)};Ii.__acroform__={};var Io=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$j=function(t){return t*c4},Uc=function(t){var e=new N$,n=Lt.internal.getHeight(t)||0,r=Lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(bn(r)),Number(bn(n))],e},Yxe=Ii.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Wxe=Ii.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Kxe=Ii.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},zi=Ii.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kxe(t,e-1)},qi=Ii.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Yxe(t,e-1)},Hi=Ii.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wxe(t,e-1)},Xxe=Ii.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],l=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=n(i+s)||0,u.upperRight_Y=r(a)||0,[Number(bn(u.lowerLeft_X)),Number(bn(u.lowerLeft_Y)),Number(bn(u.upperRight_X)),Number(bn(u.upperRight_Y))]},Qxe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=MT(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+bn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Uc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},MT=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=n,s=Lt.internal.getHeight(t)||0;s=s<0?-s:s;var l=Lt.internal.getWidth(t)||0;l=l<0?-l:l;var u=function(P,F,V){if(P+1<i.length){var ee=F+" "+i[P+1][0];return Sb(ee,t,V).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var f,h,p=Sb("3",t,a).height,y=t.multiline?s-a:(s-p)/2,g=y+=2,E=0,A=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Sb(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var I="",q=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var B=!1;if(i[k].length!==1&&S!==i[k].length-1){if((p+2)*(q+2)+2>s)continue e;I+=i[k][S],B=!0,A=k,k--}else{I=(I+=i[k][S]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var $=parseInt(k),K=u($,I,a),j=k>=i.length-1;if(K&&!j){I+=" ",S=0;continue}if(K||j){if(j)A=$;else if(t.multiline&&(p+2)*(q+2)+2>s)continue e}else{if(!t.multiline||(p+2)*(q+2)+2>s)continue e;A=$}}for(var L="",D=E;D<=A;D++){var G=i[D];if(t.multiline){if(D===A){L+=G[S]+" ",S=(S+1)%G.length;continue}if(D===E){L+=G[G.length-1]+" ";continue}}L+=G[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=Sb(L,t,a).width,t.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;default:f=2}e+=bn(f)+" "+bn(g)+` Td
`,e+="("+xp(L)+`) Tj
`,e+=-bn(f)+` 0 Td
`,g=-(a+2),h=0,E=B?A:A+1,q++,I=""}break}return r.text=e,r.fontSize=a,r},Sb=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Jxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Zxe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},ewe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(mc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Jxe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new I$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Zxe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],f=l.Rect;if(l.Rect&&(l.Rect=Xxe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Lt.createDefaultAppearanceStream(l),br(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Qxe(l);u.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var p="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var g=l.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var E=g[s];typeof E=="function"&&(E=E.call(i,l)),p+="/"+s+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=g)=="function"&&(E=E.call(i,l)),p+="/"+s+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&(function(A,S){for(var I in A)if(A.hasOwnProperty(I)){var q=I,k=A[I];S.internal.newObjectDeferredBegin(k.objId,!0),br(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete A[q]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},T$=Ii.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),br(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+xp(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kA=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+xp(r(t))+")"},eu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eu.prototype.toString=function(){return this.objId+" 0 R"},eu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},eu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:T$(i,this.objId,this.scope)}):i instanceof eu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var N$=function(){eu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Io(N$,eu);var I$=function(){eu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+xp(n(t))+")"}},set:function(n){t=n}})};Io(I$,eu);var mc=function t(){eu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zi(e,3)},set:function(I){I?this.F=qi(e,3):this.F=Hi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');n=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof y_)return;a="FieldObject"+t.FieldNum++}var I=function(q){return q};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+xp(I(a))+")"},set:function(I){a=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(I){a=I}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(I){s=I}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(I){l=I}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/c4:f},set:function(I){f=I}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof y_||this instanceof Vd))return kA(p,this.objId,this.scope)},set:function(I){I=I.toString(),p=I}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Va==0?kA(y,this.objId,this.scope):y},set:function(I){I=I.toString(),y=this instanceof Va==0?I.substr(0,1)==="("?pm(I.substr(1,I.length-2)):pm(I):I}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Va==1?pm(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof Va==1?"/"+I:I}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Va==0?kA(g,this.objId,this.scope):g},set:function(I){I=I.toString(),g=this instanceof Va==0?I.substr(0,1)==="("?pm(I.substr(1,I.length-2)):pm(I):I}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Va==1?pm(g.substr(1,g.length-1)):g},set:function(I){I=I.toString(),g=this instanceof Va==1?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(I){I=!!I,A=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(I){E=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,1)},set:function(I){I?this.Ff=qi(this.Ff,1):this.Ff=Hi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,2)},set:function(I){I?this.Ff=qi(this.Ff,2):this.Ff=Hi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,3)},set:function(I){I?this.Ff=qi(this.Ff,3):this.Ff=Hi(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');S=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(S){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Io(mc,eu);var Mm=function(){mc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return T$(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,l){l||(l=1);for(var u,f=[];u=s.exec(a);)f.push(u[l]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,18)},set:function(n){n?this.Ff=qi(this.Ff,18):this.Ff=Hi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=qi(this.Ff,19):this.Ff=Hi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,20)},set:function(n){n?(this.Ff=qi(this.Ff,20),e.sort()):this.Ff=Hi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,22)},set:function(n){n?this.Ff=qi(this.Ff,22):this.Ff=Hi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(n){n?this.Ff=qi(this.Ff,23):this.Ff=Hi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,27)},set:function(n){n?this.Ff=qi(this.Ff,27):this.Ff=Hi(this.Ff,27)}}),this.hasAppearanceStream=!1};Io(Mm,mc);var Fm=function(){Mm.call(this),this.fontName="helvetica",this.combo=!1};Io(Fm,Mm);var Um=function(){Fm.call(this),this.combo=!0};Io(Um,Fm);var Wb=function(){Um.call(this),this.edit=!0};Io(Wb,Um);var Va=function(){mc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,15)},set:function(n){n?this.Ff=qi(this.Ff,15):this.Ff=Hi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,16)},set:function(n){n?this.Ff=qi(this.Ff,16):this.Ff=Hi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,17)},set:function(n){n?this.Ff=qi(this.Ff,17):this.Ff=Hi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(n){n?this.Ff=qi(this.Ff,26):this.Ff=Hi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+xp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){br(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Io(Va,mc);var Kb=function(){Va.call(this),this.pushButton=!0};Io(Kb,Va);var Bm=function(){Va.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Io(Bm,Va);var y_=function(){var t,e;mc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+xp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){br(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Io(y_,mc),Bm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Bm.prototype.createOption=function(t){var e=new y_;return e.Parent=this,e.optionName=t,this.Kids.push(e),twe.call(this.scope,e),e};var Xb=function(){Va.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};Io(Xb,Va);var Vd=function(){mc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,13)},set:function(e){e?this.Ff=qi(this.Ff,13):this.Ff=Hi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,21)},set:function(e){e?this.Ff=qi(this.Ff,21):this.Ff=Hi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(e){e?this.Ff=qi(this.Ff,23):this.Ff=Hi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,24)},set:function(e){e?this.Ff=qi(this.Ff,24):this.Ff=Hi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,25)},set:function(e){e?this.Ff=qi(this.Ff,25):this.Ff=Hi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(e){e?this.Ff=qi(this.Ff,26):this.Ff=Hi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Io(Vd,mc);var Qb=function(){Vd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,14)},set:function(t){t?this.Ff=qi(this.Ff,14):this.Ff=Hi(this.Ff,14)}}),this.password=!0};Io(Qb,Vd);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=MT(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+bn(Lt.internal.getWidth(t))+" "+bn(Lt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+bn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Uc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=Lt.internal.getHeight(t),s=Lt.internal.getWidth(t),l=MT(t,t.caption);return i.push("1 g"),i.push("0 0 "+bn(s)+" "+bn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+bn(s-1)+" "+bn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+bn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(Lt.internal.getWidth(t))+" "+bn(Lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Circle.YesNormal,e.D[t]=Lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Lt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+oh(Lt.internal.getWidth(t)/2)+" "+oh(Lt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Lt.internal.Bezier_C).toFixed(5)),s=Number((r*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+oh(Lt.internal.getWidth(t)/2)+" "+oh(Lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+oh(Lt.internal.getWidth(t)/2)+" "+oh(Lt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+oh(Lt.internal.getWidth(t)/2)+" "+oh(Lt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Cross.YesNormal,e.D[t]=Lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Uc(t);e.scope=t.scope;var n=[],r=Lt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+bn(Lt.internal.getWidth(t)-2)+" "+bn(Lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(bn(r.x1.x)+" "+bn(r.x1.y)+" m"),n.push(bn(r.x2.x)+" "+bn(r.x2.y)+" l"),n.push(bn(r.x4.x)+" "+bn(r.x4.y)+" m"),n.push(bn(r.x3.x)+" "+bn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=Lt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+bn(Lt.internal.getWidth(t))+" "+bn(Lt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+bn(Lt.internal.getWidth(t)-2)+" "+bn(Lt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(bn(n.x1.x)+" "+bn(n.x1.y)+" m"),r.push(bn(n.x2.x)+" "+bn(n.x2.y)+" l"),r.push(bn(n.x4.x)+" "+bn(n.x4.y)+" m"),r.push(bn(n.x3.x)+" "+bn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Uc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bn(Lt.internal.getWidth(t))+" "+bn(Lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Lt.internal.getWidth(t),n=Lt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Lt.internal.getWidth=function(t){var e=0;return br(t)==="object"&&(e=$j(t.Rect[2])),e},Lt.internal.getHeight=function(t){var e=0;return br(t)==="object"&&(e=$j(t.Rect[3])),e};var twe=Ii.addField=function(t){if(ewe(this,t),!(t instanceof mc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ii.AcroFormChoiceField=Mm,Ii.AcroFormListBox=Fm,Ii.AcroFormComboBox=Um,Ii.AcroFormEditBox=Wb,Ii.AcroFormButton=Va,Ii.AcroFormPushButton=Kb,Ii.AcroFormRadioButton=Bm,Ii.AcroFormCheckBox=Xb,Ii.AcroFormTextField=Vd,Ii.AcroFormPasswordField=Qb,Ii.AcroFormAppearance=Lt,Ii.AcroForm={ChoiceField:Mm,ListBox:Fm,ComboBox:Um,EditBox:Wb,Button:Va,PushButton:Kb,RadioButton:Bm,CheckBox:Xb,TextField:Vd,PasswordField:Qb,Appearance:Lt},qt.AcroForm={ChoiceField:Mm,ListBox:Fm,ComboBox:Um,EditBox:Wb,Button:Va,PushButton:Kb,RadioButton:Bm,CheckBox:Xb,TextField:Vd,PasswordField:Qb,Appearance:Lt};qt.AcroForm;function C$(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,F){var V,ee,ge,se,he,me=n;if((F=F||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(K(P))for(he in r)for(ge=r[he],V=0;V<ge.length;V+=1){for(se=!0,ee=0;ee<ge[V].length;ee+=1)if(ge[V][ee]!==void 0&&ge[V][ee]!==P[ee]){se=!1;break}if(se===!0){me=he;break}}else for(he in r)for(ge=r[he],V=0;V<ge.length;V+=1){for(se=!0,ee=0;ee<ge[V].length;ee+=1)if(ge[V][ee]!==void 0&&ge[V][ee]!==P.charCodeAt(ee)){se=!1;break}if(se===!0){me=he;break}}return me===n&&F!==n&&(me=F),me},a=function P(F){for(var V=this.internal.write,ee=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:F.width}),se.push({key:"Height",value:F.height}),F.colorSpace===I.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===I.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var he="",me=0,_e=F.transparency.length;me<_e;me++)he+=F.transparency[me]+" "+F.transparency[me]+" ";se.push({key:"Mask",value:"["+he+"]"})}F.sMask!==void 0&&se.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ue=F.filter!==void 0?["/"+F.filter]:void 0;if(ee({data:F.data,additionalKeyValues:se,alreadyAppliedFilters:Ue,objectId:F.objectId}),V("endobj"),"sMask"in F&&F.sMask!==void 0){var ne,M=(ne=F.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:F.bitsPerComponent,X={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:F.sMask};"filter"in F&&(X.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(F.width),X.filter=F.filter),P.call(this,X)}if(F.colorSpace===I.INDEXED){var Z=this.internal.newObject();ee({data:L(new Uint8Array(F.palette)),objectId:Z}),V("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var F in P)a.call(this,P[F])},l=function(){var P,F=this.internal.collections[e+"images"],V=this.internal.write;for(var ee in F)V("/I"+(P=F[ee]).index,P.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var P=this.internal.collections[e+"images"];return u.call(this),P},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(P){return typeof t["process"+P.toUpperCase()]=="function"},y=function(P){return br(P)==="object"&&P.nodeType===1},g=function(P,F){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return Yb(unescape(V).split("base64,").pop());var ee=t.loadFile(V,!0);if(ee!==void 0)return ee}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ge;switch(F){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return Yb(P.toDataURL(ge,1).split("base64,").pop())}},E=function(P){var F=this.internal.collections[e+"images"];if(F){for(var V in F)if(P===F[V].alias)return F[V]}},A=function(P,F,V){return P||F||(P=-96,F=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),F<0&&(F=-1*V.height*72/F/this.internal.scaleFactor),P===0&&(P=F*V.width/V.height),F===0&&(F=P*V.height/V.width),[P,F]},S=function(P,F,V,ee,ge,se){var he=A.call(this,V,ee,ge),me=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ue=f.call(this);if(V=he[0],ee=he[1],Ue[ge.index]=ge,se){se*=Math.PI/180;var ne=Math.cos(se),M=Math.sin(se),X=function(fe){return fe.toFixed(4)},Z=[X(ne),X(M),X(-1*M),X(ne),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,me(P),_e(F+ee),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([me(V),"0","0",me(ee),"0","0","cm"].join(" "))):this.internal.write([me(V),"0","0",me(ee),me(P),_e(F+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},I=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(P){var F,V,ee=0;if(typeof P=="string")for(V=P.length,F=0;F<V;F++)ee=(ee<<5)-ee+P.charCodeAt(F),ee|=0;else if(K(P))for(V=P.byteLength/2,F=0;F<V;F++)ee=(ee<<5)-ee+P[F],ee|=0;return ee},B=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var F=!0;return P.length===0&&(F=!1),P.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(F=!1),F},$=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var F=P.indexOf(",");return F<0?null:P.substring(0,F).trim().endsWith("base64")?P.substring(F+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(P){for(var F=P.length,V=new Uint8Array(F),ee=0;ee<F;ee++)V[ee]=P.charCodeAt(ee);return V},L=t.__addimage__.arrayBufferToBinaryString=function(P){for(var F="",V=K(P)?P:new Uint8Array(P),ee=0;ee<V.length;ee+=8192)F+=String.fromCharCode.apply(null,V.subarray(ee,ee+8192));return F};t.addImage=function(){var P,F,V,ee,ge,se,he,me,_e;if(typeof arguments[1]=="number"?(F=n,V=arguments[1],ee=arguments[2],ge=arguments[3],se=arguments[4],he=arguments[5],me=arguments[6],_e=arguments[7]):(F=arguments[1],V=arguments[2],ee=arguments[3],ge=arguments[4],se=arguments[5],he=arguments[6],me=arguments[7],_e=arguments[8]),br(P=arguments[0])==="object"&&!y(P)&&"imageData"in P){var Ue=P;P=Ue.imageData,F=Ue.format||F||n,V=Ue.x||V||0,ee=Ue.y||ee||0,ge=Ue.w||Ue.width||ge,se=Ue.h||Ue.height||se,he=Ue.alias||he,me=Ue.compression||me,_e=Ue.rotation||Ue.angle||_e}var ne=this.internal.getFilters();if(me===void 0&&ne.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(V)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=D.call(this,P,F,he,me);return S.call(this,V,ee,ge,se,M,_e),this};var D=function(P,F,V,ee){var ge,se,he;if(typeof P=="string"&&i(P)===n){P=unescape(P);var me=G(P,!1);(me!==""||(me=t.loadFile(P,!0))!==void 0)&&(P=me)}if(y(P)&&(P=g(P,F)),F=i(P,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((he=V)==null||he.length===0)&&(V=(function(_e){return typeof _e=="string"||K(_e)?k(_e):K(_e.data)?k(_e.data):null})(P)),(ge=E.call(this,V))||(P instanceof Uint8Array||F==="RGBA"||(se=P,P=j(P)),ge=this["process"+F.toUpperCase()](P,h.call(this),V,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in t.image_compression?_e:q.NONE})(ee),se)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},G=t.__addimage__.convertBase64ToBinaryString=function(P,F){F=typeof F!="boolean"||F;var V,ee="";if(typeof P=="string"){var ge;V=(ge=$(P))!==null&&ge!==void 0?ge:P;try{ee=Yb(V)}catch(se){if(F)throw B(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(P){var F,V,ee="";if(y(P)&&(P=g(P)),typeof P=="string"&&i(P)===n&&((ee=G(P,!1))===""&&(ee=t.loadFile(P)||""),P=ee),V=i(P),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(P instanceof Uint8Array||(P=j(P)),!(F=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=V,F}})(qt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};qt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var g=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(A.objId),q=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(I(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+g(I(q))+") >>",A.content=a;var k=A.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(A.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(E(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var K=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(n),y:f(r),w:u(n+i),h:f(r+a)},options:s,type:"link"})},t.textWithLink=function(n,r,i,a){var s,l,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;s=Math.ceil(f*h)}else l=u,s=f;return this.text(n,r,i,a),i+=.2*f,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-f,l,s,a),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(qt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(A){return s(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return s(A)&&a(A)&&e[A.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(A){var S=0,I=n,q="",k=0;for(S=0;S<A.length;S+=1)I[A.charCodeAt(S)]!==void 0?(k++,typeof(I=I[A.charCodeAt(S)])=="number"&&(q+=String.fromCharCode(I),I=n,k=0),S===A.length-1&&(I=n,q+=A.charAt(S-(k-1)),S-=k-1,k=0)):(I=n,q+=A.charAt(S-k),S-=k,k=0);return q};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(A,S,I){return s(A)?a(A)===!1?-1:!f(A)||!s(S)&&!s(I)||!s(I)&&l(S)||l(A)&&!s(S)||l(A)&&u(S)||l(A)&&l(S)?0:h(A)&&s(S)&&!l(S)&&s(I)&&f(I)?3:l(A)||!s(I)?1:2:-1},g=function(A){var S=0,I=0,q=0,k="",B="",$="",K=(A=A||"").split("\\s+"),j=[];for(S=0;S<K.length;S+=1){for(j.push(""),I=0;I<K[S].length;I+=1)k=K[S][I],B=K[S][I-1],$=K[S][I+1],s(k)?(q=y(k,B,$),j[S]+=q!==-1?String.fromCharCode(e[k.charCodeAt(0)][q]):k):j[S]+=k;j[S]=p(j[S])}return j.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var A,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(S)){var q=0;for(I=[],q=0;q<S.length;q+=1)Array.isArray(S[q])?I.push([g(S[q][0]),S[q][1],S[q][2]]):I.push([g(S[q])]);A=I}else A=g(S);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",E])})(qt.API),qt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(qt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(A){E=A}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,g=0,E=0,A=0,S=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var I=f.maxWidth;I>0?typeof u=="string"?u=this.splitTextToSize(u,I):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(k,B){return k.concat(S.splitTextToSize(B,I))},[])):u=Array.isArray(u)?u:[u];for(var q=0;q<u.length;q++)g<(A=this.getStringUnitWidth(u[q],{font:p})*h)&&(g=A);return g!==0&&(E=u.length),{w:g/=y,h:Math.max((E*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,g&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};t.table=function(u,f,h,p,y){if(r.call(this),!h)throw new Error("No data for PDF table.");var g,E,A,S,I=[],q=[],k=[],B={},$={},K=[],j=[],L=(y=y||{}).autoSize||!1,D=y.printHeaders!==!1,G=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,P=y.margins||Object.assign({width:this.getPageWidth()},e),F=typeof y.padding=="number"?y.padding:3,V=y.headerBackgroundColor||"#c8c8c8",ee=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=ee,this.setFontSize(G),p==null)q=I=Object.keys(h[0]),k=I.map(function(){return"left"});else if(Array.isArray(p)&&br(p[0])==="object")for(I=p.map(function(Ue){return Ue.name}),q=p.map(function(Ue){return Ue.prompt||Ue.name||""}),k=p.map(function(Ue){return Ue.align||"left"}),g=0;g<p.length;g+=1)$[p[g].name]=.7499990551181103*p[g].width;else Array.isArray(p)&&typeof p[0]=="string"&&(q=I=p,k=I.map(function(){return"left"}));if(L||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<I.length;g+=1){for(B[S=I[g]]=h.map(function(Ue){return Ue[S]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(q[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[S],this.setFont(void 0,"normal"),A=0;A<E.length;A+=1)K.push(this.getTextDimensions(E[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[S]=Math.max.apply(null,K)+F+F,K=[]}if(D){var ge={};for(g=0;g<I.length;g+=1)ge[I[g]]={},ge[I[g]].text=q[g],ge[I[g]].align=k[g];var se=l.call(this,ge,$);j=I.map(function(Ue){return new a(u,f,$[Ue],se,ge[Ue].text,void 0,ge[Ue].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var he=p.reduce(function(Ue,ne){return Ue[ne.name]=ne.align,Ue},{});for(g=0;g<h.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:h[g]},this);var me=l.call(this,h[g],$);for(A=0;A<I.length;A+=1){var _e=h[g][I[A]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:A,data:_e},this),s.call(this,new a(u,f,$[I[A]],me,_e,g+2,he[I[A]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(g){var E=u[g];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/y+h+h},this).reduce(function(g,E){return Math.max(g,E)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=u;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(qt.API);var P$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},O$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],FT=C$(O$),R$=[100,200,300,400,500,600,700,800,900],nwe=C$(R$);function LA(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return P$[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof FT[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Gj(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var rwe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Yj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Wj(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Kj(t){return t.trimLeft()}function iwe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function awe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Tb,Xj,Qj,mm,Nb,Jj,Zj,eM,jA=["times"];function tM(t,e,n,r,i){var a=4,s=rM;switch(i){case qt.API.image_compression.FAST:a=1,s=nM;break;case qt.API.image_compression.MEDIUM:a=6,s=iM;break;case qt.API.image_compression.SLOW:a=9,s=aM}t=(function(u,f,h,p){for(var y,g=u.length/f,E=new Uint8Array(u.length+g),A=[swe,nM,rM,iM,aM],S=0;S<g;S+=1){var I=S*f,q=u.subarray(I,I+f);if(p)E.set(p(q,h,y),I+S);else{for(var k=A.length,B=[],$=0;$<k;$+=1)B[$]=A[$](q,h,y);var K=lwe(B.concat());E.set(B[K],I+S)}y=q}return E})(t,e,Math.ceil(n*r/8),s);var l=OT(t,{level:a});return qt.API.__addimage__.arrayBufferToBinaryString(l)}function swe(t){var e=Array.apply([],t);return e.unshift(0),e}function nM(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function rM(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=t[a]-s+256&255}return i}function iM(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=t[a-e]||0,l=n&&n[a]||0;i[a+1]=t[a]+256-(s+l>>>1)&255}return i}function aM(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=owe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function owe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function lwe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function MA(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return D$(t,i)>>a&s}function sM(t,e,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),l=(1<<r)-1,u=(e&l)<<s;(function(f,h,p){if(h+1<f.byteLength)f.setUint16(h,p,!1);else{var y=p>>8&255;f.setUint8(h,y)}})(t,a,D$(t,a)&~(l<<s)&65535|u)}function D$(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function cwe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var l=null,u=null;a&&(l=e,u=s,e+=3*s);var f=!0,h=[],p=0,y=null,g=0,E=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];p=t[e++]|t[e++]<<8,y=t[e++],1&A||(y=null),g=A>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,q=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,B=t[e++],$=B>>6&1,K=1<<1+(7&B),j=l,L=u,D=!1;B>>7&&(D=!0,j=e,L=K,e+=3*K);var G=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}h.push({x:S,y:I,width:q,height:k,has_local_palette:D,palette_offset:j,palette_size:L,data_offset:G,data_length:e-G,transparent_index:y,interlaced:!!$,delay:p,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return E},this.frameInfo=function(F){if(F<0||F>=h.length)throw new Error("Frame index out of range.");return h[F]},this.decodeAndBlitFrameBGRA=function(F,V){var ee=this.frameInfo(F),ge=ee.width*ee.height,se=new Uint8Array(ge);oM(t,ee.data_offset,se,ge);var he=ee.palette_offset,me=ee.transparent_index;me===null&&(me=256);var _e=ee.width,Ue=n-_e,ne=_e,M=4*(ee.y*n+ee.x),X=4*((ee.y+ee.height)*n+ee.x),Z=M,fe=4*Ue;ee.interlaced===!0&&(fe+=4*n*7);for(var pe=8,ye=0,Pe=se.length;ye<Pe;++ye){var de=se[ye];if(ne===0&&(ne=_e,(Z+=fe)>=X&&(fe=4*Ue+4*n*(pe-1),Z=M+(_e+Ue)*(pe<<1),pe>>=1)),de===me)Z+=4;else{var Ce=t[he+3*de],Ve=t[he+3*de+1],Se=t[he+3*de+2];V[Z++]=Se,V[Z++]=Ve,V[Z++]=Ce,V[Z++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(F,V){var ee=this.frameInfo(F),ge=ee.width*ee.height,se=new Uint8Array(ge);oM(t,ee.data_offset,se,ge);var he=ee.palette_offset,me=ee.transparent_index;me===null&&(me=256);var _e=ee.width,Ue=n-_e,ne=_e,M=4*(ee.y*n+ee.x),X=4*((ee.y+ee.height)*n+ee.x),Z=M,fe=4*Ue;ee.interlaced===!0&&(fe+=4*n*7);for(var pe=8,ye=0,Pe=se.length;ye<Pe;++ye){var de=se[ye];if(ne===0&&(ne=_e,(Z+=fe)>=X&&(fe=4*Ue+4*n*(pe-1),Z=M+(_e+Ue)*(pe<<1),pe>>=1)),de===me)Z+=4;else{var Ce=t[he+3*de],Ve=t[he+3*de+1],Se=t[he+3*de+2];V[Z++]=Ce,V[Z++]=Ve,V[Z++]=Se,V[Z++]=255}--ne}}}function oM(t,e,n,r){for(var i=t[e++],a=1<<i,s=a+1,l=s+1,u=i+1,f=(1<<u)-1,h=0,p=0,y=0,g=t[e++],E=new Int32Array(4096),A=null;;){for(;h<16&&g!==0;)p|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<u)break;var S=p&f;if(p>>=u,h-=u,S!==a){if(S===s)break;for(var I=S<l?S:A,q=0,k=I;k>a;)k=E[k]>>8,++q;var B=k;if(y+q+(I!==S?1:0)>r)return void Lr.log("Warning, gif stream longer than expected.");n[y++]=B;var $=y+=q;for(I!==S&&(n[y++]=B),k=I;q--;)k=E[k],n[--$]=255&k,k>>=8;A!==null&&l<4096&&(E[l++]=A<<8|B,l>=f+1&&u<12&&(++u,f=f<<1|1)),A=S}else l=s+1,f=(1<<(u=i+1))-1,A=null}return y!==r&&Lr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function FA(t){var e,n,r,i,a,s=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),y=new Array(65535),g=new Array(64),E=new Array(64),A=[],S=0,I=7,q=new Array(64),k=new Array(64),B=new Array(64),$=new Array(256),K=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(M,X){for(var Z=0,fe=0,pe=new Array,ye=1;ye<=16;ye++){for(var Pe=1;Pe<=M[ye];Pe++)pe[X[fe]]=[],pe[X[fe]][0]=Z,pe[X[fe]][1]=ye,fe++,Z++;Z*=2}return pe}function he(M){for(var X=M[0],Z=M[1]-1;Z>=0;)X&1<<Z&&(S|=1<<I),Z--,--I<0&&(S==255?(me(255),me(0)):me(S),I=7,S=0)}function me(M){A.push(M)}function _e(M){me(M>>8&255),me(255&M)}function Ue(M,X,Z,fe,pe){for(var ye,Pe=pe[0],de=pe[240],Ce=(function(qe,dt){var vt,Ut,Rt,cn,fn,Jt,gn,st,ft,Et,Fe=0;for(ft=0;ft<8;++ft){vt=qe[Fe],Ut=qe[Fe+1],Rt=qe[Fe+2],cn=qe[Fe+3],fn=qe[Fe+4],Jt=qe[Fe+5],gn=qe[Fe+6];var wn=vt+(st=qe[Fe+7]),Bt=vt-st,It=Ut+gn,Mt=Ut-gn,nn=Rt+Jt,_t=Rt-Jt,un=cn+fn,xt=cn-fn,Vt=wn+un,Tn=wn-un,ht=It+nn,gt=It-nn;qe[Fe]=Vt+ht,qe[Fe+4]=Vt-ht;var Kt=.707106781*(gt+Tn);qe[Fe+2]=Tn+Kt,qe[Fe+6]=Tn-Kt;var Gn=.382683433*((Vt=xt+_t)-(gt=Mt+Bt)),Mr=.5411961*Vt+Gn,oa=1.306562965*gt+Gn,fi=.707106781*(ht=_t+Mt),zt=Bt+fi,Ls=Bt-fi;qe[Fe+5]=Ls+Mr,qe[Fe+3]=Ls-Mr,qe[Fe+1]=zt+oa,qe[Fe+7]=zt-oa,Fe+=8}for(Fe=0,ft=0;ft<8;++ft){vt=qe[Fe],Ut=qe[Fe+8],Rt=qe[Fe+16],cn=qe[Fe+24],fn=qe[Fe+32],Jt=qe[Fe+40],gn=qe[Fe+48];var Ri=vt+(st=qe[Fe+56]),Di=vt-st,ki=Ut+gn,Xn=Ut-gn,cr=Rt+Jt,Xr=Rt-Jt,Li=cn+fn,hi=cn-fn,Vn=Ri+Li,ir=Ri-Li,Qr=ki+cr,Wi=ki-cr;qe[Fe]=Vn+Qr,qe[Fe+32]=Vn-Qr;var Ca=.707106781*(Wi+ir);qe[Fe+16]=ir+Ca,qe[Fe+48]=ir-Ca;var Js=.382683433*((Vn=hi+Xr)-(Wi=Xn+Di)),Ha=.5411961*Vn+Js,ji=1.306562965*Wi+Js,ms=.707106781*(Qr=Xr+Xn),nt=Di+ms,rn=Di-ms;qe[Fe+40]=rn+Ha,qe[Fe+24]=rn-Ha,qe[Fe+8]=nt+ji,qe[Fe+56]=nt-ji,Fe++}for(ft=0;ft<64;++ft)Et=qe[ft]*dt[ft],g[ft]=Et>0?Et+.5|0:Et-.5|0;return g})(M,X),Ve=0;Ve<64;++Ve)E[j[Ve]]=Ce[Ve];var Se=E[0]-Z;Z=E[0],Se==0?he(fe[0]):(he(fe[y[ye=32767+Se]]),he(p[ye]));for(var rt=63;rt>0&&E[rt]==0;)rt--;if(rt==0)return he(Pe),Z;for(var it,oe=1;oe<=rt;){for(var Xe=oe;E[oe]==0&&oe<=rt;)++oe;var Nt=oe-Xe;if(Nt>=16){it=Nt>>4;for(var yt=1;yt<=it;++yt)he(de);Nt&=15}ye=32767+E[oe],he(pe[(Nt<<4)+y[ye]]),he(p[ye]),oe++}return rt!=63&&he(Pe),Z}function ne(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(X){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var pe=s((Z[fe]*X+50)/100);pe=Math.min(Math.max(pe,1),255),l[j[fe]]=pe}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var de=s((ye[Pe]*X+50)/100);de=Math.min(Math.max(de,1),255),u[j[Pe]]=de}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Se=0;Se<8;Se++)for(var rt=0;rt<8;rt++)f[Ve]=1/(l[j[Ve]]*Ce[Se]*Ce[rt]*8),h[Ve]=1/(u[j[Ve]]*Ce[Se]*Ce[rt]*8),Ve++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,X){X&&ne(X),A=new Array,S=0,I=7,_e(65496),_e(65504),_e(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),_e(1),_e(1),me(0),me(0),(function(){_e(65499),_e(132),me(0);for(var Ut=0;Ut<64;Ut++)me(l[Ut]);me(1);for(var Rt=0;Rt<64;Rt++)me(u[Rt])})(),(function(Ut,Rt){_e(65472),_e(17),me(8),_e(Rt),_e(Ut),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)})(M.width,M.height),(function(){_e(65476),_e(418),me(0);for(var Ut=0;Ut<16;Ut++)me(L[Ut+1]);for(var Rt=0;Rt<=11;Rt++)me(D[Rt]);me(16);for(var cn=0;cn<16;cn++)me(G[cn+1]);for(var fn=0;fn<=161;fn++)me(P[fn]);me(1);for(var Jt=0;Jt<16;Jt++)me(F[Jt+1]);for(var gn=0;gn<=11;gn++)me(V[gn]);me(17);for(var st=0;st<16;st++)me(ee[st+1]);for(var ft=0;ft<=161;ft++)me(ge[ft])})(),_e(65498),_e(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var Z=0,fe=0,pe=0;S=0,I=7,this.encode.displayName="_encode_";for(var ye,Pe,de,Ce,Ve,Se,rt,it,oe,Xe=M.data,Nt=M.width,yt=M.height,qe=4*Nt,dt=0;dt<yt;){for(ye=0;ye<qe;){for(Ve=qe*dt+ye,rt=-1,it=0,oe=0;oe<64;oe++)Se=Ve+(it=oe>>3)*qe+(rt=4*(7&oe)),dt+it>=yt&&(Se-=qe*(dt+1+it-yt)),ye+rt>=qe&&(Se-=ye+rt-qe+4),Pe=Xe[Se++],de=Xe[Se++],Ce=Xe[Se++],q[oe]=(K[Pe]+K[de+256|0]+K[Ce+512|0]>>16)-128,k[oe]=(K[Pe+768|0]+K[de+1024|0]+K[Ce+1280|0]>>16)-128,B[oe]=(K[Pe+1280|0]+K[de+1536|0]+K[Ce+1792|0]>>16)-128;Z=Ue(q,f,Z,e,r),fe=Ue(k,h,fe,n,i),pe=Ue(B,h,pe,n,i),ye+=32}dt+=8}if(I>=0){var vt=[];vt[1]=I+1,vt[0]=(1<<I+1)-1,he(vt)}return _e(65497),new Uint8Array(A)},t=t||50,(function(){for(var M=String.fromCharCode,X=0;X<256;X++)$[X]=M(X)})(),e=se(L,D),n=se(F,V),r=se(G,P),i=se(ee,ge),(function(){for(var M=1,X=2,Z=1;Z<=15;Z++){for(var fe=M;fe<X;fe++)y[32767+fe]=Z,p[32767+fe]=[],p[32767+fe][1]=Z,p[32767+fe][0]=fe;for(var pe=-(X-1);pe<=-M;pe++)y[32767+pe]=Z,p[32767+pe]=[],p[32767+pe][1]=Z,p[32767+pe][0]=X-1+pe;M<<=1,X<<=1}})(),(function(){for(var M=0;M<256;M++)K[M]=19595*M,K[M+256|0]=38470*M,K[M+512|0]=7471*M+32768,K[M+768|0]=-11059*M,K[M+1024|0]=-21709*M,K[M+1280|0]=32768*M+8421375,K[M+1536|0]=-27439*M,K[M+1792|0]=-5329*M})(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lM(t){function e(D){if(!D)throw Error("assert :P")}function n(D,G,P){for(var F=0;4>F;F++)if(D[G+F]!=P.charCodeAt(F))return!0;return!1}function r(D,G,P,F,V){for(var ee=0;ee<V;ee++)D[G+ee]=P[F+ee]}function i(D,G,P,F){for(var V=0;V<F;V++)D[G+V]=P}function a(D){return new Int32Array(D)}function s(D,G){for(var P=[],F=0;F<D;F++)P.push(new G);return P}function l(D,G){var P=[];return(function F(V,ee,ge){for(var se=ge[ee],he=0;he<se&&(V.push(ge.length>ee+1?[]:new G),!(ge.length<ee+1));he++)F(V[he],ee+1,ge)})(P,0,D),P}var u=function(){var D=this;function G(b,w){for(var C=1<<w-1>>>0;b&C;)C>>>=1;return C?(b&C-1)+C:b}function P(b,w,C,U,W){e(!(U%C));do b[w+(U-=C)]=W;while(0<U)}function F(b,w,C,U,W){if(e(2328>=W),512>=W)var Q=a(512);else if((Q=a(W))==null)return 0;return(function(J,re,ae,ue,xe,De){var le,Ee,Ie=re,Ge=1<<ae,Oe=a(16),$e=a(16);for(e(xe!=0),e(ue!=null),e(J!=null),e(0<ae),Ee=0;Ee<xe;++Ee){if(15<ue[Ee])return 0;++Oe[ue[Ee]]}if(Oe[0]==xe)return 0;for($e[1]=0,le=1;15>le;++le){if(Oe[le]>1<<le)return 0;$e[le+1]=$e[le]+Oe[le]}for(Ee=0;Ee<xe;++Ee)le=ue[Ee],0<ue[Ee]&&(De[$e[le]++]=Ee);if($e[15]==1)return(ue=new V).g=0,ue.value=De[0],P(J,Ie,1,Ge,ue),Ge;var Ke,ot=-1,Ze=Ge-1,kt=0,At=1,dn=1,Ct=1<<ae;for(Ee=0,le=1,xe=2;le<=ae;++le,xe<<=1){if(At+=dn<<=1,0>(dn-=Oe[le]))return 0;for(;0<Oe[le];--Oe[le])(ue=new V).g=le,ue.value=De[Ee++],P(J,Ie+kt,xe,Ct,ue),kt=G(kt,le)}for(le=ae+1,xe=2;15>=le;++le,xe<<=1){if(At+=dn<<=1,0>(dn-=Oe[le]))return 0;for(;0<Oe[le];--Oe[le]){if(ue=new V,(kt&Ze)!=ot){for(Ie+=Ct,Ke=1<<(ot=le)-ae;15>ot&&!(0>=(Ke-=Oe[ot]));)++ot,Ke<<=1;Ge+=Ct=1<<(Ke=ot-ae),J[re+(ot=kt&Ze)].g=Ke+ae,J[re+ot].value=Ie-re-ot}ue.g=le-ae,ue.value=De[Ee++],P(J,Ie+(kt>>ae),xe,Ct,ue),kt=G(kt,le)}}return At!=2*$e[15]-1?0:Ge})(b,w,C,U,W,Q)}function V(){this.value=this.g=0}function ee(){this.value=this.g=0}function ge(){this.G=s(5,V),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ac,ee)}function se(b,w,C,U){e(b!=null),e(w!=null),e(2147483648>U),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=w,b.pa=C,b.Jd=w,b.Yc=C+U,b.Zc=4<=U?C+U-4+1:C,Pe(b)}function he(b,w){for(var C=0;0<w--;)C|=Ce(b,128)<<w;return C}function me(b,w){var C=he(b,w);return de(b)?-C:C}function _e(b,w,C,U){var W,Q=0;for(e(b!=null),e(w!=null),e(4294967288>U),b.Sb=U,b.Ra=0,b.u=0,b.h=0,4<U&&(U=4),W=0;W<U;++W)Q+=w[C+W]<<8*W;b.Ra=Q,b.bb=U,b.oa=w,b.pa=C}function Ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<ul-8>>>0,++b.bb,b.u-=8;fe(b)&&(b.h=1,b.u=0)}function ne(b,w){if(e(0<=w),!b.h&&w<=Qa){var C=Z(b)&_s[w];return b.u+=w,Ue(b),C}return b.h=1,b.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(b){return b.Ra>>>(b.u&ul-1)>>>0}function fe(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>ul}function pe(b,w){b.u=w,b.h=fe(b)}function ye(b){b.u>=fl&&(e(b.u>=fl),Ue(b))}function Pe(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function de(b){return he(b,1)}function Ce(b,w){var C=b.Ca;0>b.b&&Pe(b);var U=b.b,W=C*w>>>8,Q=(b.I>>>U>W)+0;for(Q?(C-=W,b.I-=W+1<<U>>>0):C=W+1,U=C,W=0;256<=U;)W+=8,U>>=8;return U=7^W+ql[U],b.b-=U,b.Ca=(C<<U)-1,Q}function Ve(b,w,C){b[w+0]=C>>24&255,b[w+1]=C>>16&255,b[w+2]=C>>8&255,b[w+3]=255&C}function Se(b,w){return b[w+0]|b[w+1]<<8}function rt(b,w){return Se(b,w)|b[w+2]<<16}function it(b,w){return Se(b,w)|Se(b,w+2)<<16}function oe(b,w){var C=1<<w;return e(b!=null),e(0<w),b.X=a(C),b.X==null?0:(b.Mb=32-w,b.Xa=w,1)}function Xe(b,w){e(b!=null),e(w!=null),e(b.Xa==w.Xa),r(w.X,0,b.X,0,1<<w.Xa)}function Nt(){this.X=[],this.Xa=this.Mb=0}function yt(b,w,C,U){e(C!=null),e(U!=null);var W=C[0],Q=U[0];return W==0&&(W=(b*Q+w/2)/w),Q==0&&(Q=(w*W+b/2)/b),0>=W||0>=Q?0:(C[0]=W,U[0]=Q,1)}function qe(b,w){return b+(1<<w)-1>>>w}function dt(b,w){return((4278255360&b)+(4278255360&w)>>>0&4278255360)+((16711935&b)+(16711935&w)>>>0&16711935)>>>0}function vt(b,w){D[w]=function(C,U,W,Q,J,re,ae){var ue;for(ue=0;ue<J;++ue){var xe=D[b](re[ae+ue-1],W,Q+ue);re[ae+ue]=dt(C[U+ue],xe)}}}function Ut(){this.ud=this.hd=this.jd=0}function Rt(b,w){return((4278124286&(b^w))>>>1)+(b&w)>>>0}function cn(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function fn(b,w){return cn(b+(b-w+.5>>1))}function Jt(b,w,C){return Math.abs(w-C)-Math.abs(b-C)}function gn(b,w,C,U,W,Q,J){for(U=Q[J-1],C=0;C<W;++C)Q[J+C]=U=dt(b[w+C],U)}function st(b,w,C,U,W){var Q;for(Q=0;Q<C;++Q){var J=b[w+Q],re=J>>8&255,ae=16711935&(ae=(ae=16711935&J)+((re<<16)+re));U[W+Q]=(4278255360&J)+ae>>>0}}function ft(b,w){w.jd=255&b,w.hd=b>>8&255,w.ud=b>>16&255}function Et(b,w,C,U,W,Q){var J;for(J=0;J<U;++J){var re=w[C+J],ae=re>>>8,ue=re,xe=255&(xe=(xe=re>>>16)+((b.jd<<24>>24)*(ae<<24>>24)>>>5));ue=255&(ue=(ue+=(b.hd<<24>>24)*(ae<<24>>24)>>>5)+((b.ud<<24>>24)*(xe<<24>>24)>>>5)),W[Q+J]=(4278255360&re)+(xe<<16)+ue}}function Fe(b,w,C,U,W){D[w]=function(Q,J,re,ae,ue,xe,De,le,Ee){for(ae=De;ae<le;++ae)for(De=0;De<Ee;++De)ue[xe++]=W(re[U(Q[J++])])},D[b]=function(Q,J,re,ae,ue,xe,De){var le=8>>Q.b,Ee=Q.Ea,Ie=Q.K[0],Ge=Q.w;if(8>le)for(Q=(1<<Q.b)-1,Ge=(1<<le)-1;J<re;++J){var Oe,$e=0;for(Oe=0;Oe<Ee;++Oe)Oe&Q||($e=U(ae[ue++])),xe[De++]=W(Ie[$e&Ge]),$e>>=le}else D["VP8LMapColor"+C](ae,ue,Ie,Ge,xe,De,J,re,Ee)}}function wn(b,w,C,U,W){for(C=w+C;w<C;){var Q=b[w++];U[W++]=Q>>16&255,U[W++]=Q>>8&255,U[W++]=255&Q}}function Bt(b,w,C,U,W){for(C=w+C;w<C;){var Q=b[w++];U[W++]=Q>>16&255,U[W++]=Q>>8&255,U[W++]=255&Q,U[W++]=Q>>24&255}}function It(b,w,C,U,W){for(C=w+C;w<C;){var Q=(J=b[w++])>>16&240|J>>12&15,J=240&J|J>>28&15;U[W++]=Q,U[W++]=J}}function Mt(b,w,C,U,W){for(C=w+C;w<C;){var Q=(J=b[w++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;U[W++]=Q,U[W++]=J}}function nn(b,w,C,U,W){for(C=w+C;w<C;){var Q=b[w++];U[W++]=255&Q,U[W++]=Q>>8&255,U[W++]=Q>>16&255}}function _t(b,w,C,U,W,Q){if(Q==0)for(C=w+C;w<C;)Ve(U,((Q=b[w++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),W+=32;else r(U,W,b,w,C)}function un(b,w){D[w][0]=D[b+"0"],D[w][1]=D[b+"1"],D[w][2]=D[b+"2"],D[w][3]=D[b+"3"],D[w][4]=D[b+"4"],D[w][5]=D[b+"5"],D[w][6]=D[b+"6"],D[w][7]=D[b+"7"],D[w][8]=D[b+"8"],D[w][9]=D[b+"9"],D[w][10]=D[b+"10"],D[w][11]=D[b+"11"],D[w][12]=D[b+"12"],D[w][13]=D[b+"13"],D[w][14]=D[b+"0"],D[w][15]=D[b+"0"]}function xt(b){return b==rd||b==Np||b==Df||b==Ip}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new Tn,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gn(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Mr(b,w){var C=b.T,U=w.ba.f.RGBA,W=U.eb,Q=U.fb+b.ka*U.A,J=ma[w.ba.S],re=b.y,ae=b.O,ue=b.f,xe=b.N,De=b.ea,le=b.W,Ee=w.cc,Ie=w.dc,Ge=w.Mc,Oe=w.Nc,$e=b.ka,Ke=b.ka+b.T,ot=b.U,Ze=ot+1>>1;for($e==0?J(re,ae,null,null,ue,xe,De,le,ue,xe,De,le,W,Q,null,null,ot):(J(w.ec,w.fc,re,ae,Ee,Ie,Ge,Oe,ue,xe,De,le,W,Q-U.A,W,Q,ot),++C);$e+2<Ke;$e+=2)Ee=ue,Ie=xe,Ge=De,Oe=le,xe+=b.Rc,le+=b.Rc,Q+=2*U.A,J(re,(ae+=2*b.fa)-b.fa,re,ae,Ee,Ie,Ge,Oe,ue,xe,De,le,W,Q-U.A,W,Q,ot);return ae+=b.fa,b.j+Ke<b.o?(r(w.ec,w.fc,re,ae,ot),r(w.cc,w.dc,ue,xe,Ze),r(w.Mc,w.Nc,De,le,Ze),C--):1&Ke||J(re,ae,null,null,ue,xe,De,le,ue,xe,De,le,W,Q+U.A,null,null,ot),C}function oa(b,w,C){var U=b.F,W=[b.J];if(U!=null){var Q=b.U,J=w.ba.S,re=J==nd||J==Df;w=w.ba.f.RGBA;var ae=[0],ue=b.ka;ae[0]=b.T,b.Kb&&(ue==0?--ae[0]:(--ue,W[0]-=b.width),b.j+b.ka+b.T==b.o&&(ae[0]=b.o-b.j-ue));var xe=w.eb;ue=w.fb+ue*w.A,b=Jh(U,W[0],b.width,Q,ae,xe,ue+(re?0:3),w.A),e(C==ae),b&&xt(J)&&Tu(xe,ue,re,Q,ae,w.A)}return 0}function fi(b){var w=b.ma,C=w.ba.S,U=11>C,W=C==ka||C==so||C==nd||C==Rf||C==12||xt(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!zl(w.Oa,b,W?11:12))return 0;if(W&&xt(C)&&hn(),b.da)alert("todo:use_scaling");else{if(U){if(w.Ib=Gn,b.Kb){if(C=b.U+1>>1,w.memory=a(b.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+b.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=Mr,hn()}}else alert("todo:EmitYUV");W&&(w.Jb=oa,U&&je())}if(U&&!Oc){for(b=0;256>b;++b)ga[b]=89858*(b-128)+jf>>ho,ew[b]=-22014*(b-128)+jf,l1[b]=-45773*(b-128),Dp[b]=113618*(b-128)+jf>>ho;for(b=Pu;b<Pc;++b)w=76283*(b-16)+jf>>ho,tw[b-Pu]=$a(w,255),nw[b-Pu]=$a(w+8>>4,15);Oc=1}return 1}function zt(b){var w=b.ma,C=b.U,U=b.T;return e(!(1&b.ka)),0>=C||0>=U?0:(C=w.Ib(b,w),w.Jb!=null&&w.Jb(b,w,C),w.Dc+=C,1)}function Ls(b){b.ma.memory=null}function Ri(b,w,C,U){return ne(b,8)!=47?0:(w[0]=ne(b,14)+1,C[0]=ne(b,14)+1,U[0]=ne(b,1),ne(b,3)!=0?0:!b.h)}function Di(b,w){if(4>b)return b+1;var C=b-2>>1;return(2+(1&b)<<C)+ne(w,C)+1}function ki(b,w){return 120<w?w-120:1<=(C=((C=lo[w-1])>>4)*b+(8-(15&C)))?C:1;var C}function Xn(b,w,C){var U=Z(C),W=b[w+=255&U].g-8;return 0<W&&(pe(C,C.u+8),U=Z(C),w+=b[w].value,w+=U&(1<<W)-1),pe(C,C.u+b[w].g),b[w].value}function cr(b,w,C){return C.g+=b.g,C.value+=b.value<<w>>>0,e(8>=C.g),b.g}function Xr(b,w,C){var U=b.xc;return e((w=U==0?0:b.vc[b.md*(C>>U)+(w>>U)])<b.Wb),b.Ya[w]}function Li(b,w,C,U){var W=b.ab,Q=b.c*w,J=b.C;w=J+w;var re=C,ae=U;for(U=b.Ta,C=b.Ua;0<W--;){var ue=b.gc[W],xe=J,De=w,le=re,Ee=ae,Ie=(ae=U,re=C,ue.Ea);switch(e(xe<De),e(De<=ue.nc),ue.hc){case 2:mi(le,Ee,(De-xe)*Ie,ae,re);break;case 0:var Ge=xe,Oe=De,$e=ae,Ke=re,ot=(Ct=ue).Ea;Ge==0&&(If(le,Ee,null,null,1,$e,Ke),gn(le,Ee+1,0,0,ot-1,$e,Ke+1),Ee+=ot,Ke+=ot,++Ge);for(var Ze=1<<Ct.b,kt=Ze-1,At=qe(ot,Ct.b),dn=Ct.K,Ct=Ct.w+(Ge>>Ct.b)*At;Ge<Oe;){var Cn=dn,Dr=Ct,vn=1;for(Cf(le,Ee,$e,Ke-ot,1,$e,Ke);vn<ot;){var St=(vn&~kt)+Ze;St>ot&&(St=ot),(0,Hl[Cn[Dr++]>>8&15])(le,Ee+ +vn,$e,Ke+vn-ot,St-vn,$e,Ke+vn),vn=St}Ee+=ot,Ke+=ot,++Ge&kt||(Ct+=At)}De!=ue.nc&&r(ae,re-Ie,ae,re+(De-xe-1)*Ie,Ie);break;case 1:for(Ie=le,Oe=Ee,ot=(le=ue.Ea)-(Ke=le&~($e=(Ee=1<<ue.b)-1)),Ge=qe(le,ue.b),Ze=ue.K,ue=ue.w+(xe>>ue.b)*Ge;xe<De;){for(kt=Ze,At=ue,dn=new Ut,Ct=Oe+Ke,Cn=Oe+le;Oe<Ct;)ft(kt[At++],dn),Pf(dn,Ie,Oe,Ee,ae,re),Oe+=Ee,re+=Ee;Oe<Cn&&(ft(kt[At++],dn),Pf(dn,Ie,Oe,ot,ae,re),Oe+=ot,re+=ot),++xe&$e||(ue+=Ge)}break;case 3:if(le==ae&&Ee==re&&0<ue.b){for(Oe=ae,le=Ie=re+(De-xe)*Ie-(Ke=(De-xe)*qe(ue.Ea,ue.b)),Ee=ae,$e=re,Ge=[],Ke=(ot=Ke)-1;0<=Ke;--Ke)Ge[Ke]=Ee[$e+Ke];for(Ke=ot-1;0<=Ke;--Ke)Oe[le+Ke]=Ge[Ke];wp(ue,xe,De,ae,Ie,ae,re)}else wp(ue,xe,De,le,Ee,ae,re)}re=U,ae=C}ae!=C&&r(U,C,re,ae,Q)}function hi(b,w){var C=b.V,U=b.Ba+b.c*b.C,W=w-b.C;if(e(w<=b.l.o),e(16>=W),0<W){var Q=b.l,J=b.Ta,re=b.Ua,ae=Q.width;if(Li(b,W,C,U),W=re=[re],e((C=b.C)<(U=w)),e(Q.v<Q.va),U>Q.o&&(U=Q.o),C<Q.j){var ue=Q.j-C;C=Q.j,W[0]+=ue*ae}if(C>=U?C=0:(W[0]+=4*Q.v,Q.ka=C-Q.j,Q.U=Q.va-Q.v,Q.T=U-C,C=1),C){if(re=re[0],11>(C=b.ca).S){var xe=C.f.RGBA,De=(U=C.S,W=Q.U,Q=Q.T,ue=xe.eb,xe.A),le=Q;for(xe=xe.fb+b.Ma*xe.A;0<le--;){var Ee=J,Ie=re,Ge=W,Oe=ue,$e=xe;switch(U){case Sp:Of(Ee,Ie,Ge,Oe,$e);break;case ka:$l(Ee,Ie,Ge,Oe,$e);break;case rd:$l(Ee,Ie,Ge,Oe,$e),Tu(Oe,$e,0,Ge,1,0);break;case Tp:Au(Ee,Ie,Ge,Oe,$e);break;case so:_t(Ee,Ie,Ge,Oe,$e,1);break;case Np:_t(Ee,Ie,Ge,Oe,$e,1),Tu(Oe,$e,0,Ge,1,0);break;case nd:_t(Ee,Ie,Ge,Oe,$e,0);break;case Df:_t(Ee,Ie,Ge,Oe,$e,0),Tu(Oe,$e,1,Ge,1,0);break;case Rf:Gl(Ee,Ie,Ge,Oe,$e);break;case Ip:Gl(Ee,Ie,Ge,Oe,$e),ao(Oe,$e,Ge,1,0);break;case Sc:pl(Ee,Ie,Ge,Oe,$e);break;default:e(0)}re+=ae,xe+=De}b.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=C.height)}}b.C=w,e(b.C<=b.i)}function Vn(b){var w;if(0<b.ua)return 0;for(w=0;w<b.Wb;++w){var C=b.Ya[w].G,U=b.Ya[w].H;if(0<C[1][U[1]+0].g||0<C[2][U[2]+0].g||0<C[3][U[3]+0].g)return 0}return 1}function ir(b,w,C,U,W,Q){if(b.Z!=0){var J=b.qd,re=b.rd;for(e(Kl[b.Z]!=null);w<C;++w)Kl[b.Z](J,re,U,W,U,W,Q),J=U,re=W,W+=Q;b.qd=J,b.rd=re}}function Qr(b,w){var C=b.l.ma,U=C.Z==0||C.Z==1?b.l.j:b.C;if(U=b.C<U?U:b.C,e(w<=b.l.o),w>U){var W=b.l.width,Q=C.ca,J=C.tb+W*U,re=b.V,ae=b.Ba+b.c*U,ue=b.gc;e(b.ab==1),e(ue[0].hc==3),dl(ue[0],U,w,re,ae,Q,J),ir(C,U,w,Q,J,W)}b.C=b.Ma=w}function Wi(b,w,C,U,W,Q,J){var re=b.$/U,ae=b.$%U,ue=b.m,xe=b.s,De=C+b.$,le=De;W=C+U*W;var Ee=C+U*Q,Ie=280+xe.ua,Ge=b.Pb?re:16777216,Oe=0<xe.ua?xe.Wa:null,$e=xe.wc,Ke=De<Ee?Xr(xe,ae,re):null;e(b.C<Q),e(Ee<=W);var ot=!1;e:for(;;){for(;ot||De<Ee;){var Ze=0;if(re>=Ge){var kt=De-C;e((Ge=b).Pb),Ge.wd=Ge.m,Ge.xd=kt,0<Ge.s.ua&&Xe(Ge.s.Wa,Ge.s.vb),Ge=re+Tc}if(ae&$e||(Ke=Xr(xe,ae,re)),e(Ke!=null),Ke.Qb&&(w[De]=Ke.qb,ot=!0),!ot)if(ye(ue),Ke.jc){Ze=ue,kt=w;var At=De,dn=Ke.pd[Z(Ze)&Ac-1];e(Ke.jc),256>dn.g?(pe(Ze,Ze.u+dn.g),kt[At]=dn.value,Ze=0):(pe(Ze,Ze.u+dn.g-256),e(256<=dn.value),Ze=dn.value),Ze==0&&(ot=!0)}else Ze=Xn(Ke.G[0],Ke.H[0],ue);if(ue.h)break;if(ot||256>Ze){if(!ot)if(Ke.nd)w[De]=(Ke.qb|Ze<<8)>>>0;else{if(ye(ue),ot=Xn(Ke.G[1],Ke.H[1],ue),ye(ue),kt=Xn(Ke.G[2],Ke.H[2],ue),At=Xn(Ke.G[3],Ke.H[3],ue),ue.h)break;w[De]=(At<<24|ot<<16|Ze<<8|kt)>>>0}if(ot=!1,++De,++ae>=U&&(ae=0,++re,J!=null&&re<=Q&&!(re%16)&&J(b,re),Oe!=null))for(;le<De;)Ze=w[le++],Oe.X[(506832829*Ze&4294967295)>>>Oe.Mb]=Ze}else if(280>Ze){if(Ze=Di(Ze-256,ue),kt=Xn(Ke.G[4],Ke.H[4],ue),ye(ue),kt=ki(U,kt=Di(kt,ue)),ue.h)break;if(De-C<kt||W-De<Ze)break e;for(At=0;At<Ze;++At)w[De+At]=w[De+At-kt];for(De+=Ze,ae+=Ze;ae>=U;)ae-=U,++re,J!=null&&re<=Q&&!(re%16)&&J(b,re);if(e(De<=W),ae&$e&&(Ke=Xr(xe,ae,re)),Oe!=null)for(;le<De;)Ze=w[le++],Oe.X[(506832829*Ze&4294967295)>>>Oe.Mb]=Ze}else{if(!(Ze<Ie))break e;for(ot=Ze-280,e(Oe!=null);le<De;)Ze=w[le++],Oe.X[(506832829*Ze&4294967295)>>>Oe.Mb]=Ze;Ze=De,e(!(ot>>>(kt=Oe).Xa)),w[Ze]=kt.X[ot],ot=!0}ot||e(ue.h==fe(ue))}if(b.Pb&&ue.h&&De<W)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Xe(b.s.vb,b.s.Wa);else{if(ue.h)break e;J!=null&&J(b,re>Q?Q:re),b.a=0,b.$=De-C}return 1}return b.a=3,0}function Ca(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var w=b.Wa;w!=null&&(w.X=null),b.vb=null,e(b!=null)}function Js(){var b=new Zt;return b==null?null:(b.a=0,b.xb=Yg,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),mi=st,Pf=Et,Of=wn,$l=Bt,Gl=It,pl=Mt,Au=nn,D.VP8LMapColor32b=hl,D.VP8LMapColor8b=ha,b)}function Ha(b,w,C,U,W){var Q=1,J=[b],re=[w],ae=U.m,ue=U.s,xe=null,De=0;e:for(;;){if(C)for(;Q&&ne(ae,1);){var le=J,Ee=re,Ie=U,Ge=1,Oe=Ie.m,$e=Ie.gc[Ie.ab],Ke=ne(Oe,2);if(Ie.Oc&1<<Ke)Q=0;else{switch(Ie.Oc|=1<<Ke,$e.hc=Ke,$e.Ea=le[0],$e.nc=Ee[0],$e.K=[null],++Ie.ab,e(4>=Ie.ab),Ke){case 0:case 1:$e.b=ne(Oe,3)+2,Ge=Ha(qe($e.Ea,$e.b),qe($e.nc,$e.b),0,Ie,$e.K),$e.K=$e.K[0];break;case 3:var ot,Ze=ne(Oe,8)+1,kt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(le[0]=qe($e.Ea,kt),$e.b=kt,ot=Ge=Ha(Ze,1,0,Ie,$e.K)){var At,dn=Ze,Ct=$e,Cn=1<<(8>>Ct.b),Dr=a(Cn);if(Dr==null)ot=0;else{var vn=Ct.K[0],St=Ct.w;for(Dr[0]=Ct.K[0][0],At=1;At<1*dn;++At)Dr[At]=dt(vn[St+At],Dr[At-1]);for(;At<4*Cn;++At)Dr[At]=0;Ct.K[0]=null,Ct.K[0]=Dr,ot=1}}Ge=ot;break;case 2:break;default:e(0)}Q=Ge}}if(J=J[0],re=re[0],Q&&ne(ae,1)&&!(Q=1<=(De=ne(ae,4))&&11>=De)){U.a=3;break e}var pt;if(pt=Q)t:{var qr,an,_n,ar=U,Ui=J,va=re,Tr=De,wi=C,La=ar.m,Ei=ar.s,Sn=[null],zn=1,Hr=0,Kn=co[Tr];n:for(;;){if(wi&&ne(La,1)){var Bi=ne(La,3)+2,$r=qe(Ui,Bi),qn=qe(va,Bi),yi=$r*qn;if(!Ha($r,qn,0,ar,Sn))break n;for(Sn=Sn[0],Ei.xc=Bi,qr=0;qr<yi;++qr){var sr=Sn[qr]>>8&65535;Sn[qr]=sr,sr>=zn&&(zn=sr+1)}}if(La.h)break n;for(an=0;5>an;++an){var Ai=Iu[an];!an&&0<Tr&&(Ai+=1<<Tr),Hr<Ai&&(Hr=Ai)}var Si=s(zn*Kn,V),mr=zn,Bn=s(mr,ge);if(Bn==null)var ja=null;else e(65536>=mr),ja=Bn;var ni=a(Hr);if(ja==null||ni==null||Si==null){ar.a=1;break n}var Qt=Si;for(qr=_n=0;qr<zn;++qr){var en=ja[qr],Hn=en.G,xs=en.H,po=0,Za=1,Ti=0;for(an=0;5>an;++an){Ai=Iu[an],Hn[an]=Qt,xs[an]=_n,!an&&0<Tr&&(Ai+=1<<Tr);i:{var Rc,Dc=Ai,Lp=ar,Nr=ni,Kg=Qt,Xg=_n,jp=0,Xl=Lp.m,rw=ne(Xl,1);if(i(Nr,0,0,Dc),rw){var Qg=ne(Xl,1)+1,Jg=ne(Xl,1),Mp=ne(Xl,Jg==0?1:8);Nr[Mp]=1,Qg==2&&(Nr[Mp=ne(Xl,8)]=1);var Ji=1}else{var ri=a(19),od=ne(Xl,4)+4;if(19<od){Lp.a=3;var kc=0;break i}for(Rc=0;Rc<od;++Rc)ri[id[Rc]]=ne(Xl,3);var Ff=void 0,Ou=void 0,vl=Lp,Fp=ri,Uf=Dc,Up=Nr,Bp=0,Ql=vl.m,Zg=8,ev=s(128,V);r:for(;F(ev,0,7,Fp,19);){if(ne(Ql,1)){var c1=2+2*ne(Ql,3);if((Ff=2+ne(Ql,c1))>Uf)break r}else Ff=Uf;for(Ou=0;Ou<Uf&&Ff--;){ye(Ql);var tv=ev[0+(127&Z(Ql))];pe(Ql,Ql.u+tv.g);var Lc=tv.value;if(16>Lc)Up[Ou++]=Lc,Lc!=0&&(Zg=Lc);else{var u1=Lc==16,f1=Lc-16,h1=kf[f1],nv=ne(Ql,oo[f1])+h1;if(Ou+nv>Uf)break r;for(var d1=u1?Zg:0;0<nv--;)Up[Ou++]=d1}}Bp=1;break r}Bp||(vl.a=3),Ji=Bp}(Ji=Ji&&!Xl.h)&&(jp=F(Kg,Xg,8,Nr,Dc)),Ji&&jp!=0?kc=jp:(Lp.a=3,kc=0)}if(kc==0)break n;if(Za&&Cp[an]==1&&(Za=Qt[_n].g==0),po+=Qt[_n].g,_n+=kc,3>=an){var Ru,Vp=ni[0];for(Ru=1;Ru<Ai;++Ru)ni[Ru]>Vp&&(Vp=ni[Ru]);Ti+=Vp}}if(en.nd=Za,en.Qb=0,Za&&(en.qb=(Hn[3][xs[3]+0].value<<24|Hn[1][xs[1]+0].value<<16|Hn[2][xs[2]+0].value)>>>0,po==0&&256>Hn[0][xs[0]+0].value&&(en.Qb=1,en.qb+=Hn[0][xs[0]+0].value<<8)),en.jc=!en.Qb&&6>Ti,en.jc){var ld,yl=en;for(ld=0;ld<Ac;++ld){var Jl=ld,Zl=yl.pd[Jl],zp=yl.G[0][yl.H[0]+Jl];256<=zp.value?(Zl.g=zp.g+256,Zl.value=zp.value):(Zl.g=0,Zl.value=0,Jl>>=cr(zp,8,Zl),Jl>>=cr(yl.G[1][yl.H[1]+Jl],16,Zl),Jl>>=cr(yl.G[2][yl.H[2]+Jl],0,Zl),cr(yl.G[3][yl.H[3]+Jl],24,Zl))}}}Ei.vc=Sn,Ei.Wb=zn,Ei.Ya=ja,Ei.yc=Si,pt=1;break t}pt=0}if(!(Q=pt)){U.a=3;break e}if(0<De){if(ue.ua=1<<De,!oe(ue.Wa,De)){U.a=1,Q=0;break e}}else ue.ua=0;var qp=U,Du=J,p1=re,Bf=qp.s,Vf=Bf.xc;if(qp.c=Du,qp.i=p1,Bf.md=qe(Du,Vf),Bf.wc=Vf==0?-1:(1<<Vf)-1,C){U.xb=Nc;break e}if((xe=a(J*re))==null){U.a=1,Q=0;break e}Q=(Q=Wi(U,xe,0,J,re,re,null))&&!ae.h;break e}return Q?(W!=null?W[0]=xe:(e(xe==null),e(C)),U.$=0,C||Ca(ue)):Ca(ue),Q}function ji(b,w){var C=b.c*b.i,U=C+w+16*w;return e(b.c<=w),b.V=a(U),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+C+w,1)}function ms(b,w){var C=b.C,U=w-C,W=b.V,Q=b.Ba+b.c*C;for(e(w<=b.l.o);0<U;){var J=16<U?16:U,re=b.l.ma,ae=b.l.width,ue=ae*J,xe=re.ca,De=re.tb+ae*C,le=b.Ta,Ee=b.Ua;Li(b,J,W,Q),zs(le,Ee,xe,De,ue),ir(re,C,C+J,xe,De,ae),U-=J,W+=J*b.c,C+=J}e(C==w),b.C=b.Ma=w}function nt(){this.ub=this.yd=this.td=this.Rb=0}function rn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Qn(){this.Yb=(function(){var b=[];return(function w(C,U,W){for(var Q=W[U],J=0;J<Q&&(C.push(W.length>U+1?[]:0),!(W.length<U+1));J++)w(C[J],U+1,W)})(b,0,[3,11]),b})()}function ur(){this.jb=a(3),this.Wc=l([4,8],Qn),this.Xc=l([4,17],Qn)}function gs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Jr(){this.ld=this.La=this.dd=this.tc=0}function Yn(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jr),this.Y=0,this.ya=Array(new vs),this.aa=0,this.l=new Ki}function yc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function vu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new nt,this.Kc=new rn,this.ed=new gs,this.Qa=new dr,this.Ic=this.$c=this.Aa=0,this.D=new vc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,la),this.Pa=new ur,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yc),this.Hd=0,this.rb=Array(new Yn),this.sb=0,this.wa=Array(new Jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vs),this.L=this.aa=0,this.gd=l([4,2],Jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $a(b,w){return 0>b?0:b>w?w:b}function Ki(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zr(){var b=new vu;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,qs||(qs=Ln)),b}function Nn(b,w,C){return b.a==0&&(b.a=w,b.sc=C,b.cb=0),0}function Co(b,w,C){return 3<=C&&b[w+0]==157&&b[w+1]==1&&b[w+2]==42}function ys(b,w){if(b==null)return 0;if(b.a=0,b.sc="OK",w==null)return Nn(b,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,U=w.w,W=w.ha;if(4>W)return Nn(b,7,"Truncated header.");var Q=C[U+0]|C[U+1]<<8|C[U+2]<<16,J=b.Od;if(J.Rb=!(1&Q),J.td=Q>>1&7,J.yd=Q>>4&1,J.ub=Q>>5,3<J.td)return Nn(b,3,"Incorrect keyframe parameters.");if(!J.yd)return Nn(b,4,"Frame not displayable.");U+=3,W-=3;var re=b.Kc;if(J.Rb){if(7>W)return Nn(b,7,"cannot parse picture header");if(!Co(C,U,W))return Nn(b,3,"Bad code word");re.c=16383&(C[U+4]<<8|C[U+3]),re.Td=C[U+4]>>6,re.i=16383&(C[U+6]<<8|C[U+5]),re.Ud=C[U+6]>>6,U+=7,W-=7,b.za=re.c+15>>4,b.Ub=re.i+15>>4,w.width=re.c,w.height=re.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((Q=b.Pa).jb,0,255,Q.jb.length),e((Q=b.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(J.ub>W)return Nn(b,7,"bad partition length");se(Q=b.m,C,U,J.ub),U+=J.ub,W-=J.ub,J.Rb&&(re.Ld=de(Q),re.Kd=de(Q)),re=b.Qa;var ae,ue=b.Pa;if(e(Q!=null),e(re!=null),re.Cb=de(Q),re.Cb){if(re.Bb=de(Q),de(Q)){for(re.Fb=de(Q),ae=0;4>ae;++ae)re.Zb[ae]=de(Q)?me(Q,7):0;for(ae=0;4>ae;++ae)re.Lb[ae]=de(Q)?me(Q,6):0}if(re.Bb)for(ae=0;3>ae;++ae)ue.jb[ae]=de(Q)?he(Q,8):255}else re.Bb=0;if(Q.Ka)return Nn(b,3,"cannot parse segment header");if((re=b.ed).zd=de(Q),re.Tb=he(Q,6),re.wb=he(Q,3),re.Pc=de(Q),re.Pc&&de(Q)){for(ue=0;4>ue;++ue)de(Q)&&(re.vd[ue]=me(Q,6));for(ue=0;4>ue;++ue)de(Q)&&(re.od[ue]=me(Q,6))}if(b.L=re.Tb==0?0:re.zd?1:2,Q.Ka)return Nn(b,3,"cannot parse filter header");var xe=W;if(W=ae=U,U=ae+xe,re=xe,b.Xb=(1<<he(b.m,2))-1,xe<3*(ue=b.Xb))C=7;else{for(ae+=3*ue,re-=3*ue,xe=0;xe<ue;++xe){var De=C[W+0]|C[W+1]<<8|C[W+2]<<16;De>re&&(De=re),se(b.Jc[+xe],C,ae,De),ae+=De,re-=De,W+=3}se(b.Jc[+ue],C,ae,re),C=ae<U?0:5}if(C!=0)return Nn(b,C,"cannot parse partitions");for(C=he(ae=b.m,7),W=de(ae)?me(ae,4):0,U=de(ae)?me(ae,4):0,re=de(ae)?me(ae,4):0,ue=de(ae)?me(ae,4):0,ae=de(ae)?me(ae,4):0,xe=b.Qa,De=0;4>De;++De){if(xe.Cb){var le=xe.Zb[De];xe.Fb||(le+=C)}else{if(0<De){b.pb[De]=b.pb[0];continue}le=C}var Ee=b.pb[De];Ee.Sc[0]=uo[$a(le+W,127)],Ee.Sc[1]=fo[$a(le+0,127)],Ee.Eb[0]=2*uo[$a(le+U,127)],Ee.Eb[1]=101581*fo[$a(le+re,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=uo[$a(le+ue,117)],Ee.Qc[1]=fo[$a(le+ae,127)],Ee.lc=le+ae}if(!J.Rb)return Nn(b,4,"Not a key frame.");for(de(Q),J=b.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(U=0;3>U;++U)for(re=0;11>re;++re)ue=Ce(Q,Rr[C][W][U][re])?he(Q,8):o1[C][W][U][re],J.Wc[C][W].Yb[U][re]=ue;for(W=0;17>W;++W)J.Xc[C][W]=J.Wc[C][Pn[W]]}return b.kc=de(Q),b.kc&&(b.Bd=he(Q,8)),b.cb=1}function Ln(b,w,C,U,W,Q,J){var re=w[W].Yb[C];for(C=0;16>W;++W){if(!Ce(b,re[C+0]))return W;for(;!Ce(b,re[C+1]);)if(re=w[++W].Yb[0],C=0,W==16)return 16;var ae=w[W+1].Yb;if(Ce(b,re[C+2])){var ue=b,xe=0;if(Ce(ue,(le=re)[(De=C)+3]))if(Ce(ue,le[De+6])){for(re=0,De=2*(xe=Ce(ue,le[De+8]))+(le=Ce(ue,le[De+9+xe])),xe=0,le=s1[De];le[re];++re)xe+=xe+Ce(ue,le[re]);xe+=3+(8<<De)}else Ce(ue,le[De+7])?(xe=7+2*Ce(ue,165),xe+=Ce(ue,145)):xe=5+Ce(ue,159);else xe=Ce(ue,le[De+4])?3+Ce(ue,le[De+5]):2;re=ae[2]}else xe=1,re=ae[1];ae=J+Gg[W],0>(ue=b).b&&Pe(ue);var De,le=ue.b,Ee=(De=ue.Ca>>1)-(ue.I>>le)>>31;--ue.b,ue.Ca+=Ee,ue.Ca|=1,ue.I-=(De+1&Ee)<<le,Q[ae]=((xe^Ee)-Ee)*U[(0<W)+0]}return 16}function rl(b){var w=b.rb[b.sb-1];w.la=0,w.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function di(b,w,C,U,W){W=b[w+C+32*U]+(W>>3),b[w+C+32*U]=-256&W?0>W?0:255:W}function Or(b,w,C,U,W,Q){di(b,w,0,C,U+W),di(b,w,1,C,U+Q),di(b,w,2,C,U-Q),di(b,w,3,C,U-W)}function ei(b){return(20091*b>>16)+b}function jl(b,w,C,U){var W,Q=0,J=a(16);for(W=0;4>W;++W){var re=b[w+0]+b[w+8],ae=b[w+0]-b[w+8],ue=(35468*b[w+4]>>16)-ei(b[w+12]),xe=ei(b[w+4])+(35468*b[w+12]>>16);J[Q+0]=re+xe,J[Q+1]=ae+ue,J[Q+2]=ae-ue,J[Q+3]=re-xe,Q+=4,w++}for(W=Q=0;4>W;++W)re=(b=J[Q+0]+4)+J[Q+8],ae=b-J[Q+8],ue=(35468*J[Q+4]>>16)-ei(J[Q+12]),di(C,U,0,0,re+(xe=ei(J[Q+4])+(35468*J[Q+12]>>16))),di(C,U,1,0,ae+ue),di(C,U,2,0,ae-ue),di(C,U,3,0,re-xe),Q++,U+=32}function Tf(b,w,C,U){var W=b[w+0]+4,Q=35468*b[w+4]>>16,J=ei(b[w+4]),re=35468*b[w+1]>>16;Or(C,U,0,W+J,b=ei(b[w+1]),re),Or(C,U,1,W+Q,b,re),Or(C,U,2,W-Q,b,re),Or(C,U,3,W-J,b,re)}function yu(b,w,C,U,W){jl(b,w,C,U),W&&jl(b,w+16,C,U+4)}function ca(b,w,C,U){Yl(b,w+0,C,U,1),Yl(b,w+32,C,U+128,1)}function bu(b,w,C,U){var W;for(b=b[w+0]+4,W=0;4>W;++W)for(w=0;4>w;++w)di(C,U,w,W,b)}function Po(b,w,C,U){b[w+0]&&Wn(b,w+0,C,U),b[w+16]&&Wn(b,w+16,C,U+4),b[w+32]&&Wn(b,w+32,C,U+128),b[w+48]&&Wn(b,w+48,C,U+128+4)}function Mi(b,w,C,U){var W,Q=a(16);for(W=0;4>W;++W){var J=b[w+0+W]+b[w+12+W],re=b[w+4+W]+b[w+8+W],ae=b[w+4+W]-b[w+8+W],ue=b[w+0+W]-b[w+12+W];Q[0+W]=J+re,Q[8+W]=J-re,Q[4+W]=ue+ae,Q[12+W]=ue-ae}for(W=0;4>W;++W)J=(b=Q[0+4*W]+3)+Q[3+4*W],re=Q[1+4*W]+Q[2+4*W],ae=Q[1+4*W]-Q[2+4*W],ue=b-Q[3+4*W],C[U+0]=J+re>>3,C[U+16]=ue+ae>>3,C[U+32]=J-re>>3,C[U+48]=ue-ae>>3,U+=64}function il(b,w,C){var U,W=w-32,Q=Da,J=255-b[W-1];for(U=0;U<C;++U){var re,ae=Q,ue=J+b[w-1];for(re=0;re<C;++re)b[w+re]=ae[ue+b[W+re]];w+=32}}function _u(b,w){il(b,w,4)}function xu(b,w){il(b,w,8)}function bc(b,w){il(b,w,16)}function _c(b,w){var C;for(C=0;16>C;++C)r(b,w+32*C,b,w-32,16)}function Oo(b,w){var C;for(C=16;0<C;--C)i(b,w,b[w-1],16),w+=32}function Pa(b,w,C){var U;for(U=0;16>U;++U)i(w,C+32*U,b,16)}function js(b,w){var C,U=16;for(C=0;16>C;++C)U+=b[w-1+32*C]+b[w+C-32];Pa(U>>5,b,w)}function Ro(b,w){var C,U=8;for(C=0;16>C;++C)U+=b[w-1+32*C];Pa(U>>4,b,w)}function Oa(b,w){var C,U=8;for(C=0;16>C;++C)U+=b[w+C-32];Pa(U>>4,b,w)}function al(b,w){Pa(128,b,w)}function Xt(b,w,C){return b+2*w+C+2>>2}function Ml(b,w){var C,U=w-32;for(U=new Uint8Array([Xt(b[U-1],b[U+0],b[U+1]),Xt(b[U+0],b[U+1],b[U+2]),Xt(b[U+1],b[U+2],b[U+3]),Xt(b[U+2],b[U+3],b[U+4])]),C=0;4>C;++C)r(b,w+32*C,U,0,U.length)}function xc(b,w){var C=b[w-1],U=b[w-1+32],W=b[w-1+64],Q=b[w-1+96];Ve(b,w+0,16843009*Xt(b[w-1-32],C,U)),Ve(b,w+32,16843009*Xt(C,U,W)),Ve(b,w+64,16843009*Xt(U,W,Q)),Ve(b,w+96,16843009*Xt(W,Q,Q))}function sl(b,w){var C,U=4;for(C=0;4>C;++C)U+=b[w+C-32]+b[w-1+32*C];for(U>>=3,C=0;4>C;++C)i(b,w+32*C,U,4)}function Fi(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1-32],J=b[w+0-32],re=b[w+1-32],ae=b[w+2-32],ue=b[w+3-32];b[w+0+96]=Xt(U,W,b[w-1+96]),b[w+1+96]=b[w+0+64]=Xt(C,U,W),b[w+2+96]=b[w+1+64]=b[w+0+32]=Xt(Q,C,U),b[w+3+96]=b[w+2+64]=b[w+1+32]=b[w+0+0]=Xt(J,Q,C),b[w+3+64]=b[w+2+32]=b[w+1+0]=Xt(re,J,Q),b[w+3+32]=b[w+2+0]=Xt(ae,re,J),b[w+3+0]=Xt(ue,ae,re)}function xi(b,w){var C=b[w+1-32],U=b[w+2-32],W=b[w+3-32],Q=b[w+4-32],J=b[w+5-32],re=b[w+6-32],ae=b[w+7-32];b[w+0+0]=Xt(b[w+0-32],C,U),b[w+1+0]=b[w+0+32]=Xt(C,U,W),b[w+2+0]=b[w+1+32]=b[w+0+64]=Xt(U,W,Q),b[w+3+0]=b[w+2+32]=b[w+1+64]=b[w+0+96]=Xt(W,Q,J),b[w+3+32]=b[w+2+64]=b[w+1+96]=Xt(Q,J,re),b[w+3+64]=b[w+2+96]=Xt(J,re,ae),b[w+3+96]=Xt(re,ae,ae)}function Fl(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1-32],J=b[w+0-32],re=b[w+1-32],ae=b[w+2-32],ue=b[w+3-32];b[w+0+0]=b[w+1+64]=Q+J+1>>1,b[w+1+0]=b[w+2+64]=J+re+1>>1,b[w+2+0]=b[w+3+64]=re+ae+1>>1,b[w+3+0]=ae+ue+1>>1,b[w+0+96]=Xt(W,U,C),b[w+0+64]=Xt(U,C,Q),b[w+0+32]=b[w+1+96]=Xt(C,Q,J),b[w+1+32]=b[w+2+96]=Xt(Q,J,re),b[w+2+32]=b[w+3+96]=Xt(J,re,ae),b[w+3+32]=Xt(re,ae,ue)}function Jn(b,w){var C=b[w+0-32],U=b[w+1-32],W=b[w+2-32],Q=b[w+3-32],J=b[w+4-32],re=b[w+5-32],ae=b[w+6-32],ue=b[w+7-32];b[w+0+0]=C+U+1>>1,b[w+1+0]=b[w+0+64]=U+W+1>>1,b[w+2+0]=b[w+1+64]=W+Q+1>>1,b[w+3+0]=b[w+2+64]=Q+J+1>>1,b[w+0+32]=Xt(C,U,W),b[w+1+32]=b[w+0+96]=Xt(U,W,Q),b[w+2+32]=b[w+1+96]=Xt(W,Q,J),b[w+3+32]=b[w+2+96]=Xt(Q,J,re),b[w+3+64]=Xt(J,re,ae),b[w+3+96]=Xt(re,ae,ue)}function Ga(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1+96];b[w+0+0]=C+U+1>>1,b[w+2+0]=b[w+0+32]=U+W+1>>1,b[w+2+32]=b[w+0+64]=W+Q+1>>1,b[w+1+0]=Xt(C,U,W),b[w+3+0]=b[w+1+32]=Xt(U,W,Q),b[w+3+32]=b[w+1+64]=Xt(W,Q,Q),b[w+3+64]=b[w+2+64]=b[w+0+96]=b[w+1+96]=b[w+2+96]=b[w+3+96]=Q}function Ul(b,w){var C=b[w-1+0],U=b[w-1+32],W=b[w-1+64],Q=b[w-1+96],J=b[w-1-32],re=b[w+0-32],ae=b[w+1-32],ue=b[w+2-32];b[w+0+0]=b[w+2+32]=C+J+1>>1,b[w+0+32]=b[w+2+64]=U+C+1>>1,b[w+0+64]=b[w+2+96]=W+U+1>>1,b[w+0+96]=Q+W+1>>1,b[w+3+0]=Xt(re,ae,ue),b[w+2+0]=Xt(J,re,ae),b[w+1+0]=b[w+3+32]=Xt(C,J,re),b[w+1+32]=b[w+3+64]=Xt(U,C,J),b[w+1+64]=b[w+3+96]=Xt(W,U,C),b[w+1+96]=Xt(Q,W,U)}function Ms(b,w){var C;for(C=0;8>C;++C)r(b,w+32*C,b,w-32,8)}function wu(b,w){var C;for(C=0;8>C;++C)i(b,w,b[w-1],8),w+=32}function Ya(b,w,C){var U;for(U=0;8>U;++U)i(w,C+32*U,b,8)}function Do(b,w){var C,U=8;for(C=0;8>C;++C)U+=b[w+C-32]+b[w-1+32*C];Ya(U>>4,b,w)}function Wa(b,w){var C,U=4;for(C=0;8>C;++C)U+=b[w+C-32];Ya(U>>3,b,w)}function pi(b,w){var C,U=4;for(C=0;8>C;++C)U+=b[w-1+32*C];Ya(U>>3,b,w)}function Zs(b,w){Ya(128,b,w)}function Xi(b,w,C){var U=b[w-C],W=b[w+0],Q=3*(W-U)+Wl[1020+b[w-2*C]-b[w+C]],J=td[112+(Q+4>>3)];b[w-C]=Da[255+U+td[112+(Q+3>>3)]],b[w+0]=Da[255+W-J]}function eo(b,w,C,U){var W=b[w+0],Q=b[w+C];return da[255+b[w-2*C]-b[w-C]]>U||da[255+Q-W]>U}function ol(b,w,C,U){return 4*da[255+b[w-C]-b[w+0]]+da[255+b[w-2*C]-b[w+C]]<=U}function to(b,w,C,U,W){var Q=b[w-3*C],J=b[w-2*C],re=b[w-C],ae=b[w+0],ue=b[w+C],xe=b[w+2*C],De=b[w+3*C];return 4*da[255+re-ae]+da[255+J-ue]>U?0:da[255+b[w-4*C]-Q]<=W&&da[255+Q-J]<=W&&da[255+J-re]<=W&&da[255+De-xe]<=W&&da[255+xe-ue]<=W&&da[255+ue-ae]<=W}function no(b,w,C,U){var W=2*U+1;for(U=0;16>U;++U)ol(b,w+U,C,W)&&Xi(b,w+U,C)}function bs(b,w,C,U){var W=2*U+1;for(U=0;16>U;++U)ol(b,w+U*C,1,W)&&Xi(b,w+U*C,1)}function Bl(b,w,C,U){var W;for(W=3;0<W;--W)no(b,w+=4*C,C,U)}function wc(b,w,C,U){var W;for(W=3;0<W;--W)bs(b,w+=4,C,U)}function Ka(b,w,C,U,W,Q,J,re){for(Q=2*Q+1;0<W--;){if(to(b,w,C,Q,J))if(eo(b,w,C,re))Xi(b,w,C);else{var ae=b,ue=w,xe=C,De=ae[ue-2*xe],le=ae[ue-xe],Ee=ae[ue+0],Ie=ae[ue+xe],Ge=ae[ue+2*xe],Oe=27*(Ke=Wl[1020+3*(Ee-le)+Wl[1020+De-Ie]])+63>>7,$e=18*Ke+63>>7,Ke=9*Ke+63>>7;ae[ue-3*xe]=Da[255+ae[ue-3*xe]+Ke],ae[ue-2*xe]=Da[255+De+$e],ae[ue-xe]=Da[255+le+Oe],ae[ue+0]=Da[255+Ee-Oe],ae[ue+xe]=Da[255+Ie-$e],ae[ue+2*xe]=Da[255+Ge-Ke]}w+=U}}function ro(b,w,C,U,W,Q,J,re){for(Q=2*Q+1;0<W--;){if(to(b,w,C,Q,J))if(eo(b,w,C,re))Xi(b,w,C);else{var ae=b,ue=w,xe=C,De=ae[ue-xe],le=ae[ue+0],Ee=ae[ue+xe],Ie=td[112+(4+(Ge=3*(le-De))>>3)],Ge=td[112+(Ge+3>>3)],Oe=Ie+1>>1;ae[ue-2*xe]=Da[255+ae[ue-2*xe]+Oe],ae[ue-xe]=Da[255+De+Ge],ae[ue+0]=Da[255+le-Ie],ae[ue+xe]=Da[255+Ee-Oe]}w+=U}}function Eu(b,w,C,U,W,Q){Ka(b,w,C,1,16,U,W,Q)}function Fs(b,w,C,U,W,Q){Ka(b,w,1,C,16,U,W,Q)}function Ec(b,w,C,U,W,Q){var J;for(J=3;0<J;--J)ro(b,w+=4*C,C,1,16,U,W,Q)}function N(b,w,C,U,W,Q){var J;for(J=3;0<J;--J)ro(b,w+=4,1,C,16,U,W,Q)}function Y(b,w,C,U,W,Q,J,re){Ka(b,w,W,1,8,Q,J,re),Ka(C,U,W,1,8,Q,J,re)}function ce(b,w,C,U,W,Q,J,re){Ka(b,w,1,W,8,Q,J,re),Ka(C,U,1,W,8,Q,J,re)}function be(b,w,C,U,W,Q,J,re){ro(b,w+4*W,W,1,8,Q,J,re),ro(C,U+4*W,W,1,8,Q,J,re)}function Ae(b,w,C,U,W,Q,J,re){ro(b,w+4,1,W,8,Q,J,re),ro(C,U+4,1,W,8,Q,J,re)}function Ye(){this.ba=new ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new Nt,this.vb=new Nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new V}function Zt(){this.xb=this.a=0,this.l=new Ki,this.ca=new ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=s(4,Tt),this.Oc=0}function Wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ki,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(b,w,C,U,W,Q,J){for(b=b==null?0:b[w+0],w=0;w<J;++w)W[Q+w]=b+C[U+w]&255,b=W[Q+w]}function Er(b,w,C,U,W,Q,J){var re;if(b==null)In(null,null,C,U,W,Q,J);else for(re=0;re<J;++re)W[Q+re]=b[w+re]+C[U+re]&255}function fr(b,w,C,U,W,Q,J){if(b==null)In(null,null,C,U,W,Q,J);else{var re,ae=b[w+0],ue=ae,xe=ae;for(re=0;re<J;++re)ue=xe+(ae=b[w+re])-ue,xe=C[U+re]+(-256&ue?0>ue?0:255:ue)&255,ue=ae,W[Q+re]=xe}}function _(b,w,C,U){var W=w.width,Q=w.o;if(e(b!=null&&w!=null),0>C||0>=U||C+U>Q)return null;if(!b.Cc){if(b.ga==null){var J;if(b.ga=new Wt,(J=b.ga==null)||(J=w.width*w.o,e(b.Gb.length==0),b.Gb=a(J),b.Uc=0,b.Gb==null?J=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,J=1),J=!J),!J){J=b.ga;var re=b.Fa,ae=b.P,ue=b.qc,xe=b.mb,De=b.nb,le=ae+1,Ee=ue-1,Ie=J.l;if(e(re!=null&&xe!=null&&w!=null),Kl[0]=null,Kl[1]=In,Kl[2]=Er,Kl[3]=fr,J.ca=xe,J.tb=De,J.c=w.width,J.i=w.height,e(0<J.c&&0<J.i),1>=ue)w=0;else if(J.$a=3&re[ae+0],J.Z=re[ae+0]>>2&3,J.Lc=re[ae+0]>>4&3,ae=re[ae+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ae)w=0;else if(Ie.put=zt,Ie.ac=fi,Ie.bc=Ls,Ie.ma=J,Ie.width=w.width,Ie.height=w.height,Ie.Da=w.Da,Ie.v=w.v,Ie.va=w.va,Ie.j=w.j,Ie.o=w.o,J.$a)e:{e(J.$a==1),w=Js();t:for(;;){if(w==null){w=0;break e}if(e(J!=null),J.mc=w,w.c=J.c,w.i=J.i,w.l=J.l,w.l.ma=J,w.l.width=J.c,w.l.height=J.i,w.a=0,_e(w.m,re,le,Ee),!Ha(J.c,J.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Vn(w.s)?(J.ic=1,re=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(re),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(J.ic=0,w=ji(w,J.c)),!w))break t;w=1;break e}J.mc=null,w=0}else w=Ee>=J.c*J.i;J=!w}if(J)return null;b.ga.Lc!=1?b.Ga=0:U=Q-C}e(b.ga!=null),e(C+U<=Q);e:{if(w=(re=b.ga).c,Q=re.l.o,re.$a==0){if(le=b.rc,Ee=b.Vc,Ie=b.Fa,ae=b.P+1+C*w,ue=b.mb,xe=b.nb+C*w,e(ae<=b.P+b.qc),re.Z!=0)for(e(Kl[re.Z]!=null),J=0;J<U;++J)Kl[re.Z](le,Ee,Ie,ae,ue,xe,w),le=ue,Ee=xe,xe+=w,ae+=w;else for(J=0;J<U;++J)r(ue,xe,Ie,ae,w),le=ue,Ee=xe,xe+=w,ae+=w;b.rc=le,b.Vc=Ee}else{if(e(re.mc!=null),w=C+U,e((J=re.mc)!=null),e(w<=J.i),J.C>=w)w=1;else if(re.ic||je(),re.ic){re=J.V,le=J.Ba,Ee=J.c;var Ge=J.i,Oe=(Ie=1,ae=J.$/Ee,ue=J.$%Ee,xe=J.m,De=J.s,J.$),$e=Ee*Ge,Ke=Ee*w,ot=De.wc,Ze=Oe<Ke?Xr(De,ue,ae):null;e(Oe<=$e),e(w<=Ge),e(Vn(De));t:for(;;){for(;!xe.h&&Oe<Ke;){if(ue&ot||(Ze=Xr(De,ue,ae)),e(Ze!=null),ye(xe),256>(Ge=Xn(Ze.G[0],Ze.H[0],xe)))re[le+Oe]=Ge,++Oe,++ue>=Ee&&(ue=0,++ae<=w&&!(ae%16)&&Qr(J,ae));else{if(!(280>Ge)){Ie=0;break t}Ge=Di(Ge-256,xe);var kt,At=Xn(Ze.G[4],Ze.H[4],xe);if(ye(xe),!(Oe>=(At=ki(Ee,At=Di(At,xe)))&&$e-Oe>=Ge)){Ie=0;break t}for(kt=0;kt<Ge;++kt)re[le+Oe+kt]=re[le+Oe+kt-At];for(Oe+=Ge,ue+=Ge;ue>=Ee;)ue-=Ee,++ae<=w&&!(ae%16)&&Qr(J,ae);Oe<Ke&&ue&ot&&(Ze=Xr(De,ue,ae))}e(xe.h==fe(xe))}Qr(J,ae>w?w:ae);break t}!Ie||xe.h&&Oe<$e?(Ie=0,J.a=xe.h?5:3):J.$=Oe,w=Ie}else w=Wi(J,J.V,J.Ba,J.c,J.i,w,ms);if(!w){U=0;break e}}C+U>=Q&&(b.Cc=1),U=1}if(!U)return null;if(b.Cc&&((U=b.ga)!=null&&(U.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+C*W}function R(b,w,C,U,W,Q){for(;0<W--;){var J,re=b,ae=w+(C?1:0),ue=b,xe=w+(C?0:3);for(J=0;J<U;++J){var De=ue[xe+4*J];De!=255&&(De*=32897,re[ae+4*J+0]=re[ae+4*J+0]*De>>23,re[ae+4*J+1]=re[ae+4*J+1]*De>>23,re[ae+4*J+2]=re[ae+4*J+2]*De>>23)}w+=Q}}function H(b,w,C,U,W){for(;0<U--;){var Q;for(Q=0;Q<C;++Q){var J=b[w+2*Q+0],re=15&(ue=b[w+2*Q+1]),ae=4369*re,ue=(240&ue|ue>>4)*ae>>16;b[w+2*Q+0]=(240&J|J>>4)*ae>>16&240|(15&J|J<<4)*ae>>16>>4&15,b[w+2*Q+1]=240&ue|re}w+=W}}function ie(b,w,C,U,W,Q,J,re){var ae,ue,xe=255;for(ue=0;ue<W;++ue){for(ae=0;ae<U;++ae){var De=b[w+ae];Q[J+4*ae]=De,xe&=De}w+=C,J+=re}return xe!=255}function Ne(b,w,C,U,W){var Q;for(Q=0;Q<W;++Q)C[U+Q]=b[w+Q]>>8}function je(){Tu=R,ao=H,Jh=ie,zs=Ne}function ut(b,w,C){D[b]=function(U,W,Q,J,re,ae,ue,xe,De,le,Ee,Ie,Ge,Oe,$e,Ke,ot){var Ze,kt=ot-1>>1,At=re[ae+0]|ue[xe+0]<<16,dn=De[le+0]|Ee[Ie+0]<<16;e(U!=null);var Ct=3*At+dn+131074>>2;for(w(U[W+0],255&Ct,Ct>>16,Ge,Oe),Q!=null&&(Ct=3*dn+At+131074>>2,w(Q[J+0],255&Ct,Ct>>16,$e,Ke)),Ze=1;Ze<=kt;++Ze){var Cn=re[ae+Ze]|ue[xe+Ze]<<16,Dr=De[le+Ze]|Ee[Ie+Ze]<<16,vn=At+Cn+dn+Dr+524296,St=vn+2*(Cn+dn)>>3;Ct=St+At>>1,At=(vn=vn+2*(At+Dr)>>3)+Cn>>1,w(U[W+2*Ze-1],255&Ct,Ct>>16,Ge,Oe+(2*Ze-1)*C),w(U[W+2*Ze-0],255&At,At>>16,Ge,Oe+(2*Ze-0)*C),Q!=null&&(Ct=vn+dn>>1,At=St+Dr>>1,w(Q[J+2*Ze-1],255&Ct,Ct>>16,$e,Ke+(2*Ze-1)*C),w(Q[J+2*Ze+0],255&At,At>>16,$e,Ke+(2*Ze+0)*C)),At=Cn,dn=Dr}1&ot||(Ct=3*At+dn+131074>>2,w(U[W+ot-1],255&Ct,Ct>>16,Ge,Oe+(ot-1)*C),Q!=null&&(Ct=3*dn+At+131074>>2,w(Q[J+ot-1],255&Ct,Ct>>16,$e,Ke+(ot-1)*C)))}}function hn(){ma[Sp]=Cu,ma[ka]=Lf,ma[Tp]=Wg,ma[so]=Op,ma[nd]=Ic,ma[Rf]=gl,ma[Sc]=Cc,ma[rd]=Lf,ma[Np]=Op,ma[Df]=Ic,ma[Ip]=gl}function Ar(b){return b&-16384?0>b?0:255:b>>Rp}function An(b,w){return Ar((19077*b>>8)+(26149*w>>8)-14234)}function Zn(b,w,C){return Ar((19077*b>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function Qi(b,w){return Ar((19077*b>>8)+(33050*w>>8)-17685)}function ua(b,w,C,U,W){U[W+0]=An(b,C),U[W+1]=Zn(b,w,C),U[W+2]=Qi(b,w)}function pr(b,w,C,U,W){U[W+0]=Qi(b,w),U[W+1]=Zn(b,w,C),U[W+2]=An(b,C)}function fa(b,w,C,U,W){var Q=Zn(b,w,C);w=Q<<3&224|Qi(b,w)>>3,U[W+0]=248&An(b,C)|Q>>5,U[W+1]=w}function Us(b,w,C,U,W){var Q=240&Qi(b,w)|15;U[W+0]=240&An(b,C)|Zn(b,w,C)>>4,U[W+1]=Q}function ll(b,w,C,U,W){U[W+0]=255,ua(b,w,C,U,W+1)}function cl(b,w,C,U,W){pr(b,w,C,U,W),U[W+3]=255}function Xa(b,w,C,U,W){ua(b,w,C,U,W),U[W+3]=255}function Vl(b,w,C){D[b]=function(U,W,Q,J,re,ae,ue,xe,De){for(var le=xe+(-2&De)*C;xe!=le;)w(U[W+0],Q[J+0],re[ae+0],ue,xe),w(U[W+1],Q[J+0],re[ae+0],ue,xe+C),W+=2,++J,++ae,xe+=2*C;1&De&&w(U[W+0],Q[J+0],re[ae+0],ue,xe)}}function Nf(b,w,C){return C==0?b==0?w==0?6:5:w==0?4:0:C}function Kh(b,w,C,U,W){switch(b>>>30){case 3:Yl(w,C,U,W,0);break;case 2:Ra(w,C,U,W);break;case 1:Wn(w,C,U,W)}}function Bs(b,w){var C,U,W=w.M,Q=w.Nb,J=b.oc,re=b.pc+40,ae=b.oc,ue=b.pc+584,xe=b.oc,De=b.pc+600;for(C=0;16>C;++C)J[re+32*C-1]=129;for(C=0;8>C;++C)ae[ue+32*C-1]=129,xe[De+32*C-1]=129;for(0<W?J[re-1-32]=ae[ue-1-32]=xe[De-1-32]=129:(i(J,re-32-1,127,21),i(ae,ue-32-1,127,9),i(xe,De-32-1,127,9)),U=0;U<b.za;++U){var le=w.ya[w.aa+U];if(0<U){for(C=-1;16>C;++C)r(J,re+32*C-4,J,re+32*C+12,4);for(C=-1;8>C;++C)r(ae,ue+32*C-4,ae,ue+32*C+4,4),r(xe,De+32*C-4,xe,De+32*C+4,4)}var Ee=b.Gd,Ie=b.Hd+U,Ge=le.ad,Oe=le.Hc;if(0<W&&(r(J,re-32,Ee[Ie].y,0,16),r(ae,ue-32,Ee[Ie].f,0,8),r(xe,De-32,Ee[Ie].ea,0,8)),le.Za){var $e=J,Ke=re-32+16;for(0<W&&(U>=b.za-1?i($e,Ke,Ee[Ie].y[15],4):r($e,Ke,Ee[Ie+1].y,0,4)),C=0;4>C;C++)$e[Ke+128+C]=$e[Ke+256+C]=$e[Ke+384+C]=$e[Ke+0+C];for(C=0;16>C;++C,Oe<<=2)$e=J,Ke=re+vi[C],ti[le.Ob[C]]($e,Ke),Kh(Oe,Ge,16*+C,$e,Ke)}else if($e=Nf(U,W,le.Ob[0]),Ja[$e](J,re),Oe!=0)for(C=0;16>C;++C,Oe<<=2)Kh(Oe,Ge,16*+C,J,re+vi[C]);for(C=le.Gc,$e=Nf(U,W,le.Dd),Mo[$e](ae,ue),Mo[$e](xe,De),Oe=Ge,$e=ae,Ke=ue,255&(le=0|C)&&(170&le?io(Oe,256,$e,Ke):Un(Oe,256,$e,Ke)),le=xe,Oe=De,255&(C>>=8)&&(170&C?io(Ge,320,le,Oe):Un(Ge,320,le,Oe)),W<b.Ub-1&&(r(Ee[Ie].y,0,J,re+480,16),r(Ee[Ie].f,0,ae,ue+224,8),r(Ee[Ie].ea,0,xe,De+224,8)),C=8*Q*b.B,Ee=b.sa,Ie=b.ta+16*U+16*Q*b.R,Ge=b.qa,le=b.ra+8*U+C,Oe=b.Ha,$e=b.Ia+8*U+C,C=0;16>C;++C)r(Ee,Ie+C*b.R,J,re+32*C,16);for(C=0;8>C;++C)r(Ge,le+C*b.B,ae,ue+32*C,8),r(Oe,$e+C*b.B,xe,De+32*C,8)}}function ko(b,w,C,U,W,Q,J,re,ae){var ue=[0],xe=[0],De=0,le=ae!=null?ae.kd:0,Ee=ae??new et;if(b==null||12>C)return 7;Ee.data=b,Ee.w=w,Ee.ha=C,w=[w],C=[C],Ee.gb=[Ee.gb];e:{var Ie=w,Ge=C,Oe=Ee.gb;if(e(b!=null),e(Ge!=null),e(Oe!=null),Oe[0]=0,12<=Ge[0]&&!n(b,Ie[0],"RIFF")){if(n(b,Ie[0]+8,"WEBP")){Oe=3;break e}var $e=it(b,Ie[0]+4);if(12>$e||4294967286<$e){Oe=3;break e}if(le&&$e>Ge[0]-8){Oe=7;break e}Oe[0]=$e,Ie[0]+=12,Ge[0]-=12}Oe=0}if(Oe!=0)return Oe;for($e=0<Ee.gb[0],C=C[0];;){e:{var Ke=b;Ge=w,Oe=C;var ot=ue,Ze=xe,kt=Ie=[0];if((Ct=De=[De])[0]=0,8>Oe[0])Oe=7;else{if(!n(Ke,Ge[0],"VP8X")){if(it(Ke,Ge[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var At=it(Ke,Ge[0]+8),dn=1+rt(Ke,Ge[0]+12);if(2147483648<=dn*(Ke=1+rt(Ke,Ge[0]+15))){Oe=3;break e}kt!=null&&(kt[0]=At),ot!=null&&(ot[0]=dn),Ze!=null&&(Ze[0]=Ke),Ge[0]+=18,Oe[0]-=18,Ct[0]=1}Oe=0}}if(De=De[0],Ie=Ie[0],Oe!=0)return Oe;if(Ge=!!(2&Ie),!$e&&De)return 3;if(Q!=null&&(Q[0]=!!(16&Ie)),J!=null&&(J[0]=Ge),re!=null&&(re[0]=0),J=ue[0],Ie=xe[0],De&&Ge&&ae==null){Oe=0;break}if(4>C){Oe=7;break}if($e&&De||!$e&&!De&&!n(b,w[0],"ALPH")){C=[C],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{At=b,Oe=w,$e=C;var Ct=Ee.gb;ot=Ee.na,Ze=Ee.P,kt=Ee.Sa,dn=22,e(At!=null),e($e!=null),Ke=Oe[0];var Cn=$e[0];for(e(ot!=null),e(kt!=null),ot[0]=null,Ze[0]=null,kt[0]=0;;){if(Oe[0]=Ke,$e[0]=Cn,8>Cn){Oe=7;break e}var Dr=it(At,Ke+4);if(4294967286<Dr){Oe=3;break e}var vn=8+Dr+1&-2;if(dn+=vn,0<Ct&&dn>Ct){Oe=3;break e}if(!n(At,Ke,"VP8 ")||!n(At,Ke,"VP8L")){Oe=0;break e}if(Cn[0]<vn){Oe=7;break e}n(At,Ke,"ALPH")||(ot[0]=At,Ze[0]=Ke+8,kt[0]=Dr),Ke+=vn,Cn-=vn}}if(C=C[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],Oe!=0)break}C=[C],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(Ct=b,Oe=w,$e=C,ot=Ee.gb[0],Ze=Ee.Ja,kt=Ee.xa,At=Oe[0],Ke=!n(Ct,At,"VP8 "),dn=!n(Ct,At,"VP8L"),e(Ct!=null),e($e!=null),e(Ze!=null),e(kt!=null),8>$e[0])Oe=7;else{if(Ke||dn){if(Ct=it(Ct,At+4),12<=ot&&Ct>ot-12){Oe=3;break e}if(le&&Ct>$e[0]-8){Oe=7;break e}Ze[0]=Ct,Oe[0]+=8,$e[0]-=8,kt[0]=dn}else kt[0]=5<=$e[0]&&Ct[At+0]==47&&!(Ct[At+4]>>5),Ze[0]=$e[0];Oe=0}if(C=C[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],w=w[0],Oe!=0)break;if(4294967286<Ee.Ja)return 3;if(re==null||Ge||(re[0]=Ee.xa?2:1),J=[J],Ie=[Ie],Ee.xa){if(5>C){Oe=7;break}re=J,le=Ie,Ge=Q,b==null||5>C?b=0:5<=C&&b[w+0]==47&&!(b[w+4]>>5)?($e=[0],Ct=[0],ot=[0],_e(Ze=new X,b,w,C),Ri(Ze,$e,Ct,ot)?(re!=null&&(re[0]=$e[0]),le!=null&&(le[0]=Ct[0]),Ge!=null&&(Ge[0]=ot[0]),b=1):b=0):b=0}else{if(10>C){Oe=7;break}re=Ie,b==null||10>C||!Co(b,w+3,C-3)?b=0:(le=b[w+0]|b[w+1]<<8|b[w+2]<<16,Ge=16383&(b[w+7]<<8|b[w+6]),b=16383&(b[w+9]<<8|b[w+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=Ee.Ja||!Ge||!b?b=0:(J&&(J[0]=Ge),re&&(re[0]=b),b=1))}if(!b||(J=J[0],Ie=Ie[0],De&&(ue[0]!=J||xe[0]!=Ie)))return 3;ae!=null&&(ae[0]=Ee,ae.offset=w-ae.w,e(4294967286>w-ae.w),e(ae.offset==ae.ha-C));break}return Oe==0||Oe==7&&De&&ae==null?(Q!=null&&(Q[0]|=Ee.na!=null&&0<Ee.na.length),U!=null&&(U[0]=J),W!=null&&(W[0]=Ie),0):Oe}function zl(b,w,C){var U=w.width,W=w.height,Q=0,J=0,re=U,ae=W;if(w.Da=b!=null&&0<b.Da,w.Da&&(re=b.cd,ae=b.bd,Q=b.v,J=b.j,11>C||(Q&=-2,J&=-2),0>Q||0>J||0>=re||0>=ae||Q+re>U||J+ae>W))return 0;if(w.v=Q,w.j=J,w.va=Q+re,w.o=J+ae,w.U=re,w.T=ae,w.da=b!=null&&0<b.da,w.da){if(!yt(re,ae,C=[b.ib],Q=[b.hb]))return 0;w.ib=C[0],w.hb=Q[0]}return w.ob=b!=null&&b.ob,w.Kb=b==null||!b.Sd,w.da&&(w.ob=w.ib<3*U/4&&w.hb<3*W/4,w.Kb=0),1}function Xh(b){if(b==null)return 2;if(11>b.S){var w=b.f.RGBA;w.fb+=(b.height-1)*w.A,w.A=-w.A}else w=b.f.kb,b=b.height,w.O+=(b-1)*w.fa,w.fa=-w.fa,w.N+=(b-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(b-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(b-1)*w.lb,w.lb=-w.lb);return 0}function Lo(b,w,C,U){if(U==null||0>=b||0>=w)return 2;if(C!=null){if(C.Da){var W=C.cd,Q=C.bd,J=-2&C.v,re=-2&C.j;if(0>J||0>re||0>=W||0>=Q||J+W>b||re+Q>w)return 2;b=W,w=Q}if(C.da){if(!yt(b,w,W=[C.ib],Q=[C.hb]))return 2;b=W[0],w=Q[0]}}U.width=b,U.height=w;e:{var ae=U.width,ue=U.height;if(b=U.S,0>=ae||0>=ue||!(b>=Sp&&13>b))b=2;else{if(0>=U.Rd&&U.sd==null){J=Q=W=w=0;var xe=(re=ae*kp[b])*ue;if(11>b||(Q=(ue+1)/2*(w=(ae+1)/2),b==12&&(J=(W=ae)*ue)),(ue=a(xe+2*Q+J))==null){b=1;break e}U.sd=ue,11>b?((ae=U.f.RGBA).eb=ue,ae.fb=0,ae.A=re,ae.size=xe):((ae=U.f.kb).y=ue,ae.O=0,ae.fa=re,ae.Fd=xe,ae.f=ue,ae.N=0+xe,ae.Ab=w,ae.Cd=Q,ae.ea=ue,ae.W=0+xe+Q,ae.Db=w,ae.Ed=Q,b==12&&(ae.F=ue,ae.J=0+xe+2*Q),ae.Tc=J,ae.lb=W)}if(w=1,W=U.S,Q=U.width,J=U.height,W>=Sp&&13>W)if(11>W)b=U.f.RGBA,w&=(re=Math.abs(b.A))*(J-1)+Q<=b.size,w&=re>=Q*kp[W],w&=b.eb!=null;else{b=U.f.kb,re=(Q+1)/2,xe=(J+1)/2,ae=Math.abs(b.fa),ue=Math.abs(b.Ab);var De=Math.abs(b.Db),le=Math.abs(b.lb),Ee=le*(J-1)+Q;w&=ae*(J-1)+Q<=b.Fd,w&=ue*(xe-1)+re<=b.Cd,w=(w&=De*(xe-1)+re<=b.Ed)&ae>=Q&ue>=re&De>=re,w&=b.y!=null,w&=b.f!=null,w&=b.ea!=null,W==12&&(w&=le>=Q,w&=Ee<=b.Tc,w&=b.F!=null)}else w=0;b=w?0:2}}return b!=0||C!=null&&C.fd&&(b=Xh(U)),b}var Ac=64,_s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qa=24,ul=32,fl=8,ql=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,w,C){return w[C+0]},D.Predictor3=function(b,w,C){return w[C+1]},D.Predictor4=function(b,w,C){return w[C-1]},D.Predictor5=function(b,w,C){return Rt(Rt(b,w[C+1]),w[C+0])},D.Predictor6=function(b,w,C){return Rt(b,w[C-1])},D.Predictor7=function(b,w,C){return Rt(b,w[C+0])},D.Predictor8=function(b,w,C){return Rt(w[C-1],w[C+0])},D.Predictor9=function(b,w,C){return Rt(w[C+0],w[C+1])},D.Predictor10=function(b,w,C){return Rt(Rt(b,w[C-1]),Rt(w[C+0],w[C+1]))},D.Predictor11=function(b,w,C){var U=w[C+0];return 0>=Jt(U>>24&255,b>>24&255,(w=w[C-1])>>24&255)+Jt(U>>16&255,b>>16&255,w>>16&255)+Jt(U>>8&255,b>>8&255,w>>8&255)+Jt(255&U,255&b,255&w)?U:b},D.Predictor12=function(b,w,C){var U=w[C+0];return(cn((b>>24&255)+(U>>24&255)-((w=w[C-1])>>24&255))<<24|cn((b>>16&255)+(U>>16&255)-(w>>16&255))<<16|cn((b>>8&255)+(U>>8&255)-(w>>8&255))<<8|cn((255&b)+(255&U)-(255&w)))>>>0},D.Predictor13=function(b,w,C){var U=w[C-1];return(fn((b=Rt(b,w[C+0]))>>24&255,U>>24&255)<<24|fn(b>>16&255,U>>16&255)<<16|fn(b>>8&255,U>>8&255)<<8|fn(255&b,255&U))>>>0};var If=D.PredictorAdd0;D.PredictorAdd1=gn,vt("Predictor2","PredictorAdd2"),vt("Predictor3","PredictorAdd3"),vt("Predictor4","PredictorAdd4"),vt("Predictor5","PredictorAdd5"),vt("Predictor6","PredictorAdd6"),vt("Predictor7","PredictorAdd7"),vt("Predictor8","PredictorAdd8"),vt("Predictor9","PredictorAdd9"),vt("Predictor10","PredictorAdd10"),vt("Predictor11","PredictorAdd11"),vt("Predictor12","PredictorAdd12"),vt("Predictor13","PredictorAdd13");var Cf=D.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var mi,wp=D.ColorIndexInverseTransform,hl=D.MapARGB,dl=D.VP8LColorIndexInverseTransformAlpha,ha=D.MapAlpha,Hl=D.VP8LPredictorsAdd=[];Hl.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Pf,Of,$l,Gl,pl,Au,Vs,Yl,Ra,io,Wn,Un,Sr,gi,ml,jo,Su,Qh,qg,r1,i1,a1,Hg,$g,Tu,ao,Jh,zs,Nu=a(511),Ep=a(2041),Zh=a(225),ed=a(767),Ap=0,Wl=Ep,td=Zh,Da=ed,da=Nu,Sp=0,ka=1,Tp=2,so=3,nd=4,Rf=5,Sc=6,rd=7,Np=8,Df=9,Ip=10,oo=[2,3,7],kf=[3,3,11],Iu=[280,256,256,256,40],Cp=[0,1,1,1,0],id=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],co=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tc=8,uo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qs=null,s1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],o1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ja=[],ti=[],Mo=[],Nc=1,Yg=2,Kl=[],ma=[];ut("UpsampleRgbLinePair",ua,3),ut("UpsampleBgrLinePair",pr,3),ut("UpsampleRgbaLinePair",Xa,4),ut("UpsampleBgraLinePair",cl,4),ut("UpsampleArgbLinePair",ll,4),ut("UpsampleRgba4444LinePair",Us,2),ut("UpsampleRgb565LinePair",fa,2);var Cu=D.UpsampleRgbLinePair,Wg=D.UpsampleBgrLinePair,Lf=D.UpsampleRgbaLinePair,Op=D.UpsampleBgraLinePair,Ic=D.UpsampleArgbLinePair,gl=D.UpsampleRgba4444LinePair,Cc=D.UpsampleRgb565LinePair,ho=16,jf=1<<ho-1,Pu=-227,Pc=482,Rp=6,Oc=0,ga=a(256),Dp=a(256),l1=a(256),ew=a(256),tw=a(Pc-Pu),nw=a(Pc-Pu);Vl("YuvToRgbRow",ua,3),Vl("YuvToBgrRow",pr,3),Vl("YuvToRgbaRow",Xa,4),Vl("YuvToBgraRow",cl,4),Vl("YuvToArgbRow",ll,4),Vl("YuvToRgba4444Row",Us,2),Vl("YuvToRgb565Row",fa,2);var vi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Mf=[0,2,8],ad=[8,7,6,4,4,2,2,2,1,1,1,1],sd=1;this.WebPDecodeRGBA=function(b,w,C,U,W){var Q=ka,J=new Ye,re=new ht;J.ba=re,re.S=Q,re.width=[re.width],re.height=[re.height];var ae=re.width,ue=re.height,xe=new gt;if(xe==null||b==null)var De=2;else e(xe!=null),De=ko(b,w,C,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(De!=0?ae=0:(ae!=null&&(ae[0]=xe.width[0]),ue!=null&&(ue[0]=xe.height[0]),ae=1),ae){re.width=re.width[0],re.height=re.height[0],U!=null&&(U[0]=re.width),W!=null&&(W[0]=re.height);e:{if(U=new Ki,(W=new et).data=b,W.w=w,W.ha=C,W.kd=1,w=[0],e(W!=null),((b=ko(W.data,W.w,W.ha,null,null,null,w,null,W))==0||b==7)&&w[0]&&(b=4),(w=b)==0){if(e(J!=null),U.data=W.data,U.w=W.w+W.offset,U.ha=W.ha-W.offset,U.put=zt,U.ac=fi,U.bc=Ls,U.ma=J,W.xa){if((b=Js())==null){J=1;break e}if((function(le,Ee){var Ie=[0],Ge=[0],Oe=[0];t:for(;;){if(le==null)return 0;if(Ee==null)return le.a=2,0;if(le.l=Ee,le.a=0,_e(le.m,Ee.data,Ee.w,Ee.ha),!Ri(le.m,Ie,Ge,Oe)){le.a=3;break t}if(le.xb=Yg,Ee.width=Ie[0],Ee.height=Ge[0],!Ha(Ie[0],Ge[0],1,le,null))break t;return 1}return e(le.a!=0),0})(b,U)){if(U=(w=Lo(U.width,U.height,J.Oa,J.ba))==0){t:{U=b;n:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((C=U.l)!=null),e((W=C.ma)!=null),U.xb!=0){if(U.ca=W.ba,U.tb=W.tb,e(U.ca!=null),!zl(W.Oa,C,so)){U.a=2;break n}if(!ji(U,C.width)||C.da)break n;if((C.da||xt(U.ca.S))&&je(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&je()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!oe(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!Wi(U,U.V,U.Ba,U.c,U.i,C.o,hi))break n;W.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(w=b.a)}else w=b.a}else{if((b=new Zr)==null){J=1;break e}if(b.Fa=W.na,b.P=W.P,b.qc=W.Sa,ys(b,U)){if((w=Lo(U.width,U.height,J.Oa,J.ba))==0){if(b.Aa=0,C=J.Oa,e((W=b)!=null),C!=null){if(0<(ae=0>(ae=C.Md)?0:100<ae?255:255*ae/100)){for(ue=xe=0;4>ue;++ue)12>(De=W.pb[ue]).lc&&(De.ia=ae*ad[0>De.lc?0:De.lc]>>3),xe|=De.ia;xe&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(le,Ee){if(le==null)return 0;if(Ee==null)return Nn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!ys(le,Ee))return 0;if(e(le.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(le.L=0);var Ie=Mf[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=Ee.v-Ie>>4,le.zb=Ee.j-Ie>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=Ee.o+15+Ie>>4,le.Hb=Ee.va+15+Ie>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Ge=le.ed;for(Ie=0;4>Ie;++Ie){var Oe;if(le.Qa.Cb){var $e=le.Qa.Lb[Ie];le.Qa.Fb||($e+=Ge.Tb)}else $e=Ge.Tb;for(Oe=0;1>=Oe;++Oe){var Ke=le.gd[Ie][Oe],ot=$e;if(Ge.Pc&&(ot+=Ge.vd[0],Oe&&(ot+=Ge.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var Ze=ot;0<Ge.wb&&(Ze=4<Ge.wb?Ze>>2:Ze>>1)>9-Ge.wb&&(Ze=9-Ge.wb),1>Ze&&(Ze=1),Ke.dd=Ze,Ke.tc=2*ot+Ze,Ke.ld=40<=ot?2:15<=ot?1:0}else Ke.tc=0;Ke.La=Oe}}}Ie=0}else Nn(le,6,"Frame setup failed"),Ie=le.a;if(Ie=Ie==0){if(Ie){le.$c=0,0<le.Aa||(le.Ic=sd);t:{Ie=le.Ic,Ge=4*(Ze=le.za);var kt=32*Ze,At=Ze+1,dn=0<le.L?Ze*(0<le.Aa?2:1):0,Ct=(le.Aa==2?2:1)*Ze;if((Ke=Ge+832+(Oe=3*(16*Ie+Mf[le.L])/2*kt)+($e=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ke)Ie=0;else{if(Ke>le.Vb){if(le.Vb=0,le.Ec=a(Ke),le.Fc=0,le.Ec==null){Ie=Nn(le,1,"no memory during frame initialization.");break t}le.Vb=Ke}Ke=le.Ec,ot=le.Fc,le.Ac=Ke,le.Bc=ot,ot+=Ge,le.Gd=s(kt,yc),le.Hd=0,le.rb=s(At+1,Yn),le.sb=1,le.wa=dn?s(dn,Jr):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=Ze),e(!0),le.oc=Ke,le.pc=ot,ot+=832,le.ya=s(Ct,vs),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=Ze),le.R=16*Ze,le.B=8*Ze,Ze=(kt=Mf[le.L])*le.R,kt=kt/2*le.B,le.sa=Ke,le.ta=ot+Ze,le.qa=le.sa,le.ra=le.ta+16*Ie*le.R+kt,le.Ha=le.qa,le.Ia=le.ra+8*Ie*le.B+kt,le.$c=0,ot+=Oe,le.mb=$e?Ke:null,le.nb=$e?ot:null,e(ot+$e<=le.Fc+le.Vb),rl(le),i(le.Ac,le.Bc,0,Ge),Ie=1}}if(Ie){if(Ee.ka=0,Ee.y=le.sa,Ee.O=le.ta,Ee.f=le.qa,Ee.N=le.ra,Ee.ea=le.Ha,Ee.Vd=le.Ia,Ee.fa=le.R,Ee.Rc=le.B,Ee.F=null,Ee.J=0,!Ap){for(Ie=-255;255>=Ie;++Ie)Nu[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)Ep[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)Zh[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)ed[255+Ie]=0>Ie?0:255<Ie?255:Ie;Ap=1}Vs=Mi,Yl=yu,io=ca,Wn=bu,Un=Po,Ra=Tf,Sr=Eu,gi=Fs,ml=Y,jo=ce,Su=Ec,Qh=N,qg=be,r1=Ae,i1=no,a1=bs,Hg=Bl,$g=wc,ti[0]=sl,ti[1]=_u,ti[2]=Ml,ti[3]=xc,ti[4]=Fi,ti[5]=Fl,ti[6]=xi,ti[7]=Jn,ti[8]=Ul,ti[9]=Ga,Ja[0]=js,Ja[1]=bc,Ja[2]=_c,Ja[3]=Oo,Ja[4]=Ro,Ja[5]=Oa,Ja[6]=al,Mo[0]=Do,Mo[1]=xu,Mo[2]=Ms,Mo[3]=wu,Mo[4]=pi,Mo[5]=Wa,Mo[6]=Zs,Ie=1}else Ie=0}Ie&&(Ie=(function(Cn,Dr){for(Cn.M=0;Cn.M<Cn.Va;++Cn.M){var vn,St=Cn.Jc[Cn.M&Cn.Xb],pt=Cn.m,qr=Cn;for(vn=0;vn<qr.za;++vn){var an=pt,_n=qr,ar=_n.Ac,Ui=_n.Bc+4*vn,va=_n.zc,Tr=_n.ya[_n.aa+vn];if(_n.Qa.Bb?Tr.$b=Ce(an,_n.Pa.jb[0])?2+Ce(an,_n.Pa.jb[2]):Ce(an,_n.Pa.jb[1]):Tr.$b=0,_n.kc&&(Tr.Ad=Ce(an,_n.Bd)),Tr.Za=!Ce(an,145)+0,Tr.Za){var wi=Tr.Ob,La=0;for(_n=0;4>_n;++_n){var Ei,Sn=va[0+_n];for(Ei=0;4>Ei;++Ei){Sn=pa[ar[Ui+Ei]][Sn];for(var zn=Pp[Ce(an,Sn[0])];0<zn;)zn=Pp[2*zn+Ce(an,Sn[zn])];Sn=-zn,ar[Ui+Ei]=Sn}r(wi,La,ar,Ui,4),La+=4,va[0+_n]=Sn}}else Sn=Ce(an,156)?Ce(an,128)?1:3:Ce(an,163)?2:0,Tr.Ob[0]=Sn,i(ar,Ui,Sn,4),i(va,0,Sn,4);Tr.Dd=Ce(an,142)?Ce(an,114)?Ce(an,183)?1:3:2:0}if(qr.m.Ka)return Nn(Cn,7,"Premature end-of-partition0 encountered.");for(;Cn.ja<Cn.za;++Cn.ja){if(qr=St,an=(pt=Cn).rb[pt.sb-1],ar=pt.rb[pt.sb+pt.ja],vn=pt.ya[pt.aa+pt.ja],Ui=pt.kc?vn.Ad:0)an.la=ar.la=0,vn.Za||(an.Na=ar.Na=0),vn.Hc=0,vn.Gc=0,vn.ia=0;else{var Hr,Kn;if(an=ar,ar=qr,Ui=pt.Pa.Xc,va=pt.ya[pt.aa+pt.ja],Tr=pt.pb[va.$b],_n=va.ad,wi=0,La=pt.rb[pt.sb-1],Sn=Ei=0,i(_n,wi,0,384),va.Za)var Bi=0,$r=Ui[3];else{zn=a(16);var qn=an.Na+La.Na;if(qn=qs(ar,Ui[1],qn,Tr.Eb,0,zn,0),an.Na=La.Na=(0<qn)+0,1<qn)Vs(zn,0,_n,wi);else{var yi=zn[0]+3>>3;for(zn=0;256>zn;zn+=16)_n[wi+zn]=yi}Bi=1,$r=Ui[0]}var sr=15&an.la,Ai=15&La.la;for(zn=0;4>zn;++zn){var Si=1&Ai;for(yi=Kn=0;4>yi;++yi)sr=sr>>1|(Si=(qn=qs(ar,$r,qn=Si+(1&sr),Tr.Sc,Bi,_n,wi))>Bi)<<7,Kn=Kn<<2|(3<qn?3:1<qn?2:_n[wi+0]!=0),wi+=16;sr>>=4,Ai=Ai>>1|Si<<7,Ei=(Ei<<8|Kn)>>>0}for($r=sr,Bi=Ai>>4,Hr=0;4>Hr;Hr+=2){for(Kn=0,sr=an.la>>4+Hr,Ai=La.la>>4+Hr,zn=0;2>zn;++zn){for(Si=1&Ai,yi=0;2>yi;++yi)qn=Si+(1&sr),sr=sr>>1|(Si=0<(qn=qs(ar,Ui[2],qn,Tr.Qc,0,_n,wi)))<<3,Kn=Kn<<2|(3<qn?3:1<qn?2:_n[wi+0]!=0),wi+=16;sr>>=2,Ai=Ai>>1|Si<<5}Sn|=Kn<<4*Hr,$r|=sr<<4<<Hr,Bi|=(240&Ai)<<Hr}an.la=$r,La.la=Bi,va.Hc=Ei,va.Gc=Sn,va.ia=43690&Sn?0:Tr.ia,Ui=!(Ei|Sn)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[vn.$b][vn.Za],pt.wa[pt.Y+pt.ja].La|=!Ui),qr.Ka)return Nn(Cn,7,"Premature end-of-file encountered.")}if(rl(Cn),pt=Dr,qr=1,vn=(St=Cn).D,an=0<St.L&&St.M>=St.zb&&St.M<=St.Va,St.Aa==0)t:{if(vn.M=St.M,vn.uc=an,Bs(St,vn),qr=1,vn=(Kn=St.D).Nb,an=(Sn=Mf[St.L])*St.R,ar=Sn/2*St.B,zn=16*vn*St.R,yi=8*vn*St.B,Ui=St.sa,va=St.ta-an+zn,Tr=St.qa,_n=St.ra-ar+yi,wi=St.Ha,La=St.Ia-ar+yi,Ai=(sr=Kn.M)==0,Ei=sr>=St.Va-1,St.Aa==2&&Bs(St,Kn),Kn.uc)for(Si=(qn=St).D.M,e(qn.D.uc),Kn=qn.yb;Kn<qn.Hb;++Kn){Bi=Kn,$r=Si;var mr=(Bn=(Ti=qn).D).Nb;Hr=Ti.R;var Bn=Bn.wa[Bn.Y+Bi],ja=Ti.sa,ni=Ti.ta+16*mr*Hr+16*Bi,Qt=Bn.dd,en=Bn.tc;if(en!=0)if(e(3<=en),Ti.L==1)0<Bi&&a1(ja,ni,Hr,en+4),Bn.La&&$g(ja,ni,Hr,en),0<$r&&i1(ja,ni,Hr,en+4),Bn.La&&Hg(ja,ni,Hr,en);else{var Hn=Ti.B,xs=Ti.qa,po=Ti.ra+8*mr*Hn+8*Bi,Za=Ti.Ha,Ti=Ti.Ia+8*mr*Hn+8*Bi;mr=Bn.ld,0<Bi&&(gi(ja,ni,Hr,en+4,Qt,mr),jo(xs,po,Za,Ti,Hn,en+4,Qt,mr)),Bn.La&&(Qh(ja,ni,Hr,en,Qt,mr),r1(xs,po,Za,Ti,Hn,en,Qt,mr)),0<$r&&(Sr(ja,ni,Hr,en+4,Qt,mr),ml(xs,po,Za,Ti,Hn,en+4,Qt,mr)),Bn.La&&(Su(ja,ni,Hr,en,Qt,mr),qg(xs,po,Za,Ti,Hn,en,Qt,mr))}}if(St.ia&&alert("todo:DitherRow"),pt.put!=null){if(Kn=16*sr,sr=16*(sr+1),Ai?(pt.y=St.sa,pt.O=St.ta+zn,pt.f=St.qa,pt.N=St.ra+yi,pt.ea=St.Ha,pt.W=St.Ia+yi):(Kn-=Sn,pt.y=Ui,pt.O=va,pt.f=Tr,pt.N=_n,pt.ea=wi,pt.W=La),Ei||(sr-=Sn),sr>pt.o&&(sr=pt.o),pt.F=null,pt.J=null,St.Fa!=null&&0<St.Fa.length&&Kn<sr&&(pt.J=_(St,pt,Kn,sr-Kn),pt.F=St.mb,pt.F==null&&pt.F.length==0)){qr=Nn(St,3,"Could not decode alpha data.");break t}Kn<pt.j&&(Sn=pt.j-Kn,Kn=pt.j,e(!(1&Sn)),pt.O+=St.R*Sn,pt.N+=St.B*(Sn>>1),pt.W+=St.B*(Sn>>1),pt.F!=null&&(pt.J+=pt.width*Sn)),Kn<sr&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=Kn-pt.j,pt.U=pt.va-pt.v,pt.T=sr-Kn,qr=pt.put(pt))}vn+1!=St.Ic||Ei||(r(St.sa,St.ta-an,Ui,va+16*St.R,an),r(St.qa,St.ra-ar,Tr,_n+8*St.B,ar),r(St.Ha,St.Ia-ar,wi,La+8*St.B,ar))}if(!qr)return Nn(Cn,6,"Output aborted.")}return 1})(le,Ee)),Ee.bc!=null&&Ee.bc(Ee),Ie&=1}return Ie?(le.cb=0,Ie):0})(b,U)||(w=b.a)}}else w=b.a}w==0&&J.Oa!=null&&J.Oa.fd&&(w=Xh(J.ba))}J=w}Q=J!=0?null:11>Q?re.f.RGBA.eb:re.f.kb.y}else Q=null;return Q};var kp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(D,G){for(var P="",F=0;F<4;F++)P+=String.fromCharCode(D[G++]);return P}function h(D,G){return D[G+0]|D[G+1]<<8}function p(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16)>>>0}function y(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16|D[G+3]<<24)>>>0}new u;var g=[0],E=[0],A=[],S=new u,I=t,q=(function(D,G){var P={},F=0,V=!1,ee=0,ge=0;if(P.frames=[],!(function(M,X){for(var Z=0;Z<4;Z++)if(M[X+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(D,G)){for(y(D,G+=4),G+=8;G<D.length;){var se=f(D,G),he=y(D,G+=4);G+=4;var me=he+(1&he);switch(se){case"VP8 ":case"VP8L":P.frames[F]===void 0&&(P.frames[F]={}),(ne=P.frames[F]).src_off=V?ge:G-8,ne.src_size=ee+he+8,F++,V&&(V=!1,ee=0,ge=0);break;case"VP8X":(ne=P.header={}).feature_flags=D[G];var _e=G+4;ne.canvas_width=1+p(D,_e),_e+=3,ne.canvas_height=1+p(D,_e),_e+=3;break;case"ALPH":V=!0,ee=me+8,ge=G-8;break;case"ANIM":(ne=P.header).bgcolor=y(D,G),_e=G+4,ne.loop_count=h(D,_e),_e+=2;break;case"ANMF":var Ue,ne;(ne=P.frames[F]={}).offset_x=2*p(D,G),G+=3,ne.offset_y=2*p(D,G),G+=3,ne.width=1+p(D,G),G+=3,ne.height=1+p(D,G),G+=3,ne.duration=p(D,G),G+=3,Ue=D[G++],ne.dispose=1&Ue,ne.blend=Ue>>1&1}se!="ANMF"&&(G+=me)}return P}})(I,0);q.response=I,q.rgbaoutput=!0,q.dataurl=!1;var k=q.header?q.header:null,B=q.frames?q.frames:null;if(k){k.loop_counter=k.loop_count,g=[k.canvas_height],E=[k.canvas_width];for(var $=0;$<B.length&&B[$].blend!=0;$++);}var K=B[0],j=S.WebPDecodeRGBA(I,K.src_off,K.src_size,E,g);K.rgba=j,K.imgwidth=E[0],K.imgheight=g[0];for(var L=0;L<E[0]*g[0]*4;L++)A[L]=j[L];return this.width=E,this.height=g,this.data=A,this}(function(t){var e,n,r,i,a,s,l,u,f,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(oe){Z=!!oe}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(oe){fe=!!oe}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(oe){isNaN(oe)||(pe=oe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(oe){isNaN(oe)||(ye=oe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(oe){var Xe;typeof oe=="number"?Xe=[oe,oe,oe,oe]:((Xe=new Array(4))[0]=oe[0],Xe[1]=oe.length>=2?oe[1]:Xe[0],Xe[2]=oe.length>=3?oe[2]:Xe[0],Xe[3]=oe.length>=4?oe[3]:Xe[1]),f.margin=Xe}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(oe){Pe=oe}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(oe){de=oe}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(oe){Ce=oe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(oe){oe instanceof h&&(f=oe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(oe){f.path=oe}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(oe){Ve=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var Xe;Xe=y(oe),this.ctx.fillStyle=Xe.style,this.ctx.isFillTransparent=Xe.a===0,this.ctx.fillOpacity=Xe.a,this.pdf.setFillColor(Xe.r,Xe.g,Xe.b,{a:Xe.a}),this.pdf.setTextColor(Xe.r,Xe.g,Xe.b,{a:Xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var Xe=y(oe);this.ctx.strokeStyle=Xe.style,this.ctx.isStrokeTransparent=Xe.a===0,this.ctx.strokeOpacity=Xe.a,Xe.a===0?this.pdf.setDrawColor(255,255,255):(Xe.a,this.pdf.setDrawColor(Xe.r,Xe.g,Xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var Se=null,rt=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(oe){Se=null,rt=null,it=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var Xe;if(this.ctx.font=oe,(Xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var Nt=Xe[1];Xe[2];var yt=Xe[3],qe=Xe[4];Xe[5];var dt=Xe[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(vt==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Ut=(function(Fe){var wn,Bt,It=[],Mt=Fe.trim();if(Mt==="")return jA;if(Mt in Yj)return[Yj[Mt]];for(;Mt!=="";){switch(Bt=null,wn=(Mt=Kj(Mt)).charAt(0)){case'"':case"'":Bt=iwe(Mt.substring(1),wn);break;default:Bt=awe(Mt)}if(Bt===null||(It.push(Bt[0]),(Mt=Kj(Bt[1]))!==""&&Mt.charAt(0)!==","))return jA;Mt=Mt.replace(/^,/,"")}return It})(dt);if(this.fontFaces){var Rt=(function(Fe,wn){var Bt=Fe.getFontList(),It=JSON.stringify(Bt);if(Se===null||rt!==It){var Mt=(function(nn){var _t=[];return Object.keys(nn).forEach(function(un){nn[un].forEach(function(xt){var Vt=null;switch(xt){case"bold":Vt={family:un,weight:"bold"};break;case"italic":Vt={family:un,style:"italic"};break;case"bolditalic":Vt={family:un,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:un}}Vt!==null&&(Vt.ref={name:un,style:xt},_t.push(Vt))})}),_t})(Bt);Se=(function(nn){for(var _t={},un=0;un<nn.length;++un){var xt=LA(nn[un]),Vt=xt.family,Tn=xt.stretch,ht=xt.style,gt=xt.weight;_t[Vt]=_t[Vt]||{},_t[Vt][Tn]=_t[Vt][Tn]||{},_t[Vt][Tn][ht]=_t[Vt][Tn][ht]||{},_t[Vt][Tn][ht][gt]=xt}return _t})(Mt.concat(wn)),rt=It}return Se})(this.pdf,this.fontFaces),cn=Ut.map(function(Fe){return{family:Fe,stretch:"normal",weight:yt,style:Nt}}),fn=(function(Fe,wn,Bt){for(var It=(Bt=Bt||{}).defaultFontFamily||"times",Mt=Object.assign({},rwe,Bt.genericFontFamilies||{}),nn=null,_t=null,un=0;un<wn.length;++un)if(Mt[(nn=LA(wn[un])).family]&&(nn.family=Mt[nn.family]),Fe.hasOwnProperty(nn.family)){_t=Fe[nn.family];break}if(!(_t=_t||Fe[It]))throw new Error("Could not find a font-family for the rule '"+Wj(nn)+"' and default family '"+It+"'.");if(_t=(function(xt,Vt){if(Vt[xt])return Vt[xt];var Tn=FT[xt],ht=Tn<=FT.normal?-1:1,gt=Gj(Vt,O$,Tn,ht);if(!gt)throw new Error("Could not find a matching font-stretch value for "+xt);return gt})(nn.stretch,_t),_t=(function(xt,Vt){if(Vt[xt])return Vt[xt];for(var Tn=P$[xt],ht=0;ht<Tn.length;++ht)if(Vt[Tn[ht]])return Vt[Tn[ht]];throw new Error("Could not find a matching font-style for "+xt)})(nn.style,_t),!(_t=(function(xt,Vt){if(Vt[xt])return Vt[xt];if(xt===400&&Vt[500])return Vt[500];if(xt===500&&Vt[400])return Vt[400];var Tn=nwe[xt],ht=Gj(Vt,R$,Tn,xt<400?-1:1);if(!ht)throw new Error("Could not find a matching font-weight for value "+xt);return ht})(nn.weight,_t)))throw new Error("Failed to resolve a font for the rule '"+Wj(nn)+"'.");return _t})(Rt,cn);this.pdf.setFont(fn.ref.name,fn.ref.style)}else{var Jt="";(yt==="bold"||parseInt(yt,10)>=700||Nt==="bold")&&(Jt="bold"),Nt==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var gn="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<Ut.length;ft++){if(this.pdf.internal.getFont(Ut[ft],Jt,{noFallback:!0,disableWarning:!0})!==void 0){gn=Ut[ft];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(Ut[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gn=Ut[ft],Jt="bold";else if(this.pdf.internal.getFont(Ut[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gn=Ut[ft],Jt="normal";break}}if(gn===""){for(var Et=0;Et<Ut.length;Et++)if(st[Ut[Et]]){gn=st[Ut[Et]];break}}gn=gn===""?"Times":gn,this.pdf.setFont(gn,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){B.call(this,"fill",!1)},p.prototype.stroke=function(){B.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw Lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(M,X));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(M,X)},p.prototype.closePath=function(){var M=new s(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&br(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new s(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},p.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw Lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(M,X));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,X,Z,fe){if(isNaN(Z)||isNaN(fe)||isNaN(M)||isNaN(X))throw Lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new s(Z,fe)),ye=this.ctx.transform.applyToPoint(new s(M,X));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},p.prototype.bezierCurveTo=function(M,X,Z,fe,pe,ye){if(isNaN(pe)||isNaN(ye)||isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe))throw Lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new s(pe,ye)),de=this.ctx.transform.applyToPoint(new s(M,X)),Ce=this.ctx.transform.applyToPoint(new s(Z,fe));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Ce.x,y2:Ce.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new s(Pe.x,Pe.y)},p.prototype.arc=function(M,X,Z,fe,pe,ye){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe)||isNaN(pe))throw Lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new s(M,X));M=Pe.x,X=Pe.y;var de=this.ctx.transform.applyToPoint(new s(0,Z)),Ce=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(de.x-Ce.x,2)+Math.pow(de.y-Ce.y,2))}Math.abs(pe-fe)>=2*Math.PI&&(fe=0,pe=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:Z,startAngle:fe,endAngle:pe,counterclockwise:ye})},p.prototype.arcTo=function(M,X,Z,fe,pe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,X,Z,fe){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe))throw Lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+Z,X),this.lineTo(M+Z,X+fe),this.lineTo(M,X+fe),this.lineTo(M,X),this.lineTo(M+Z,X),this.lineTo(M,X)},p.prototype.fillRect=function(M,X,Z,fe){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe))throw Lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,Z,fe),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},p.prototype.strokeRect=function(M,X,Z,fe){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe))throw Lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(M,X,Z,fe),this.stroke())},p.prototype.clearRect=function(M,X,Z,fe){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe))throw Lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,Z,fe))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(M){var X,Z,fe,pe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,Z=0,fe=0,pe=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ye!==null)X=parseInt(ye[1]),Z=parseInt(ye[2]),fe=parseInt(ye[3]),pe=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(ye[1]),Z=parseInt(ye[2]),fe=parseInt(ye[3]),pe=parseFloat(ye[4]);else{if(pe=1,typeof M=="string"&&M.charAt(0)!=="#"){var Pe=new E$(M);M=Pe.ok?Pe.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,Z=M.substring(2,3),Z+=Z,fe=M.substring(3,4),fe+=fe):(X=M.substring(1,3),Z=M.substring(3,5),fe=M.substring(5,7)),X=parseInt(X,16),Z=parseInt(Z,16),fe=parseInt(fe,16)}}return{r:X,g:Z,b:fe,a:pe,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,X,Z,fe){if(isNaN(X)||isNaN(Z)||typeof M!="string")throw Lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!g.call(this)){var pe=me(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;F.call(this,{text:M,x:X,y:Z,scale:ye,angle:pe,align:this.textAlign,maxWidth:fe})}},p.prototype.strokeText=function(M,X,Z,fe){if(isNaN(X)||isNaN(Z)||typeof M!="string")throw Lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){fe=isNaN(fe)?void 0:fe;var pe=me(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;F.call(this,{text:M,x:X,y:Z,scale:ye,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:fe})}},p.prototype.measureText=function(M){if(typeof M!="string")throw Lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Z=this.pdf.internal.scaleFactor,fe=X.internal.getFontSize(),pe=X.getStringUnitWidth(M)*fe/X.internal.scaleFactor;return new function(ye){var Pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:pe*=Math.round(96*Z/72*1e4)/1e4})},p.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw Lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.rotate=function(M){if(isNaN(M))throw Lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw Lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.transform=function(M,X,Z,fe,pe,ye){if(isNaN(M)||isNaN(X)||isNaN(Z)||isNaN(fe)||isNaN(pe)||isNaN(ye))throw Lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new u(M,X,Z,fe,pe,ye);this.ctx.transform=this.ctx.transform.multiply(Pe)},p.prototype.setTransform=function(M,X,Z,fe,pe,ye){M=isNaN(M)?1:M,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,fe=isNaN(fe)?1:fe,pe=isNaN(pe)?0:pe,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(M,X,Z,fe,pe,ye)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,X,Z,fe,pe,ye,Pe,de,Ce){var Ve=this.pdf.getImageProperties(M),Se=1,rt=1,it=1,oe=1;fe!==void 0&&de!==void 0&&(it=de/fe,oe=Ce/pe,Se=Ve.width/fe*de/fe,rt=Ve.height/pe*Ce/pe),ye===void 0&&(ye=X,Pe=Z,X=0,Z=0),fe!==void 0&&de===void 0&&(de=fe,Ce=pe),fe===void 0&&de===void 0&&(de=Ve.width,Ce=Ve.height);var Xe=this.ctx.transform.decompose(),Nt=me(Xe.rotate.shx),yt=new u,qe=(yt=(yt=(yt=yt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new l(ye-X*it,Pe-Z*oe,fe*Se,pe*rt));if(this.autoPaging){for(var dt,vt=S.call(this,qe),Ut=[],Rt=0;Rt<vt.length;Rt+=1)Ut.indexOf(vt[Rt])===-1&&Ut.push(vt[Rt]);k(Ut);for(var cn=Ut[0],fn=Ut[Ut.length-1],Jt=cn;Jt<fn+1;Jt++){this.pdf.setPage(Jt);var gn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Jt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Jt===1?0:ft+(Jt-2)*Et;if(this.ctx.clip_path.length!==0){var wn=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(dt,this.posX+this.margin[3],-Fe+st+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=wn}var Bt=JSON.parse(JSON.stringify(qe));Bt=q([Bt],this.posX+this.margin[3],-Fe+st+this.ctx.prevPageLastElemOffset)[0];var It=(Jt>cn||Jt<fn)&&A.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gn,Et,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,Nt),It&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Nt)};var S=function(M,X,Z){var fe=[];X=X||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":fe.push(Math.floor((M.y+pe)/Z)+1);break;case"arc":fe.push(Math.floor((M.y+pe-M.radius)/Z)+1),fe.push(Math.floor((M.y+pe+M.radius)/Z)+1);break;case"qct":var ye=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);fe.push(Math.floor((ye.y+pe)/Z)+1),fe.push(Math.floor((ye.y+ye.h+pe)/Z)+1);break;case"bct":var Pe=Ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);fe.push(Math.floor((Pe.y+pe)/Z)+1),fe.push(Math.floor((Pe.y+Pe.h+pe)/Z)+1);break;case"rect":fe.push(Math.floor((M.y+pe)/Z)+1),fe.push(Math.floor((M.y+M.h+pe)/Z)+1)}for(var de=0;de<fe.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<fe[de];)I.call(this);return fe},I=function(){var M=this.fillStyle,X=this.strokeStyle,Z=this.font,fe=this.lineCap,pe=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=Z,this.lineCap=fe,this.lineWidth=pe,this.lineJoin=ye},q=function(M,X,Z){for(var fe=0;fe<M.length;fe++)switch(M[fe].type){case"bct":M[fe].x2+=X,M[fe].y2+=Z;case"qct":M[fe].x1+=X,M[fe].y1+=Z;default:M[fe].x+=X,M[fe].y+=Z}return M},k=function(M){return M.sort(function(X,Z){return X-Z})},B=function(M,X){var Z=this.fillStyle,fe=this.strokeStyle,pe=this.lineCap,ye=this.lineWidth,Pe=Math.abs(ye*this.ctx.transform.scaleX),de=this.lineJoin;if(this.autoPaging){for(var Ce,Ve,Se=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),it=[],oe=0;oe<rt.length;oe++)if(rt[oe].x!==void 0)for(var Xe=S.call(this,rt[oe]),Nt=0;Nt<Xe.length;Nt+=1)it.indexOf(Xe[Nt])===-1&&it.push(Xe[Nt]);for(var yt=0;yt<it.length;yt++)for(;this.pdf.internal.getNumberOfPages()<it[yt];)I.call(this);k(it);for(var qe=it[0],dt=it[it.length-1],vt=qe;vt<dt+1;vt++){this.pdf.setPage(vt),this.fillStyle=Z,this.strokeStyle=fe,this.lineCap=pe,this.lineWidth=Pe,this.lineJoin=de;var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=vt===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=vt===1?0:cn+(vt-2)*fn;if(this.ctx.clip_path.length!==0){var gn=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Ce,this.posX+this.margin[3],-Jt+Rt+this.ctx.prevPageLastElemOffset),$.call(this,M,!0),this.path=gn}if(Ve=JSON.parse(JSON.stringify(Se)),this.path=q(Ve,this.posX+this.margin[3],-Jt+Rt+this.ctx.prevPageLastElemOffset),X===!1||vt===0){var st=(vt>qe||vt<dt)&&A.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,fn,null).clip().discardPath()),$.call(this,M,X),st&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=Se}else this.lineWidth=Pe,$.call(this,M,X),this.lineWidth=ye},$=function(M,X){if((M!=="stroke"||X||!E.call(this))&&(M==="stroke"||X||!g.call(this))){for(var Z,fe,pe=[],ye=this.path,Pe=0;Pe<ye.length;Pe++){var de=ye[Pe];switch(de.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:de,deltas:[],abs:[]});break;case"lt":var Ce=pe.length;if(ye[Pe-1]&&!isNaN(ye[Pe-1].x)&&(Z=[de.x-ye[Pe-1].x,de.y-ye[Pe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(pe[Ce-1].close!==!0&&pe[Ce-1].begin!==!0){pe[Ce-1].deltas.push(Z),pe[Ce-1].abs.push(de);break}}break;case"bct":Z=[de.x1-ye[Pe-1].x,de.y1-ye[Pe-1].y,de.x2-ye[Pe-1].x,de.y2-ye[Pe-1].y,de.x-ye[Pe-1].x,de.y-ye[Pe-1].y],pe[pe.length-1].deltas.push(Z);break;case"qct":var Ve=ye[Pe-1].x+2/3*(de.x1-ye[Pe-1].x),Se=ye[Pe-1].y+2/3*(de.y1-ye[Pe-1].y),rt=de.x+2/3*(de.x1-de.x),it=de.y+2/3*(de.y1-de.y),oe=de.x,Xe=de.y;Z=[Ve-ye[Pe-1].x,Se-ye[Pe-1].y,rt-ye[Pe-1].x,it-ye[Pe-1].y,oe-ye[Pe-1].x,Xe-ye[Pe-1].y],pe[pe.length-1].deltas.push(Z);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(de)}}fe=X?null:M==="stroke"?"stroke":"fill";for(var Nt=!1,yt=0;yt<pe.length;yt++)if(pe[yt].arc)for(var qe=pe[yt].abs,dt=0;dt<qe.length;dt++){var vt=qe[dt];vt.type==="arc"?L.call(this,vt.x,vt.y,vt.radius,vt.startAngle,vt.endAngle,vt.counterclockwise,void 0,X,!Nt):V.call(this,vt.x,vt.y),Nt=!0}else if(pe[yt].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(pe[yt].begin!==!0){var Ut=pe[yt].start.x,Rt=pe[yt].start.y;ee.call(this,pe[yt].deltas,Ut,Rt),Nt=!0}fe&&D.call(this,fe),X&&G.call(this)}},K=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+X-Z;case"hanging":return M+X-2*Z;case"middle":return M+X/2-Z;default:return M}},j=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,Z){this.colorStops.push([X,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(M,X,Z,fe,pe,ye,Pe,de,Ce){for(var Ve=se.call(this,Z,fe,pe,ye),Se=0;Se<Ve.length;Se++){var rt=Ve[Se];Se===0&&(Ce?P.call(this,rt.x1+M,rt.y1+X):V.call(this,rt.x1+M,rt.y1+X)),ge.call(this,M,X,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}de?G.call(this):D.call(this,Pe)},D=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,X){this.pdf.internal.out(n(M)+" "+r(X)+" m")},F=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var Z,fe,pe,ye=this.pdf.getTextDimensions(M.text),Pe=K.call(this,M.y),de=j.call(this,Pe)-ye.h,Ce=this.ctx.transform.applyToPoint(new s(M.x,Pe));if(this.autoPaging){var Ve=this.ctx.transform.decompose(),Se=new u;Se=(Se=(Se=Se.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var rt=this.ctx.transform.applyToRectangle(new l(M.x,Pe,ye.w,ye.h)),it=Se.applyToRectangle(new l(M.x,de,ye.w,ye.h)),oe=S.call(this,it),Xe=[],Nt=0;Nt<oe.length;Nt+=1)Xe.indexOf(oe[Nt])===-1&&Xe.push(oe[Nt]);k(Xe);for(var yt=Xe[0],qe=Xe[Xe.length-1],dt=yt;dt<qe+1;dt++){this.pdf.setPage(dt);var vt=dt===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[2],cn=Rt-this.margin[0],fn=this.pdf.internal.pageSize.width-this.margin[1],Jt=fn-this.margin[3],gn=dt===1?0:Ut+(dt-2)*cn;if(this.ctx.clip_path.length!==0){var st=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Z,this.posX+this.margin[3],-1*gn+vt),$.call(this,"fill",!0),this.path=st}var ft=q([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-gn+vt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale);var Et=this.autoPaging!=="text";if(Et||ft.y+ft.h<=Rt){if(Et||ft.y>=vt&&ft.x<=fn){var Fe=Et?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||fn-ft.x)[0],wn=q([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-gn+vt+this.ctx.prevPageLastElemOffset)[0],Bt=Et&&(dt>yt||dt<qe)&&A.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,cn,null).clip().discardPath()),this.pdf.text(Fe,wn.x,wn.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else ft.y<Rt&&(this.ctx.prevPageLastElemOffset+=Rt-ft.y);M.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=pe)}}else M.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*M.scale),pe=this.lineWidth,this.lineWidth=pe*M.scale),this.pdf.text(M.text,Ce.x+this.posX,Ce.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=pe)},V=function(M,X,Z,fe){Z=Z||0,fe=fe||0,this.pdf.internal.out(n(M+Z)+" "+r(X+fe)+" l")},ee=function(M,X,Z){return this.pdf.lines(M,X,Z,null,null)},ge=function(M,X,Z,fe,pe,ye,Pe,de){this.pdf.internal.out([e(i(Z+M)),e(a(fe+X)),e(i(pe+M)),e(a(ye+X)),e(i(Pe+M)),e(a(de+X)),"c"].join(" "))},se=function(M,X,Z,fe){for(var pe=2*Math.PI,ye=Math.PI/2;X>Z;)X-=pe;var Pe=Math.abs(Z-X);Pe<pe&&fe&&(Pe=pe-Pe);for(var de=[],Ce=fe?-1:1,Ve=X;Pe>1e-5;){var Se=Ve+Ce*Math.min(Pe,ye);de.push(he.call(this,M,Ve,Se)),Pe-=Math.abs(Se-Ve),Ve=Se}return de},he=function(M,X,Z){var fe=(Z-X)/2,pe=M*Math.cos(fe),ye=M*Math.sin(fe),Pe=pe,de=-ye,Ce=Pe*Pe+de*de,Ve=Ce+Pe*pe+de*ye,Se=4/3*(Math.sqrt(2*Ce*Ve)-Ve)/(Pe*ye-de*pe),rt=Pe-Se*de,it=de+Se*Pe,oe=rt,Xe=-it,Nt=fe+X,yt=Math.cos(Nt),qe=Math.sin(Nt);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:rt*yt-it*qe,y2:rt*qe+it*yt,x3:oe*yt-Xe*qe,y3:oe*qe+Xe*yt,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},me=function(M){return 180*M/Math.PI},_e=function(M,X,Z,fe,pe,ye){var Pe=M+.5*(Z-M),de=X+.5*(fe-X),Ce=pe+.5*(Z-pe),Ve=ye+.5*(fe-ye),Se=Math.min(M,pe,Pe,Ce),rt=Math.max(M,pe,Pe,Ce),it=Math.min(X,ye,de,Ve),oe=Math.max(X,ye,de,Ve);return new l(Se,it,rt-Se,oe-it)},Ue=function(M,X,Z,fe,pe,ye,Pe,de){var Ce,Ve,Se,rt,it,oe,Xe,Nt,yt,qe,dt,vt,Ut,Rt,cn=Z-M,fn=fe-X,Jt=pe-Z,gn=ye-fe,st=Pe-pe,ft=de-ye;for(Ve=0;Ve<41;Ve++)yt=(Xe=(Se=M+(Ce=Ve/40)*cn)+Ce*((it=Z+Ce*Jt)-Se))+Ce*(it+Ce*(pe+Ce*st-it)-Xe),qe=(Nt=(rt=X+Ce*fn)+Ce*((oe=fe+Ce*gn)-rt))+Ce*(oe+Ce*(ye+Ce*ft-oe)-Nt),Ve==0?(dt=yt,vt=qe,Ut=yt,Rt=qe):(dt=Math.min(dt,yt),vt=Math.min(vt,qe),Ut=Math.max(Ut,yt),Rt=Math.max(Rt,qe));return new l(Math.round(dt),Math.round(vt),Math.round(Ut-dt),Math.round(Rt-vt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,Z=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(qt.API),(function(t){var e=function(s){var l,u,f,h,p,y,g,E,A,S;for(u=[],f=0,h=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;h>f;f+=4)(p=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(y=(p=((p=((p=((p=(p-(S=p%85))/85)-(A=p%85))/85)-(E=p%85))/85)-(g=p%85))/85)%85,u.push(y+33,g+33,E+33,A+33,S+33)):u.push(122);return(function(I,q){for(var k=q;k>0;k--)I.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},n=function(s){var l,u,f,h,p,y=String,g="length",E=255,A="charCodeAt",S="slice",I="replace";for(s[S](-2),s=s[S](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),f=[],h=0,p=(s+=l="uuuuu"[S](s[g]%5||5))[g];p>h;h+=5)u=52200625*(s[A](h)-33)+614125*(s[A](h+1)-33)+7225*(s[A](h+2)-33)+85*(s[A](h+3)-33)+(s[A](h+4)-33),f.push(E&u>>24,E&u>>16,E&u>>8,E&u);return(function(q,k){for(var B=k;B>0;B--)q.pop()})(f,l[g]),y.fromCharCode.apply(y,f)},r=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",f=0;f<s.length;f+=2)u+=String.fromCharCode("0x"+(s[f]+s[f+1]));return u},a=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return(l=OT(l)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,l){var u=0,f=s||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(qt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(u,f,h){var p=new XMLHttpRequest,y=0,g=function(E){var A=E.length,S=[],I=String.fromCharCode;for(y=0;y<A;y+=1)S.push(I(255&E.charCodeAt(y)));return S.join("")};if(p.open("GET",u,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(g(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return g(p.responseText)})(i,a,s)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(qt.API),(function(t){function e(){return(pn.html2canvas?Promise.resolve(pn.html2canvas):vA(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(pn.DOMPurify?Promise.resolve(pn.DOMPurify):vA(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=br(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var f=document.createElement(l);for(var h in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[h]=u.style[h];return f},a=function l(u,f){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h},s=function l(u){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),f);return(h=h.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),u){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var f=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var E=h[g],A=E.src.find(function(S){return S.format==="truetype"});A&&f.addFont(A.url,E.ref.name,E.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var f=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(f):f})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(l=l||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,f,h){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,f,h){return this.setProgress(l?this.progress.val+l:null,u||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(l,u){var f=this;return this.thenCore(l,u,function(h,p){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,h),y}).then(h,p).then(function(y){return f.updateProgress(1),y})})},s.prototype.thenCore=function(l,u,f){f=f||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),u&&(u=u.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),y=f.call(p,l,u);return s.convert(y,h.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(f){u=u.thenCore(f)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,qt.getPageSize=function(l,u,f){if(br(l)==="object"){var h=l;l=h.orientation,u=h.unit||u,f=h.format||f}u=u||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var p,y=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var E,A=0,S=0;if(g.hasOwnProperty(y))A=g[y][1]/p,S=g[y][0]/p;else try{A=f[1],S=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",S>A&&(E=S,S=A,A=E);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",A>S&&(E=S,S=A,A=E)}return{width:S,height:A,unit:u,k:p,orientation:l}},t.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(LA):null;var f=new s(u);return u.worker?f:f.from(l).doCallback()}})(qt.API),qt.API.addJS=function(t){return Qj=t,this.internal.events.subscribe("postPutResources",function(){Tb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Xj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Qj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tb!==void 0&&Xj!==void 0&&this.internal.out("/Names <</JavaScript "+Tb+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var u=l[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var p=n.internal.newObject();h.push(p);var y=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(qt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,s,l){var u,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,u=(function(p){for(var y,g=256*p.charCodeAt(4)+p.charCodeAt(5),E=p.length,A={width:0,height:0,numcomponents:1},S=4;S<E;S+=2){if(S+=g,e.indexOf(p.charCodeAt(S+1))!==-1){y=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),A={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:y,numcomponents:p.charCodeAt(S+9)};break}g=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return A})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}})(qt.API),qt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=zxe(t,{checkCrc:!0}),s=a.width,l=a.height,u=a.channels,f=a.palette,h=a.depth;i=f&&u===1?(function(L){for(var D=L.width,G=L.height,P=L.data,F=L.palette,V=L.depth,ee=!1,ge=[],se=[],he=void 0,me=!1,_e=0,Ue=0;Ue<F.length;Ue++){var ne=tj(F[Ue],4),M=ne[0],X=ne[1],Z=ne[2],fe=ne[3];ge.push(M,X,Z),fe!=null&&(fe===0?(_e++,se.length<1&&se.push(Ue)):fe<255&&(me=!0))}if(me||_e>1){ee=!0,se=void 0;var pe=D*G;he=new Uint8Array(pe);for(var ye=new DataView(P.buffer),Pe=0;Pe<pe;Pe++){var de=MA(ye,Pe,V),Ce=tj(F[de],4)[3];he[Pe]=Ce}}else _e===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:P,alphaBytes:he,needSMask:ee,palette:ge,mask:se}})(a):u===2||u===4?(function(L){for(var D=L.data,G=L.width,P=L.height,F=L.channels,V=L.depth,ee=F===2?"DeviceGray":"DeviceRGB",ge=F-1,se=G*P,he=ge,me=se*he,_e=1*se,Ue=Math.ceil(me*V/8),ne=Math.ceil(_e*V/8),M=new Uint8Array(Ue),X=new Uint8Array(ne),Z=new DataView(D.buffer),fe=new DataView(M.buffer),pe=new DataView(X.buffer),ye=!1,Pe=0;Pe<se;Pe++){for(var de=Pe*F,Ce=0;Ce<he;Ce++)sM(fe,MA(Z,de+Ce,V),Pe*he+Ce,V);var Ve=MA(Z,de+he,V);Ve<(1<<V)-1&&(ye=!0),sM(pe,Ve,1*Pe,V)}return{colorSpace:ee,colorsPerPixel:ge,sMaskBitsPerComponent:ye?V:void 0,colorBytes:M,alphaBytes:X,needSMask:ye}})(a):(function(L){var D=L.data,G=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(P){for(var F=P.length,V=new Uint8Array(2*F),ee=new DataView(V.buffer,V.byteOffset,V.byteLength),ge=0;ge<F;ge++)ee.setUint16(2*ge,P[ge],!1);return V})(D):D,needSMask:!1}})(a);var p,y,g,E=i,A=E.colorSpace,S=E.colorsPerPixel,I=E.sMaskBitsPerComponent,q=E.colorBytes,k=E.alphaBytes,B=E.needSMask,$=E.palette,K=E.mask,j=null;return r!==qt.API.image_compression.NONE&&typeof OT=="function"?(j=(function(L){var D;switch(L){case qt.API.image_compression.FAST:D=11;break;case qt.API.image_compression.MEDIUM:D=13;break;case qt.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),p=this.decode.FLATE_DECODE,y="/Predictor ".concat(j," /Colors ").concat(S," /BitsPerComponent ").concat(h," /Columns ").concat(s),t=tM(q,Math.ceil(s*S*h/8),S,h,r),B&&(g=tM(k,Math.ceil(s*I/8),1,I,r))):(p=void 0,y=void 0,t=q,B&&(g=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:p,decodeParameters:y,transparency:K,palette:$,sMask:g,predictor:j,width:s,height:l,bitsPerComponent:h,sMaskBitsPerComponent:I,colorSpace:A}}},(function(t){t.processGIF89A=function(e,n,r,i){var a=new cwe(e),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:s,height:l},h=new FA(100).encode(f,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(qt.API),nc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Lr.log("bit decode error:"+n)}},nc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},nc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,u=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},nc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},nc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=f}this.pos+=t}},nc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&n)/n*255|0,f=(s>>11)/e*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=l,this.data[h+3]=255}this.pos+=t}},nc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},nc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},nc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new nc(e,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new FA(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)}})(qt.API),lM.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new lM(e),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new FA(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)}})(qt.API),qt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,f=0;f<i;f+=4){var h=r[f],p=r[f+1],y=r[f+2],g=r[f+3];a[l++]=h,a[l++]=p,a[l++]=y,s[u++]=g}var E=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},qt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mm=qt.API,Nb=mm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=e.doKerning!==!1,y=0,g=t.length,E=0,A=l[0]||u,S=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(y=p&&br(f[r])==="object"&&!isNaN(parseInt(f[r][E],10))?f[r][E]/h:0,S.push((l[r]||A)/u+y)),E=r;return S},Jj=mm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return mm.processArabic&&(t=mm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Nb.apply(this,arguments).reduce(function(a,s){return a+s},0)},Zj=function(t,e,n,r){for(var i=[],a=0,s=t.length,l=0;a!==s&&l+e[a]<n;)l+=e[a],a++;i.push(t.slice(0,a));var u=a;for(l=0;a!==s;)l+e[a]>r&&(i.push(t.slice(u,a)),l=0,u=a),l+=e[a],a++;return u!==a&&i.push(t.slice(u,a)),i},eM=function(t,e,n){n||(n={});var r,i,a,s,l,u,f,h=[],p=[h],y=n.textIndent||0,g=0,E=0,A=t.split(" "),S=Nb.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var I=Array(u).join(" "),q=[];A.map(function(B){(B=B.split(/\s*\n/)).length>1?q=q.concat(B.map(function($,K){return(K&&$.length?`
`:"")+$})):q.push(B[0])}),A=q,u=Jj.apply(this,[I,n])}for(a=0,s=A.length;a<s;a++){var k=0;if(r=A[a],u&&r[0]==`
`&&(r=r.substr(1),k=1),y+g+(E=(i=Nb.apply(this,[r,n])).reduce(function(B,$){return B+$},0))>e||k){if(E>e){for(l=Zj.apply(this,[r,i,e-(y+g),e]),h.push(l.shift()),h=[l.pop()];l.length;)p.push([l.shift()]);E=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(B,$){return B+$},0)}else h=[r];p.push(h),y=E+u,g=S}else h.push(r),y+=g+E,g=S}return f=u?function(B,$){return($?I:"")+B.join(" ")}:function(B){return B.join(" ")},p.map(f)},mm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return p.metadata[y]?{widths:p.metadata[y].widths||{0:1},kerning:p.metadata[y].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,u,f=[];for(l=0,u=r.length;l<u;l++)f=f.concat(eM.apply(this,[r[l],s,a]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var g,E,A,S,I=["{"];for(var q in y){if(g=y[q],isNaN(parseInt(q,10))?E="'"+q+"'":(q=parseInt(q,10),E=(E=s(q).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof g=="number")g<0?(A=s(g).slice(3),S="-"):(A=s(g).slice(2),S=""),A=S+A.slice(0,-1)+i[A.slice(-1)];else{if(br(g)!=="object")throw new Error("Don't know what to do with value type "+br(g)+".");A=l(g)}I.push(E+A)}return I.push("}"),I.join("")},u=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,E,A,S,I={},q=1,k=I,B=[],$="",K="",j=y.length-1,L=1;L<j;L+=1)(S=y[L])=="'"?g?(A=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(B.push([k,A]),k={},A=void 0):S=="}"?((E=B.pop())[0][E[1]]=k,A=void 0,k=E[0]):S=="-"?q=-1:A===void 0?r.hasOwnProperty(S)?($+=r[S],A=parseInt($,16)*q,q=1,$=""):$+=S:r.hasOwnProperty(S)?(K+=r[S],k[A]=parseInt(K,16)*q,q=1,A=void 0,K=""):K+=S;return I},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var g=y.font,E=p.Unicode[g.postScriptName];E&&(g.metadata.Unicode={},g.metadata.Unicode.widths=E.widths,g.metadata.Unicode.kerning=E.kerning);var A=h.Unicode[g.postScriptName];A&&(g.metadata.Unicode.encoding=A,g.encoding=A.codePages[0])}])})(qt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Yb(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(qt),qt.API.addSvgAsImage=function(t,e,n,r,i,a,s,l){if(isNaN(e)||isNaN(n))throw Lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(pn.canvg?Promise.resolve(pn.canvg):vA(()=>import("./index.es-DXL1ogVg.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),e,n,r,i,s,l)})},qt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},qt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],f=0,h=0,p=0;function y(E,A){var S,I=!1;for(S=0;S<E.length;S+=1)E[S]===A&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=l.length;for(p=0;p<g;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(br(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&y(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,A=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?A.push("/"+E+" /"+n[E].value):A.push("/"+E+" "+n[E].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(qt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,y=a.length;p<y;++p){if(l=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(p),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},r=function(a){var s,l,u,f,h,p,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,y=(l=Object.keys(a).sort(function(g,E){return g-E})).length;p<y;p++)s=l[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",E=0;E<y.length;E++)g+=String.fromCharCode(y[E]);var A=f();h({data:g,addLength1:!0,objectId:A}),u("endobj");var S=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var I=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Em(l.fontName)),u("/FontFile2 "+A+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var q=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Em(l.fontName)),u("/FontDescriptor "+I+" 0 R"),u("/W "+t.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+S+" 0 R"),u("/BaseFont /"+Em(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+q+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,y="",g=0;g<p.length;g++)y+=String.fromCharCode(p[g]);var E=f();h({data:y,addLength1:!0,objectId:E}),u("endobj");var A=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var S=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+E+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Em(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var I=0;I<l.metadata.hmtx.widths.length;I++)l.metadata.hmtx.widths[I]=parseInt(l.metadata.hmtx.widths[I]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Em(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,f=a.y,h=a.options||{},p=a.mutex||{},y=p.pdfEscape,g=p.activeFontKey,E=p.fonts,A=g,S="",I=0,q="",k=E[A].encoding;if(E[A].encoding!=="Identity-H")return{text:l,x:u,y:f,options:h,mutex:p};for(q=l,A=g,Array.isArray(l)&&(q=l[0]),I=0;I<q.length;I+=1)E[A].metadata.hasOwnProperty("cmap")&&(s=E[A].metadata.cmap.unicode.codeMap[q[I].charCodeAt(0)]),s||q[I].charCodeAt(0)<256&&E[A].metadata.hasOwnProperty("Unicode")?S+=q[I]:S+="";var B="";return parseInt(A.slice(1))<14||k==="WinAnsiEncoding"?B=y(S,A).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(B=n(S,E[A])),p.isHex=!0,{text:B,x:u,y:f,options:h,mutex:p}};e.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},u,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},u,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])})(qt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(qt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,s,l,u,f,h,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,k=0;this.__bidiEngine__={};var B=function(P){var F=P.charCodeAt(),V=F>>8,ee=A[V];return ee!==void 0?p[256*ee+(255&F)]:V===252||V===253?"AL":I.test(V)?"L":V===8?"R":"N"},$=function(P){for(var F,V=0;V<P.length;V++){if((F=B(P.charAt(V)))==="L")return!1;if(F==="R")return!0}return!1},K=function(P,F,V,ee){var ge,se,he,me,_e=F[ee];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"N":case"AN":break;case"EN":q&&(_e="AN");break;case"AL":q=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":ee<1||ee+1>=F.length||(ge=V[ee-1])!=="EN"&&ge!=="AN"||(se=F[ee+1])!=="EN"&&se!=="AN"?_e="N":q&&(se="AN"),_e=se===ge?se:"N";break;case"ES":_e=(ge=ee>0?V[ee-1]:"B")==="EN"&&ee+1<F.length&&F[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&V[ee-1]==="EN"){_e="EN";break}if(q){_e="N";break}for(he=ee+1,me=F.length;he<me&&F[he]==="ET";)he++;_e=he<me&&F[he]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(me=F.length,he=ee+1;he<me&&F[he]==="NSM";)he++;if(he<me){var Ue=P[ee],ne=Ue>=1425&&Ue<=2303||Ue===64286;if(ge=F[he],ne&&(ge==="R"||ge==="AL")){_e="R";break}}}_e=ee<1||(ge=F[ee-1])==="B"?"N":V[ee-1];break;case"B":q=!1,i=!0,_e=k;break;case"S":a=!0,_e="N"}return _e},j=function(P,F,V){var ee=P.split("");return V&&L(ee,V,{hiLevel:k}),ee.reverse(),F&&F.reverse(),ee.join("")},L=function(P,F,V){var ee,ge,se,he,me,_e=-1,Ue=P.length,ne=0,M=[],X=k?g:y,Z=[];for(q=!1,i=!1,a=!1,ge=0;ge<Ue;ge++)Z[ge]=B(P[ge]);for(se=0;se<Ue;se++){if(me=ne,M[se]=K(P,Z,M,se),ee=240&(ne=X[me][E[M[se]]]),ne&=15,F[se]=he=X[ne][5],ee>0)if(ee===16){for(ge=_e;ge<se;ge++)F[ge]=1;_e=-1}else _e=-1;if(X[ne][6])_e===-1&&(_e=se);else if(_e>-1){for(ge=_e;ge<se;ge++)F[ge]=he;_e=-1}Z[se]==="B"&&(F[se]=0),V.hiLevel|=he}a&&(function(fe,pe,ye){for(var Pe=0;Pe<ye;Pe++)if(fe[Pe]==="S"){pe[Pe]=k;for(var de=Pe-1;de>=0&&fe[de]==="WS";de--)pe[de]=k}})(Z,F,Ue)},D=function(P,F,V,ee,ge){if(!(ge.hiLevel<P)){if(P===1&&k===1&&!i)return F.reverse(),void(V&&V.reverse());for(var se,he,me,_e,Ue=F.length,ne=0;ne<Ue;){if(ee[ne]>=P){for(me=ne+1;me<Ue&&ee[me]>=P;)me++;for(_e=ne,he=me-1;_e<he;_e++,he--)se=F[_e],F[_e]=F[he],F[he]=se,V&&(se=V[_e],V[_e]=V[he],V[he]=se);ne=me}ne++}}},G=function(P,F,V){var ee=P.split(""),ge={hiLevel:k};return V||(V=[]),L(ee,V,ge),(function(se,he,me){if(me.hiLevel!==0&&h)for(var _e,Ue=0;Ue<se.length;Ue++)he[Ue]===1&&(_e=S.indexOf(se[Ue]))>=0&&(se[Ue]=S[_e+1])})(ee,V,ge),D(2,ee,F,V,ge),D(1,ee,F,V,ge),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(P,F,V){if((function(ge,se){if(se)for(var he=0;he<ge.length;he++)se[he]=he;l===void 0&&(l=$(ge)),f===void 0&&(f=$(ge))})(P,F),s||!u||f)if(s&&u&&l^f)k=l?1:0,P=j(P,F,V);else if(!s&&u&&f)k=l?1:0,P=G(P,F,V),P=j(P,F);else if(!s||l||u||f){if(s&&!u&&l^f)P=j(P,F),l?(k=0,P=G(P,F,V)):(k=1,P=G(P,F,V),P=j(P,F));else if(s&&l&&!u&&f)k=1,P=G(P,F,V),P=j(P,F);else if(!s&&!u&&l^f){var ee=h;l?(k=1,P=G(P,F,V),k=0,h=!1,P=G(P,F,V),h=ee):(k=0,P=G(P,F,V),P=j(P,F),k=1,h=!1,P=G(P,F,V),h=ee,P=j(P,F))}}else k=0,P=G(P,F,V);else k=l?1:0,P=G(P,F,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,u=P.isOutputVisual,l=P.isInputRtl,f=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([n.doBidiReorder(i[l])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(qt),qt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Fh(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Awe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uwe(this.contents),this.head=new hwe(this),this.name=new vwe(this),this.cmap=new k$(this),this.toUnicode={},this.hhea=new dwe(this),this.maxp=new ywe(this),this.hmtx=new bwe(this),this.post=new mwe(this),this.os2=new pwe(this),this.loca=new Ewe(this),this.glyf=new _we(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,f;for(f=[],s=0,l=(u=this.bbox).length;s<l;s++)e=u[s],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,s,l;for(s=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var gc,Fh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,s,l,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),uwe=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,s,l,u,f,h,p,y,g,E,A;for(A in g=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(g)/u),s=Math.floor(p/u),h=16*g-p,(i=new Fh).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(s),i.writeShort(h),a=16*g,f=i.pos+a,l=null,E=[],n)for(y=n[A],i.writeString(A),i.writeInt(t(y)),i.writeInt(f),i.writeInt(y.length),E=E.concat(y),A==="head"&&(l=f),f+=y.length;f%4;)E.push(0),f++;return i.write(E),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,s;for(n=L$.call(n);n.length%4;)n.push(0);for(a=new Fh(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),fwe={}.hasOwnProperty,gu=function(t,e){for(var n in e)fwe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};gc=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var hwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Fh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),cM=(function(){function t(e,n){var r,i,a,s,l,u,f,h,p,y,g,E,A,S,I,q,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,a=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),e.pos+=2,A=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),f=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),h=(function(){var B,$;for($=[],u=B=0;0<=y?B<y:B>y;u=0<=y?++B:--B)$.push(e.readUInt16());return $})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var B,$;for($=[],u=B=0;0<=i?B<i:B>i;u=0<=i?++B:--B)$.push(e.readUInt16());return $})(),u=I=0,k=a.length;I<k;u=++I)for(S=a[u],r=q=E=A[u];E<=S?q<=S:q>=S;r=E<=S?++q:--q)h[u]===0?s=r+f[u]:(s=l[h[u]/2+(r-E)-(y-u)]||0)!==0&&(s+=f[u]),this.codeMap[r]=65535&s}e.pos=p}return t.encode=function(e,n){var r,i,a,s,l,u,f,h,p,y,g,E,A,S,I,q,k,B,$,K,j,L,D,G,P,F,V,ee,ge,se,he,me,_e,Ue,ne,M,X,Z,fe,pe,ye,Pe,de,Ce,Ve,Se;switch(ee=new Fh,s=Object.keys(e).sort(function(rt,it){return rt-it}),n){case"macroman":for(A=0,S=(function(){var rt=[];for(E=0;E<256;++E)rt.push(0);return rt})(),q={0:0},a={},ge=0,_e=s.length;ge<_e;ge++)q[de=e[i=s[ge]]]==null&&(q[de]=++A),a[i]={old:e[i],new:q[e[i]]},S[i]=q[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(S),{charMap:a,subtable:ee.data,maxGlyphID:A+1};case"unicode":for(F=[],p=[],k=0,q={},r={},I=f=null,se=0,Ue=s.length;se<Ue;se++)q[$=e[i=s[se]]]==null&&(q[$]=++k),r[i]={old:$,new:q[$]},l=q[$]-i,I!=null&&l===f||(I&&p.push(I),F.push(i),f=l),I=i;for(I&&p.push(I),p.push(65535),F.push(65535),G=2*(D=F.length),L=2*Math.pow(Math.log(D)/Math.LN2,2),y=Math.log(L/2)/Math.LN2,j=2*D-L,u=[],K=[],g=[],E=he=0,ne=F.length;he<ne;E=++he){if(P=F[E],h=p[E],P===65535){u.push(0),K.push(0);break}if(P-(V=r[P].new)>=32768)for(u.push(0),K.push(2*(g.length+D-E)),i=me=P;P<=h?me<=h:me>=h;i=P<=h?++me:--me)g.push(r[i].new);else u.push(V-P),K.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*D+2*g.length),ee.writeUInt16(0),ee.writeUInt16(G),ee.writeUInt16(L),ee.writeUInt16(y),ee.writeUInt16(j),ye=0,M=p.length;ye<M;ye++)i=p[ye],ee.writeUInt16(i);for(ee.writeUInt16(0),Pe=0,X=F.length;Pe<X;Pe++)i=F[Pe],ee.writeUInt16(i);for(Ce=0,Z=u.length;Ce<Z;Ce++)l=u[Ce],ee.writeUInt16(l);for(Ve=0,fe=K.length;Ve<fe;Ve++)B=K[Ve],ee.writeUInt16(B);for(Se=0,pe=g.length;Se<pe;Se++)A=g[Se],ee.writeUInt16(A);return{charMap:r,subtable:ee.data,maxGlyphID:k+1}}},t})(),k$=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new cM(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=cM.encode(e,n),(i=new Fh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),dwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),pwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),mwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,l,u;for(u=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)u.push(e.readUInt32());return u}).call(this)}},t})(),gwe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},vwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,s,l,u,f,h,p,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},a=h=0,p=r.length;h<p;a=++h)i=r[a],e.pos=i.offset,f=e.readString(i.length),s=new gwe(f,i),u[y=i.nameID]==null&&(u[y]=[]),u[i.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),ywe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),bwe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,s,l,u;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)h.push(e.readInt16());return h})(),this.widths=(function(){var f,h,p,y;for(y=[],f=0,h=(p=this.metrics).length;f<h;f++)a=p[f],y.push(a.advance);return y}).call(this),r=this.widths[this.widths.length-1],u=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),L$=[].slice,_we=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,s,l,u,f,h,p;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(l=new Fh(n.read(i))).readShort(),f=l.readShort(),p=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[e]=s===-1?new wwe(l,f,p,u,h):new xwe(l,s,f,p,u,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,s,l,u;for(s=[],a=[],l=0,u=n.length;l<u;l++)i=e[n[l]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},t})(),xwe=(function(){function t(e,n,r,i,a,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),wwe=(function(){function t(e,n,r,i,a){var s,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Fh(L$.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Ewe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gu(t,gc),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(i+=u)}for(var f=new Array(4*r.length),h=0;h<r.length;++h)f[4*h+3]=255&r[h],f[4*h+2]=(65280&r[h])>>8,f[4*h+1]=(16711680&r[h])>>16,f[4*h]=(4278190080&r[h])>>24;return f},t})(),Awe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,s,l,u;for(i={},s=0,l=e.length;s<l;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))r=u[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,s,l,u,f,h,p,y,g,E,A,S,I;for(i in r=k$.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},I=r.charMap)g[(u=I[i]).old]=u.new;for(E in y=r.maxGlyphID,s)E in g||(g[E]=y++);return h=(function(q){var k,B;for(k in B={},q)B[q[k]]=k;return B})(g),p=Object.keys(h).sort(function(q,k){return q-k}),A=(function(){var q,k,B;for(B=[],q=0,k=p.length;q<k;q++)l=p[q],B.push(h[l]);return B})(),a=this.font.glyf.encode(s,A,g),f=this.font.loca.encode(a.offsets,A),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t})();qt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var l,u,f;for(f=[],l=0,u=n.length;l<u;l++)r=n[l],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e})();function j$(t,e,n,r,i){r=r||{};var a=1.15,s=i.internal.scaleFactor,l=i.internal.getFontSize()/s,u=i.getLineHeightFactor?i.getLineHeightFactor():a,f=l*u,h=/\r\n|\r|\n/g,p="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof t=="string"?t.split(h):t,y=p.length||1),n+=l*(2-a),r.valign==="middle"?n-=y/2*f:r.valign==="bottom"&&(n-=y*f),r.halign==="center"||r.halign==="right"){var g=l;if(r.halign==="center"&&(g*=.5),p&&y>=1){for(var E=0;E<p.length;E++)i.text(p[E],e-i.getStringUnitWidth(p[E])*g,n),n+=f;return i}e-=i.getStringUnitWidth(t)*g}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var uM={},Vm=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:uM=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,u=s.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),l=f[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var h=t.unifyColor(e.fillColor);h&&(r=this.jsPDFDocument).setFillColor.apply(r,h),h=t.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=t.unifyColor(e.lineColor),h&&(a=this.jsPDFDocument).setDrawColor.apply(a,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return uM||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),UT=function(t,e){return UT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},UT(t,e)};function M$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");UT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var F$=(function(t){M$(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e})(Array);function Swe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Twe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function b_(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function U$(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=B$(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function B$(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Zx(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function V$(t,e){var n=Zx(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Nwe(t,e,n,r,i){var a={},s=1.3333333333333333,l=UA(e,function(k){return i.getComputedStyle(k).backgroundColor});l!=null&&(a.fillColor=l);var u=UA(e,function(k){return i.getComputedStyle(k).color});u!=null&&(a.textColor=u);var f=Cwe(r,n);f&&(a.cellPadding=f);var h="borderTopColor",p=s*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var g=(parseFloat(y)||0)/p;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?h="borderRightColor":a.lineWidth.bottom?h="borderBottomColor":a.lineWidth.left&&(h="borderLeftColor"));var E=UA(e,function(k){return i.getComputedStyle(k)[h]});E!=null&&(a.lineColor=E);var A=["left","right","center","justify"];A.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),A=["middle","bottom","top"],A.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var S=parseInt(r.fontSize||"");isNaN(S)||(a.fontSize=S/s);var I=Iwe(r);I&&(a.fontStyle=I);var q=(r.fontFamily||"").toLowerCase();return t.indexOf(q)!==-1&&(a.font=q),a}function Iwe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function UA(t,e){var n=z$(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function z$(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:z$(t.parentElement,e):n}function Cwe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(l){return parseInt(l||"0")/r}),s=Zx(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function q$(t,e,n,r,i){var a,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var u=Object.keys(t.getFontList()),f=t.scaleFactor(),h=[],p=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:y};for(var g=0;g<l.rows.length;g++){var E=l.rows[g],A=(s=(a=E==null?void 0:E.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),S=Pwe(u,f,n,E,r,i);S&&(A==="thead"?h.push(S):A==="tfoot"?y.push(S):p.push(S))}return{head:h,body:p,foot:y}}function Pwe(t,e,n,r,i,a){for(var s=new F$(r),l=0;l<r.cells.length;l++){var u=r.cells[l],f=n.getComputedStyle(u);if(i||f.display!=="none"){var h=void 0;a&&(h=Nwe(t,u,e,f,n)),s.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:Owe(u)})}}var p=n.getComputedStyle(r);if(s.length>0&&(i||p.display!=="none"))return s}function Owe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Rwe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Zu(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])}return a}function H$(t,e){var n=new Vm(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Rwe(i,r,e);var a=Zu({},i,r,e),s;typeof window<"u"&&(s=window);var l=Dwe(i,r,e),u=kwe(i,r,e),f=Lwe(n,a),h=Mwe(n,a,s);return{id:e.tableId,content:h,hooks:u,styles:l,settings:f}}function Dwe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=t[u],h=e[u],p=n[u];r.columnStyles=Zu({},f,h,p)}else{var y=[t,e,n],g=y.map(function(E){return E[u]||{}});r[u]=Zu({},g[0],g[1],g[2])}},a=0,s=Object.keys(r);a<s.length;a++){var l=s[a];i(l)}return r}function kwe(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=r;a<s.length;a++){var l=s[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Lwe(t,e){var n,r,i,a,s,l,u,f,h,p,y,g,E=Zx(e.margin,40/t.scaleFactor()),A=(n=jwe(t,e.startY))!==null&&n!==void 0?n:E.top,S;e.showFoot===!0?S="everyPage":e.showFoot===!1?S="never":S=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var I;e.showHead===!0?I="everyPage":e.showHead===!1?I="never":I=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var q=(a=e.useCss)!==null&&a!==void 0?a:!1,k=e.theme||(q?"plain":"striped"),B=!!e.horizontalPageBreak,$=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:q,theme:k,startY:A,margin:E,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:I,showFoot:S,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:B,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function jwe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Mwe(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var l=q$(t,e.html,n,s,e.useCss)||{};r=l.head||r,i=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||Fwe(r,i,a);return{columns:u,head:r,body:i,foot:a}}function Fwe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,l;Array.isArray(r)?l=r[parseInt(a)]:l=r[a],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var u=0;u<s;u++){var f=void 0;Array.isArray(r)?f=i.length:f=a+(u>0?"_".concat(u):"");var h={dataKey:f};i.push(h)}}),i}var BT=(function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t})(),Uwe=(function(t){M$(e,t);function e(n,r,i,a,s,l){var u=t.call(this,n,r,l)||this;return u.cell=i,u.row=a,u.column=s,u.section=a.section,u}return e})(BT),Bwe=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,s){for(var l=0,u=n;l<u.length;l++){var f=u[l],h=new Uwe(e,this,r,i,a,s),p=f(h)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new BT(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new BT(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t})(),$$=(function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof F$&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var s=r.cells[a.index];if(!s)return 0;var l=n.getLineHeight(s.styles.fontSize),u=s.padding("vertical"),f=u+l;return f>i?f:i},0)},t})(),G$=(function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Zx(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),Vwe=(function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t})();function zwe(t,e){qwe(t,e);var n=[],r=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=VT(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=VT(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),$we(e),Gwe(e,t),Hwe(e)}function qwe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=V$(t,e);e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var u=l[s],f=a.cells[u.index];if(f){var h=e.hooks.didParseCell;e.callCellHooks(t,h,f,a,u,null);var p=f.padding("horizontal");f.contentWidth=b_(f.text,f.styles,t)+p;var y=b_(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=y+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var g=10/n;f.minWidth=f.styles.minCellWidth||g,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,l=e.columns;s<l.length;s++){var u=l[s],f=a.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var h=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function VT(t,e,n){for(var r=e,i=t.reduce(function(g,E){return g+E.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],l=s.wrappedWidth/i,u=r*l,f=s.width+u,h=n(s),p=f<h?h:f;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(g){return e<0?g.width>n(g):!0});y.length&&(e=VT(y,e,n))}return e}function Hwe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],s=0,l=t.columns;s<l.length;s++){var u=l[s],f=e[u.index];if(n>1)n--,delete a.cells[u.index];else if(f)f.cell.height+=a.height,n=f.cell.colSpan,delete a.cells[u.index],f.left--,f.left<=1&&delete e[u.index];else{var h=a.cells[u.index];if(!h)continue;if(h.height=a.height,h.rowSpan>1){var p=r.length-i,y=h.rowSpan>p?p:h.rowSpan;e[u.index]={cell:h,left:y,row:a}}}}}function $we(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,s=0,l=0;l<t.columns.length;l++){var u=t.columns[l];if(s-=1,s>1&&t.columns[l+1])a+=u.width,delete r.cells[u.index];else if(i){var f=i;delete r.cells[u.index],i=null,f.width=u.width+a}else{var f=r.cells[u.index];if(!f)continue;if(s=f.colSpan,a=0,f.colSpan>1){i=f,a+=u.width;continue}f.width=u.width+a}}}function Gwe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],s=0,l=t.columns;s<l.length;s++){var u=l[s],f=a.cells[u.index];if(f){e.applyStyles(f.styles,!0);var h=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,h+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=fM(f.text,h,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=fM(f.text,h,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,h);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<y*f.rowSpan?n={height:y,count:f.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>a.height&&(a.height=y)}}n.count--}}function fM(t,e,n,r,i){return t.map(function(a){return Ywe(a,e,n,r,i)})}function Ywe(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=b_(t,n,r))return t;for(;e<b_(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Y$(t,e){var n=new Vm(t),r=Wwe(e,n.scaleFactor()),i=new Bwe(e,r);return zwe(n,i),n.applyStyles(n.userStyles),i}function Wwe(t,e){var n=t.content,r=Xwe(n.columns);if(n.head.length===0){var i=hM(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=hM(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:r,head:BA("head",n.head,r,s,a,e),body:BA("body",n.body,r,s,a,e),foot:BA("foot",n.foot,r,s,a,e)}}function BA(t,e,n,r,i,a){var s={},l=e.map(function(u,f){for(var h=0,p={},y=0,g=0,E=0,A=n;E<A.length;E++){var S=A[E];if(s[S.index]==null||s[S.index].left===0)if(g===0){var I=void 0;Array.isArray(u)?I=u[S.index-y-h]:I=u[S.dataKey];var q={};typeof I=="object"&&!Array.isArray(I)&&(q=(I==null?void 0:I.styles)||{});var k=Qwe(t,S,f,i,r,a,q),B=new G$(I,k,t);p[S.dataKey]=B,p[S.index]=B,g=B.colSpan-1,s[S.index]={left:B.rowSpan-1,times:g}}else g--,y++;else s[S.index].left--,g=s[S.index].times,h++}return new $$(u,f,t,p)});return l}function hM(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Kwe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Kwe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Xwe(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Vwe(i,e,n)})}function Qwe(t,e,n,r,i,a,s){var l=Twe(r),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var f=Zu({},l.table,l[t],i.styles,u),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?h:{},y=t==="body"&&n%2===0?Zu({},l.alternateRow,i.alternateRowStyles):{},g=Swe(a),E=Zu({},g,f,y,p);return Zu(E,s)}function Jwe(t,e,n){var r;n===void 0&&(n={});var i=V$(t,e),a=new Map,s=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var g=e.columns.find(function(E){return E.dataKey===y||E.index===y});g&&!a.has(g.index)&&(a.set(g.index,!0),s.push(g.index),l.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var f=!0,h=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;h<e.columns.length;){if(a.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(f||i>=p)f=!1,s.push(h),l.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:s,columns:l,lastIndex:h-1}}function Zwe(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=Jwe(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function W$(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+s;if(n.pageBreak==="avoid"){var u=e.body,f=u.reduce(function(y,g){return y+g.height},0);l+=f}var h=new Vm(t);(n.pageBreak==="always"||n.startY!=null&&l>h.pageSize().height)&&(X$(h),a.y=i.top),e.callWillDrawPageHooks(h,a);var p=Zu({},a);e.startPageNumber=h.pageNumber(),n.horizontalPageBreak?e5e(h,e,p,a):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(y){return mf(h,e,y,a,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(y,g){var E=g===e.body.length-1;__(h,e,y,E,p,a,e.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(y){return mf(h,e,y,a,e.columns)})),U$(h,e,p,a),e.callEndPageHooks(h,a),e.finalY=a.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function e5e(t,e,n,r){var i=Zwe(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,h){t.applyStyles(t.userStyles),h>0?_y(t,e,n,r,f.columns,!0):dM(t,e,r,f.columns),t5e(t,e,n,r,f.columns),VA(t,e,r,f.columns)});else for(var s=-1,l=i[0],u=function(){var f=s;if(l){t.applyStyles(t.userStyles);var h=l.columns;s>=0?_y(t,e,n,r,h,!0):dM(t,e,r,h),f=pM(t,e,s+1,r,h),VA(t,e,r,h)}var p=f-s;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),_y(t,e,n,r,y.columns,!0),pM(t,e,s+1,r,y.columns,p),VA(t,e,r,y.columns)}),s=f};s<e.body.length-1;)u()}function dM(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return mf(t,e,a,n,r)})}function t5e(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var l=s===e.body.length-1;__(t,e,a,l,n,r,i)})}function pM(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(n+a,e.body.length),l=-1;return e.body.slice(n,s).forEach(function(u,f){var h=n+f===e.body.length-1,p=K$(t,e,h,r);u.canEntireRowFit(p,i)&&(mf(t,e,u,r,i),l=n+f)}),l}function VA(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return mf(t,e,a,n,r)})}function n5e(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function r5e(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,l=n.columns;s<l.length;s++){var u=l[s],f=t.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var h=new G$(f.raw,f.styles,f.section);h=Zu(h,f),h.text=[];var p=n5e(f,e,r);f.text.length>p&&(h.text=f.text.splice(p,f.text.length));var y=r.scaleFactor(),g=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(y,g),f.contentHeight>=e&&(f.contentHeight=e,h.styles.minCellHeight-=e),f.contentHeight>t.height&&(t.height=f.contentHeight),h.contentHeight=h.getContentHeight(y,g),h.contentHeight>a&&(a=h.contentHeight),i[u.index]=h}}var E=new $$(t.raw,-1,t.section,i,!0);E.height=a;for(var A=0,S=n.columns;A<S.length;A++){var u=S[A],h=E.cells[u.index];h&&(h.height=E.height);var f=t.cells[u.index];f&&(f.height=t.height)}return E}function i5e(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,s=a.top+a.bottom,l=i-s;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,t),f=u<n;if(u>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var h=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>l;return p?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||r.settings.rowPageBreak==="avoid")}function __(t,e,n,r,i,a,s){var l=K$(t,e,r,a);if(n.canEntireRowFit(l,s))mf(t,e,n,a,s);else if(i5e(t,n,l,e)){var u=r5e(n,l,e,t);mf(t,e,n,a,s),_y(t,e,i,a,s),__(t,e,u,r,i,a,s)}else _y(t,e,i,a,s),__(t,e,n,r,i,a,s)}function mf(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],u=n.cells[l.index];if(!u){r.x+=l.width;continue}t.applyStyles(u.styles),u.x=r.x,u.y=r.y;var f=e.callCellHooks(t,e.hooks.willDrawCell,u,n,l,r);if(f===!1){r.x+=l.width;continue}a5e(t,u,r);var h=u.getTextPos();j$(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,u,n,l,r),r.x+=l.width}r.y+=n.height}function a5e(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=B$(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),s5e(t,e,n,r.lineWidth))}function s5e(t,e,n,r){var i,a,s,l;r.top&&(i=n.x,a=n.y,s=n.x+e.width,l=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,a,s,l)),r.bottom&&(i=n.x,a=n.y+e.height,s=n.x+e.width,l=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,a,s,l)),r.left&&(i=n.x,a=n.y,s=n.x,l=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.left,i,a,s,l)),r.right&&(i=n.x+e.width,a=n.y,s=n.x+e.width,l=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.right,i,a,s,l));function u(f,h,p,y,g){t.getDocument().setLineWidth(f),t.getDocument().line(h,p,y,g,"S")}}function K$(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function _y(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return mf(t,e,l,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;U$(t,e,n,r),X$(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return mf(t,e,l,r,i)}),t.applyStyles(t.userStyles))}function X$(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function o5e(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=H$(this,r),a=Y$(this,i);return W$(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){j$(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Vm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Vm.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Vm(this),a=q$(i,e,window,n,!1),s=a.head,l=a.body,u=((r=s[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:u,rows:l,data:l}}}var zA;function u0(t,e){var n=H$(t,e),r=Y$(t,n);W$(t,r)}try{if(typeof window<"u"&&window){var mM=window,gM=mM.jsPDF||((zA=mM.jspdf)===null||zA===void 0?void 0:zA.jsPDF);gM&&o5e(gM)}}catch(t){console.error("Could not apply autoTable plugin",t)}const f0=t=>!t.data||t.data.length===0?null:t.data[t.data.length-1].timestamp/1e3,x_=t=>!t.data||t.data.length===0?0:Math.max(...t.data.map(e=>e.speed)),Q$=t=>{const e=[];return[10,20,30,40,50,60].forEach(r=>{const i=t.findIndex(a=>a.distance>=r);if(i!==-1)if(i===0)e.push({distance:r,time:t[i].timestamp/1e3,speed:t[i].speed});else{const a=t[i-1],s=t[i],l=(r-a.distance)/(s.distance-a.distance),u=a.timestamp+l*(s.timestamp-a.timestamp),f=a.speed+l*(s.speed-a.speed);e.push({distance:r,time:u/1e3,speed:f})}}),e},J$=(t,e=800,n=500)=>{const r=document.createElement("canvas");r.width=e,r.height=n;const i=r.getContext("2d");i.fillStyle="#FFFFFF",i.fillRect(0,0,e,n);const a=Math.max(...t.map(E=>E.distance)),s=Math.max(...t.map(E=>E.speed)),l=Math.ceil(s*1.1),u=80,f=e-2*u,h=n-2*u;i.strokeStyle="#E9E9E7",i.lineWidth=2;for(let E=0;E<=10;E++){const A=u+h/10*E;i.beginPath(),i.moveTo(u,A),i.lineTo(e-u,A),i.stroke()}for(let E=0;E<=10;E++){const A=u+f/10*E;i.beginPath(),i.moveTo(A,u),i.lineTo(A,n-u),i.stroke()}i.strokeStyle="#37352F",i.lineWidth=3,i.beginPath(),i.moveTo(u,u),i.lineTo(u,n-u),i.lineTo(e-u,n-u),i.stroke(),i.strokeStyle="#3B82F6",i.lineWidth=4,i.lineCap="round",i.lineJoin="round",i.beginPath(),t.forEach((E,A)=>{const S=u+E.distance/a*f,I=n-u-E.speed/l*h;A===0?i.moveTo(S,I):i.lineTo(S,I)}),i.stroke(),i.fillStyle="rgba(59, 130, 246, 0.15)",i.beginPath(),i.moveTo(u,n-u),t.forEach(E=>{const A=u+E.distance/a*f,S=n-u-E.speed/l*h;i.lineTo(A,S)}),i.lineTo(u+f,n-u),i.closePath(),i.fill(),i.fillStyle="#1E40AF",t.forEach(E=>{const A=u+E.distance/a*f,S=n-u-E.speed/l*h;i.beginPath(),i.arc(A,S,3,0,Math.PI*2),i.fill()}),i.fillStyle="#37352F",i.font="bold 18px Arial",i.textAlign="center",i.fillText("Velocity Profile",e/2,30),i.font="bold 16px Arial",i.fillText("Distance (meters)",e/2,n-15),i.save(),i.translate(20,n/2),i.rotate(-Math.PI/2),i.fillText("Speed (m/s)",0,0),i.restore(),i.font="14px Arial",i.fillStyle="#37352F",i.textAlign="right",i.textBaseline="middle";for(let E=0;E<=10;E++){const A=l/10*(10-E),S=u+h/10*E;i.fillText(A.toFixed(1),u-15,S)}i.textAlign="center",i.textBaseline="top";for(let E=0;E<=10;E++){const A=a/10*E,S=u+f/10*E;i.fillText(A.toFixed(0),S,n-u+10)}const p=t.reduce((E,A)=>A.speed>E.speed?A:E,t[0]),y=u+p.distance/a*f,g=n-u-p.speed/l*h;return i.strokeStyle="#EF4444",i.lineWidth=2,i.setLineDash([5,5]),i.beginPath(),i.moveTo(y,g),i.lineTo(y,n-u),i.stroke(),i.setLineDash([]),i.fillStyle="#EF4444",i.font="bold 14px Arial",i.textAlign="center",i.fillText(`Max: ${p.speed.toFixed(2)} m/s`,y,g-15),r.toDataURL("image/png")},u4=(t,e)=>{t.setFillColor(55,53,47),t.rect(0,0,t.internal.pageSize.width,35,"F"),t.setTextColor(255,255,255),t.setFontSize(20),t.setFont("helvetica","bold"),t.text("LaserSpeed Pro",14,15),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(e,14,25),t.setFontSize(9),t.text(`Generated: ${new Date().toLocaleDateString()}`,t.internal.pageSize.width-14,15,{align:"right"}),t.setTextColor(0,0,0)},gh=(t,e)=>{const n=t.internal.pageSize.height;t.setFontSize(8),t.setTextColor(155,154,151),t.text(`Page ${e}  LaserSpeed Pro Report`,t.internal.pageSize.width/2,n-10,{align:"center"})},l5e=(t,e,n)=>{const r=new qt;let i=45,a=1;u4(r,"Detailed Training Session Report"),r.setFontSize(16),r.setFont("helvetica","bold"),r.text(t.name,14,i),i+=8,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(120,119,116),r.text(`Date: ${new Date(t.date).toLocaleDateString()} ${new Date(t.date).toLocaleTimeString()}`,14,i),i+=5,r.text(`Total Runs: ${t.runs.length}`,14,i),i+=5,r.text(`Athletes: ${t.athleteIds.length}`,14,i),i+=10,r.setTextColor(0,0,0),t.runs.forEach((u,f)=>{var A;const h=e.find(S=>S.id===u.athleteId),p=f0(u),y=x_(u),g=((A=Ps[u.config.type])==null?void 0:A.label)||u.config.type,E=Q$(u.data);if(i>220&&(gh(r,a),r.addPage(),a++,i=20),r.setFillColor(247,247,245),r.rect(14,i-5,r.internal.pageSize.width-28,8,"F"),r.setFontSize(11),r.setFont("helvetica","bold"),r.text(`Run #${t.runs.length-f}: ${(h==null?void 0:h.name)||"Unknown"} - ${g}`,16,i),i+=10,r.setFontSize(9),r.setFont("helvetica","normal"),r.text(`Time: ${p?p.toFixed(3)+"s":"N/A"}`,16,i),r.text(`Max Speed: ${y.toFixed(2)} m/s`,70,i),r.text(`Date: ${new Date(u.date).toLocaleTimeString()}`,130,i),i+=5,u.notes&&(r.setTextColor(120,119,116),r.text(`Notes: ${u.notes}`,16,i),r.setTextColor(0,0,0),i+=5),i+=3,E.length>0){const S=E.map(I=>[`${I.distance}m`,`${I.time.toFixed(3)}s`,`${I.speed.toFixed(2)} m/s`]);u0(r,{startY:i,head:[["Distance","Time","Speed at Split"]],body:S,theme:"plain",headStyles:{fillColor:[233,233,231],textColor:[55,53,47],fontStyle:"bold",fontSize:8},bodyStyles:{fontSize:8,textColor:[55,53,47]},margin:{left:16,right:16},tableWidth:80}),i=r.lastAutoTable.finalY+5}if(u.data.length>0){i>180&&(gh(r,a),r.addPage(),a++,i=20);try{const S=J$(u.data);r.addImage(S,"PNG",10,i,190,120),i+=125}catch(S){console.error("Failed to generate graph:",S)}}i+=5}),i>200&&(gh(r,a),r.addPage(),a++,i=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Session Summary",14,i),i+=10;const s=new Map;if(t.runs.forEach(u=>{var g;const f=e.find(E=>E.id===u.athleteId),h=f0(u);if(!f||!h)return;const p=`${u.athleteId}_${u.config.type}`,y=s.get(p);(!y||h<y.time)&&s.set(p,{athlete:f.name,testType:((g=Ps[u.config.type])==null?void 0:g.label)||u.config.type,time:h})}),s.size>0){const u=Array.from(s.values()).map(f=>[f.athlete,f.testType,`${f.time.toFixed(3)}s`]);u0(r,{startY:i,head:[["Athlete","Test Type","Best Time"]],body:u,theme:"striped",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[240,253,244]},margin:{left:14,right:14}})}const l=r.internal.getNumberOfPages();for(let u=1;u<=l;u++)r.setPage(u),gh(r,u);r.save(`${t.name.replace(/\s/g,"_")}_Detailed_Report.pdf`)},c5e=(t,e,n)=>{const r=new qt;let i=45,a=1;if(u4(r,"Comprehensive Athlete Report"),r.setFontSize(18),r.setFont("helvetica","bold"),r.text(t.name,14,i),i+=10,r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(120,119,116),t.email&&(r.text(`Email: ${t.email}`,14,i),i+=5),t.gender&&(r.text(`Gender: ${t.gender}`,14,i),i+=5),t.primaryEvent&&(r.text(`Primary Event: ${t.primaryEvent}`,14,i),i+=5),t.dob){const f=new Date().getFullYear()-new Date(t.dob).getFullYear();r.text(`Age: ${f} years`,14,i),i+=5}i+=8,r.setTextColor(0,0,0);const s=e.flatMap(f=>f.runs.map(h=>({...h,sessionDate:f.date,sessionName:f.name}))).filter(f=>f.athleteId===t.id).sort((f,h)=>new Date(h.sessionDate).getTime()-new Date(f.sessionDate).getTime());r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Career Statistics",14,i),i+=8,r.setFontSize(10),r.setFont("helvetica","normal"),r.text(`Total Runs: ${s.length}`,14,i),i+=5,r.text(`Sessions: ${new Set(s.map(f=>f.sessionDate)).size}`,14,i),i+=5,r.text(`Test Types: ${new Set(s.map(f=>f.config.type)).size}`,14,i),i+=10,r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Personal Bests",14,i),i+=8;const l=new Map;if(s.forEach(f=>{var g;const h=f0(f),p=x_(f);if(!h)return;const y=l.get(f.config.type);(!y||h<y.time)&&l.set(f.config.type,{testType:((g=Ps[f.config.type])==null?void 0:g.label)||f.config.type,time:h,date:f.sessionDate,maxSpeed:p})}),l.size>0){const f=Array.from(l.values()).map(h=>[h.testType,`${h.time.toFixed(3)}s`,`${h.maxSpeed.toFixed(2)} m/s`,new Date(h.date).toLocaleDateString()]);u0(r,{startY:i,head:[["Test Type","Best Time","Max Speed","Date"]],body:f,theme:"striped",headStyles:{fillColor:[55,53,47],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[247,247,245]},margin:{left:14,right:14}}),i=r.lastAutoTable.finalY+10}s.length>0&&(i>200&&(gh(r,a),r.addPage(),a++,i=20),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Recent Runs (Detailed)",14,i),i+=10,s.slice(0,5).forEach((h,p)=>{var S;i>200&&(gh(r,a),r.addPage(),a++,i=20);const y=f0(h),g=x_(h),E=((S=Ps[h.config.type])==null?void 0:S.label)||h.config.type,A=Q$(h.data);if(r.setFillColor(247,247,245),r.rect(14,i-5,r.internal.pageSize.width-28,8,"F"),r.setFontSize(11),r.setFont("helvetica","bold"),r.text(`${E} - ${new Date(h.sessionDate).toLocaleDateString()}`,16,i),i+=10,r.setFontSize(9),r.setFont("helvetica","normal"),r.text(`Time: ${y?y.toFixed(3)+"s":"N/A"}  |  Max Speed: ${g.toFixed(2)} m/s`,16,i),i+=5,h.notes&&(r.setTextColor(120,119,116),r.text(`Notes: ${h.notes}`,16,i),r.setTextColor(0,0,0),i+=5),i+=3,A.length>0&&i<230){const I=A.map(q=>[`${q.distance}m`,`${q.time.toFixed(3)}s`,`${q.speed.toFixed(2)} m/s`]);u0(r,{startY:i,head:[["Distance","Time","Speed"]],body:I,theme:"plain",headStyles:{fillColor:[233,233,231],textColor:[55,53,47],fontStyle:"bold",fontSize:8},bodyStyles:{fontSize:8},margin:{left:16},tableWidth:70}),i=r.lastAutoTable.finalY+5}if(h.data.length>0&&i<160)try{const I=J$(h.data);r.addImage(I,"PNG",10,i,190,120),i+=125}catch(I){console.error("Failed to generate graph:",I)}i+=10}));const u=r.internal.getNumberOfPages();for(let f=1;f<=u;f++)r.setPage(f),gh(r,f);r.save(`${t.name.replace(/\s/g,"_")}_Comprehensive_Report.pdf`)},u5e=(t,e,n,r)=>{const i=new qt;let a=45;u4(i,"Athletes Comparison Report"),i.setFontSize(14),i.setFont("helvetica","bold"),i.text(`${r} Comparison`,14,a),a+=8,i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(120,119,116),i.text(`Comparing ${t.length} Athletes`,14,a),a+=10,i.setTextColor(0,0,0);const s=t.map(l=>{const u=e.flatMap(E=>E.runs).filter(E=>E.athleteId===l.id&&E.config.type===n),f=u.map(E=>f0(E)).filter(E=>E!==null),h=u.map(E=>x_(E)),p=f.length>0?Math.min(...f):null,y=f.length>0?f.reduce((E,A)=>E+A,0)/f.length:null,g=h.length>0?Math.max(...h):0;return[l.name,l.gender||"-",u.length.toString(),p?`${p.toFixed(3)}s`:"N/A",y?`${y.toFixed(3)}s`:"N/A",`${g.toFixed(2)} m/s`]});s.sort((l,u)=>{const f=l[3]==="N/A"?1/0:parseFloat(l[3]),h=u[3]==="N/A"?1/0:parseFloat(u[3]);return f-h}),u0(i,{startY:a,head:[["Athlete","Gender","Runs","Best Time","Avg Time","Max Speed"]],body:s,theme:"striped",headStyles:{fillColor:[55,53,47],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},alternateRowStyles:{fillColor:[247,247,245]},margin:{left:14,right:14}}),gh(i,1),i.save(`${r.replace(/\s/g,"_")}_Comparison_Report.pdf`)},f5e=({athlete:t,allSessions:e,settings:n,onBack:r,onEdit:i,onDelete:a,onSelectRun:s})=>{const[l,u]=O.useState(!1),f=e.flatMap(k=>k.runs.filter(B=>B.athleteId===t.id).map(B=>({...B,sessionDate:k.date,sessionName:k.name}))).sort((k,B)=>new Date(B.sessionDate).getTime()-new Date(k.sessionDate).getTime()),h=f.length,p=new Set(f.map(k=>k.config.type)).size,y=f.length>0?Math.max(...f.flatMap(k=>k.data.map(B=>B.speed))):0,g=async()=>{await a(t.id),r()},E=k=>{const B=new Date(k);switch(n.dateFormat){case"MM.DD.YYYY":return B.toLocaleDateString("en-US");case"DD.MM.YYYY":return B.toLocaleDateString("en-GB");case"YYYY-MM-DD":return B.toISOString().split("T")[0];default:return B.toLocaleDateString()}},A=k=>{switch(n.speedUnit){case"kph":return(k*3.6).toFixed(2);case"mph":return(k*2.237).toFixed(2);default:return k.toFixed(2)}},S=()=>{switch(n.speedUnit){case"kph":return"km/h";case"mph":return"mph";default:return"m/s"}},I=k=>{switch(k){case ct.FREE_RUN:return"Free Run";case ct.ACCELERATION:return"Acceleration";case ct.FLY:return"Fly";case ct.POLE_VAULT:return"Pole Vault";case ct.LONG_JUMP:return"Long Jump";default:return k}},q=()=>{if(!t.dob)return null;const k=new Date,B=new Date(t.dob);let $=k.getFullYear()-B.getFullYear();const K=k.getMonth()-B.getMonth();return(K<0||K===0&&k.getDate()<B.getDate())&&$--,$};return v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-[#787774] hover:text-[#37352F] mb-4 transition-colors",children:[v.jsx($y,{size:20}),"Back to Athletes"]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-8 shadow-sm",children:[v.jsxs("div",{className:"flex items-start justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("div",{className:"w-20 h-20 rounded-full bg-[#F7F7F5] text-[#37352F] font-serif font-bold text-3xl flex items-center justify-center border-2 border-[#E9E9E7]",children:t.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:t.name}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-[#787774]",children:[t.primaryEvent&&v.jsx("span",{className:"px-3 py-1 bg-[#F7F7F5] rounded-full font-medium",children:t.primaryEvent}),t.gender&&v.jsx("span",{children:t.gender}),q()&&v.jsxs("span",{children:[q()," years old"]})]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>c5e(t,e),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded font-medium hover:bg-blue-700 shadow-sm text-sm",children:[v.jsx(II,{size:16})," Download Report"]}),v.jsx("button",{onClick:()=>i(t),className:"p-2 text-[#787774] hover:text-[#37352F] hover:bg-[#F7F7F5] rounded transition-colors",children:v.jsx(ox,{size:18})}),v.jsx("button",{onClick:()=>u(!0),className:"p-2 text-[#787774] hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:v.jsx(np,{size:18})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:[v.jsx(as,{size:14}),"Total Runs"]}),v.jsx("div",{className:"text-2xl font-bold text-[#37352F]",children:h})]}),v.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:[v.jsx(Dg,{size:14}),"Test Types"]}),v.jsx("div",{className:"text-2xl font-bold text-[#37352F]",children:p})]}),v.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:[v.jsx(Yy,{size:14}),"Max Speed"]}),v.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[y>0?A(y):"--",v.jsx("span",{className:"text-sm text-[#9B9A97] ml-1",children:S()})]})]}),t.pb100m&&v.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg p-4",children:[v.jsx("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-bold uppercase mb-1",children:"100m PB"}),v.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[t.pb100m.toFixed(2),v.jsx("span",{className:"text-sm text-[#9B9A97] ml-1",children:"s"})]})]})]}),t.email&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-[#E9E9E7]",children:[v.jsx("span",{className:"text-xs text-[#9B9A97] uppercase font-bold",children:"Email: "}),v.jsx("span",{className:"text-sm text-[#787774]",children:t.email})]})]})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-serif font-bold text-[#37352F] mb-4",children:"Test History"}),f.length===0?v.jsxs("div",{className:"bg-[#F7F7F5] rounded-lg border border-dashed border-[#E9E9E7] p-12 text-center",children:[v.jsx(as,{className:"mx-auto mb-4 text-[#9B9A97]",size:48}),v.jsx("p",{className:"text-[#9B9A97]",children:"No test data recorded yet."})]}):v.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl overflow-hidden shadow-sm",children:v.jsx("div",{className:"divide-y divide-[#E9E9E7]",children:f.map(k=>{const B=Math.max(...k.data.map($=>$.speed));return v.jsx("div",{onClick:()=>s(k),className:"p-4 hover:bg-[#F7F7F5] cursor-pointer transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("span",{className:"px-2 py-1 bg-[#37352F] text-white text-xs font-medium rounded",children:I(k.config.type)}),v.jsx("span",{className:"text-sm font-medium text-[#37352F]",children:k.sessionName})]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-[#9B9A97]",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ep,{size:12}),E(k.sessionDate)]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Yy,{size:12}),"Max: ",A(B)," ",S()]})]})]}),v.jsx($y,{size:18,className:"text-[#E9E9E7] rotate-180"})]})},k.id)})})})]}),l&&v.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7] p-6",children:[v.jsx("h3",{className:"text-xl font-serif font-bold text-[#37352F] mb-2",children:"Delete Athlete?"}),v.jsxs("p",{className:"text-sm text-[#787774] mb-6",children:["Are you sure you want to delete ",v.jsx("strong",{children:t.name}),"? This action cannot be undone. Test data will remain in sessions but won't be linked to this athlete."]}),v.jsxs("div",{className:"flex justify-end gap-3",children:[v.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded text-[#787774] text-sm font-medium hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:g,className:"bg-red-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-red-700 transition-colors flex items-center gap-2",children:[v.jsx(np,{size:16}),"Delete"]})]})]})})]})},h5e=({onStartTest:t})=>{const[e,n]=O.useState([]),[r,i]=O.useState([]),[a,s]=O.useState([]),[l,u]=O.useState([]),[f,h]=O.useState(!1),{user:p}=k0(),[y,g]=O.useState(!1),[E,A]=O.useState(new Set),[S,I]=O.useState({FORTY_YARD_DASH:"one-per-athlete",ACCELERATION_30M:"one-per-athlete",FLY_30M:"one-per-athlete",SIXTY_METER_RUN:"one-per-athlete"});O.useEffect(()=>{const ee=Kc.subscribeToLeaderboard("FORTY_YARD_DASH",n),ge=Kc.subscribeToLeaderboard("ACCELERATION_30M",i),se=Kc.subscribeToLeaderboard("FLY_30M",s),he=Kc.subscribeToLeaderboard("SIXTY_METER_RUN",u);return()=>{ee(),ge(),se(),he()}},[]);const q=O.useMemo(()=>p?[...e,...r,...a,...l].filter(ge=>ge.userId===p.uid):[],[p,e,r,a,l]),k=O.useMemo(()=>q.map(ee=>{let ge=[];switch(ee.testType){case"FORTY_YARD_DASH":ge=e;break;case"ACCELERATION_30M":ge=r;break;case"FLY_30M":ge=a;break;case"SIXTY_METER_RUN":ge=l;break}const se=ge.findIndex(he=>he.id===ee.id)+1;return{...ee,rank:se,totalEntries:ge.length}}),[q,e,r,a,l]),B=ee=>{const ge=new Set(E);ge.has(ee)?ge.delete(ee):ge.add(ee),A(ge)},$=async()=>{if(f||E.size===0)return;const ee=E.size;if(confirm(`Are you sure you want to remove ${ee} ${ee===1?"entry":"entries"} from the leaderboard?`)){h(!0);try{await Promise.all(Array.from(E).map(ge=>Kc.deleteEntry(ge))),A(new Set),g(!1)}catch(ge){alert("Failed to delete entries: "+ge.message)}finally{h(!1)}}},K=()=>{g(!1),A(new Set)},j=ee=>{const ge=new Map;return ee.forEach(se=>{const he=ge.get(se.athleteId);(!he||se.time<he.time)&&ge.set(se.athleteId,se)}),Array.from(ge.values()).sort((se,he)=>se.time-he.time)},L=(ee,ge)=>{I(se=>({...se,[ee]:ge}))},D=ee=>{switch(ee){case"FORTY_YARD_DASH":return"40 Yard Dash";case"ACCELERATION_30M":return"30m Acceleration";case"FLY_30M":return"30m Flying";case"SIXTY_METER_RUN":return"60m Run";default:return ee}},G=ee=>{if(!ee)return null;const ge={Male:"bg-blue-100 text-blue-700",Female:"bg-pink-100 text-pink-700",Other:"bg-purple-100 text-purple-700"};return v.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${ge[ee]||"bg-gray-100 text-gray-700"}`,children:ee.charAt(0)})},P=ee=>ee===1?v.jsx(F5,{className:"text-yellow-500",size:16}):ee===2?v.jsx(F5,{className:"text-gray-400",size:16}):ee===3?v.jsx(F5,{className:"text-orange-600",size:16}):v.jsxs("span",{className:"text-[#9B9A97] font-bold text-xs",children:["#",ee]}),F=[{value:"FORTY_YARD_DASH",label:"40 Yard Dash",testType:"FORTY_YARD_DASH",entries:e},{value:"ACCELERATION_30M",label:"30m Accel",testType:"ACCELERATION",entries:r},{value:"FLY_30M",label:"30m Fly",testType:"FLY",entries:a},{value:"SIXTY_METER_RUN",label:"60m Run",testType:"SIXTY_METER_RUN",entries:l}],V=(ee,ge,se,he)=>{const me=S[he],_e=me==="one-per-athlete"?j(se):se,Ue=_e.slice(0,20);return v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm",children:[v.jsxs("div",{className:"bg-[#F7F7F5] border-b border-[#E9E9E7] px-3 py-2 flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"font-serif font-bold text-[#37352F] text-base",children:ee}),v.jsxs("div",{className:"flex border border-[#E9E9E7] rounded overflow-hidden bg-white",children:[v.jsx("button",{onClick:()=>L(he,"one-per-athlete"),className:`px-1.5 py-0.5 text-[9px] font-medium transition-colors ${me==="one-per-athlete"?"bg-[#37352F] text-white":"text-[#9B9A97] hover:bg-[#F7F7F5]"}`,title:"Best per Athlete",children:"Best"}),v.jsx("button",{onClick:()=>L(he,"unlimited"),className:`px-1.5 py-0.5 text-[9px] font-medium transition-colors border-l border-[#E9E9E7] ${me==="unlimited"?"bg-[#37352F] text-white":"text-[#9B9A97] hover:bg-[#F7F7F5]"}`,title:"All Times",children:"All"})]})]}),t&&v.jsxs("button",{onClick:()=>t(ge),className:"flex items-center gap-1 px-2.5 py-1 border border-[#E9E9E7] text-[#37352F] rounded text-xs font-medium hover:bg-[#F7F7F5] transition-colors",children:[v.jsx(L0,{size:12})," Start"]})]}),Ue.length===0?v.jsxs("div",{className:"p-6 text-center",children:[v.jsx(Ko,{className:"mx-auto mb-2 text-[#9B9A97]",size:28}),v.jsx("p",{className:"text-xs text-[#9B9A97]",children:"No entries yet"})]}):v.jsx("div",{className:"divide-y divide-[#E9E9E7] max-h-96 overflow-y-auto",children:Ue.map((ne,M)=>{const X=M+1,Z=ne.userId===(p==null?void 0:p.uid);return v.jsxs("div",{className:`px-3 py-2 flex items-center justify-between ${Z?"bg-blue-50":"hover:bg-[#F7F7F5]"} transition-colors`,children:[v.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[v.jsx("div",{className:"flex-shrink-0 w-5",children:P(X)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"flex items-center gap-1.5",children:v.jsx("span",{className:"font-medium text-[#37352F] text-sm truncate",children:ne.athleteName})}),v.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-[#9B9A97]",children:[G(ne.athleteGender),v.jsx("span",{children:new Date(ne.date).toLocaleDateString()})]})]})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("span",{className:"font-medium text-[#37352F] text-sm",children:[ne.time.toFixed(3),"s"]})})]},ne.id)})}),_e.length>20&&v.jsx("div",{className:"bg-[#F7F7F5] border-t border-[#E9E9E7] px-3 py-1.5 text-center",children:v.jsxs("span",{className:"text-[11px] text-[#9B9A97]",children:["+",_e.length-20," more entries"]})})]})};return v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsx("div",{className:"mb-6",children:v.jsxs("div",{className:"flex items-center gap-2.5",children:[v.jsx(Ko,{className:"text-[#37352F]",size:28}),v.jsx("h1",{className:"text-2xl font-serif font-bold text-[#37352F]",children:"Global Leaderboard"})]})}),v.jsxs("div",{className:"flex gap-5 mb-6",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(ee=>v.jsx("div",{children:V(ee.label,ee.testType,ee.entries,ee.value)},ee.value))}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:v.jsxs("p",{className:"text-xs text-blue-900",children:[v.jsx("strong",{children:"Note:"}),` Top 20 results shown per test. Only the top 100 fastest times are stored. To add your athlete's result, complete a test and use the "Post to Leaderboard" button in the analysis view.`]})})]}),v.jsx("div",{className:"w-72 flex-shrink-0",children:v.jsx("div",{className:"sticky top-4",children:v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm",children:[v.jsx("div",{className:"bg-[#F7F7F5] border-b border-[#E9E9E7] px-3 py-2",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-serif font-bold text-[#37352F] text-base",children:"My Leaderboard Entries"}),v.jsxs("p",{className:"text-[11px] text-[#9B9A97] mt-0.5",children:[k.length," total entries"]})]}),p&&k.length>0&&!y&&v.jsx("button",{onClick:()=>g(!0),className:"p-1.5 hover:bg-[#E9E9E7] rounded transition-colors text-[#787774] hover:text-[#37352F]",title:"Manage entries",children:v.jsx(Sie,{size:16})})]})}),y&&v.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-3 py-2 flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-red-900 font-medium",children:E.size>0?`${E.size} selected`:"Select entries to delete"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:K,className:"p-1 hover:bg-red-100 rounded transition-colors text-red-600",title:"Cancel",children:v.jsx(fc,{size:16})}),v.jsxs("button",{onClick:$,disabled:E.size===0||f,className:"px-2.5 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[v.jsx(np,{size:12}),"Delete"]})]})]}),p?k.length===0?v.jsxs("div",{className:"p-6 text-center",children:[v.jsx(Ko,{className:"mx-auto mb-2 text-[#9B9A97]",size:28}),v.jsx("p",{className:"text-xs text-[#9B9A97]",children:"No entries yet"}),v.jsx("p",{className:"text-[11px] text-[#787774] mt-1.5",children:"Complete a test and post it to the leaderboard!"})]}):v.jsx("div",{className:"divide-y divide-[#E9E9E7] max-h-[600px] overflow-y-auto",children:k.map(ee=>{const ge=ee.rank<=3,se=E.has(ee.id);return v.jsxs("div",{onClick:()=>y&&B(ee.id),className:`px-2.5 py-1.5 transition-colors ${y?"cursor-pointer":""} ${se?"bg-red-50":"hover:bg-[#F7F7F5]"}`,children:[v.jsx("div",{className:"flex items-center justify-between gap-2 mb-0.5",children:v.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[y&&v.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center flex-shrink-0 ${se?"bg-red-600 border-red-600":"border-[#E9E9E7]"}`,children:se&&v.jsx(Lh,{size:12,className:"text-white"})}),v.jsx("span",{className:"text-[#37352F] text-[11px]",children:D(ee.testType)}),ge&&P(ee.rank)]})}),v.jsx("p",{className:"text-[10px] text-[#9B9A97] mb-1",children:ee.athleteName}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs("span",{className:"text-[#37352F] text-xs",children:[ee.time.toFixed(3),"s"]}),G(ee.athleteGender),v.jsx("span",{className:"text-[9px] text-[#9B9A97]",children:new Date(ee.date).toLocaleDateString()})]}),v.jsx("div",{className:"text-right",children:v.jsxs("span",{className:`text-[10px] font-medium ${ge?"text-yellow-600":"text-[#9B9A97]"}`,children:["#",ee.rank,"/",ee.totalEntries]})})]})]},ee.id)})}):v.jsxs("div",{className:"p-6 text-center",children:[v.jsx(Ko,{className:"mx-auto mb-2 text-[#9B9A97]",size:28}),v.jsx("p",{className:"text-xs text-[#9B9A97]",children:"Sign in to view your entries"})]})]})})})]})]})},d5e=({sessions:t,athletes:e,settings:n,onSelectSession:r})=>{const[i,a]=O.useState("LIST"),[s,l]=O.useState(""),[u,f]=O.useState(""),[h,p]=O.useState(new Date),[y,g]=O.useState(new Set),E=O.useMemo(()=>t.filter($=>{const K=s.toLowerCase(),j=e.filter(D=>$.athleteIds.includes(D.id)).map(D=>D.name.toLowerCase());return!(!($.name.toLowerCase().includes(K)||j.some(D=>D.includes(K))||$.runs.some(D=>{var G;return((G=D.notes)==null?void 0:G.toLowerCase().includes(K))||D.config.type.toLowerCase().includes(K)}))||u&&!$.athleteIds.includes(u))}),[t,s,u,e]);O.useEffect(()=>{t.length>0&&g($=>$.size===0?new Set([t[0].id]):$)},[t]);const A=($,K)=>{$.stopPropagation(),g(j=>{const L=new Set(j);return L.has(K)?L.delete(K):L.add(K),L})},S=()=>{const $=E.map(K=>K.id);g(new Set($))},I=()=>{g(new Set)},q=($,K)=>K==="kph"?$*3.6:K==="mph"?$*2.23694:$,k=$=>{const K=$.getFullYear(),j=$.getMonth(),L=new Date(K,j+1,0).getDate(),D=new Date(K,j,1).getDay();return{days:L,firstDay:D,year:K,month:j}},B=()=>{const{days:$,firstDay:K,year:j,month:L}=k(h),D=E.filter(P=>{const F=new Date(P.date);return F.getMonth()===L&&F.getFullYear()===j}),G=[];for(let P=0;P<K;P++)G.push(v.jsx("div",{className:"h-32 bg-[#F7F7F5] border border-gray-100"},`empty-${P}`));for(let P=1;P<=$;P++){const F=`${j}-${String(L+1).padStart(2,"0")}-${String(P).padStart(2,"0")}`,V=D.filter(ee=>ee.date.startsWith(F)||new Date(ee.date).getDate()===P);G.push(v.jsxs("div",{className:"h-32 bg-white border border-gray-100 p-2 hover:bg-gray-50 transition-colors relative overflow-hidden group",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("span",{className:`text-xs font-bold ${V.length>0?"text-[#37352F]":"text-gray-300"}`,children:P}),V.length>0&&v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#37352F]"})]}),v.jsx("div",{className:"mt-1 space-y-1 overflow-y-auto h-24 pb-4",children:V.map(ee=>v.jsx("div",{onClick:()=>r(ee),className:"text-[10px] bg-[#37352F] text-white p-1 rounded cursor-pointer hover:bg-black truncate shadow-sm",children:ee.name},ee.id))})]},P))}return v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("button",{onClick:()=>p(new Date(j,L-1,1)),className:"p-1 hover:bg-gray-100 rounded",children:v.jsx(oie,{size:20})}),v.jsx("span",{className:"font-serif font-bold text-lg",children:h.toLocaleString("default",{month:"long",year:"numeric"})}),v.jsx("button",{onClick:()=>p(new Date(j,L+1,1)),className:"p-1 hover:bg-gray-100 rounded",children:v.jsx(my,{size:20})})]}),v.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200 border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>v.jsx("div",{className:"bg-[#F7F7F5] p-2 text-xs font-bold text-center text-gray-500 uppercase",children:P},P)),G]})]})};return v.jsxs("div",{children:[v.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"History"}),v.jsx("p",{className:"text-[#787774]",children:"Review past performances."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto items-end",children:[v.jsxs("div",{className:"relative flex-1 sm:w-64",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(BU,{className:"h-4 w-4 text-gray-400"})}),v.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-[#E9E9E7] rounded-md text-sm outline-none focus:border-[#37352F]",placeholder:"Search sessions...",value:s,onChange:$=>l($.target.value)})]}),v.jsxs("div",{className:"flex gap-2",children:[i==="LIST"&&v.jsxs("div",{className:"flex bg-[#F7F7F5] p-1 rounded border border-[#E9E9E7]",children:[v.jsx("button",{onClick:S,className:"p-1.5 rounded text-gray-500 hover:bg-white hover:text-[#37352F] hover:shadow-sm transition-all",title:"Expand All",children:v.jsx(hie,{size:18})}),v.jsx("button",{onClick:I,className:"p-1.5 rounded text-gray-500 hover:bg-white hover:text-[#37352F] hover:shadow-sm transition-all",title:"Collapse All",children:v.jsx(pie,{size:18})})]}),v.jsxs("div",{className:"flex bg-[#F7F7F5] p-1 rounded border border-[#E9E9E7]",children:[v.jsx("button",{onClick:()=>a("LIST"),className:`p-1.5 rounded ${i==="LIST"?"bg-white shadow-sm text-[#37352F]":"text-gray-400 hover:text-[#37352F]"}`,children:v.jsx(UU,{size:18})}),v.jsx("button",{onClick:()=>a("CALENDAR"),className:`p-1.5 rounded ${i==="CALENDAR"?"bg-white shadow-sm text-[#37352F]":"text-gray-400 hover:text-[#37352F]"}`,children:v.jsx(ep,{size:18})})]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto pb-2",children:[v.jsx(Cie,{size:14,className:"text-gray-400"}),v.jsx("span",{className:"text-xs font-bold uppercase text-gray-400 mr-2",children:"Filter By:"}),v.jsxs("select",{value:u,onChange:$=>f($.target.value),className:"text-sm border border-[#E9E9E7] rounded px-2 py-1 bg-white focus:border-[#37352F] outline-none",children:[v.jsx("option",{value:"",children:"All Athletes"}),e.map($=>v.jsx("option",{value:$.id,children:$.name},$.id))]})]}),i==="CALENDAR"?B():v.jsxs("div",{className:"space-y-6",children:[E.length===0&&v.jsx("div",{className:"text-center py-12 bg-[#F7F7F5] rounded-lg border border-dashed border-[#E9E9E7]",children:v.jsx("p",{className:"text-[#9B9A97]",children:"No sessions found matching your criteria."})}),E.map($=>{const K=e.filter(D=>$.athleteIds.includes(D.id)),j=K.map(D=>D.name).join(", "),L=y.has($.id);return v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl shadow-sm overflow-hidden hover:border-[#37352F] transition-colors group",children:[v.jsxs("div",{className:"p-4 bg-[#F7F7F5] border-b border-[#E9E9E7] flex flex-col md:flex-row md:items-center justify-between gap-4 cursor-pointer",onClick:()=>r($),children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("h3",{className:"text-lg font-serif font-bold text-[#37352F] group-hover:underline",children:$.name}),v.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${$.status==="ACTIVE"?"bg-green-100 text-green-700 border-green-200":"bg-gray-200 text-gray-600 border-gray-300"}`,children:$.status})]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-[#787774]",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(ep,{size:12})," ",new Date($.date).toLocaleDateString()]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(MU,{size:12})," ",new Date($.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Dg,{size:12})," ",K.length," Athletes"]})]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"hidden sm:flex items-center gap-2",children:v.jsx("span",{className:"text-sm font-medium text-[#37352F] max-w-[200px] truncate text-right",title:j,children:K.length>0?j:"No Athletes"})}),v.jsx("div",{className:"h-8 w-px bg-gray-300 mx-2 hidden sm:block"}),v.jsx("button",{onClick:D=>A(D,$.id),className:"p-2 rounded hover:bg-white text-[#37352F] transition-colors",children:L?v.jsx(uie,{size:20}):v.jsx(LU,{size:20})})]})]}),L&&v.jsxs("div",{className:"bg-white animate-in slide-in-from-top-2 duration-200",children:[$.runs.length===0?v.jsx("div",{className:"p-4 text-center text-xs text-[#9B9A97] italic",children:"No runs recorded."}):v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{className:"bg-white text-[#9B9A97] font-bold uppercase text-[10px] border-b border-[#E9E9E7]",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2 text-left font-normal",children:"Time"}),v.jsx("th",{className:"px-4 py-2 text-left font-normal",children:"Athlete"}),v.jsx("th",{className:"px-4 py-2 text-left font-normal",children:"Test"}),v.jsx("th",{className:"px-4 py-2 text-right font-normal",children:"Result / Speed"})]})}),v.jsx("tbody",{className:"divide-y divide-[#E9E9E7]",children:$.runs.map(D=>{const G=e.find(V=>V.id===D.athleteId),P=D.data.length>0?Math.max(...D.data.map(V=>V.speed)):0,F=q(P,n.speedUnit);return v.jsxs("tr",{className:"hover:bg-[#F7F7F5] cursor-pointer",onClick:()=>r($),children:[v.jsx("td",{className:"px-4 py-2 text-[#9B9A97] font-mono text-xs",children:new Date(D.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),v.jsx("td",{className:"px-4 py-2 font-medium text-[#37352F]",children:G==null?void 0:G.name}),v.jsx("td",{className:"px-4 py-2",children:v.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-[#787774]",children:[D.config.type===ct.POLE_VAULT||D.config.type===ct.LONG_JUMP?v.jsx(j0,{size:10}):v.jsx(hg,{size:10}),D.config.type===ct.POLE_VAULT?"PV":D.config.type===ct.LONG_JUMP?"LJ":D.config.type.replace("_"," ")]})}),v.jsx("td",{className:"px-4 py-2 text-right font-mono text-[#37352F]",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsxs("span",{className:"font-bold",children:[F.toFixed(1)," ",v.jsx("span",{className:"text-[10px] text-[#9B9A97] font-sans",children:iu.speed[n.speedUnit]})]}),D.jumpResult&&v.jsxs("span",{className:`text-[10px] ${D.jumpResult.successful===!1?"text-red-500":"text-[#9B9A97]"}`,children:[D.config.type===ct.POLE_VAULT?"Bar: ":"Dist: ",D.jumpResult.resultMetric,"m"]})]})})]},D.id)})})]}),v.jsxs("div",{className:"p-2 text-center border-t border-[#E9E9E7] bg-gray-50 cursor-pointer hover:bg-gray-100 text-xs text-[#787774] font-medium",onClick:()=>r($),children:["Open Full Session Details ",v.jsx(my,{size:12,className:"inline ml-1"})]})]})]},$.id)})]})]})},p5e=({session:t,athletes:e,settings:n,onBack:r,onResume:i,onDelete:a,onUpdateName:s,onSelectRun:l})=>{const[u,f]=O.useState(!1),[h,p]=O.useState(t.name),[y,g]=O.useState(!1),E=()=>{s(t.id,h),f(!1)},A=t.runs.length,S=e.filter(B=>t.athleteIds.includes(B.id));let I=0,q="";t.runs.forEach(B=>{const $=B.data.reduce((K,j)=>Math.max(K,j.speed),0);if($>I){I=$;const K=e.find(j=>j.id===B.athleteId);q=K?K.name:"Unknown"}});const k=I*(n.speedUnit==="kph"?3.6:n.speedUnit==="mph"?2.237:1);return v.jsxs("div",{className:"max-w-5xl mx-auto pb-12",children:[y&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",onClick:()=>g(!1),children:v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl border border-red-100 max-w-md w-full m-4 animate-in zoom-in-95",onClick:B=>B.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4 text-red-600",children:[v.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-full flex items-center justify-center",children:v.jsx(fae,{size:20})}),v.jsx("h3",{className:"text-lg font-serif font-bold text-[#37352F]",children:"Delete Session?"})]}),v.jsxs("p",{className:"text-sm text-[#787774] mb-6 leading-relaxed",children:["Are you sure you want to delete ",v.jsxs("span",{className:"font-bold text-[#37352F]",children:['"',t.name,'"']}),"?",v.jsx("br",{}),"This will permanently remove all run data associated with this session. This action cannot be undone."]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2.5 rounded text-sm font-medium text-[#787774] hover:bg-[#F7F7F5] transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:()=>a(t.id),className:"flex-1 px-4 py-2.5 rounded text-sm font-medium bg-red-600 text-white hover:bg-red-700 shadow-sm transition-colors flex items-center justify-center gap-2",children:[v.jsx(np,{size:16})," Delete Permanently"]})]})]})}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:r,className:"text-[#787774] hover:text-[#37352F] flex items-center gap-2 text-sm mb-4 transition-colors",children:[v.jsx($y,{size:16})," Back to History"]}),v.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 border-b border-[#E9E9E7] pb-6",children:[v.jsxs("div",{className:"flex-1",children:[u?v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("input",{value:h,onChange:B=>p(B.target.value),className:"text-3xl font-serif font-bold text-[#37352F] border-b-2 border-[#37352F] outline-none bg-transparent w-full",autoFocus:!0}),v.jsx("button",{onClick:E,className:"p-2 bg-[#37352F] text-white rounded",children:v.jsx(Lh,{size:16})}),v.jsx("button",{onClick:()=>{f(!1),p(t.name)},className:"p-2 bg-gray-200 text-gray-600 rounded",children:v.jsx(fc,{size:16})})]}):v.jsxs("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2 flex items-center gap-3 group",children:[t.name,v.jsx("button",{onClick:()=>f(!0),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-[#37352F] transition-opacity",children:v.jsx(ox,{size:18})})]}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-[#787774]",children:[v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx(ep,{size:14})," ",new Date(t.date).toLocaleDateString()]}),v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx(MU,{size:14})," ",new Date(t.date).toLocaleTimeString()]}),v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx(Dg,{size:14})," ",S.length," Athletes"]})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("button",{onClick:()=>l5e(t,e),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded font-medium hover:bg-blue-700 shadow-sm",children:[v.jsx(II,{size:16})," Download Report"]}),v.jsxs("button",{onClick:()=>i(t.id),className:"flex items-center gap-2 bg-[#37352F] text-white px-4 py-2 rounded font-medium hover:bg-[#2F2F2F] shadow-sm",children:[v.jsx(L0,{size:16})," Resume"]}),v.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-white text-red-600 border border-red-200 px-3 py-1.5 text-xs rounded font-medium hover:bg-red-50",children:[v.jsx(np,{size:14})," Delete"]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[v.jsxs("div",{className:"bg-[#F7F7F5] p-4 rounded-lg border border-[#E9E9E7]",children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Total Runs"}),v.jsx("div",{className:"text-3xl font-bold text-[#37352F]",children:A})]}),v.jsxs("div",{className:"bg-[#F7F7F5] p-4 rounded-lg border border-[#E9E9E7]",children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Top Speed"}),v.jsxs("div",{className:"text-3xl font-bold text-[#37352F]",children:[k.toFixed(2)," ",v.jsx("span",{className:"text-sm text-[#9B9A97] font-normal",children:iu.speed[n.speedUnit]})]}),v.jsxs("div",{className:"text-[10px] text-[#9B9A97] mt-1",children:["By ",q]})]}),v.jsxs("div",{className:"bg-[#F7F7F5] p-4 rounded-lg border border-[#E9E9E7]",children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Status"}),v.jsx("div",{className:"text-3xl font-bold text-[#37352F] capitalize",children:t.status.toLowerCase()})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold font-serif text-[#37352F] mb-4",children:"Runs Recorded"}),v.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-lg overflow-hidden shadow-sm",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{className:"bg-[#F7F7F5] border-b border-[#E9E9E7]",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3 text-left font-medium text-[#787774]",children:"Time"}),v.jsx("th",{className:"px-4 py-3 text-left font-medium text-[#787774]",children:"Athlete"}),v.jsx("th",{className:"px-4 py-3 text-left font-medium text-[#787774]",children:"Type"}),v.jsx("th",{className:"px-4 py-3 text-right font-medium text-[#787774]",children:"Result / Speed"}),v.jsx("th",{className:"px-4 py-3 text-right font-medium text-[#787774]",children:"Actions"})]})}),v.jsxs("tbody",{className:"divide-y divide-[#E9E9E7]",children:[t.runs.map((B,$)=>{const K=e.find(D=>D.id===B.athleteId),L=(B.data.length>0?Math.max(...B.data.map(D=>D.speed)):0)*(n.speedUnit==="kph"?3.6:n.speedUnit==="mph"?2.237:1);return v.jsxs("tr",{className:"hover:bg-[#F7F7F5] transition-colors cursor-pointer",onClick:()=>l(B),children:[v.jsx("td",{className:"px-4 py-3 text-[#9B9A97] font-mono",children:new Date(B.date).toLocaleTimeString()}),v.jsx("td",{className:"px-4 py-3 font-medium text-[#37352F]",children:(K==null?void 0:K.name)||"Unknown"}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-medium text-gray-600",children:B.config.type===ct.POLE_VAULT?"PV":B.config.type===ct.LONG_JUMP?"LJ":B.config.type})}),v.jsx("td",{className:"px-4 py-3 text-right font-mono text-[#37352F]",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsxs("span",{className:"font-bold",children:[L.toFixed(2)," ",v.jsx("span",{className:"text-[10px] text-gray-400 font-sans",children:iu.speed[n.speedUnit]})]}),B.jumpResult&&v.jsxs("span",{className:`text-[10px] ${B.jumpResult.successful===!1?"text-red-500":"text-gray-400"}`,children:[B.config.type===ct.POLE_VAULT?"Bar: ":"Dist: ",B.jumpResult.resultMetric,"m"]})]})}),v.jsx("td",{className:"px-4 py-3 text-right",children:v.jsx("button",{className:"text-[#37352F] hover:underline text-xs font-medium",children:"Analyze"})})]},B.id)}),t.runs.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-400 italic",children:"No runs recorded in this session yet."})})]})]})})]})]})},m5e=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(0),[i,a]=O.useState(0),[s,l]=O.useState("Ready to connect");O.useEffect(()=>(qc.setOnData(f=>{a(f),r(f/100)}),qc.setOnStatus(f=>{l(f)}),()=>{qc.setOnData(()=>{}),qc.setOnStatus(()=>{})}),[]);const u=async()=>{var f;if(t)await qc.disconnect(),e(!1),r(0),a(0);else try{await qc.connect(),e(!0)}catch(h){console.error(h),(f=h.message)!=null&&f.includes("Permissions policy")&&alert("Connection Blocked: Browser permission policy prevented access.")}};return v.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[v.jsxs("div",{className:"mb-8 text-center",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Sensor Diagnostics"}),v.jsx("p",{className:"text-[#787774]",children:"Verify laser connection and reading accuracy."})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl shadow-sm overflow-hidden",children:[v.jsxs("div",{className:"p-6 border-b border-[#E9E9E7] bg-[#F7F7F5] flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"bg-red-400"}`}),v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-[#37352F]",children:t?"Sensor Connected":"Disconnected"}),v.jsx("div",{className:"text-xs text-[#9B9A97] font-mono",children:s})]})]}),v.jsx("button",{onClick:u,className:`px-6 py-2 rounded font-medium flex items-center gap-2 transition-colors shadow-sm ${t?"bg-white border border-red-200 text-red-600 hover:bg-red-50":"bg-[#37352F] text-white hover:bg-[#2F2F2F]"}`,children:t?v.jsxs(v.Fragment,{children:[v.jsx(OI,{size:16})," Disconnect"]}):v.jsxs(v.Fragment,{children:[v.jsx(zU,{size:16})," Connect Laser"]})})]}),v.jsx("div",{className:"p-12 flex flex-col items-center justify-center min-h-[300px]",children:t?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-[10rem] leading-none font-bold font-mono text-[#37352F] tracking-tighter tabular-nums",children:n.toFixed(2)}),v.jsx("div",{className:"text-xl text-[#9B9A97] font-medium uppercase tracking-widest mb-8",children:"Meters"}),v.jsxs("div",{className:"flex gap-8",children:[v.jsxs("div",{className:"bg-[#F7F7F5] px-4 py-2 rounded border border-[#E9E9E7] text-center",children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase",children:"Raw Value"}),v.jsxs("div",{className:"font-mono font-bold text-[#37352F]",children:[i," cm"]})]}),v.jsxs("div",{className:"bg-[#F7F7F5] px-4 py-2 rounded border border-[#E9E9E7] text-center",children:[v.jsx("div",{className:"text-xs font-bold text-[#9B9A97] uppercase",children:"Signal Quality"}),v.jsxs("div",{className:"font-mono font-bold text-green-600 flex items-center gap-1",children:[v.jsx(jU,{size:14})," Good"]})]})]})]}):v.jsxs("div",{className:"text-center text-[#9B9A97]",children:[v.jsx("div",{className:"w-24 h-24 bg-[#F7F7F5] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#E9E9E7]",children:v.jsx(as,{size:48,className:"opacity-20"})}),v.jsx("p",{className:"text-lg font-medium mb-2",children:"No Sensor Detected"}),v.jsx("p",{className:"text-sm max-w-xs mx-auto",children:"Connect the USB Laser device to your computer to begin viewing live data."})]})}),v.jsxs("div",{className:"bg-[#F7F7F5] p-4 border-t border-[#E9E9E7] text-xs text-[#787774] flex gap-4 justify-center",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(j0,{size:12})," Range: 0 - 100m"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(tp,{size:12})," Protocol: 460800 baud"]})]})]})]})},vM=(t,e)=>e==="kph"?t*3.6:e==="mph"?t*2.23694:t,yM=(t,e)=>e==="imperial"?t*1.09361:t,gm=["#37352F","#E16259","#2563EB","#16A34A","#D97706"],g5e=({runs:t,athletes:e,settings:n,onBack:r})=>{const i=O.useMemo(()=>{const u=[];let f=0;t.forEach(p=>{var g;const y=((g=p.data[p.data.length-1])==null?void 0:g.distance)||0;y>f&&(f=y)});const h=.2;t.every(p=>p.config.boardLocation);for(let p=0;p<=f;p+=h){const y={distance:p};t.forEach((g,E)=>{let A=null;const S=g.data.find(I=>I.distance>=p);S&&(A=S.speed),A!==null&&(y[`run_${g.id}`]=A)}),u.push(y)}return u},[t]),a=t.map(u=>{var y;const f=Math.max(...u.data.map(g=>g.speed)),h=Math.max(...u.data.map(g=>g.distance)),p=((y=u.data[u.data.length-1])==null?void 0:y.timestamp)/1e3||0;return{id:u.id,athleteId:u.athleteId,maxSpeed:f,maxDist:h,totalTime:p,jumpResult:u.jumpResult}}),s=iu.speed[n.speedUnit],l=iu.distance[n.distanceUnit];return v.jsxs("div",{className:"max-w-6xl mx-auto pb-12 h-full flex flex-col",children:[v.jsx("div",{className:"mb-6 flex items-center justify-between",children:v.jsxs("div",{children:[v.jsxs("button",{onClick:r,className:"text-[#787774] hover:text-[#37352F] flex items-center gap-2 text-sm mb-4 transition-colors",children:[v.jsx($y,{size:16})," Back"]}),v.jsxs("h1",{className:"text-3xl font-serif font-bold text-[#37352F] flex items-center gap-3",children:[v.jsx(kS,{size:28,className:"text-[#9B9A97]"}),"Compare Runs"]})]})}),v.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:t.map((u,f)=>{const h=e.find(p=>p.id===u.athleteId);return v.jsxs("div",{className:"flex items-center gap-3 bg-white border border-[#E9E9E7] px-4 py-2 rounded-full shadow-sm",children:[v.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:gm[f%gm.length]}}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-bold text-[#37352F]",children:(h==null?void 0:h.name)||"Unknown"}),v.jsxs("div",{className:"text-[10px] text-[#9B9A97]",children:[new Date(u.date).toLocaleDateString(),"  ",u.config.type.replace("_"," ")]})]})]},u.id)})}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 h-96 shadow-sm mb-8",children:[v.jsx("h3",{className:"text-sm font-bold text-[#37352F] font-serif mb-6",children:"Velocity Overlay"}),v.jsx(Ax,{width:"100%",height:"100%",children:v.jsxs(qH,{data:i,children:[v.jsx(Z0,{strokeDasharray:"3 3",stroke:"#F7F7F5",vertical:!1}),v.jsx(e1,{dataKey:"distance",type:"number",unit:"m",domain:["auto","auto"],tickFormatter:u=>yM(u,n.distanceUnit).toFixed(0),label:{value:`Distance (${l})`,position:"insideBottom",offset:-5,fontSize:10,fill:"#9B9A97"},stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12}}),v.jsx(t1,{stroke:"#E9E9E7",tick:{fill:"#9B9A97",fontSize:12},label:{value:`Speed (${s})`,angle:-90,position:"insideLeft",fontSize:10,fill:"#9B9A97"}}),v.jsx(Wx,{contentStyle:{backgroundColor:"#fff",borderColor:"#E9E9E7",color:"#37352F"},formatter:u=>vM(u,n.speedUnit).toFixed(2),labelFormatter:u=>`${Number(u).toFixed(1)}m`}),t.map((u,f)=>v.jsx(e4,{type:"monotone",dataKey:`run_${u.id}`,stroke:gm[f%gm.length],strokeWidth:2,dot:!1,connectNulls:!0},u.id))]})})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl overflow-hidden shadow-sm",children:[v.jsx("div",{className:"px-6 py-4 border-b border-[#E9E9E7] bg-[#F7F7F5]",children:v.jsx("h3",{className:"font-serif font-bold text-[#37352F]",children:"Performance Metrics"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-[#E9E9E7]",children:[v.jsx("th",{className:"px-6 py-3 text-left font-medium text-[#9B9A97] bg-gray-50 w-32",children:"Metric"}),t.map((u,f)=>{const h=e.find(p=>p.id===u.athleteId);return v.jsxs("th",{className:"px-6 py-3 text-left font-bold text-[#37352F]",style:{color:gm[f%gm.length]},children:[h==null?void 0:h.name.split(" ")[0]," ",v.jsx("span",{className:"text-[10px] font-normal opacity-70",children:new Date(u.date).toLocaleDateString(void 0,{month:"numeric",day:"numeric"})})]},u.id)})]})}),v.jsxs("tbody",{className:"divide-y divide-[#E9E9E7]",children:[v.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[v.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[v.jsx(hg,{size:14})," Top Speed"]}),a.map(u=>v.jsxs("td",{className:"px-6 py-4 font-mono font-bold text-[#37352F]",children:[vM(u.maxSpeed,n.speedUnit).toFixed(2)," ",v.jsx("span",{className:"text-xs font-normal text-[#9B9A97]",children:s})]},u.id))]}),t.some(u=>u.jumpResult)&&v.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[v.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[v.jsx(j0,{size:14})," Result"]}),a.map(u=>v.jsx("td",{className:"px-6 py-4 font-mono font-bold text-[#37352F]",children:u.jumpResult?v.jsxs("span",{className:u.jumpResult.successful===!1?"text-red-500":"",children:[u.jumpResult.resultMetric.toFixed(2),"m ",u.jumpResult.successful===!1&&"(X)"]}):"-"},u.id))]}),v.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[v.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[v.jsx(PI,{size:14})," Duration"]}),a.map(u=>v.jsxs("td",{className:"px-6 py-4 font-mono text-[#37352F]",children:[u.totalTime.toFixed(2),"s"]},u.id))]}),v.jsxs("tr",{className:"hover:bg-[#F7F7F5]",children:[v.jsxs("td",{className:"px-6 py-4 font-medium text-[#787774] flex items-center gap-2",children:[v.jsx(as,{size:14})," Distance"]}),a.map(u=>v.jsxs("td",{className:"px-6 py-4 font-mono text-[#37352F]",children:[yM(u.maxDist,n.distanceUnit).toFixed(2)," ",v.jsx("span",{className:"text-xs font-normal text-[#9B9A97]",children:l})]},u.id))]})]})]})})]})]})},qA=t=>!t.data||t.data.length===0?null:t.data[t.data.length-1].timestamp/1e3,v5e=({athletes:t,sessions:e,settings:n})=>{const[r,i]=O.useState(""),[a,s]=O.useState(ct.FORTY_YARD_DASH),[l,u]=O.useState(90),f=O.useMemo(()=>{if(!r)return null;const p=new Date;p.setDate(p.getDate()-l);const y=e.flatMap(j=>j.runs.map(L=>({...L,sessionDate:j.date}))).filter(j=>{var D;const L=qA(j);return j.athleteId===r&&((D=j.config)==null?void 0:D.type)===a&&L!==null&&new Date(j.sessionDate)>=p}).sort((j,L)=>new Date(j.sessionDate).getTime()-new Date(L.sessionDate).getTime());if(y.length===0)return null;const g=y.map(j=>qA(j)),E=Math.min(...g),A=Math.max(...g),S=g.reduce((j,L)=>j+L,0)/g.length,I=g[0],q=g[g.length-1],k=(I-q)/I*100,B=g.reduce((j,L)=>j+Math.pow(L-S,2),0)/g.length,$=Math.sqrt(B),K=y.map((j,L)=>({date:new Date(j.sessionDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:qA(j),index:L+1}));return{runs:y,times:g,bestTime:E,worstTime:A,avgTime:S,improvement:k,stdDev:$,chartData:K,totalRuns:y.length}},[r,a,l,e]),h=t.find(p=>p.id===r);return v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx(DS,{className:"text-[#37352F]",size:32}),v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F]",children:"Performance Analytics"})]}),v.jsx("p",{className:"text-[#787774]",children:"Track progress and trends over time."})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 mb-6 shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"font-medium text-[#37352F]",children:"Filters"}),r&&v.jsxs("button",{onClick:()=>{const p=t.filter(y=>y.id===r);u5e(p,e,a,Ps[a].label)},className:"flex items-center gap-2 bg-blue-600 text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-blue-700 shadow-sm",children:[v.jsx(II,{size:14})," Export Report"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Athlete"}),v.jsxs("select",{value:r,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:"",children:"Select an athlete..."}),t.map(p=>v.jsx("option",{value:p.id,children:p.name},p.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Test Type"}),v.jsxs("select",{value:a,onChange:p=>s(p.target.value),className:"w-full px-3 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:ct.FORTY_YARD_DASH,children:Ps[ct.FORTY_YARD_DASH].label}),v.jsx("option",{value:ct.ACCELERATION,children:Ps[ct.ACCELERATION].label}),v.jsx("option",{value:ct.FLY,children:Ps[ct.FLY].label}),v.jsx("option",{value:ct.SIXTY_METER_RUN,children:Ps[ct.SIXTY_METER_RUN].label})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-2",children:"Time Period"}),v.jsxs("select",{value:l,onChange:p=>u(Number(p.target.value)),className:"w-full px-3 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",children:[v.jsx("option",{value:30,children:"Last 30 Days"}),v.jsx("option",{value:90,children:"Last 90 Days"}),v.jsx("option",{value:180,children:"Last 6 Months"}),v.jsx("option",{value:365,children:"Last Year"}),v.jsx("option",{value:9999,children:"All Time"})]})]})]})]}),r?f?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[v.jsx(fg,{size:14})," Best Time"]}),v.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[f.bestTime.toFixed(3),"s"]})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[v.jsx(as,{size:14})," Average"]}),v.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:[f.avgTime.toFixed(3),"s"]})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[f.improvement>0?v.jsx(lae,{size:14}):v.jsx(Yy,{size:14}),"Improvement"]}),v.jsxs("div",{className:`text-2xl font-bold ${f.improvement>0?"text-green-600":f.improvement<0?"text-red-600":"text-[#37352F]"}`,children:[f.improvement>0?"+":"",f.improvement.toFixed(1),"%"]})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[v.jsx(DS,{size:14})," Total Runs"]}),v.jsx("div",{className:"text-2xl font-bold text-[#37352F]",children:f.totalRuns})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-4 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-xs font-medium mb-2",children:[v.jsx(fg,{size:14})," Consistency"]}),v.jsxs("div",{className:"text-2xl font-bold text-[#37352F]",children:["",f.stdDev.toFixed(3),"s"]}),v.jsx("div",{className:"text-[10px] text-[#9B9A97] mt-1",children:"Std Deviation"})]})]}),v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 shadow-sm",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"font-serif font-bold text-lg text-[#37352F] mb-1",children:"Performance Trend"}),v.jsxs("p",{className:"text-sm text-[#787774]",children:[h==null?void 0:h.name,"  ",Ps[a].label]})]}),v.jsx(Ax,{width:"100%",height:400,children:v.jsxs(qH,{data:f.chartData,margin:{top:5,right:30,left:20,bottom:5},children:[v.jsx(Z0,{strokeDasharray:"3 3",stroke:"#E9E9E7"}),v.jsx(e1,{dataKey:"date",stroke:"#9B9A97",style:{fontSize:"12px"}}),v.jsx(t1,{stroke:"#9B9A97",style:{fontSize:"12px"},domain:["dataMin - 0.05","dataMax + 0.05"],tickFormatter:p=>`${p.toFixed(2)}s`}),v.jsx(Wx,{contentStyle:{backgroundColor:"#fff",border:"1px solid #E9E9E7",borderRadius:"8px",fontSize:"12px"},formatter:p=>[`${p.toFixed(3)}s`,"Time"]}),v.jsx(s0,{y:f.avgTime,stroke:"#9B9A97",strokeDasharray:"3 3",label:{value:"Average",position:"right",fill:"#9B9A97",fontSize:12}}),v.jsx(e4,{type:"monotone",dataKey:"time",stroke:"#37352F",strokeWidth:2,dot:{fill:"#37352F",r:4},activeDot:{r:6}})]})}),v.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-0.5 bg-[#37352F]"}),v.jsx("span",{className:"text-[#787774]",children:"Performance"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-4 h-0.5 bg-[#9B9A97] border-dashed border-t"}),v.jsx("span",{className:"text-[#787774]",children:"Average"})]})]})]}),v.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:v.jsxs("p",{className:"text-sm text-blue-900",children:[v.jsx("strong",{children:"Insight:"})," ",f.improvement>2?`Great progress! ${h==null?void 0:h.name} has improved by ${f.improvement.toFixed(1)}% over the selected period.`:f.improvement>0?`${h==null?void 0:h.name} is showing steady improvement. Keep up the consistent training!`:f.improvement<-2?"Performance has declined. Consider reviewing training load and recovery.":"Performance is stable. Focus on consistency and technique refinement."]})})]}):v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-12 text-center",children:[v.jsx(ep,{className:"mx-auto mb-4 text-[#9B9A97]",size:48}),v.jsx("h3",{className:"text-lg font-medium text-[#37352F] mb-2",children:"No Data Available"}),v.jsxs("p",{className:"text-sm text-[#787774]",children:[h==null?void 0:h.name," has no recorded ",Ps[a].label," runs in the selected time period."]})]}):v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-12 text-center",children:[v.jsx(as,{className:"mx-auto mb-4 text-[#9B9A97]",size:48}),v.jsx("h3",{className:"text-lg font-medium text-[#37352F] mb-2",children:"Select an Athlete"}),v.jsx("p",{className:"text-sm text-[#787774]",children:"Choose an athlete from the dropdown above to view their performance analytics."})]})]})},y5e=({isOpen:t,personalBests:e,onClose:n})=>{const[r,i]=O.useState(new Set),[a,s]=O.useState(!1),[l,u]=O.useState([]),[f,h]=O.useState(!0);O.useEffect(()=>{if(!t||!Fr.currentUser){h(!1);return}(async()=>{h(!0);try{const S=await Kc.getUserEntries(Fr.currentUser.uid);u(S);const I=e.filter(q=>!S.some(k=>k.runId===q.runId));i(new Set(I.map(q=>q.runId)))}catch(S){console.error("Failed to fetch existing entries:",S)}finally{h(!1)}})()},[t,e]);const p=e.filter(A=>!l.some(S=>S.runId===A.runId)),y=e.filter(A=>l.some(S=>S.runId===A.runId));if(!t)return null;if(f)return v.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsx("div",{className:"bg-white rounded-xl p-8 shadow-2xl",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-6 h-6 border-2 border-[#37352F] border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-[#37352F] font-medium",children:"Checking leaderboard..."})]})})});if(p.length===0&&y.length>0)return v.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[v.jsx("div",{className:"p-6 border-b border-[#E9E9E7] bg-gradient-to-br from-yellow-50 to-orange-50",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg",children:v.jsx(Ko,{size:32,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-serif font-bold text-[#37352F]",children:"Already Posted!"}),v.jsx("p",{className:"text-sm text-[#787774] mt-1",children:"All personal bests have been submitted"})]})]})}),v.jsxs("div",{className:"p-6",children:[v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(tp,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"text-sm text-blue-900",children:[v.jsx("p",{className:"font-medium mb-1",children:"These runs are already on the leaderboard:"}),v.jsx("ul",{className:"list-disc list-inside space-y-1",children:y.map(A=>v.jsxs("li",{children:[A.athleteName," - ",A.testLabel]},A.runId))})]})]})}),v.jsx("button",{onClick:n,className:"w-full bg-[#37352F] text-white px-6 py-3 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors",children:"Close"})]})]})});if(p.length===0)return null;const g=A=>{const S=new Set(r);S.has(A)?S.delete(A):S.add(A),i(S)},E=async()=>{if(Fr.currentUser){s(!0);try{const A=p.filter(S=>r.has(S.runId));for(const S of A){const I={id:`${S.runId}_${Date.now()}`,testType:S.testType,athleteId:S.athleteId,athleteName:S.athleteName,athleteGender:S.athleteGender,userId:Fr.currentUser.uid,postedBy:"coach",time:S.newTime,date:S.run.date,sessionId:S.sessionId,runId:S.runId,createdAt:new Date().toISOString()};await Kc.postToLeaderboard(I)}n()}catch(A){console.error("Failed to submit to leaderboard:",A),alert("Failed to submit to leaderboard. Please try again.")}finally{s(!1)}}};return v.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7]",children:[v.jsx("div",{className:"p-6 border-b border-[#E9E9E7] bg-gradient-to-br from-yellow-50 to-orange-50",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg",children:v.jsx(Ko,{size:32,className:"text-white"})}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-serif font-bold text-[#37352F]",children:["Personal Best",e.length>1?"s":""," Achieved!"]}),v.jsx("p",{className:"text-sm text-[#787774] mt-1",children:"Congratulations! Submit to leaderboard?"})]})]}),v.jsx("button",{onClick:n,className:"p-1 hover:bg-white/50 rounded text-[#787774] hover:text-[#37352F] transition-colors",children:v.jsx(fc,{size:20})})]})}),v.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[y.length>0&&v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(tp,{size:16,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"text-xs text-yellow-900",children:[v.jsxs("p",{className:"font-medium mb-1",children:[y.length," run",y.length>1?"s":""," already posted (hidden)"]}),v.jsx("p",{children:"Only new personal bests are shown below"})]})]})}),v.jsx("div",{className:"space-y-3",children:p.map(A=>{const S=r.has(A.runId),I=A.oldTime?(A.oldTime-A.newTime)/A.oldTime*100:null;return v.jsx("div",{onClick:()=>g(A.runId),className:`border-2 rounded-xl p-4 cursor-pointer transition-all ${S?"border-green-400 bg-green-50":"border-[#E9E9E7] bg-white hover:border-[#37352F]"}`,children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center flex-shrink-0 mt-1 transition-colors ${S?"bg-green-500 border-green-500":"border-[#E9E9E7]"}`,children:S&&v.jsx(Lh,{size:16,className:"text-white"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-[#37352F] text-lg",children:A.athleteName}),v.jsx("p",{className:"text-sm text-[#787774]",children:A.testLabel})]}),A.oldTime&&v.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold",children:[v.jsx(Zre,{size:12}),I?`${I.toFixed(1)}%`:"New PB"]})]}),v.jsx("div",{className:"flex items-center gap-4",children:A.oldTime?v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-[#9B9A97] uppercase font-bold mb-1",children:"Previous"}),v.jsxs("div",{className:"text-lg font-mono text-[#787774]",children:[A.oldTime.toFixed(3),"s"]})]}),v.jsx(Yy,{size:20,className:"text-green-600"}),v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-[#9B9A97] uppercase font-bold mb-1",children:"New Best"}),v.jsxs("div",{className:"text-2xl font-mono font-bold text-green-600",children:[A.newTime.toFixed(3),"s"]})]})]}):v.jsxs("div",{children:[v.jsx("div",{className:"text-xs text-[#9B9A97] uppercase font-bold mb-1",children:"First Record"}),v.jsxs("div",{className:"text-2xl font-mono font-bold text-green-600",children:[A.newTime.toFixed(3),"s"]})]})})]})]})},A.runId)})})]}),v.jsxs("div",{className:"p-6 border-t border-[#E9E9E7] bg-[#F7F7F5]",children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsxs("p",{className:"text-sm text-[#787774]",children:[r.size," of ",p.length," selected for leaderboard"]})}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 rounded text-[#787774] text-sm font-medium hover:bg-[#E9E9E7] transition-colors",children:"Skip"}),v.jsxs("button",{onClick:E,disabled:a||r.size===0,className:"flex-[2] bg-[#37352F] text-white px-6 py-3 rounded text-sm font-medium hover:bg-[#2F2F2F] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[v.jsx(Ko,{size:16}),a?"Submitting...":`Submit to Leaderboard (${r.size})`]})]})]})]})})},b5e=()=>{const{user:t,logout:e}=k0(),{athletes:n,sessions:r,settings:i,refreshSettings:a}=Mre(),[s,l]=O.useState(!1),[u,f]=O.useState(ln.DASHBOARD),[h,p]=O.useState(null),[y,g]=O.useState(null),[E,A]=O.useState(null),[S,I]=O.useState([]),[q,k]=O.useState(null),[B,$]=O.useState(!1),[K,j]=O.useState(!1),[L,D]=O.useState(!1),[G,P]=O.useState(null),[F,V]=O.useState(ct.FREE_RUN),[ee,ge]=O.useState(""),[se,he]=O.useState("all"),[me,_e]=O.useState(null),[Ue,ne]=O.useState(!1),[M,X]=O.useState([]),[Z,fe]=O.useState(!1),pe=(st,ft="success")=>{_e({message:st,type:ft}),setTimeout(()=>_e(null),3e3)},ye=st=>!st.data||st.data.length===0?null:st.data[st.data.length-1].timestamp/1e3,Pe=st=>{switch(st){case ct.FORTY_YARD_DASH:return"FORTY_YARD_DASH";case ct.ACCELERATION:return"ACCELERATION_30M";case ct.FLY:return"FLY_30M";case ct.SIXTY_METER_RUN:return"SIXTY_METER_RUN";default:return null}},de=st=>{switch(st){case"FORTY_YARD_DASH":return"40 Yard Dash";case"ACCELERATION_30M":return"30m Acceleration";case"FLY_30M":return"30m Fly";case"SIXTY_METER_RUN":return"60m Run"}},Ce=st=>{const ft=[],Et=r.filter(Fe=>Fe.id!==st.id).flatMap(Fe=>Fe.runs);for(const Fe of st.runs){const wn=Pe(Fe.config.type);if(!wn)continue;const Bt=ye(Fe);if(!Bt)continue;const It=n.find(un=>un.id===Fe.athleteId);if(!It)continue;const nn=Et.filter(un=>un.athleteId===Fe.athleteId&&Pe(un.config.type)===wn).map(un=>ye(un)).filter(un=>un!==null),_t=nn.length>0?Math.min(...nn):null;if(_t===null||Bt<_t){const un=_t?(_t-Bt)/_t*100:0;ft.push({athleteId:Fe.athleteId,athleteName:It.name,athleteGender:It.gender,testType:wn,testLabel:de(wn),newTime:Bt,oldTime:_t,improvement:un,sessionId:st.id,runId:Fe.id,run:Fe})}}return ft},Ve=st=>{V(st),$(!0)},Se=async(st,ft)=>{const Et={id:Date.now().toString(),date:new Date().toISOString(),name:st,athleteIds:ft,runs:[],status:"ACTIVE"};await _o.createSession(Et),p(Et.id),$(!1),f(ln.LIVE_RUN)},rt=st=>{p(st),g(null),f(ln.LIVE_RUN)},it=async st=>{if(!Ue){ne(!0);try{await _o.deleteSession(st),pe("Session deleted successfully","success"),y===st&&(g(null),f(ln.HISTORY)),h===st&&(p(null),f(ln.DASHBOARD))}catch(ft){console.error("Delete failed:",ft),pe("Failed to delete session: "+ft.message,"error")}finally{ne(!1)}}},oe=async(st,ft)=>{await _o.updateSession(st,{name:ft}),pe("Session renamed")},Xe=async st=>{h&&(await _o.updateSessionAthletes(h,st),pe("Athletes updated"))},Nt=async st=>{h&&await _o.addRunToSession(h,st)},yt=async st=>{if(h){const ft=r.find(Et=>Et.id===h);if(ft){const Et=ft.runs.map(Fe=>Fe.id===st.id?st:Fe);await _o.updateRunInSession(h,Et),pe("Run updated")}}},qe=async()=>{if(h){const st=h,ft=r.find(Et=>Et.id===st);if(await _o.finishSession(st),p(null),ft){const Et=Ce(ft);Et.length>0&&(X(Et),fe(!0))}g(st),f(ln.SESSION_DETAIL)}},dt=async st=>{await _o.addAthlete(st),j(!1),pe("Athlete added")},vt=async st=>{await _o.updateAthlete(st),D(!1),P(null),pe("Athlete updated")},Ut=async st=>{if(!Ue){ne(!0);try{await _o.deleteAthlete(st),pe("Athlete deleted successfully","success"),k(null),f(ln.ATHLETES)}catch(ft){console.error("Delete failed:",ft),pe("Failed to delete athlete: "+ft.message,"error")}finally{ne(!1)}}},Rt=st=>{P(st),D(!0)},cn=async st=>{await _o.saveSettings(st),a(),pe("Settings saved")},fn=st=>{I(st),f(ln.COMPARISON)},Jt=r.find(st=>st.id===h),gn=()=>{if(B)return v.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:v.jsx("div",{className:"bg-white w-full max-w-4xl rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 border border-[#E9E9E7] p-8 max-h-[90vh] overflow-y-auto",children:v.jsx(C2e,{allAthletes:n,onStartSession:Se,onAddAthlete:dt,onCancel:()=>$(!1),testType:F})})});switch(u){case ln.LIVE_RUN:return Jt?v.jsx(E2e,{activeSession:Jt,availableAthletes:n.filter(Fe=>Jt.athleteIds.includes(Fe.id)),allAthletes:n,settings:i,initialTestType:F,onSaveSession:Nt,onUpdateRun:yt,onEndSession:qe,onViewRun:Fe=>{A(Fe),f(ln.ANALYSIS)},onUpdateSessionAthletes:Xe,onCreateAthlete:dt}):v.jsx(O2e,{onSelectType:Ve});case ln.ANALYSIS:return v.jsx(I2e,{session:E,athlete:n.find(Fe=>Fe.id===(E==null?void 0:E.athleteId))||null,settings:i,allSessions:r,onBack:()=>{A(null),f(y?ln.SESSION_DETAIL:h?ln.LIVE_RUN:ln.HISTORY)},onCompare:fn});case ln.COMPARISON:return v.jsx(g5e,{runs:S,athletes:n,settings:i,onBack:()=>f(ln.ANALYSIS)});case ln.HISTORY:return v.jsx(d5e,{sessions:r,athletes:n,settings:i,onSelectSession:Fe=>{g(Fe.id),f(ln.SESSION_DETAIL)},onDeleteSession:it});case ln.SESSION_DETAIL:const st=r.find(Fe=>Fe.id===y);return st?v.jsx(p5e,{session:st,athletes:n,settings:i,onBack:()=>{g(null),f(ln.HISTORY)},onResume:rt,onDelete:it,onUpdateName:oe,onSelectRun:Fe=>{A(Fe),f(ln.ANALYSIS)}}):v.jsx("div",{className:"p-8",children:"Session not found."});case ln.ATHLETES:const ft=n.filter(Fe=>Fe.name.toLowerCase().includes(ee.toLowerCase())).filter(Fe=>se==="all"||Fe.gender===se);return v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Athletes"}),v.jsx("p",{className:"text-[#787774]",children:"Manage your roster."})]}),v.jsxs("button",{onClick:()=>j(!0),className:"bg-[#37352F] text-white px-4 py-2 rounded font-medium hover:bg-[#2F2F2F] transition-colors flex items-center gap-2 shadow-sm",children:[v.jsx(Gy,{size:18})," Add Athlete"]})]}),v.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search athletes...",className:"flex-1 md:max-w-xs px-4 py-2 border border-[#E9E9E7] rounded bg-white text-sm focus:outline-none focus:border-[#37352F]",value:ee,onChange:Fe=>ge(Fe.target.value)}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>he("all"),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${se==="all"?"bg-[#37352F] text-white":"border border-[#E9E9E7] text-[#787774] hover:bg-[#F7F7F5]"}`,children:"All"}),v.jsx("button",{onClick:()=>he("Male"),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${se==="Male"?"bg-[#37352F] text-white":"border border-[#E9E9E7] text-[#787774] hover:bg-[#F7F7F5]"}`,children:"Male"}),v.jsx("button",{onClick:()=>he("Female"),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${se==="Female"?"bg-[#37352F] text-white":"border border-[#E9E9E7] text-[#787774] hover:bg-[#F7F7F5]"}`,children:"Female"})]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ft.map(Fe=>v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 hover:shadow-md transition-all group cursor-pointer",onClick:()=>{k(Fe.id),f(ln.ATHLETE_DETAIL)},children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-[#F7F7F5] text-[#37352F] font-serif font-bold text-xl flex items-center justify-center border border-[#E9E9E7]",children:Fe.name.charAt(0)}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:wn=>{wn.stopPropagation(),Rt(Fe)},className:"text-[#9B9A97] hover:text-[#37352F] opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-[#F7F7F5] rounded",children:v.jsx(ox,{size:16})}),v.jsx("button",{onClick:wn=>{wn.stopPropagation(),k(Fe.id),f(ln.ATHLETE_DETAIL)},className:"text-[#9B9A97] hover:text-[#37352F] opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(Kre,{size:20})})]})]}),v.jsx("h3",{className:"font-bold text-lg text-[#37352F] mb-1",children:Fe.name}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"text-xs text-[#9B9A97] uppercase tracking-wider font-bold",children:Fe.primaryEvent||"Athlete"}),Fe.email&&v.jsx("p",{className:"text-sm text-[#787774]",children:Fe.email}),Fe.gender&&v.jsxs("p",{className:"text-sm text-[#787774]",children:[Fe.gender,", ",Fe.dob?new Date().getFullYear()-new Date(Fe.dob).getFullYear():""," yrs"]})]})]},Fe.id))}),ft.length===0&&v.jsx("div",{className:"text-center py-12 bg-[#F7F7F5] rounded-lg border border-dashed border-[#E9E9E7]",children:v.jsx("p",{className:"text-[#9B9A97]",children:"No athletes found."})})]});case ln.ATHLETE_DETAIL:const Et=n.find(Fe=>Fe.id===q);return Et?v.jsx(f5e,{athlete:Et,allSessions:r,settings:i,onBack:()=>{k(null),f(ln.ATHLETES)},onEdit:Rt,onDelete:Ut,onSelectRun:Fe=>{A(Fe),f(ln.ANALYSIS)}}):v.jsx("div",{className:"p-8",children:"Athlete not found."});case ln.LEADERBOARD:return v.jsx(h5e,{onStartTest:Ve});case ln.ANALYTICS:return v.jsx(v5e,{athletes:n,sessions:r,settings:i});case ln.SETTINGS:return v.jsx(R2e,{settings:i,onUpdateSettings:cn,onLogout:e,userEmail:t.email});case ln.SENSOR_CHECK:return v.jsx(m5e,{});default:return v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-3xl font-serif font-bold text-[#37352F] mb-2",children:"Welcome back, Coach"}),v.jsx("p",{className:"text-[#787774]",children:"Here is your training overview."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-[#37352F] text-white rounded-xl p-6 shadow-lg flex flex-col justify-between min-h-[160px] relative overflow-hidden group cursor-pointer",onClick:()=>f(ln.LIVE_RUN),children:[v.jsxs("div",{className:"relative z-10",children:[v.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm font-medium mb-2",children:[v.jsx(L0,{size:16,fill:"currentColor"})," Quick Start"]}),v.jsx("h3",{className:"text-2xl font-bold mb-1",children:"New Session"}),v.jsx("p",{className:"text-gray-400 text-sm",children:"Start a measurement."})]}),v.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4 group-hover:scale-110 transition-transform",children:v.jsx(as,{size:120})})]}),v.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 shadow-sm flex flex-col justify-between min-h-[160px] hover:border-[#37352F] transition-colors cursor-pointer",onClick:()=>f(ln.HISTORY),children:v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-sm font-medium mb-2",children:[v.jsx(ep,{size:16})," Recent"]}),v.jsxs("h3",{className:"text-2xl font-bold text-[#37352F] mb-1",children:[r.length," Sessions"]}),v.jsx("p",{className:"text-[#787774] text-sm",children:"View training logs."})]})}),v.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl p-6 shadow-sm flex flex-col justify-between min-h-[160px] hover:border-[#37352F] transition-colors cursor-pointer",onClick:()=>f(ln.ATHLETES),children:v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 text-[#9B9A97] text-sm font-medium mb-2",children:[v.jsx(Dg,{size:16})," Roster"]}),v.jsxs("h3",{className:"text-2xl font-bold text-[#37352F] mb-1",children:[n.length," Athletes"]}),v.jsx("p",{className:"text-[#787774] text-sm",children:"Manage profiles."})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsx("h3",{className:"font-serif font-bold text-xl text-[#37352F]",children:"Personal Bests"})}),v.jsx("div",{className:"bg-white border border-[#E9E9E7] rounded-xl overflow-hidden shadow-sm",children:(()=>{var nn,_t,un,xt,Vt,Tn;const Fe=r.flatMap(ht=>ht.runs),wn=Fe.filter(ht=>{var gt;return ht.testType===ct.FORTY_YARD_DASH&&((gt=ht.result)==null?void 0:gt.time)}).sort((ht,gt)=>{var Kt,Gn;return(((Kt=ht.result)==null?void 0:Kt.time)||1/0)-(((Gn=gt.result)==null?void 0:Gn.time)||1/0)})[0],Bt=Fe.filter(ht=>{var gt;return ht.testType===ct.ACCELERATION&&((gt=ht.result)==null?void 0:gt.time)}).sort((ht,gt)=>{var Kt,Gn;return(((Kt=ht.result)==null?void 0:Kt.time)||1/0)-(((Gn=gt.result)==null?void 0:Gn.time)||1/0)})[0],It=Fe.filter(ht=>{var gt;return ht.testType===ct.SIXTY_METER_RUN&&((gt=ht.result)==null?void 0:gt.time)}).sort((ht,gt)=>{var Kt,Gn;return(((Kt=ht.result)==null?void 0:Kt.time)||1/0)-(((Gn=gt.result)==null?void 0:Gn.time)||1/0)})[0],Mt=[wn&&{label:"40 Yard Dash",time:(nn=wn.result)==null?void 0:nn.time,athlete:(_t=n.find(ht=>ht.id===wn.athleteId))==null?void 0:_t.name},Bt&&{label:"30m Acceleration",time:(un=Bt.result)==null?void 0:un.time,athlete:(xt=n.find(ht=>ht.id===Bt.athleteId))==null?void 0:xt.name},It&&{label:"60m Run",time:(Vt=It.result)==null?void 0:Vt.time,athlete:(Tn=n.find(ht=>ht.id===It.athleteId))==null?void 0:Tn.name}].filter(Boolean);return Mt.length===0?v.jsx("div",{className:"p-8 text-center text-[#9B9A97] text-sm",children:"No personal bests yet. Start testing!"}):v.jsx("div",{className:"divide-y divide-[#E9E9E7]",children:Mt.map((ht,gt)=>{var Kt;return v.jsxs("div",{className:"p-4 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F] text-sm",children:ht.label}),v.jsx("div",{className:"text-xs text-[#787774]",children:ht.athlete})]}),v.jsxs("div",{className:"text-lg font-medium text-[#37352F]",children:[(Kt=ht.time)==null?void 0:Kt.toFixed(3),"s"]})]},gt)})})})()})]}),v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsx("h3",{className:"font-serif font-bold text-xl text-[#37352F]",children:"Quick Actions"})}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:()=>f(ln.LEADERBOARD),className:"w-full bg-white border border-[#E9E9E7] rounded-xl p-4 hover:border-[#37352F] transition-colors text-left flex items-center justify-between group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center group-hover:bg-[#37352F] transition-colors",children:v.jsx(as,{size:20,className:"text-[#9B9A97] group-hover:text-white transition-colors"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"View Leaderboard"}),v.jsx("div",{className:"text-xs text-[#787774]",children:"Compare with global athletes"})]})]}),v.jsx(my,{size:16,className:"text-[#E9E9E7] group-hover:text-[#37352F] transition-colors"})]}),v.jsxs("button",{onClick:()=>f(ln.HISTORY),className:"w-full bg-white border border-[#E9E9E7] rounded-xl p-4 hover:border-[#37352F] transition-colors text-left flex items-center justify-between group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center group-hover:bg-[#37352F] transition-colors",children:v.jsx(ep,{size:20,className:"text-[#9B9A97] group-hover:text-white transition-colors"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"Training History"}),v.jsxs("div",{className:"text-xs text-[#787774]",children:["View all ",r.length," sessions"]})]})]}),v.jsx(my,{size:16,className:"text-[#E9E9E7] group-hover:text-[#37352F] transition-colors"})]}),v.jsxs("button",{onClick:()=>j(!0),className:"w-full bg-white border border-[#E9E9E7] rounded-xl p-4 hover:border-[#37352F] transition-colors text-left flex items-center justify-between group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F7F7F5] flex items-center justify-center group-hover:bg-[#37352F] transition-colors",children:v.jsx(Gy,{size:20,className:"text-[#9B9A97] group-hover:text-white transition-colors"})}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-[#37352F]",children:"Add New Athlete"}),v.jsx("div",{className:"text-xs text-[#787774]",children:"Create a new profile"})]})]}),v.jsx(my,{size:16,className:"text-[#E9E9E7] group-hover:text-[#37352F] transition-colors"})]})]})]})]})]})}};return v.jsxs("div",{className:"flex h-screen overflow-hidden bg-white",children:[me&&v.jsxs("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-[100] px-6 py-3 rounded-full shadow-lg text-sm font-medium animate-in slide-in-from-top-2 fade-in flex items-center gap-2 ${me.type==="error"?"bg-red-600 text-white":"bg-[#37352F] text-white"}`,children:[me.type==="error"?v.jsx(tp,{size:16}):v.jsx(jU,{size:16,className:"text-green-400"}),me.message]}),Ue&&v.jsx("div",{className:"fixed inset-0 z-[100] bg-white/50 backdrop-blur-[1px] cursor-wait flex items-center justify-center",children:v.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg flex items-center gap-3 border border-[#E9E9E7]",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-[#37352F] border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-sm font-medium text-[#37352F]",children:"Processing..."})]})}),v.jsx(D2e,{isOpen:K,onClose:()=>j(!1),onSave:dt}),v.jsx(k2e,{isOpen:L,athlete:G,onClose:()=>{D(!1),P(null)},onSave:vt}),v.jsx(y5e,{isOpen:Z,personalBests:M,onClose:()=>{fe(!1),X([])}}),v.jsx(_ae,{currentView:u,onChangeView:f,onLogout:e}),v.jsxs("main",{className:"flex-1 overflow-y-auto md:pl-60 h-full w-full",children:[v.jsxs("div",{className:"md:hidden h-14 border-b border-[#E9E9E7] flex items-center justify-center bg-white sticky top-0 z-20",children:[s?v.jsx(as,{size:20,className:"text-[#37352F]"}):v.jsx("img",{src:"favicon.png?v=2",className:"w-6 h-6 object-contain",alt:"Logo",onError:()=>l(!0)}),v.jsx("span",{className:"ml-2 font-bold font-serif text-[#37352F]",children:"LaserSpeed Pro"})]}),v.jsx("div",{className:"p-4 pb-20 md:p-8 max-w-7xl mx-auto",children:gn()})]})]})},_5e=()=>{const{isOnline:t,isSyncing:e}=Ure();return t&&!e?null:v.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] animate-in slide-in-from-top-2",children:e?v.jsxs("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 text-sm font-medium",children:[v.jsx(Wie,{size:16,className:"animate-spin"}),v.jsx("span",{children:"Syncing data..."})]}):t?null:v.jsxs("div",{className:"bg-orange-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 text-sm font-medium",children:[v.jsx(OI,{size:16}),v.jsx("span",{children:"Offline Mode - Data will sync when connection returns"})]})})},x5e=()=>{const[t,e]=O.useState(null),[n,r]=O.useState(!1),[i,a]=O.useState(!1);O.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}const u=f=>{f.preventDefault(),e(f),r(!0)};return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",()=>{a(!0),r(!1),console.log("PWA was installed")}),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const s=async()=>{if(!t)return;t.prompt();const{outcome:u}=await t.userChoice;console.log(u==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),r(!1)},l=()=>{r(!1),sessionStorage.setItem("installPromptDismissed","true")};return i||!n||sessionStorage.getItem("installPromptDismissed")?null:v.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-md z-[200] animate-in slide-in-from-bottom-4",children:v.jsx("div",{className:"bg-[#37352F] text-white rounded-lg shadow-2xl p-4 border border-[#E9E9E7]",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:v.jsx(Eie,{size:20,className:"text-[#37352F]"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Install LaserSpeed Pro"}),v.jsx("p",{className:"text-xs text-gray-300 mb-3",children:"Install this app for quick access and offline use. Works like a native app!"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:s,className:"flex-1 bg-white text-[#37352F] px-4 py-2 rounded text-sm font-medium hover:bg-gray-100 transition-colors",children:"Install"}),v.jsx("button",{onClick:l,className:"px-4 py-2 rounded text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors",children:"Not now"})]})]}),v.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-white/10 rounded transition-colors",children:v.jsx(fc,{size:16})})]})})})},w5e=t=>{O.useEffect(()=>{if(t&&window.uj){const n=t.email.split("@")[0].split("."),r=n[0]?n[0].charAt(0).toUpperCase()+n[0].slice(1):void 0,i=n[1]?n[1].charAt(0).toUpperCase()+n[1].slice(1):void 0;window.uj.identify({id:t.uid,email:t.email,firstName:r,lastName:i})}},[t])},E5e=()=>{const[t,e]=O.useState(!1),[n,r]=O.useState(""),[i,a]=O.useState(""),[s,l]=O.useState(""),[u,f]=O.useState(""),[h,p]=O.useState(!1),y=async g=>{if(g.preventDefault(),f(""),t&&i!==s){f("Passwords do not match");return}try{t?await Fr.createUserWithEmailAndPassword(n,i):await Fr.signInWithEmailAndPassword(n,i)}catch(E){f(E.message)}};return v.jsx("div",{className:"flex h-screen bg-[#F7F7F5] font-sans text-[#37352F]",children:v.jsx("div",{className:"m-auto w-full max-w-md p-8",children:v.jsxs("div",{className:"bg-white border border-[#E9E9E7] rounded-xl shadow-xl p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-2xl bg-[#37352F] text-white mb-4 shadow-sm overflow-hidden",children:h?v.jsx(as,{size:48,className:"text-white"}):v.jsx("img",{src:"favicon.png?v=2",alt:"Logo",className:"w-full h-full object-cover",onError:()=>p(!0)})}),v.jsx("h1",{className:"text-3xl font-serif font-bold tracking-tight mb-2",children:"LaserSpeed Pro"}),v.jsx("p",{className:"text-[#9B9A97] text-sm",children:"Professional athletics measurement."})]}),v.jsxs("form",{onSubmit:y,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(Bie,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),v.jsx("input",{type:"email",required:!0,value:n,onChange:g=>r(g.target.value),placeholder:"coach@example.com",className:"w-full pl-10 pr-4 py-2.5 border border-[#E9E9E7] rounded-lg text-sm outline-none focus:border-[#37352F] transition-all bg-[#F7F7F5] focus:bg-white"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(YR,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),v.jsx("input",{type:"password",required:!0,value:i,onChange:g=>a(g.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-[#E9E9E7] rounded-lg text-sm outline-none focus:border-[#37352F] transition-all bg-[#F7F7F5] focus:bg-white"})]})]}),t&&v.jsxs("div",{className:"animate-in slide-in-from-top-2 fade-in",children:[v.jsx("label",{className:"block text-xs font-bold text-[#9B9A97] uppercase mb-1",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(YR,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#9B9A97]",size:16}),v.jsx("input",{type:"password",required:!0,value:s,onChange:g=>l(g.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2.5 border border-[#E9E9E7] rounded-lg text-sm outline-none focus:border-[#37352F] transition-all bg-[#F7F7F5] focus:bg-white"})]})]}),u&&v.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[v.jsx(tp,{size:16}),u]}),v.jsxs("button",{type:"submit",className:"w-full bg-[#37352F] text-white font-medium py-2.5 rounded-lg hover:bg-black transition-colors shadow-sm mt-2 flex items-center justify-center gap-2",children:[t?v.jsx(VU,{size:18}):v.jsx(jie,{size:18}),t?"Create Account":"Log In"]})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-[#E9E9E7] flex flex-col gap-3",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 border border-[#E9E9E7] rounded-lg text-sm font-medium text-[#37352F] hover:bg-[#F7F7F5] transition-colors",children:[v.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27c3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12.5S6.42 23 12.1 23c5.83 0 8.84-4.15 8.84-11.9z"})}),"Google"]}),v.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 border border-[#E9E9E7] rounded-lg text-sm font-medium text-[#37352F] hover:bg-[#F7F7F5] transition-colors",children:[v.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:v.jsx("path",{fill:"currentColor",d:"M17.05 20.28c-.98.95-2.05.8-3.08.35c-1.09-.46-2.09-.48-3.24 0c-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8c1.18-.24 2.31-.93 3.57-.84c1.51.12 2.65.64 3.4 1.63c-3.12 1.88-2.68 7.44.85 8.99c-.34 1.05-.81 2.09-1.49 3.11zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25c.29 2.58-2.34 4.5-3.74 4.25z"})}),"Apple"]})]}),v.jsx("div",{className:"text-center",children:v.jsx("button",{type:"button",onClick:()=>{e(!t),f("")},className:"text-xs text-[#9B9A97] hover:text-[#37352F] hover:underline transition-colors",children:t?"Already have an account? Log in":"Don't have an account? Sign Up"})})]})]})})})},A5e=()=>{const{user:t,loading:e}=k0();return w5e(t),e?v.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:v.jsx(as,{className:"animate-spin text-[#37352F]"})}):t?v.jsxs(Fre,{children:[v.jsx(_5e,{}),v.jsx(x5e,{}),v.jsx(b5e,{})]}):v.jsx(E5e,{})},S5e=()=>v.jsx(Bre,{children:v.jsx(kre,{children:v.jsx(A5e,{})})}),Z$=document.getElementById("root");if(!Z$)throw new Error("Could not find root element to mount to");const T5e=_Y.createRoot(Z$);T5e.render(v.jsx(zT.StrictMode,{children:v.jsx(S5e,{})}));export{br as _,I5e as c,hu as g};
